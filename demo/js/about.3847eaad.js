(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["about"],{"06cd":function(t,e,n){var i=n("2d45")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(r){}}return!0}},"233a":function(t,e,n){"use strict";var i=n("007d"),r=n("bb01"),o=function(t,e,n){var r=new i["a"],o=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Object(i["b"])():+n,r.restart((function i(a){a+=o,r.restart(i,o+=e,n),t(a)}),e,n),r)};n.d(e,"b",(function(){return i["b"]})),n.d(e,"d",(function(){return i["c"]})),n.d(e,"e",(function(){return i["d"]})),n.d(e,"c",(function(){return r["a"]})),n.d(e,"a",(function(){return o}))},3556:function(t,e,n){"use strict";var i=n("ab7c"),r=n.n(i);r.a},4876:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"version",(function(){return u})),n.d(i,"bisect",(function(){return g})),n.d(i,"bisectRight",(function(){return f})),n.d(i,"bisectLeft",(function(){return p})),n.d(i,"ascending",(function(){return c})),n.d(i,"bisector",(function(){return h})),n.d(i,"cross",(function(){return y})),n.d(i,"descending",(function(){return b})),n.d(i,"deviation",(function(){return _})),n.d(i,"extent",(function(){return M})),n.d(i,"histogram",(function(){return B})),n.d(i,"thresholdFreedmanDiaconis",(function(){return z})),n.d(i,"thresholdScott",(function(){return F})),n.d(i,"thresholdSturges",(function(){return j})),n.d(i,"max",(function(){return Y})),n.d(i,"mean",(function(){return H})),n.d(i,"median",(function(){return W})),n.d(i,"merge",(function(){return G})),n.d(i,"min",(function(){return q})),n.d(i,"pairs",(function(){return v})),n.d(i,"permute",(function(){return U})),n.d(i,"quantile",(function(){return R})),n.d(i,"range",(function(){return P})),n.d(i,"scan",(function(){return V})),n.d(i,"shuffle",(function(){return X})),n.d(i,"sum",(function(){return Z})),n.d(i,"ticks",(function(){return N})),n.d(i,"tickIncrement",(function(){return I})),n.d(i,"tickStep",(function(){return L})),n.d(i,"transpose",(function(){return Q})),n.d(i,"variance",(function(){return w})),n.d(i,"zip",(function(){return K})),n.d(i,"axisTop",(function(){return dt})),n.d(i,"axisRight",(function(){return ft})),n.d(i,"axisBottom",(function(){return pt})),n.d(i,"axisLeft",(function(){return gt})),n.d(i,"brush",(function(){return Fo})),n.d(i,"brushX",(function(){return Ro})),n.d(i,"brushY",(function(){return zo})),n.d(i,"brushSelection",(function(){return Bo})),n.d(i,"chord",(function(){return Zo})),n.d(i,"ribbon",(function(){return ha})),n.d(i,"nest",(function(){return ga})),n.d(i,"set",(function(){return Ma})),n.d(i,"map",(function(){return pa})),n.d(i,"keys",(function(){return ka})),n.d(i,"values",(function(){return Sa})),n.d(i,"entries",(function(){return Ea})),n.d(i,"color",(function(){return Nn})),n.d(i,"rgb",(function(){return Bn})),n.d(i,"hsl",(function(){return Gn})),n.d(i,"lab",(function(){return za})),n.d(i,"hcl",(function(){return Va})),n.d(i,"lch",(function(){return Ua})),n.d(i,"gray",(function(){return Ra})),n.d(i,"cubehelix",(function(){return os})),n.d(i,"contours",(function(){return bs})),n.d(i,"contourDensity",(function(){return Ss})),n.d(i,"dispatch",(function(){return Es["a"]})),n.d(i,"drag",(function(){return Ns})),n.d(i,"dragDisable",(function(){return dn})),n.d(i,"dragEnable",(function(){return fn})),n.d(i,"dsvFormat",(function(){return qs})),n.d(i,"csvParse",(function(){return Vs})),n.d(i,"csvParseRows",(function(){return Xs})),n.d(i,"csvFormat",(function(){return Zs})),n.d(i,"csvFormatBody",(function(){return Qs})),n.d(i,"csvFormatRows",(function(){return $s})),n.d(i,"csvFormatRow",(function(){return Ks})),n.d(i,"csvFormatValue",(function(){return Js})),n.d(i,"tsvParse",(function(){return eu})),n.d(i,"tsvParseRows",(function(){return nu})),n.d(i,"tsvFormat",(function(){return iu})),n.d(i,"tsvFormatBody",(function(){return ru})),n.d(i,"tsvFormatRows",(function(){return ou})),n.d(i,"tsvFormatRow",(function(){return au})),n.d(i,"tsvFormatValue",(function(){return su})),n.d(i,"autoType",(function(){return uu})),n.d(i,"easeLinear",(function(){return hu})),n.d(i,"easeQuad",(function(){return fu})),n.d(i,"easeQuadIn",(function(){return lu})),n.d(i,"easeQuadOut",(function(){return du})),n.d(i,"easeQuadInOut",(function(){return fu})),n.d(i,"easeCubic",(function(){return oo})),n.d(i,"easeCubicIn",(function(){return io})),n.d(i,"easeCubicOut",(function(){return ro})),n.d(i,"easeCubicInOut",(function(){return oo})),n.d(i,"easePoly",(function(){return mu})),n.d(i,"easePolyIn",(function(){return gu})),n.d(i,"easePolyOut",(function(){return vu})),n.d(i,"easePolyInOut",(function(){return mu})),n.d(i,"easeSin",(function(){return _u})),n.d(i,"easeSinIn",(function(){return xu})),n.d(i,"easeSinOut",(function(){return wu})),n.d(i,"easeSinInOut",(function(){return _u})),n.d(i,"easeExp",(function(){return Su})),n.d(i,"easeExpIn",(function(){return Mu})),n.d(i,"easeExpOut",(function(){return ku})),n.d(i,"easeExpInOut",(function(){return Su})),n.d(i,"easeCircle",(function(){return Tu})),n.d(i,"easeCircleIn",(function(){return Eu})),n.d(i,"easeCircleOut",(function(){return Cu})),n.d(i,"easeCircleInOut",(function(){return Tu})),n.d(i,"easeBounce",(function(){return Fu})),n.d(i,"easeBounceIn",(function(){return zu})),n.d(i,"easeBounceOut",(function(){return Fu})),n.d(i,"easeBounceInOut",(function(){return Yu})),n.d(i,"easeBack",(function(){return qu})),n.d(i,"easeBackIn",(function(){return Wu})),n.d(i,"easeBackOut",(function(){return Gu})),n.d(i,"easeBackInOut",(function(){return qu})),n.d(i,"easeElastic",(function(){return Qu})),n.d(i,"easeElasticIn",(function(){return Zu})),n.d(i,"easeElasticOut",(function(){return Qu})),n.d(i,"easeElasticInOut",(function(){return $u})),n.d(i,"blob",(function(){return Ju})),n.d(i,"buffer",(function(){return ec})),n.d(i,"dsv",(function(){return oc})),n.d(i,"csv",(function(){return ac})),n.d(i,"tsv",(function(){return sc})),n.d(i,"image",(function(){return uc})),n.d(i,"json",(function(){return hc})),n.d(i,"text",(function(){return ic})),n.d(i,"xml",(function(){return dc})),n.d(i,"html",(function(){return fc})),n.d(i,"svg",(function(){return pc})),n.d(i,"forceCenter",(function(){return gc})),n.d(i,"forceCollide",(function(){return wc})),n.d(i,"forceLink",(function(){return kc})),n.d(i,"forceManyBody",(function(){return Ac})),n.d(i,"forceRadial",(function(){return Oc})),n.d(i,"forceSimulation",(function(){return Pc})),n.d(i,"forceX",(function(){return Dc})),n.d(i,"forceY",(function(){return Nc})),n.d(i,"formatDefaultLocale",(function(){return Jc})),n.d(i,"format",(function(){return Wc})),n.d(i,"formatPrefix",(function(){return Gc})),n.d(i,"formatLocale",(function(){return Kc})),n.d(i,"formatSpecifier",(function(){return zc})),n.d(i,"FormatSpecifier",(function(){return Fc})),n.d(i,"precisionFixed",(function(){return th})),n.d(i,"precisionPrefix",(function(){return eh})),n.d(i,"precisionRound",(function(){return nh})),n.d(i,"geoArea",(function(){return Zh})),n.d(i,"geoBounds",(function(){return Yl})),n.d(i,"geoCentroid",(function(){return Jl})),n.d(i,"geoCircle",(function(){return hd})),n.d(i,"geoClipAntimeridian",(function(){return _d})),n.d(i,"geoClipCircle",(function(){return Ed})),n.d(i,"geoClipExtent",(function(){return Id})),n.d(i,"geoClipRectangle",(function(){return Ad})),n.d(i,"geoContains",(function(){return Jd})),n.d(i,"geoDistance",(function(){return Gd})),n.d(i,"geoGraticule",(function(){return nf})),n.d(i,"geoGraticule10",(function(){return rf})),n.d(i,"geoInterpolate",(function(){return cf})),n.d(i,"geoLength",(function(){return Yd})),n.d(i,"geoPath",(function(){return cp})),n.d(i,"geoAlbers",(function(){return Np})),n.d(i,"geoAlbersUsa",(function(){return Lp})),n.d(i,"geoAzimuthalEqualArea",(function(){return zp})),n.d(i,"geoAzimuthalEqualAreaRaw",(function(){return Rp})),n.d(i,"geoAzimuthalEquidistant",(function(){return Yp})),n.d(i,"geoAzimuthalEquidistantRaw",(function(){return Fp})),n.d(i,"geoConicConformal",(function(){return Vp})),n.d(i,"geoConicConformalRaw",(function(){return Up})),n.d(i,"geoConicEqualArea",(function(){return Dp})),n.d(i,"geoConicEqualAreaRaw",(function(){return Op})),n.d(i,"geoConicEquidistant",(function(){return $p})),n.d(i,"geoConicEquidistantRaw",(function(){return Qp})),n.d(i,"geoEqualEarth",(function(){return og})),n.d(i,"geoEqualEarthRaw",(function(){return rg})),n.d(i,"geoEquirectangular",(function(){return Zp})),n.d(i,"geoEquirectangularRaw",(function(){return Xp})),n.d(i,"geoGnomonic",(function(){return sg})),n.d(i,"geoGnomonicRaw",(function(){return ag})),n.d(i,"geoIdentity",(function(){return cg})),n.d(i,"geoProjection",(function(){return Cp})),n.d(i,"geoProjectionMutator",(function(){return Tp})),n.d(i,"geoMercator",(function(){return Wp})),n.d(i,"geoMercatorRaw",(function(){return Hp})),n.d(i,"geoNaturalEarth1",(function(){return lg})),n.d(i,"geoNaturalEarth1Raw",(function(){return hg})),n.d(i,"geoOrthographic",(function(){return fg})),n.d(i,"geoOrthographicRaw",(function(){return dg})),n.d(i,"geoStereographic",(function(){return gg})),n.d(i,"geoStereographicRaw",(function(){return pg})),n.d(i,"geoTransverseMercator",(function(){return mg})),n.d(i,"geoTransverseMercatorRaw",(function(){return vg})),n.d(i,"geoRotation",(function(){return sd})),n.d(i,"geoStream",(function(){return Yh})),n.d(i,"geoTransform",(function(){return hp})),n.d(i,"cluster",(function(){return Sg})),n.d(i,"hierarchy",(function(){return zg})),n.d(i,"pack",(function(){return fv})),n.d(i,"packSiblings",(function(){return sv})),n.d(i,"packEnclose",(function(){return Vg})),n.d(i,"partition",(function(){return bv})),n.d(i,"stratify",(function(){return Sv})),n.d(i,"tree",(function(){return Iv})),n.d(i,"treemap",(function(){return zv})),n.d(i,"treemapBinary",(function(){return Fv})),n.d(i,"treemapDice",(function(){return yv})),n.d(i,"treemapSlice",(function(){return Lv})),n.d(i,"treemapSliceDice",(function(){return Yv})),n.d(i,"treemapSquarify",(function(){return Rv})),n.d(i,"treemapResquarify",(function(){return Hv})),n.d(i,"interpolate",(function(){return yi})),n.d(i,"interpolateArray",(function(){return ui})),n.d(i,"interpolateBasis",(function(){return Xn})),n.d(i,"interpolateBasisClosed",(function(){return Zn})),n.d(i,"interpolateDate",(function(){return hi})),n.d(i,"interpolateDiscrete",(function(){return Wv})),n.d(i,"interpolateHue",(function(){return Gv})),n.d(i,"interpolateNumber",(function(){return li})),n.d(i,"interpolateNumberArray",(function(){return ai})),n.d(i,"interpolateObject",(function(){return di})),n.d(i,"interpolateRound",(function(){return qv})),n.d(i,"interpolateString",(function(){return mi})),n.d(i,"interpolateTransformCss",(function(){return $i})),n.d(i,"interpolateTransformSvg",(function(){return Ki})),n.d(i,"interpolateZoom",(function(){return Jv})),n.d(i,"interpolateRgb",(function(){return ni})),n.d(i,"interpolateRgbBasis",(function(){return ri})),n.d(i,"interpolateRgbBasisClosed",(function(){return oi})),n.d(i,"interpolateHsl",(function(){return em})),n.d(i,"interpolateHslLong",(function(){return nm})),n.d(i,"interpolateLab",(function(){return im})),n.d(i,"interpolateHcl",(function(){return om})),n.d(i,"interpolateHclLong",(function(){return am})),n.d(i,"interpolateCubehelix",(function(){return um})),n.d(i,"interpolateCubehelixLong",(function(){return cm})),n.d(i,"piecewise",(function(){return hm})),n.d(i,"quantize",(function(){return lm})),n.d(i,"path",(function(){return ra})),n.d(i,"polygonArea",(function(){return dm})),n.d(i,"polygonCentroid",(function(){return fm})),n.d(i,"polygonHull",(function(){return mm})),n.d(i,"polygonContains",(function(){return ym})),n.d(i,"polygonLength",(function(){return bm})),n.d(i,"quadtree",(function(){return xm["a"]})),n.d(i,"randomUniform",(function(){return _m})),n.d(i,"randomNormal",(function(){return Mm})),n.d(i,"randomLogNormal",(function(){return km})),n.d(i,"randomBates",(function(){return Em})),n.d(i,"randomIrwinHall",(function(){return Sm})),n.d(i,"randomExponential",(function(){return Cm})),n.d(i,"scaleBand",(function(){return Lm})),n.d(i,"scalePoint",(function(){return Bm})),n.d(i,"scaleIdentity",(function(){return Km})),n.d(i,"scaleLinear",(function(){return $m})),n.d(i,"scaleLog",(function(){return cy})),n.d(i,"scaleSymlog",(function(){return fy})),n.d(i,"scaleOrdinal",(function(){return Im})),n.d(i,"scaleImplicit",(function(){return Nm})),n.d(i,"scalePow",(function(){return yy})),n.d(i,"scaleSqrt",(function(){return by})),n.d(i,"scaleQuantile",(function(){return xy})),n.d(i,"scaleQuantize",(function(){return wy})),n.d(i,"scaleThreshold",(function(){return _y})),n.d(i,"scaleTime",(function(){return lw})),n.d(i,"scaleUtc",(function(){return ww})),n.d(i,"scaleSequential",(function(){return kw})),n.d(i,"scaleSequentialLog",(function(){return Sw})),n.d(i,"scaleSequentialPow",(function(){return Cw})),n.d(i,"scaleSequentialSqrt",(function(){return Tw})),n.d(i,"scaleSequentialSymlog",(function(){return Ew})),n.d(i,"scaleSequentialQuantile",(function(){return Pw})),n.d(i,"scaleDiverging",(function(){return Ow})),n.d(i,"scaleDivergingLog",(function(){return Dw})),n.d(i,"scaleDivergingPow",(function(){return Iw})),n.d(i,"scaleDivergingSqrt",(function(){return Lw})),n.d(i,"scaleDivergingSymlog",(function(){return Nw})),n.d(i,"tickFormat",(function(){return Zm})),n.d(i,"schemeCategory10",(function(){return Bw})),n.d(i,"schemeAccent",(function(){return Rw})),n.d(i,"schemeDark2",(function(){return zw})),n.d(i,"schemePaired",(function(){return Fw})),n.d(i,"schemePastel1",(function(){return Yw})),n.d(i,"schemePastel2",(function(){return Hw})),n.d(i,"schemeSet1",(function(){return Ww})),n.d(i,"schemeSet2",(function(){return Gw})),n.d(i,"schemeSet3",(function(){return qw})),n.d(i,"schemeTableau10",(function(){return Uw})),n.d(i,"interpolateBrBG",(function(){return Zw})),n.d(i,"schemeBrBG",(function(){return Xw})),n.d(i,"interpolatePRGn",(function(){return $w})),n.d(i,"schemePRGn",(function(){return Qw})),n.d(i,"interpolatePiYG",(function(){return Jw})),n.d(i,"schemePiYG",(function(){return Kw})),n.d(i,"interpolatePuOr",(function(){return e_})),n.d(i,"schemePuOr",(function(){return t_})),n.d(i,"interpolateRdBu",(function(){return i_})),n.d(i,"schemeRdBu",(function(){return n_})),n.d(i,"interpolateRdGy",(function(){return o_})),n.d(i,"schemeRdGy",(function(){return r_})),n.d(i,"interpolateRdYlBu",(function(){return s_})),n.d(i,"schemeRdYlBu",(function(){return a_})),n.d(i,"interpolateRdYlGn",(function(){return c_})),n.d(i,"schemeRdYlGn",(function(){return u_})),n.d(i,"interpolateSpectral",(function(){return l_})),n.d(i,"schemeSpectral",(function(){return h_})),n.d(i,"interpolateBuGn",(function(){return f_})),n.d(i,"schemeBuGn",(function(){return d_})),n.d(i,"interpolateBuPu",(function(){return g_})),n.d(i,"schemeBuPu",(function(){return p_})),n.d(i,"interpolateGnBu",(function(){return m_})),n.d(i,"schemeGnBu",(function(){return v_})),n.d(i,"interpolateOrRd",(function(){return b_})),n.d(i,"schemeOrRd",(function(){return y_})),n.d(i,"interpolatePuBuGn",(function(){return w_})),n.d(i,"schemePuBuGn",(function(){return x_})),n.d(i,"interpolatePuBu",(function(){return M_})),n.d(i,"schemePuBu",(function(){return __})),n.d(i,"interpolatePuRd",(function(){return S_})),n.d(i,"schemePuRd",(function(){return k_})),n.d(i,"interpolateRdPu",(function(){return C_})),n.d(i,"schemeRdPu",(function(){return E_})),n.d(i,"interpolateYlGnBu",(function(){return P_})),n.d(i,"schemeYlGnBu",(function(){return T_})),n.d(i,"interpolateYlGn",(function(){return O_})),n.d(i,"schemeYlGn",(function(){return A_})),n.d(i,"interpolateYlOrBr",(function(){return N_})),n.d(i,"schemeYlOrBr",(function(){return D_})),n.d(i,"interpolateYlOrRd",(function(){return L_})),n.d(i,"schemeYlOrRd",(function(){return I_})),n.d(i,"interpolateBlues",(function(){return B_})),n.d(i,"schemeBlues",(function(){return j_})),n.d(i,"interpolateGreens",(function(){return z_})),n.d(i,"schemeGreens",(function(){return R_})),n.d(i,"interpolateGreys",(function(){return Y_})),n.d(i,"schemeGreys",(function(){return F_})),n.d(i,"interpolatePurples",(function(){return W_})),n.d(i,"schemePurples",(function(){return H_})),n.d(i,"interpolateReds",(function(){return q_})),n.d(i,"schemeReds",(function(){return G_})),n.d(i,"interpolateOranges",(function(){return V_})),n.d(i,"schemeOranges",(function(){return U_})),n.d(i,"interpolateCividis",(function(){return X_})),n.d(i,"interpolateCubehelixDefault",(function(){return Z_})),n.d(i,"interpolateRainbow",(function(){return J_})),n.d(i,"interpolateWarm",(function(){return Q_})),n.d(i,"interpolateCool",(function(){return $_})),n.d(i,"interpolateSinebow",(function(){return iM})),n.d(i,"interpolateTurbo",(function(){return rM})),n.d(i,"interpolateViridis",(function(){return aM})),n.d(i,"interpolateMagma",(function(){return sM})),n.d(i,"interpolateInferno",(function(){return uM})),n.d(i,"interpolatePlasma",(function(){return cM})),n.d(i,"create",(function(){return hM})),n.d(i,"creator",(function(){return Ie})),n.d(i,"local",(function(){return dM})),n.d(i,"matcher",(function(){return Mt})),n.d(i,"mouse",(function(){return _i})),n.d(i,"namespace",(function(){return Vt})),n.d(i,"namespaces",(function(){return Ut})),n.d(i,"clientPoint",(function(){return xi})),n.d(i,"select",(function(){return cn})),n.d(i,"selectAll",(function(){return pM})),n.d(i,"selection",(function(){return un})),n.d(i,"selector",(function(){return yt})),n.d(i,"selectorAll",(function(){return wt})),n.d(i,"style",(function(){return ae})),n.d(i,"touch",(function(){return wi})),n.d(i,"touches",(function(){return gM})),n.d(i,"window",(function(){return ee})),n.d(i,"event",(function(){return qe})),n.d(i,"customEvent",(function(){return Je})),n.d(i,"arc",(function(){return BM})),n.d(i,"area",(function(){return WM})),n.d(i,"line",(function(){return HM})),n.d(i,"pie",(function(){return UM})),n.d(i,"areaRadial",(function(){return KM})),n.d(i,"radialArea",(function(){return KM})),n.d(i,"lineRadial",(function(){return $M})),n.d(i,"radialLine",(function(){return $M})),n.d(i,"pointRadial",(function(){return JM})),n.d(i,"linkHorizontal",(function(){return sk})),n.d(i,"linkVertical",(function(){return uk})),n.d(i,"linkRadial",(function(){return ck})),n.d(i,"symbol",(function(){return Pk})),n.d(i,"symbols",(function(){return Tk})),n.d(i,"symbolCircle",(function(){return hk})),n.d(i,"symbolCross",(function(){return lk})),n.d(i,"symbolDiamond",(function(){return pk})),n.d(i,"symbolSquare",(function(){return xk})),n.d(i,"symbolStar",(function(){return bk})),n.d(i,"symbolTriangle",(function(){return _k})),n.d(i,"symbolWye",(function(){return Ck})),n.d(i,"curveBasisClosed",(function(){return Lk})),n.d(i,"curveBasisOpen",(function(){return Bk})),n.d(i,"curveBasis",(function(){return Nk})),n.d(i,"curveBundle",(function(){return zk})),n.d(i,"curveCardinalClosed",(function(){return Gk})),n.d(i,"curveCardinalOpen",(function(){return Uk})),n.d(i,"curveCardinal",(function(){return Hk})),n.d(i,"curveCatmullRomClosed",(function(){return $k})),n.d(i,"curveCatmullRomOpen",(function(){return Jk})),n.d(i,"curveCatmullRom",(function(){return Zk})),n.d(i,"curveLinearClosed",(function(){return eS})),n.d(i,"curveLinear",(function(){return zM})),n.d(i,"curveMonotoneX",(function(){return cS})),n.d(i,"curveMonotoneY",(function(){return hS})),n.d(i,"curveNatural",(function(){return fS})),n.d(i,"curveStep",(function(){return gS})),n.d(i,"curveStepAfter",(function(){return mS})),n.d(i,"curveStepBefore",(function(){return vS})),n.d(i,"stack",(function(){return wS})),n.d(i,"stackOffsetExpand",(function(){return _S})),n.d(i,"stackOffsetDiverging",(function(){return MS})),n.d(i,"stackOffsetNone",(function(){return yS})),n.d(i,"stackOffsetSilhouette",(function(){return kS})),n.d(i,"stackOffsetWiggle",(function(){return SS})),n.d(i,"stackOrderAppearance",(function(){return ES})),n.d(i,"stackOrderAscending",(function(){return TS})),n.d(i,"stackOrderDescending",(function(){return AS})),n.d(i,"stackOrderInsideOut",(function(){return OS})),n.d(i,"stackOrderNone",(function(){return bS})),n.d(i,"stackOrderReverse",(function(){return DS})),n.d(i,"timeInterval",(function(){return Sy})),n.d(i,"timeMillisecond",(function(){return lb})),n.d(i,"timeMilliseconds",(function(){return db})),n.d(i,"utcMillisecond",(function(){return lb})),n.d(i,"utcMilliseconds",(function(){return db})),n.d(i,"timeSecond",(function(){return ub})),n.d(i,"timeSeconds",(function(){return cb})),n.d(i,"utcSecond",(function(){return ub})),n.d(i,"utcSeconds",(function(){return cb})),n.d(i,"timeMinute",(function(){return ob})),n.d(i,"timeMinutes",(function(){return ab})),n.d(i,"timeHour",(function(){return nb})),n.d(i,"timeHours",(function(){return ib})),n.d(i,"timeDay",(function(){return Jy})),n.d(i,"timeDays",(function(){return tb})),n.d(i,"timeWeek",(function(){return Ry})),n.d(i,"timeWeeks",(function(){return qy})),n.d(i,"timeSunday",(function(){return Ry})),n.d(i,"timeSundays",(function(){return qy})),n.d(i,"timeMonday",(function(){return zy})),n.d(i,"timeMondays",(function(){return Uy})),n.d(i,"timeTuesday",(function(){return Fy})),n.d(i,"timeTuesdays",(function(){return Vy})),n.d(i,"timeWednesday",(function(){return Yy})),n.d(i,"timeWednesdays",(function(){return Xy})),n.d(i,"timeThursday",(function(){return Hy})),n.d(i,"timeThursdays",(function(){return Zy})),n.d(i,"timeFriday",(function(){return Wy})),n.d(i,"timeFridays",(function(){return Qy})),n.d(i,"timeSaturday",(function(){return Gy})),n.d(i,"timeSaturdays",(function(){return $y})),n.d(i,"timeMonth",(function(){return Ay})),n.d(i,"timeMonths",(function(){return Oy})),n.d(i,"timeYear",(function(){return Cy})),n.d(i,"timeYears",(function(){return Ty})),n.d(i,"utcMinute",(function(){return bw})),n.d(i,"utcMinutes",(function(){return xw})),n.d(i,"utcHour",(function(){return vw})),n.d(i,"utcHours",(function(){return mw})),n.d(i,"utcDay",(function(){return Pb})),n.d(i,"utcDays",(function(){return Ab})),n.d(i,"utcWeek",(function(){return pb})),n.d(i,"utcWeeks",(function(){return wb})),n.d(i,"utcSunday",(function(){return pb})),n.d(i,"utcSundays",(function(){return wb})),n.d(i,"utcMonday",(function(){return gb})),n.d(i,"utcMondays",(function(){return _b})),n.d(i,"utcTuesday",(function(){return vb})),n.d(i,"utcTuesdays",(function(){return Mb})),n.d(i,"utcWednesday",(function(){return mb})),n.d(i,"utcWednesdays",(function(){return kb})),n.d(i,"utcThursday",(function(){return yb})),n.d(i,"utcThursdays",(function(){return Sb})),n.d(i,"utcFriday",(function(){return bb})),n.d(i,"utcFridays",(function(){return Eb})),n.d(i,"utcSaturday",(function(){return xb})),n.d(i,"utcSaturdays",(function(){return Cb})),n.d(i,"utcMonth",(function(){return fw})),n.d(i,"utcMonths",(function(){return pw})),n.d(i,"utcYear",(function(){return Db})),n.d(i,"utcYears",(function(){return Nb})),n.d(i,"timeFormatDefaultLocale",(function(){return tw})),n.d(i,"timeFormat",(function(){return zb})),n.d(i,"timeParse",(function(){return Fb})),n.d(i,"utcFormat",(function(){return Yb})),n.d(i,"utcParse",(function(){return Hb})),n.d(i,"timeFormatLocale",(function(){return Bb})),n.d(i,"isoFormat",(function(){return jS})),n.d(i,"isoParse",(function(){return zS})),n.d(i,"now",(function(){return FS["b"]})),n.d(i,"timer",(function(){return FS["d"]})),n.d(i,"timerFlush",(function(){return FS["e"]})),n.d(i,"timeout",(function(){return FS["c"]})),n.d(i,"interval",(function(){return FS["a"]})),n.d(i,"transition",(function(){return to})),n.d(i,"active",(function(){return ho})),n.d(i,"interrupt",(function(){return Wi})),n.d(i,"voronoi",(function(){return AE})),n.d(i,"zoom",(function(){return GE})),n.d(i,"zoomTransform",(function(){return LE})),n.d(i,"zoomIdentity",(function(){return IE}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"g6"},[n("div",{ref:"g6",staticClass:"graph"})])},o=[],a=(n("ccaa"),n("1df7"),n("a80d")),s=n.n(a),u="5.14.2",c=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(t){return 1===t.length&&(t=l(t)),{left:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);while(i<r){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);while(i<r){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};function l(t){return function(e,n){return c(t(e),n)}}var d=h(c),f=d.right,p=d.left,g=f,v=function(t,e){null==e&&(e=m);var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);while(n<i)o[n]=e(r,r=t[++n]);return o};function m(t,e){return[t,e]}var y=function(t,e,n){var i,r,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=m),i=o=0;i<s;++i)for(a=t[i],r=0;r<u;++r,++o)c[o]=n(a,e[r]);return c},b=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},x=function(t){return null===t?NaN:+t},w=function(t,e){var n,i,r=t.length,o=0,a=-1,s=0,u=0;if(null==e)while(++a<r)isNaN(n=x(t[a]))||(i=n-s,s+=i/++o,u+=i*(n-s));else while(++a<r)isNaN(n=x(e(t[a],a,t)))||(i=n-s,s+=i/++o,u+=i*(n-s));if(o>1)return u/(o-1)},_=function(t,e){var n=w(t,e);return n?Math.sqrt(n):n},M=function(t,e){var n,i,r,o=t.length,a=-1;if(null==e){while(++a<o)if(null!=(n=t[a])&&n>=n){i=r=n;while(++a<o)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}}else while(++a<o)if(null!=(n=e(t[a],a,t))&&n>=n){i=r=n;while(++a<o)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n))}return[i,r]},k=Array.prototype,S=k.slice,E=k.map,C=function(t){return function(){return t}},T=function(t){return t},P=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);while(++i<r)o[i]=t+i*n;return o},A=Math.sqrt(50),O=Math.sqrt(10),D=Math.sqrt(2),N=function(t,e,n){var i,r,o,a,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=I(t,e,n))||!isFinite(a))return[];if(a>0){t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));while(++s<r)o[s]=(t+s)*a}else{t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));while(++s<r)o[s]=(t-s)/a}return i&&o.reverse(),o};function I(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=A?10:o>=O?5:o>=D?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=A?10:o>=O?5:o>=D?2:1)}function L(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=A?r*=10:o>=O?r*=5:o>=D&&(r*=2),e<t?-r:r}var j=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},B=function(){var t=T,e=M,n=j;function i(i){var r,o,a=i.length,s=new Array(a);for(r=0;r<a;++r)s[r]=t(i[r],r,i);var u=e(s),c=u[0],h=u[1],l=n(s,c,h);Array.isArray(l)||(l=L(c,h,l),l=P(Math.ceil(c/l)*l,h,l));var d=l.length;while(l[0]<=c)l.shift(),--d;while(l[d-1]>h)l.pop(),--d;var f,p=new Array(d+1);for(r=0;r<=d;++r)f=p[r]=[],f.x0=r>0?l[r-1]:c,f.x1=r<d?l[r]:h;for(r=0;r<a;++r)o=s[r],c<=o&&o<=h&&p[g(l,o,0,d)].push(i[r]);return p}return i.value=function(e){return arguments.length?(t="function"===typeof e?e:C(e),i):t},i.domain=function(t){return arguments.length?(e="function"===typeof t?t:C([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?C(S.call(t)):C(t),i):n},i},R=function(t,e,n){if(null==n&&(n=x),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(r-o)}},z=function(t,e,n){return t=E.call(t,x).sort(c),Math.ceil((n-e)/(2*(R(t,.75)-R(t,.25))*Math.pow(t.length,-1/3)))},F=function(t,e,n){return Math.ceil((n-e)/(3.5*_(t)*Math.pow(t.length,-1/3)))},Y=function(t,e){var n,i,r=t.length,o=-1;if(null==e){while(++o<r)if(null!=(n=t[o])&&n>=n){i=n;while(++o<r)null!=(n=t[o])&&n>i&&(i=n)}}else while(++o<r)if(null!=(n=e(t[o],o,t))&&n>=n){i=n;while(++o<r)null!=(n=e(t[o],o,t))&&n>i&&(i=n)}return i},H=function(t,e){var n,i=t.length,r=i,o=-1,a=0;if(null==e)while(++o<i)isNaN(n=x(t[o]))?--r:a+=n;else while(++o<i)isNaN(n=x(e(t[o],o,t)))?--r:a+=n;if(r)return a/r},W=function(t,e){var n,i=t.length,r=-1,o=[];if(null==e)while(++r<i)isNaN(n=x(t[r]))||o.push(n);else while(++r<i)isNaN(n=x(e(t[r],r,t)))||o.push(n);return R(o.sort(c),.5)},G=function(t){var e,n,i,r=t.length,o=-1,a=0;while(++o<r)a+=t[o].length;n=new Array(a);while(--r>=0){i=t[r],e=i.length;while(--e>=0)n[--a]=i[e]}return n},q=function(t,e){var n,i,r=t.length,o=-1;if(null==e){while(++o<r)if(null!=(n=t[o])&&n>=n){i=n;while(++o<r)null!=(n=t[o])&&i>n&&(i=n)}}else while(++o<r)if(null!=(n=e(t[o],o,t))&&n>=n){i=n;while(++o<r)null!=(n=e(t[o],o,t))&&i>n&&(i=n)}return i},U=function(t,e){var n=e.length,i=new Array(n);while(n--)i[n]=t[e[n]];return i},V=function(t,e){if(n=t.length){var n,i,r=0,o=0,a=t[o];null==e&&(e=c);while(++r<n)(e(i=t[r],a)<0||0!==e(a,a))&&(a=i,o=r);return 0===e(a,a)?o:void 0}},X=function(t,e,n){var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);while(o)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},Z=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)while(++r<i)(n=+t[r])&&(o+=n);else while(++r<i)(n=+e(t[r],r,t))&&(o+=n);return o},Q=function(t){if(!(r=t.length))return[];for(var e=-1,n=q(t,$),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i};function $(t){return t.length}var K=function(){return Q(arguments)},J=Array.prototype.slice,tt=function(t){return t},et=1,nt=2,it=3,rt=4,ot=1e-6;function at(t){return"translate("+(t+.5)+",0)"}function st(t){return"translate(0,"+(t+.5)+")"}function ut(t){return function(e){return+t(e)}}function ct(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function ht(){return!this.__axis}function lt(t,e){var n=[],i=null,r=null,o=6,a=6,s=3,u=t===et||t===rt?-1:1,c=t===rt||t===nt?"x":"y",h=t===et||t===it?at:st;function l(l){var d=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==r?e.tickFormat?e.tickFormat.apply(e,n):tt:r,p=Math.max(o,0)+s,g=e.range(),v=+g[0]+.5,m=+g[g.length-1]+.5,y=(e.bandwidth?ct:ut)(e.copy()),b=l.selection?l.selection():l,x=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(d,e).order(),_=w.exit(),M=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(M),k=k.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),S=S.merge(M.append("text").attr("fill","currentColor").attr(c,u*p).attr("dy",t===et?"0em":t===it?"0.71em":"0.32em")),l!==b&&(x=x.transition(l),w=w.transition(l),k=k.transition(l),S=S.transition(l),_=_.transition(l).attr("opacity",ot).attr("transform",(function(t){return isFinite(t=y(t))?h(t):this.getAttribute("transform")})),M.attr("opacity",ot).attr("transform",(function(t){var e=this.parentNode.__axis;return h(e&&isFinite(e=e(t))?e:y(t))}))),_.remove(),x.attr("d",t===rt||t==nt?a?"M"+u*a+","+v+"H0.5V"+m+"H"+u*a:"M0.5,"+v+"V"+m:a?"M"+v+","+u*a+"V0.5H"+m+"V"+u*a:"M"+v+",0.5H"+m),w.attr("opacity",1).attr("transform",(function(t){return h(y(t))})),k.attr(c+"2",u*o),S.attr(c,u*p).text(f),b.filter(ht).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===nt?"start":t===rt?"end":"middle"),b.each((function(){this.__axis=y}))}return l.scale=function(t){return arguments.length?(e=t,l):e},l.ticks=function(){return n=J.call(arguments),l},l.tickArguments=function(t){return arguments.length?(n=null==t?[]:J.call(t),l):n.slice()},l.tickValues=function(t){return arguments.length?(i=null==t?null:J.call(t),l):i&&i.slice()},l.tickFormat=function(t){return arguments.length?(r=t,l):r},l.tickSize=function(t){return arguments.length?(o=a=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(a=+t,l):a},l.tickPadding=function(t){return arguments.length?(s=+t,l):s},l}function dt(t){return lt(et,t)}function ft(t){return lt(nt,t)}function pt(t){return lt(it,t)}function gt(t){return lt(rt,t)}var vt=n("8c1f");function mt(){}var yt=function(t){return null==t?mt:function(){return this.querySelector(t)}},bt=function(t){"function"!==typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,c=i[r]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new an(i,this._parents)};function xt(){return[]}var wt=function(t){return null==t?xt:function(){return this.querySelectorAll(t)}},_t=function(t){"function"!==typeof t&&(t=wt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new an(i,r)},Mt=function(t){return function(){return this.matches(t)}},kt=function(t){"function"!==typeof t&&(t=Mt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new an(i,this._parents)},St=function(t){return new Array(t.length)},Et=function(){return new an(this._enter||this._groups.map(St),this._parents)};function Ct(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ct.prototype={constructor:Ct,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Tt=function(t){return function(){return t}},Pt="$";function At(t,e,n,i,r,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Ct(t,o[s]);for(;s<u;++s)(a=e[s])&&(r[s]=a)}function Ot(t,e,n,i,r,o,a){var s,u,c,h={},l=e.length,d=o.length,f=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(f[s]=c=Pt+a.call(u,u.__data__,s,e),c in h?r[s]=u:h[c]=u);for(s=0;s<d;++s)c=Pt+a.call(t,o[s],s,o),(u=h[c])?(i[s]=u,u.__data__=o[s],h[c]=null):n[s]=new Ct(t,o[s]);for(s=0;s<l;++s)(u=e[s])&&h[f[s]]===u&&(r[s]=u)}var Dt=function(t,e){if(!t)return f=new Array(this.size()),c=-1,this.each((function(t){f[++c]=t})),f;var n=e?Ot:At,i=this._parents,r=this._groups;"function"!==typeof t&&(t=Tt(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var h=i[c],l=r[c],d=l.length,f=t.call(h,h&&h.__data__,c,i),p=f.length,g=s[c]=new Array(p),v=a[c]=new Array(p),m=u[c]=new Array(d);n(h,l,g,v,m,f,e);for(var y,b,x=0,w=0;x<p;++x)if(y=g[x]){x>=w&&(w=x+1);while(!(b=v[w])&&++w<p);y._next=b||null}}return a=new an(a,i),a._enter=s,a._exit=u,a},Nt=function(){return new an(this._exit||this._groups.map(St),this._parents)},It=function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"===typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},Lt=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,c=e[s],h=n[s],l=c.length,d=a[s]=new Array(l),f=0;f<l;++f)(u=c[f]||h[f])&&(d[f]=u);for(;s<i;++s)a[s]=e[s];return new an(a,this._parents)},jt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},Bt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Rt);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],u=s.length,c=r[o]=new Array(u),h=0;h<u;++h)(a=s[h])&&(c[h]=a);c.sort(e)}return new an(r,this._parents).order()};function Rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var zt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ft=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},Yt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},Ht=function(){var t=0;return this.each((function(){++t})),t},Wt=function(){return!this.node()},Gt=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},qt="http://www.w3.org/1999/xhtml",Ut={svg:"http://www.w3.org/2000/svg",xhtml:qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ut.hasOwnProperty(e)?{space:Ut[e],local:t}:t};function Xt(t){return function(){this.removeAttribute(t)}}function Zt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qt(t,e){return function(){this.setAttribute(t,e)}}function $t(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Jt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var te=function(t,e){var n=Vt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Zt:Xt:"function"===typeof e?n.local?Jt:Kt:n.local?$t:Qt)(n,e))},ee=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function ne(t){return function(){this.style.removeProperty(t)}}function ie(t,e,n){return function(){this.style.setProperty(t,e,n)}}function re(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}var oe=function(t,e,n){return arguments.length>1?this.each((null==e?ne:"function"===typeof e?re:ie)(t,e,null==n?"":n)):ae(this.node(),t)};function ae(t,e){return t.style.getPropertyValue(e)||ee(t).getComputedStyle(t,null).getPropertyValue(e)}function se(t){return function(){delete this[t]}}function ue(t,e){return function(){this[t]=e}}function ce(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var he=function(t,e){return arguments.length>1?this.each((null==e?se:"function"===typeof e?ce:ue)(t,e)):this.node()[t]};function le(t){return t.trim().split(/^|\s+/)}function de(t){return t.classList||new fe(t)}function fe(t){this._node=t,this._names=le(t.getAttribute("class")||"")}function pe(t,e){var n=de(t),i=-1,r=e.length;while(++i<r)n.add(e[i])}function ge(t,e){var n=de(t),i=-1,r=e.length;while(++i<r)n.remove(e[i])}function ve(t){return function(){pe(this,t)}}function me(t){return function(){ge(this,t)}}function ye(t,e){return function(){(e.apply(this,arguments)?pe:ge)(this,t)}}fe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var be=function(t,e){var n=le(t+"");if(arguments.length<2){var i=de(this.node()),r=-1,o=n.length;while(++r<o)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof e?ye:e?ve:me)(n,e))};function xe(){this.textContent=""}function we(t){return function(){this.textContent=t}}function _e(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var Me=function(t){return arguments.length?this.each(null==t?xe:("function"===typeof t?_e:we)(t)):this.node().textContent};function ke(){this.innerHTML=""}function Se(t){return function(){this.innerHTML=t}}function Ee(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var Ce=function(t){return arguments.length?this.each(null==t?ke:("function"===typeof t?Ee:Se)(t)):this.node().innerHTML};function Te(){this.nextSibling&&this.parentNode.appendChild(this)}var Pe=function(){return this.each(Te)};function Ae(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Oe=function(){return this.each(Ae)};function De(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===qt&&e.documentElement.namespaceURI===qt?e.createElement(t):e.createElementNS(n,t)}}function Ne(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Ie=function(t){var e=Vt(t);return(e.local?Ne:De)(e)},Le=function(t){var e="function"===typeof t?t:Ie(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function je(){return null}var Be=function(t,e){var n="function"===typeof t?t:Ie(t),i=null==e?je:"function"===typeof e?e:yt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))};function Re(){var t=this.parentNode;t&&t.removeChild(this)}var ze=function(){return this.each(Re)};function Fe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ye(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var He=function(t){return this.select(t?Ye:Fe)},We=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ge={},qe=null;if("undefined"!==typeof document){var Ue=document.documentElement;"onmouseenter"in Ue||(Ge={mouseenter:"mouseover",mouseleave:"mouseout"})}function Ve(t,e,n){return t=Xe(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Xe(t,e,n){return function(i){var r=qe;qe=i;try{t.call(this,this.__data__,e,n)}finally{qe=r}}}function Ze(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Qe(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function $e(t,e,n){var i=Ge.hasOwnProperty(t.type)?Ve:Xe;return function(r,o,a){var s,u=this.__on,c=i(e,o,a);if(u)for(var h=0,l=u.length;h<l;++h)if((s=u[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}var Ke=function(t,e,n){var i,r,o=Ze(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?$e:Qe,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,h=s.length;c<h;++c)for(i=0,u=s[c];i<a;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value};function Je(t,e,n,i){var r=qe;t.sourceEvent=qe,qe=t;try{return e.apply(n,i)}finally{qe=r}}function tn(t,e,n){var i=ee(t),r=i.CustomEvent;"function"===typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function en(t,e){return function(){return tn(this,t,e)}}function nn(t,e){return function(){return tn(this,t,e.apply(this,arguments))}}var rn=function(t,e){return this.each(("function"===typeof e?nn:en)(t,e))},on=[null];function an(t,e){this._groups=t,this._parents=e}function sn(){return new an([[document.documentElement]],on)}an.prototype=sn.prototype={constructor:an,select:bt,selectAll:_t,filter:kt,data:Dt,enter:Et,exit:Nt,join:It,merge:Lt,order:jt,sort:Bt,call:zt,nodes:Ft,node:Yt,size:Ht,empty:Wt,each:Gt,attr:te,style:oe,property:he,classed:be,text:Me,html:Ce,raise:Pe,lower:Oe,append:Le,insert:Be,remove:ze,clone:He,datum:We,on:Ke,dispatch:rn};var un=sn,cn=function(t){return"string"===typeof t?new an([[document.querySelector(t)]],[document.documentElement]):new an([[t]],on)};function hn(){qe.stopImmediatePropagation()}var ln=function(){qe.preventDefault(),qe.stopImmediatePropagation()},dn=function(t){var e=t.document.documentElement,n=cn(t).on("dragstart.drag",ln,!0);"onselectstart"in e?n.on("selectstart.drag",ln,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function fn(t,e){var n=t.document.documentElement,i=cn(t).on("dragstart.drag",null);e&&(i.on("click.drag",ln,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var pn=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function gn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function vn(){}var mn=.7,yn=1/mn,bn="\\s*([+-]?\\d+)\\s*",xn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_n=/^#([0-9a-f]{3,8})$/,Mn=new RegExp("^rgb\\("+[bn,bn,bn]+"\\)$"),kn=new RegExp("^rgb\\("+[wn,wn,wn]+"\\)$"),Sn=new RegExp("^rgba\\("+[bn,bn,bn,xn]+"\\)$"),En=new RegExp("^rgba\\("+[wn,wn,wn,xn]+"\\)$"),Cn=new RegExp("^hsl\\("+[xn,wn,wn]+"\\)$"),Tn=new RegExp("^hsla\\("+[xn,wn,wn,xn]+"\\)$"),Pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function An(){return this.rgb().formatHex()}function On(){return Wn(this).formatHsl()}function Dn(){return this.rgb().formatRgb()}function Nn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_n.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?In(e):3===n?new Rn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Rn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Rn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Mn.exec(t))?new Rn(e[1],e[2],e[3],1):(e=kn.exec(t))?new Rn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Sn.exec(t))?Ln(e[1],e[2],e[3],e[4]):(e=En.exec(t))?Ln(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Cn.exec(t))?Hn(e[1],e[2]/100,e[3]/100,1):(e=Tn.exec(t))?Hn(e[1],e[2]/100,e[3]/100,e[4]):Pn.hasOwnProperty(t)?In(Pn[t]):"transparent"===t?new Rn(NaN,NaN,NaN,0):null}function In(t){return new Rn(t>>16&255,t>>8&255,255&t,1)}function Ln(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rn(t,e,n,i)}function jn(t){return t instanceof vn||(t=Nn(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function Bn(t,e,n,i){return 1===arguments.length?jn(t):new Rn(t,e,n,null==i?1:i)}function Rn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function zn(){return"#"+Yn(this.r)+Yn(this.g)+Yn(this.b)}function Fn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Yn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Hn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qn(t,e,n,i)}function Wn(t){if(t instanceof qn)return new qn(t.h,t.s,t.l,t.opacity);if(t instanceof vn||(t=Nn(t)),!t)return new qn;if(t instanceof qn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new qn(a,s,u,t.opacity)}function Gn(t,e,n,i){return 1===arguments.length?Wn(t):new qn(t,e,n,null==i?1:i)}function qn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Un(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Vn(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}pn(vn,Nn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:An,formatHex:An,formatHsl:On,formatRgb:Dn,toString:Dn}),pn(Rn,Bn,gn(vn,{brighter:function(t){return t=null==t?yn:Math.pow(yn,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?mn:Math.pow(mn,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zn,formatHex:zn,formatRgb:Fn,toString:Fn})),pn(qn,Gn,gn(vn,{brighter:function(t){return t=null==t?yn:Math.pow(yn,t),new qn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?mn:Math.pow(mn,t),new qn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Rn(Un(t>=240?t-240:t+120,r,i),Un(t,r,i),Un(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xn=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return Vn((n-i/e)*e,a,r,o,s)}},Zn=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Vn((n-i/e)*e,r,o,a,s)}},Qn=function(t){return function(){return t}};function $n(t,e){return function(n){return t+n*e}}function Kn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jn(t,e){var n=e-t;return n?$n(t,n>180||n<-180?n-360*Math.round(n/360):n):Qn(isNaN(t)?e:t)}function ti(t){return 1===(t=+t)?ei:function(e,n){return n-e?Kn(e,n,t):Qn(isNaN(e)?n:e)}}function ei(t,e){var n=e-t;return n?$n(t,n):Qn(isNaN(t)?e:t)}var ni=function t(e){var n=ti(e);function i(t,e){var i=n((t=Bn(t)).r,(e=Bn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=ei(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function ii(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Bn(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}var ri=ii(Xn),oi=ii(Zn),ai=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function si(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var ui=function(t,e){return(si(e)?ai:ci)(t,e)};function ci(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=yi(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var hi=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},li=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},di=function(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=yi(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},fi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pi=new RegExp(fi.source,"g");function gi(t){return function(){return t}}function vi(t){return function(e){return t(e)+""}}var mi=function(t,e){var n,i,r,o=fi.lastIndex=pi.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=fi.exec(t))&&(i=pi.exec(e)))(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:li(n,i)})),o=pi.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?vi(u[0].x):gi(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},yi=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Qn(e):("number"===i?li:"string"===i?(n=Nn(e))?(e=n,ni):mi:e instanceof Nn?ni:e instanceof Date?hi:si(e)?ai:Array.isArray(e)?ci:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?di:li)(t,e)},bi=function(){var t,e=qe;while(t=e.sourceEvent)e=t;return e},xi=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},wi=function(t,e,n){arguments.length<3&&(n=e,e=bi().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return xi(t,i);return null},_i=function(t){var e=bi();return e.changedTouches&&(e=e.changedTouches[0]),xi(t,e)},Mi=n("007d"),ki=n("bb01"),Si=Object(vt["a"])("start","end","cancel","interrupt"),Ei=[],Ci=0,Ti=1,Pi=2,Ai=3,Oi=4,Di=5,Ni=6,Ii=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Ri(t,n,{name:e,index:i,group:r,on:Si,tween:Ei,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ci})};function Li(t,e){var n=Bi(t,e);if(n.state>Ci)throw new Error("too late; already scheduled");return n}function ji(t,e){var n=Bi(t,e);if(n.state>Ai)throw new Error("too late; already running");return n}function Bi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ri(t,e,n){var i,r=t.__transition;function o(t){n.state=Ti,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,h,l,d;if(n.state!==Ti)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Ai)return Object(ki["a"])(a);d.state===Oi?(d.state=Ni,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Ni,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Object(ki["a"])((function(){n.state===Ai&&(n.state=Oi,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Pi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Pi){for(n.state=Ai,i=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Di,1),o=-1,a=i.length;while(++o<a)i[o].call(t,r);n.state===Di&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var i in n.state=Ni,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Object(Mi["c"])(o,0,n.time)}var zi,Fi,Yi,Hi,Wi=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Pi&&n.state<Di,n.state=Ni,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},Gi=function(t){return this.each((function(){Wi(this,t)}))},qi=180/Math.PI,Ui={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Vi=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*qi,skewX:Math.atan(u)*qi,scaleX:a,scaleY:s}};function Xi(t){return"none"===t?Ui:(zi||(zi=document.createElement("DIV"),Fi=document.documentElement,Yi=document.defaultView),zi.style.transform=t,t=Yi.getComputedStyle(Fi.appendChild(zi),null).getPropertyValue("transform"),Fi.removeChild(zi),t=t.slice(7,-1).split(","),Vi(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Zi(t){return null==t?Ui:(Hi||(Hi=document.createElementNS("http://www.w3.org/2000/svg","g")),Hi.setAttribute("transform",t),(t=Hi.transform.baseVal.consolidate())?(t=t.matrix,Vi(t.a,t.b,t.c,t.d,t.e,t.f)):Ui)}function Qi(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:li(t,r)},{i:u-2,x:li(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:li(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function s(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:li(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function u(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:li(t,n)},{i:s-2,x:li(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),a(e.rotate,n.rotate,i,r),s(e.skewX,n.skewX,i,r),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){var e,n=-1,o=r.length;while(++n<o)i[(e=r[n]).i]=e.x(t);return i.join("")}}}var $i=Qi(Xi,"px, ","px)","deg)"),Ki=Qi(Zi,", ",")",")");function Ji(t,e){var n,i;return function(){var r=ji(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function tr(t,e,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var o=ji(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===e){r[u]=s;break}u===c&&r.push(s)}o.tween=r}}var er=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Bi(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Ji:tr)(n,t,e))};function nr(t,e,n){var i=t._id;return t.each((function(){var t=ji(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Bi(t,i).value[e]}}var ir=function(t,e){var n;return("number"===typeof e?li:e instanceof Nn?ni:(n=Nn(e))?(e=n,ni):mi)(t,e)};function rr(t){return function(){this.removeAttribute(t)}}function or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ar(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function sr(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function ur(t,e,n){var i,r,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttribute(t),s=u+"",a===s?null:a===i&&s===r?o:(r=s,o=e(i=a,u));this.removeAttribute(t)}}function cr(t,e,n){var i,r,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===i&&s===r?o:(r=s,o=e(i=a,u));this.removeAttributeNS(t.space,t.local)}}var hr=function(t,e){var n=Vt(t),i="transform"===n?Ki:ir;return this.attrTween(t,"function"===typeof e?(n.local?cr:ur)(n,i,nr(this,"attr."+t,e)):null==e?(n.local?or:rr)(n):(n.local?sr:ar)(n,i,e))};function lr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function dr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&dr(t,r)),n}return r._value=e,r}function pr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&lr(t,r)),n}return r._value=e,r}var gr=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var i=Vt(t);return this.tween(n,(i.local?fr:pr)(i,e))};function vr(t,e){return function(){Li(this,t).delay=+e.apply(this,arguments)}}function mr(t,e){return e=+e,function(){Li(this,t).delay=e}}var yr=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?vr:mr)(e,t)):Bi(this.node(),e).delay};function br(t,e){return function(){ji(this,t).duration=+e.apply(this,arguments)}}function xr(t,e){return e=+e,function(){ji(this,t).duration=e}}var wr=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?br:xr)(e,t)):Bi(this.node(),e).duration};function _r(t,e){if("function"!==typeof e)throw new Error;return function(){ji(this,t).ease=e}}var Mr=function(t){var e=this._id;return arguments.length?this.each(_r(e,t)):Bi(this.node(),e).ease},kr=function(t){"function"!==typeof t&&(t=Mt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Jr(i,this._parents,this._name,this._id)},Sr=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,c=e[s],h=n[s],l=c.length,d=a[s]=new Array(l),f=0;f<l;++f)(u=c[f]||h[f])&&(d[f]=u);for(;s<i;++s)a[s]=e[s];return new Jr(a,this._parents,this._name,this._id)};function Er(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function Cr(t,e,n){var i,r,o=Er(e)?Li:ji;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}var Tr=function(t,e){var n=this._id;return arguments.length<2?Bi(this.node(),n).on.on(t):this.each(Cr(n,t,e))};function Pr(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var Ar=function(){return this.on("end.remove",Pr(this._id))},Or=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=yt(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,u,c=i[a],h=c.length,l=o[a]=new Array(h),d=0;d<h;++d)(s=c[d])&&(u=t.call(s,s.__data__,d,c))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u,Ii(l[d],e,n,d,l,Bi(s,n)));return new Jr(o,this._parents,e,n)},Dr=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=wt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u,c=i[s],h=c.length,l=0;l<h;++l)if(u=c[l]){for(var d,f=t.call(u,u.__data__,l,c),p=Bi(u,n),g=0,v=f.length;g<v;++g)(d=f[g])&&Ii(d,e,n,g,f,p);o.push(f),a.push(u)}return new Jr(o,a,e,n)},Nr=un.prototype.constructor,Ir=function(){return new Nr(this._groups,this._parents)};function Lr(t,e){var n,i,r;return function(){var o=ae(this,t),a=(this.style.removeProperty(t),ae(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}function jr(t){return function(){this.style.removeProperty(t)}}function Br(t,e,n){var i,r,o=n+"";return function(){var a=ae(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}function Rr(t,e,n){var i,r,o;return function(){var a=ae(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=ae(this,t)),a===u?null:a===i&&u===r?o:(r=u,o=e(i=a,s))}}function zr(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var u=ji(this,t),c=u.on,h=null==u.value[a]?o||(o=jr(e)):void 0;c===n&&r===h||(i=(n=c).copy()).on(s,r=h),u.on=i}}var Fr=function(t,e,n){var i="transform"===(t+="")?$i:ir;return null==e?this.styleTween(t,Lr(t,i)).on("end.style."+t,jr(t)):"function"===typeof e?this.styleTween(t,Rr(t,i,nr(this,"style."+t,e))).each(zr(this._id,t)):this.styleTween(t,Br(t,i,e),n).on("end.style."+t,null)};function Yr(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Hr(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Yr(t,o,n)),i}return o._value=e,o}var Wr=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,Hr(t,e,null==n?"":n))};function Gr(t){return function(){this.textContent=t}}function qr(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var Ur=function(t){return this.tween("text","function"===typeof t?qr(nr(this,"text",t)):Gr(null==t?"":t+""))};function Vr(t){return function(e){this.textContent=t.call(this,e)}}function Xr(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Vr(i)),e}return i._value=t,i}var Zr=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Xr(t))},Qr=function(){for(var t=this._name,e=this._id,n=eo(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var h=Bi(a,e);Ii(a,t,n,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Jr(i,this._parents,t,n)},$r=function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--r&&o()}};n.each((function(){var n=ji(this,i),r=n.on;r!==t&&(e=(t=r).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))},Kr=0;function Jr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function to(t){return un().transition(t)}function eo(){return++Kr}var no=un.prototype;function io(t){return t*t*t}function ro(t){return--t*t*t+1}function oo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Jr.prototype=to.prototype={constructor:Jr,select:Or,selectAll:Dr,filter:kr,merge:Sr,selection:Ir,transition:Qr,call:no.call,nodes:no.nodes,node:no.node,size:no.size,empty:no.empty,each:no.each,on:Tr,attr:hr,attrTween:gr,style:Fr,styleTween:Wr,text:Ur,textTween:Zr,remove:Ar,tween:er,delay:yr,duration:wr,ease:Mr,end:$r};var ao={time:null,delay:0,duration:250,ease:oo};function so(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))return ao.time=Object(Mi["b"])(),ao;return n}var uo=function(t){var e,n;t instanceof Jr?(e=t._id,t=t._name):(e=eo(),(n=ao).time=Object(Mi["b"])(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Ii(a,t,e,c,s,n||so(a,e));return new Jr(i,this._parents,t,e)};un.prototype.interrupt=Gi,un.prototype.transition=uo;var co=[null],ho=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>Ti&&n.name===e)return new Jr([[t]],co,e,+i);return null},lo=function(t){return function(){return t}},fo=function(t,e,n){this.target=t,this.type=e,this.selection=n};function po(){qe.stopImmediatePropagation()}var go=function(){qe.preventDefault(),qe.stopImmediatePropagation()},vo={name:"drag"},mo={name:"space"},yo={name:"handle"},bo={name:"center"};function xo(t){return[+t[0],+t[1]]}function wo(t){return[xo(t[0]),xo(t[1])]}function _o(t){return function(e){return wi(e,qe.touches,t)}}var Mo={name:"x",handles:["w","e"].map(Oo),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ko={name:"y",handles:["n","s"].map(Oo),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},So={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Oo),input:function(t){return null==t?null:wo(t)},output:function(t){return t}},Eo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Co={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},To={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Po={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ao={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Oo(t){return{type:t}}function Do(){return!qe.ctrlKey&&!qe.button}function No(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Io(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lo(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function jo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Bo(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ro(){return Yo(Mo)}function zo(){return Yo(ko)}var Fo=function(){return Yo(So)};function Yo(t){var e,n=No,i=Do,r=Io,o=!0,a=Object(vt["a"])("start","brush","end"),s=6;function u(e){var n=e.property("__brush",g).selectAll(".overlay").data([Oo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Eo.overlay).merge(n).each((function(){var t=Lo(this).extent;cn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Oo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Eo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Eo[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=cn(this),e=Lo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(t,e,n){return!n&&t.__brush.emitter||new l(t,e)}function l(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function d(){if((!e||qe.touches)&&i.apply(this,arguments)){var n,r,a,s,u,l,d,f,p,g,v,m=this,y=qe.target.__data__.type,b="selection"===(o&&qe.metaKey?y="overlay":y)?vo:o&&qe.altKey?bo:yo,x=t===ko?null:Po[y],w=t===Mo?null:Ao[y],_=Lo(m),M=_.extent,k=_.selection,S=M[0][0],E=M[0][1],C=M[1][0],T=M[1][1],P=0,A=0,O=x&&w&&o&&qe.shiftKey,D=qe.touches?_o(qe.changedTouches[0].identifier):_i,N=D(m),I=N,L=h(m,arguments,!0).beforestart();"overlay"===y?(k&&(p=!0),_.selection=k=[[n=t===ko?S:N[0],a=t===Mo?E:N[1]],[u=t===ko?C:n,d=t===Mo?T:a]]):(n=k[0][0],a=k[0][1],u=k[1][0],d=k[1][1]),r=n,s=a,l=u,f=d;var j=cn(m).attr("pointer-events","none"),B=j.selectAll(".overlay").attr("cursor",Eo[y]);if(qe.touches)L.moved=z,L.ended=Y;else{var R=cn(qe.view).on("mousemove.brush",z,!0).on("mouseup.brush",Y,!0);o&&R.on("keydown.brush",H,!0).on("keyup.brush",W,!0),dn(qe.view)}po(),Wi(m),c.call(m),L.start()}function z(){var t=D(m);!O||g||v||(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1])?v=!0:g=!0),I=t,p=!0,go(),F()}function F(){var t;switch(P=I[0]-N[0],A=I[1]-N[1],b){case mo:case vo:x&&(P=Math.max(S-n,Math.min(C-u,P)),r=n+P,l=u+P),w&&(A=Math.max(E-a,Math.min(T-d,A)),s=a+A,f=d+A);break;case yo:x<0?(P=Math.max(S-n,Math.min(C-n,P)),r=n+P,l=u):x>0&&(P=Math.max(S-u,Math.min(C-u,P)),r=n,l=u+P),w<0?(A=Math.max(E-a,Math.min(T-a,A)),s=a+A,f=d):w>0&&(A=Math.max(E-d,Math.min(T-d,A)),s=a,f=d+A);break;case bo:x&&(r=Math.max(S,Math.min(C,n-P*x)),l=Math.max(S,Math.min(C,u+P*x))),w&&(s=Math.max(E,Math.min(T,a-A*w)),f=Math.max(E,Math.min(T,d+A*w)));break}l<r&&(x*=-1,t=n,n=u,u=t,t=r,r=l,l=t,y in Co&&B.attr("cursor",Eo[y=Co[y]])),f<s&&(w*=-1,t=a,a=d,d=t,t=s,s=f,f=t,y in To&&B.attr("cursor",Eo[y=To[y]])),_.selection&&(k=_.selection),g&&(r=k[0][0],l=k[1][0]),v&&(s=k[0][1],f=k[1][1]),k[0][0]===r&&k[0][1]===s&&k[1][0]===l&&k[1][1]===f||(_.selection=[[r,s],[l,f]],c.call(m),L.brush())}function Y(){if(po(),qe.touches){if(qe.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else fn(qe.view,p),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),B.attr("cursor",Eo.overlay),_.selection&&(k=_.selection),jo(k)&&(_.selection=null,c.call(m)),L.end()}function H(){switch(qe.keyCode){case 16:O=x&&w;break;case 18:b===yo&&(x&&(u=l-P*x,n=r+P*x),w&&(d=f-A*w,a=s+A*w),b=bo,F());break;case 32:b!==yo&&b!==bo||(x<0?u=l-P:x>0&&(n=r-P),w<0?d=f-A:w>0&&(a=s-A),b=mo,B.attr("cursor",Eo.selection),F());break;default:return}go()}function W(){switch(qe.keyCode){case 16:O&&(g=v=O=!1,F());break;case 18:b===bo&&(x<0?u=l:x>0&&(n=r),w<0?d=f:w>0&&(a=s),b=yo,F());break;case 32:b===mo&&(qe.altKey?(x&&(u=l-P*x,n=r+P*x),w&&(d=f-A*w,a=s+A*w),b=bo):(x<0?u=l:x>0&&(n=r),w<0?d=f:w>0&&(a=s),b=yo),B.attr("cursor",Eo[y]),F());break;default:return}go()}}function f(){h(this,arguments).moved()}function p(){h(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=wo(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.selection?e.on("start.brush",(function(){h(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){h(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,r=h(e,arguments),o=i.selection,a=t.input("function"===typeof n?n.apply(this,arguments):n,i.extent),s=yi(o,a);function u(t){i.selection=1===t&&null===a?null:s(t),c.call(e),r.brush()}return null!==o&&null!==a?u:u(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,o=t.input("function"===typeof n?n.apply(e,i):n,r.extent),a=h(e,i).beforestart();Wi(e),r.selection=null===o?null:o,c.call(e),a.start().brush().end()}))},u.clear=function(t){u.move(t,null)},l.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Je(new fo(u,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},u.extent=function(t){return arguments.length?(n="function"===typeof t?t:lo(wo(t)),u):n},u.filter=function(t){return arguments.length?(i="function"===typeof t?t:lo(!!t),u):i},u.touchable=function(t){return arguments.length?(r="function"===typeof t?t:lo(!!t),u):r},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}var Ho=Math.cos,Wo=Math.sin,Go=Math.PI,qo=Go/2,Uo=2*Go,Vo=Math.max;function Xo(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var Zo=function(){var t=0,e=null,n=null,i=null;function r(r){var o,a,s,u,c,h,l=r.length,d=[],f=P(l),p=[],g=[],v=g.groups=new Array(l),m=new Array(l*l);o=0,c=-1;while(++c<l){a=0,h=-1;while(++h<l)a+=r[c][h];d.push(a),p.push(P(l)),o+=a}e&&f.sort((function(t,n){return e(d[t],d[n])})),n&&p.forEach((function(t,e){t.sort((function(t,i){return n(r[e][t],r[e][i])}))})),o=Vo(0,Uo-t*l)/o,u=o?t:Uo/l,a=0,c=-1;while(++c<l){s=a,h=-1;while(++h<l){var y=f[c],b=p[y][h],x=r[y][b],w=a,_=a+=x*o;m[b*l+y]={index:y,subindex:b,startAngle:w,endAngle:_,value:x}}v[y]={index:y,startAngle:s,endAngle:a,value:d[y]},a+=u}c=-1;while(++c<l){h=c-1;while(++h<l){var M=m[h*l+c],k=m[c*l+h];(M.value||k.value)&&g.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}}return i?g.sort(i):g}return r.padAngle=function(e){return arguments.length?(t=Vo(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(n=t,r):n},r.sortChords=function(t){return arguments.length?(null==t?i=null:(i=Xo(t))._=t,r):i&&i._},r},Qo=Array.prototype.slice,$o=function(t){return function(){return t}},Ko=Math.PI,Jo=2*Ko,ta=1e-6,ea=Jo-ta;function na(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ia(){return new na}na.prototype=ia.prototype={constructor:na,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,c=o-t,h=a-e,l=c*c+h*h;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>ta)if(Math.abs(h*s-u*c)>ta&&r){var d=n-o,f=i-a,p=s*s+u*u,g=d*d+f*f,v=Math.sqrt(p),m=Math.sqrt(l),y=r*Math.tan((Ko-Math.acos((p+l-g)/(2*v*m)))/2),b=y/m,x=y/v;Math.abs(b-1)>ta&&(this._+="L"+(t+b*c)+","+(e+b*h)),this._+="A"+r+","+r+",0,0,"+ +(h*d>c*f)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(i),s=n*Math.sin(i),u=t+a,c=e+s,h=1^o,l=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>ta||Math.abs(this._y1-c)>ta)&&(this._+="L"+u+","+c),n&&(l<0&&(l=l%Jo+Jo),l>ea?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=c):l>ta&&(this._+="A"+n+","+n+",0,"+ +(l>=Ko)+","+h+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var ra=ia;function oa(t){return t.source}function aa(t){return t.target}function sa(t){return t.radius}function ua(t){return t.startAngle}function ca(t){return t.endAngle}var ha=function(){var t=oa,e=aa,n=sa,i=ua,r=ca,o=null;function a(){var a,s=Qo.call(arguments),u=t.apply(this,s),c=e.apply(this,s),h=+n.apply(this,(s[0]=u,s)),l=i.apply(this,s)-qo,d=r.apply(this,s)-qo,f=h*Ho(l),p=h*Wo(l),g=+n.apply(this,(s[0]=c,s)),v=i.apply(this,s)-qo,m=r.apply(this,s)-qo;if(o||(o=a=ra()),o.moveTo(f,p),o.arc(0,0,h,l,d),l===v&&d===m||(o.quadraticCurveTo(0,0,g*Ho(v),g*Wo(v)),o.arc(0,0,g,v,m)),o.quadraticCurveTo(0,0,f,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"===typeof t?t:$o(+t),a):n},a.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:$o(+t),a):i},a.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:$o(+t),a):r},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},la="$";function da(){}function fa(t,e){var n=new da;if(t instanceof da)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)while(++r<o)n.set(r,t[r]);else while(++r<o)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}da.prototype=fa.prototype={constructor:da,has:function(t){return la+t in this},get:function(t){return this[la+t]},set:function(t,e){return this[la+t]=e,this},remove:function(t){var e=la+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===la&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===la&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===la&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===la&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===la&&++t;return t},empty:function(){for(var t in this)if(t[0]===la)return!1;return!0},each:function(t){for(var e in this)e[0]===la&&t(this[e],e.slice(1),this)}};var pa=fa,ga=function(){var t,e,n,i=[],r=[];function o(n,r,a,s){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;var u,c,h,l=-1,d=n.length,f=i[r++],p=pa(),g=a();while(++l<d)(h=p.get(u=f(c=n[l])+""))?h.push(c):p.set(u,[c]);return p.each((function(t,e){s(g,e,o(t,r,a,s))})),g}function a(t,n){if(++n>i.length)return t;var o,s=r[n-1];return null!=e&&n>=i.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=s?o.sort((function(t,e){return s(t.key,e.key)})):o}return n={object:function(t){return o(t,0,va,ma)},map:function(t){return o(t,0,ya,ba)},entries:function(t){return a(o(t,0,ya,ba),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function va(){return{}}function ma(t,e,n){t[e]=n}function ya(){return pa()}function ba(t,e,n){t.set(e,n)}function xa(){}var wa=pa.prototype;function _a(t,e){var n=new xa;if(t instanceof xa)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)while(++i<r)n.add(t[i]);else while(++i<r)n.add(e(t[i],i,t))}return n}xa.prototype=_a.prototype={constructor:xa,has:wa.has,add:function(t){return t+="",this[la+t]=t,this},remove:wa.remove,clear:wa.clear,values:wa.keys,size:wa.size,empty:wa.empty,each:wa.each};var Ma=_a,ka=function(t){var e=[];for(var n in t)e.push(n);return e},Sa=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ea=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Ca=Math.PI/180,Ta=180/Math.PI,Pa=18,Aa=.96422,Oa=1,Da=.82521,Na=4/29,Ia=6/29,La=3*Ia*Ia,ja=Ia*Ia*Ia;function Ba(t){if(t instanceof Fa)return new Fa(t.l,t.a,t.b,t.opacity);if(t instanceof Xa)return Za(t);t instanceof Rn||(t=jn(t));var e,n,i=Ga(t.r),r=Ga(t.g),o=Ga(t.b),a=Ya((.2225045*i+.7168786*r+.0606169*o)/Oa);return i===r&&r===o?e=n=a:(e=Ya((.4360747*i+.3850649*r+.1430804*o)/Aa),n=Ya((.0139322*i+.0971045*r+.7141733*o)/Da)),new Fa(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Ra(t,e){return new Fa(t,0,0,null==e?1:e)}function za(t,e,n,i){return 1===arguments.length?Ba(t):new Fa(t,e,n,null==i?1:i)}function Fa(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ya(t){return t>ja?Math.pow(t,1/3):t/La+Na}function Ha(t){return t>Ia?t*t*t:La*(t-Na)}function Wa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ga(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qa(t){if(t instanceof Xa)return new Xa(t.h,t.c,t.l,t.opacity);if(t instanceof Fa||(t=Ba(t)),0===t.a&&0===t.b)return new Xa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ta;return new Xa(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ua(t,e,n,i){return 1===arguments.length?qa(t):new Xa(n,e,t,null==i?1:i)}function Va(t,e,n,i){return 1===arguments.length?qa(t):new Xa(t,e,n,null==i?1:i)}function Xa(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Za(t){if(isNaN(t.h))return new Fa(t.l,0,0,t.opacity);var e=t.h*Ca;return new Fa(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}pn(Fa,za,gn(vn,{brighter:function(t){return new Fa(this.l+Pa*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Fa(this.l-Pa*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Aa*Ha(e),t=Oa*Ha(t),n=Da*Ha(n),new Rn(Wa(3.1338561*e-1.6168667*t-.4906146*n),Wa(-.9787684*e+1.9161415*t+.033454*n),Wa(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),pn(Xa,Va,gn(vn,{brighter:function(t){return new Xa(this.h,this.c,this.l+Pa*(null==t?1:t),this.opacity)},darker:function(t){return new Xa(this.h,this.c,this.l-Pa*(null==t?1:t),this.opacity)},rgb:function(){return Za(this).rgb()}}));var Qa=-.14861,$a=1.78277,Ka=-.29227,Ja=-.90649,ts=1.97294,es=ts*Ja,ns=ts*$a,is=$a*Ka-Ja*Qa;function rs(t){if(t instanceof as)return new as(t.h,t.s,t.l,t.opacity);t instanceof Rn||(t=jn(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(is*i+es*e-ns*n)/(is+es-ns),o=i-r,a=(ts*(n-r)-Ka*o)/Ja,s=Math.sqrt(a*a+o*o)/(ts*r*(1-r)),u=s?Math.atan2(a,o)*Ta-120:NaN;return new as(u<0?u+360:u,s,r,t.opacity)}function os(t,e,n,i){return 1===arguments.length?rs(t):new as(t,e,n,null==i?1:i)}function as(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}pn(as,os,gn(vn,{brighter:function(t){return t=null==t?yn:Math.pow(yn,t),new as(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?mn:Math.pow(mn,t),new as(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ca,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Rn(255*(e+n*(Qa*i+$a*r)),255*(e+n*(Ka*i+Ja*r)),255*(e+n*(ts*i)),this.opacity)}}));var ss=Array.prototype,us=ss.slice,cs=function(t,e){return t-e},hs=function(t){var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];while(++e<n)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i},ls=function(t){return function(){return t}},ds=function(t,e){var n,i=-1,r=e.length;while(++i<r)if(n=fs(t,e[i]))return n;return 0};function fs(t,e){for(var n=e[0],i=e[1],r=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],h=u[1],l=t[s],d=l[0],f=l[1];if(ps(u,l,e))return 0;h>i!==f>i&&n<(d-c)*(i-h)/(f-h)+c&&(r=-r)}return r}function ps(t,e,n){var i;return gs(t,e,n)&&vs(t[i=+(t[0]===e[0])],n[i],e[i])}function gs(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function vs(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}var ms=function(){},ys=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],bs=function(){var t=1,e=1,n=j,i=u;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(cs);else{var i=M(t),r=i[0],a=i[1];e=L(r,a,e),e=P(Math.floor(r/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(t,e){var n=[],r=[];return a(t,e,(function(o){i(o,t,e),hs(o)>0?n.push([o]):r.push(o)})),r.forEach((function(t){for(var e,i=0,r=n.length;i<r;++i)if(-1!==ds((e=n[i])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:e,coordinates:n}}function a(n,i,r){var o,a,u,c,h,l,d=new Array,f=new Array;o=a=-1,c=n[0]>=i,ys[c<<1].forEach(p);while(++o<t-1)u=c,c=n[o+1]>=i,ys[u|c<<1].forEach(p);ys[c<<0].forEach(p);while(++a<e-1){o=-1,c=n[a*t+t]>=i,h=n[a*t]>=i,ys[c<<1|h<<2].forEach(p);while(++o<t-1)u=c,c=n[a*t+t+o+1]>=i,l=h,h=n[a*t+o+1]>=i,ys[u|c<<1|h<<2|l<<3].forEach(p);ys[c|h<<3].forEach(p)}o=-1,h=n[a*t]>=i,ys[h<<2].forEach(p);while(++o<t-1)l=h,h=n[a*t+o+1]>=i,ys[h<<2|l<<3].forEach(p);function p(t){var e,n,i=[t[0][0]+o,t[0][1]+a],u=[t[1][0]+o,t[1][1]+a],c=s(i),h=s(u);(e=f[c])?(n=d[h])?(delete f[e.end],delete d[n.start],e===n?(e.ring.push(u),r(e.ring)):d[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(u),f[e.end=h]=e):(e=d[h])?(n=f[c])?(delete d[e.start],delete f[n.end],e===n?(e.ring.push(u),r(e.ring)):d[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(i),d[e.start=c]=e):d[c]=f[h]={start:c,end:h,ring:[i,u]}}ys[h<<3].forEach(p)}function s(e){return 2*e[0]+e[1]*(t+1)*4}function u(n,i,r){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,c=0|s,h=i[c*t+u];a>0&&a<t&&u===a&&(o=i[c*t+u-1],n[0]=a+(r-o)/(h-o)-.5),s>0&&s<e&&c===s&&(o=i[(c-1)*t+u],n[1]=s+(r-o)/(h-o)-.5)}))}return r.contour=o,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(i>0)||!(o>0))throw new Error("invalid size");return t=i,e=o,r},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?ls(us.call(t)):ls(t),r):n},r.smooth=function(t){return arguments.length?(i=t?u:ms,r):i===u},r};function xs(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[s+a*i]),s>=n&&(s>=o&&(u-=t.data[s-o+a*i]),e.data[s-n+a*i]=u/Math.min(s+1,i-1+o-s,o))}function ws(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[a+s*i]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*i]),e.data[a+(s-n)*i]=u/Math.min(s+1,r-1+o-s,o))}function _s(t){return t[0]}function Ms(t){return t[1]}function ks(){return 1}var Ss=function(){var t=_s,e=Ms,n=ks,i=960,r=500,o=20,a=2,s=3*o,u=i+2*s>>a,c=r+2*s>>a,h=ls(20);function l(i){var r=new Float32Array(u*c),l=new Float32Array(u*c);i.forEach((function(i,o,h){var l=+t(i,o,h)+s>>a,d=+e(i,o,h)+s>>a,f=+n(i,o,h);l>=0&&l<u&&d>=0&&d<c&&(r[l+d*u]+=f)})),xs({width:u,height:c,data:r},{width:u,height:c,data:l},o>>a),ws({width:u,height:c,data:l},{width:u,height:c,data:r},o>>a),xs({width:u,height:c,data:r},{width:u,height:c,data:l},o>>a),ws({width:u,height:c,data:l},{width:u,height:c,data:r},o>>a),xs({width:u,height:c,data:r},{width:u,height:c,data:l},o>>a),ws({width:u,height:c,data:l},{width:u,height:c,data:r},o>>a);var f=h(r);if(!Array.isArray(f)){var p=Y(r);f=L(0,p,f),f=P(0,Math.floor(p/f)*f,f),f.shift()}return bs().thresholds(f).size([u,c])(r).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function v(){return s=3*o,u=i+2*s>>a,c=r+2*s>>a,l}return l.x=function(e){return arguments.length?(t="function"===typeof e?e:ls(+e),l):t},l.y=function(t){return arguments.length?(e="function"===typeof t?t:ls(+t),l):e},l.weight=function(t){return arguments.length?(n="function"===typeof t?t:ls(+t),l):n},l.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0)&&!(e>=0))throw new Error("invalid size");return i=e,r=n,v()},l.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),v()},l.thresholds=function(t){return arguments.length?(h="function"===typeof t?t:Array.isArray(t)?ls(us.call(t)):ls(t),l):h},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},l},Es=n("662e"),Cs=function(t){return function(){return t}};function Ts(t,e,n,i,r,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function Ps(){return!qe.ctrlKey&&!qe.button}function As(){return this.parentNode}function Os(t){return null==t?{x:qe.x,y:qe.y}:t}function Ds(){return navigator.maxTouchPoints||"ontouchstart"in this}Ts.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ns=function(){var t,e,n,i,r=Ps,o=As,a=Os,s=Ds,u={},c=Object(vt["a"])("start","drag","end"),h=0,l=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",v).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!i&&r.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),_i,this,arguments);a&&(cn(qe.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),dn(qe.view),hn(),n=!1,t=qe.clientX,e=qe.clientY,a("start"))}}function p(){if(ln(),!n){var i=qe.clientX-t,r=qe.clientY-e;n=i*i+r*r>l}u.mouse("drag")}function g(){cn(qe.view).on("mousemove.drag mouseup.drag",null),fn(qe.view,n),ln(),u.mouse("end")}function v(){if(r.apply(this,arguments)){var t,e,n=qe.changedTouches,i=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,i,wi,this,arguments))&&(hn(),e("start"))}}function m(){var t,e,n=qe.changedTouches,i=n.length;for(t=0;t<i;++t)(e=u[n[t].identifier])&&(ln(),e("drag"))}function y(){var t,e,n=qe.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<r;++t)(e=u[n[t].identifier])&&(hn(),e("end"))}function b(t,e,n,i,r){var o,s,l,f=n(e,t),p=c.copy();if(Je(new Ts(d,"beforestart",o,t,h,f[0],f[1],0,0,p),(function(){return null!=(qe.subject=o=a.apply(i,r))&&(s=o.x-f[0]||0,l=o.y-f[1]||0,!0)})))return function a(c){var g,v=f;switch(c){case"start":u[t]=a,g=h++;break;case"end":delete u[t],--h;case"drag":f=n(e,t),g=h;break}Je(new Ts(d,c,o,t,g,f[0]+s,f[1]+l,f[0]-v[0],f[1]-v[1],p),p.apply,p,[c,i,r])}}return d.filter=function(t){return arguments.length?(r="function"===typeof t?t:Cs(!!t),d):r},d.container=function(t){return arguments.length?(o="function"===typeof t?t:Cs(t),d):o},d.subject=function(t){return arguments.length?(a="function"===typeof t?t:Cs(t),d):a},d.touchable=function(t){return arguments.length?(s="function"===typeof t?t:Cs(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,d):Math.sqrt(l)},d},Is={},Ls={},js=34,Bs=10,Rs=13;function zs(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Fs(t,e){var n=zs(t);return function(i,r){return e(n(i),r,t)}}function Ys(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Hs(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Ws(t){return t<0?"-"+Hs(-t,6):t>9999?"+"+Hs(t,6):Hs(t,4)}function Gs(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ws(t.getUTCFullYear(),4)+"-"+Hs(t.getUTCMonth()+1,2)+"-"+Hs(t.getUTCDate(),2)+(r?"T"+Hs(e,2)+":"+Hs(n,2)+":"+Hs(i,2)+"."+Hs(r,3)+"Z":i?"T"+Hs(e,2)+":"+Hs(n,2)+":"+Hs(i,2)+"Z":n||e?"T"+Hs(e,2)+":"+Hs(n,2)+"Z":"")}var qs=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?Fs(t,e):zs(t)}));return o.columns=i||[],o}function r(t,e){var i,r=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function h(){if(u)return Ls;if(c)return c=!1,Is;var e,i,r=a;if(t.charCodeAt(r)===js){while(a++<o&&t.charCodeAt(a)!==js||t.charCodeAt(++a)===js);return(e=a)>=o?u=!0:(i=t.charCodeAt(a++))===Bs?c=!0:i===Rs&&(c=!0,t.charCodeAt(a)===Bs&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}while(a<o){if((i=t.charCodeAt(e=a++))===Bs)c=!0;else if(i===Rs)c=!0,t.charCodeAt(a)===Bs&&++a;else if(i!==n)continue;return t.slice(r,e)}return u=!0,t.slice(r,o)}t.charCodeAt(o-1)===Bs&&--o,t.charCodeAt(o-1)===Rs&&--o;while((i=h())!==Ls){var l=[];while(i!==Is&&i!==Ls)l.push(i),i=h();e&&null==(l=e(l,s++))||r.push(l)}return r}function o(e,n){return e.map((function(e){return n.map((function(t){return h(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=Ys(e)),[n.map(h).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=Ys(t)),o(t,e).join("\n")}function u(t){return t.map(c).join("\n")}function c(e){return e.map(h).join(t)}function h(t){return null==t?"":t instanceof Date?Gs(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:i,parseRows:r,format:a,formatBody:s,formatRows:u,formatRow:c,formatValue:h}},Us=qs(","),Vs=Us.parse,Xs=Us.parseRows,Zs=Us.format,Qs=Us.formatBody,$s=Us.formatRows,Ks=Us.formatRow,Js=Us.formatValue,tu=qs("\t"),eu=tu.parse,nu=tu.parseRows,iu=tu.format,ru=tu.formatBody,ou=tu.formatRows,au=tu.formatRow,su=tu.formatValue;function uu(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;cu&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t}var cu=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function hu(t){return+t}function lu(t){return t*t}function du(t){return t*(2-t)}function fu(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var pu=3,gu=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(pu),vu=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(pu),mu=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(pu),yu=Math.PI,bu=yu/2;function xu(t){return 1-Math.cos(t*bu)}function wu(t){return Math.sin(t*bu)}function _u(t){return(1-Math.cos(yu*t))/2}function Mu(t){return Math.pow(2,10*t-10)}function ku(t){return 1-Math.pow(2,-10*t)}function Su(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Eu(t){return 1-Math.sqrt(1-t*t)}function Cu(t){return Math.sqrt(1- --t*t)}function Tu(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Pu=4/11,Au=6/11,Ou=8/11,Du=.75,Nu=9/11,Iu=10/11,Lu=.9375,ju=21/22,Bu=63/64,Ru=1/Pu/Pu;function zu(t){return 1-Fu(1-t)}function Fu(t){return(t=+t)<Pu?Ru*t*t:t<Ou?Ru*(t-=Au)*t+Du:t<Iu?Ru*(t-=Nu)*t+Lu:Ru*(t-=ju)*t+Bu}function Yu(t){return((t*=2)<=1?1-Fu(1-t):Fu(t-1)+1)/2}var Hu=1.70158,Wu=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(Hu),Gu=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Hu),qu=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Hu),Uu=2*Math.PI,Vu=1,Xu=.3,Zu=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Uu);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*Uu)},r.period=function(n){return t(e,n)},r}(Vu,Xu),Qu=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Uu);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*Uu)},r.period=function(n){return t(e,n)},r}(Vu,Xu),$u=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Uu);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*Uu)},r.period=function(n){return t(e,n)},r}(Vu,Xu);function Ku(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Ju=function(t,e){return fetch(t,e).then(Ku)};function tc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var ec=function(t,e){return fetch(t,e).then(tc)};function nc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ic=function(t,e){return fetch(t,e).then(nc)};function rc(t){return function(e,n,i){return 2===arguments.length&&"function"===typeof n&&(i=n,n=void 0),ic(e,n).then((function(e){return t(e,i)}))}}function oc(t,e,n,i){3===arguments.length&&"function"===typeof n&&(i=n,n=void 0);var r=qs(t);return ic(e,n).then((function(t){return r.parse(t,i)}))}var ac=rc(Vs),sc=rc(eu),uc=function(t,e){return new Promise((function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t}))};function cc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var hc=function(t,e){return fetch(t,e).then(cc)};function lc(t){return function(e,n){return ic(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}var dc=lc("application/xml"),fc=lc("text/html"),pc=lc("image/svg+xml"),gc=function(t,e){var n;function i(){var i,r,o=n.length,a=0,s=0;for(i=0;i<o;++i)r=n[i],a+=r.x,s+=r.y;for(a=a/o-t,s=s/o-e,i=0;i<o;++i)r=n[i],r.x-=a,r.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},vc=function(t){return function(){return t}},mc=function(){return 1e-6*(Math.random()-.5)},yc=n("87de");function bc(t){return t.x+t.vx}function xc(t){return t.y+t.vy}var wc=function(t){var e,n,i=1,r=1;function o(){for(var t,o,s,u,c,h,l,d=e.length,f=0;f<r;++f)for(o=Object(yc["a"])(e,bc,xc).visitAfter(a),t=0;t<d;++t)s=e[t],h=n[s.index],l=h*h,u=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(t,e,n,r,o){var a=t.data,d=t.r,f=h+d;if(!a)return e>u+f||r<u-f||n>c+f||o<c-f;if(a.index>s.index){var p=u-a.x-a.vx,g=c-a.y-a.vy,v=p*p+g*g;v<f*f&&(0===p&&(p=mc(),v+=p*p),0===g&&(g=mc(),v+=g*g),v=(f-(v=Math.sqrt(v)))/v*i,s.vx+=(p*=v)*(f=(d*=d)/(l+d)),s.vy+=(g*=v)*f,a.vx-=p*(f=1-f),a.vy-=g*f)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!==typeof t&&(t=vc(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"===typeof e?e:vc(+e),s(),o):t},o};function _c(t){return t.index}function Mc(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var kc=function(t){var e,n,i,r,o,a=_c,s=h,u=vc(30),c=1;function h(t){return 1/Math.min(r[t.source.index],r[t.target.index])}function l(i){for(var r=0,a=t.length;r<c;++r)for(var s,u,h,l,d,f,p,g=0;g<a;++g)s=t[g],u=s.source,h=s.target,l=h.x+h.vx-u.x-u.vx||mc(),d=h.y+h.vy-u.y-u.vy||mc(),f=Math.sqrt(l*l+d*d),f=(f-n[g])/f*i*e[g],l*=f,d*=f,h.vx-=l*(p=o[g]),h.vy-=d*p,u.vx+=l*(p=1-p),u.vy+=d*p}function d(){if(i){var s,u,c=i.length,h=t.length,l=pa(i,a);for(s=0,r=new Array(c);s<h;++s)u=t[s],u.index=s,"object"!==typeof u.source&&(u.source=Mc(l,u.source)),"object"!==typeof u.target&&(u.target=Mc(l,u.target)),r[u.source.index]=(r[u.source.index]||0)+1,r[u.target.index]=(r[u.target.index]||0)+1;for(s=0,o=new Array(h);s<h;++s)u=t[s],o[s]=r[u.source.index]/(r[u.source.index]+r[u.target.index]);e=new Array(h),f(),n=new Array(h),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+s(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t){i=t,d()},l.links=function(e){return arguments.length?(t=e,d(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(s="function"===typeof t?t:vc(+t),f(),l):s},l.distance=function(t){return arguments.length?(u="function"===typeof t?t:vc(+t),p(),l):u},l};function Sc(t){return t.x}function Ec(t){return t.y}var Cc=10,Tc=Math.PI*(3-Math.sqrt(5)),Pc=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=pa(),u=Object(Mi["c"])(h),c=Object(vt["a"])("tick","end");function h(){l(),c.call("tick",e),n<i&&(u.stop(),c.call("end",e))}function l(i){var u,c,h=t.length;void 0===i&&(i=1);for(var l=0;l<i;++l)for(n+=(o-n)*r,s.each((function(t){t(n)})),u=0;u<h;++u)c=t[u],null==c.fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=Cc*Math.sqrt(n),o=n*Tc;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:l,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,u,c=0,h=t.length;for(null==i?i=1/0:i*=i,c=0;c<h;++c)s=t[c],r=e-s.x,o=n-s.y,a=r*r+o*o,a<i&&(u=s,i=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},Ac=function(){var t,e,n,i,r=vc(-30),o=1,a=1/0,s=.81;function u(i){var r,o=t.length,a=Object(yc["a"])(t,Sc,Ec).visitAfter(h);for(n=i,r=0;r<o;++r)e=t[r],a.visit(l)}function c(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function h(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function l(t,r,u,c){if(!t.value)return!0;var h=t.x-e.x,l=t.y-e.y,d=c-r,f=h*h+l*l;if(d*d/s<f)return f<a&&(0===h&&(h=mc(),f+=h*h),0===l&&(l=mc(),f+=l*l),f<o&&(f=Math.sqrt(o*f)),e.vx+=h*t.value*n/f,e.vy+=l*t.value*n/f),!0;if(!(t.length||f>=a)){(t.data!==e||t.next)&&(0===h&&(h=mc(),f+=h*h),0===l&&(l=mc(),f+=l*l),f<o&&(f=Math.sqrt(o*f)));do{t.data!==e&&(d=i[t.data.index]*n/f,e.vx+=h*d,e.vy+=l*d)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(r="function"===typeof t?t:vc(+t),c(),u):r},u.distanceMin=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},Oc=function(t,e,n){var i,r,o,a=vc(.1);function s(t){for(var a=0,s=i.length;a<s;++a){var u=i[a],c=u.x-e||1e-6,h=u.y-n||1e-6,l=Math.sqrt(c*c+h*h),d=(o[a]-l)*r[a]*t/l;u.vx+=c*d,u.vy+=h*d}}function u(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+a(i[e],e,i)}}return"function"!==typeof t&&(t=vc(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){i=t,u()},s.strength=function(t){return arguments.length?(a="function"===typeof t?t:vc(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:vc(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Dc=function(t){var e,n,i,r=vc(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)r=e[o],r.vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!==typeof t&&(t=vc(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"===typeof t?t:vc(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"===typeof e?e:vc(+e),a(),o):t},o},Nc=function(t){var e,n,i,r=vc(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)r=e[o],r.vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!==typeof t&&(t=vc(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"===typeof t?t:vc(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"===typeof e?e:vc(+e),a(),o):t},o},Ic=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Lc=function(t){return t=Ic(Math.abs(t)),t?t[1]:NaN},jc=function(t,e){return function(n,i){var r=n.length,o=[],a=0,s=t[0],u=0;while(r>0&&s>0){if(u+s+1>i&&(s=Math.max(1,i-u)),o.push(n.substring(r-=s,r+s)),(u+=s+1)>i)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}},Bc=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},Rc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zc(t){if(!(e=Rc.exec(t)))throw new Error("invalid format: "+t);var e;return new Fc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Fc(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}zc.prototype=Fc.prototype,Fc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Yc,Hc,Wc,Gc,qc=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}break}return r>0?t.slice(0,r)+t.slice(e+1):t},Uc=function(t,e){var n=Ic(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Yc=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ic(t,Math.max(0,e+o-1))[0]},Vc=function(t,e){var n=Ic(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Xc={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Vc(100*t,e)},r:Vc,s:Uc,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Zc=function(t){return t},Qc=Array.prototype.map,$c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],Kc=function(t){var e=void 0===t.grouping||void 0===t.thousands?Zc:jc(Qc.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",r=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Zc:Bc(Qc.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){t=zc(t);var c=t.fill,h=t.align,l=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Xc[y]||(void 0===v&&(v=12),m=!0,y="g"),(f||"0"===c&&"="===h)&&(f=!0,c="0",h="=");var b="$"===d?n:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?i:/[%p]/.test(y)?a:"",w=Xc[y],_=/[defgprs%]/.test(y);function M(t){var n,i,a,d=b,M=x;if("c"===y)M=w(t)+M,t="";else{t=+t;var k=t<0;if(t=isNaN(t)?u:w(Math.abs(t),v),m&&(t=qc(t)),k&&0===+t&&(k=!1),d=(k?"("===l?l:s:"-"===l||"("===l?"":l)+d,M=("s"===y?$c[8+Yc/3]:"")+M+(k&&"("===l?")":""),_){n=-1,i=t.length;while(++n<i)if(a=t.charCodeAt(n),48>a||a>57){M=(46===a?r+t.slice(n+1):t.slice(n))+M,t=t.slice(0,n);break}}}g&&!f&&(t=e(t,1/0));var S=d.length+t.length+M.length,E=S<p?new Array(p-S+1).join(c):"";switch(g&&f&&(t=e(E+t,E.length?p-M.length:1/0),E=""),h){case"<":t=d+t+M+E;break;case"=":t=d+E+t+M;break;case"^":t=E.slice(0,S=E.length>>1)+d+t+M+E.slice(S);break;default:t=E+d+t+M;break}return o(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}function h(t,e){var n=c((t=zc(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Lc(e)/3))),r=Math.pow(10,-i),o=$c[8+i/3];return function(t){return n(r*t)+o}}return{format:c,formatPrefix:h}};function Jc(t){return Hc=Kc(t),Wc=Hc.format,Gc=Hc.formatPrefix,Hc}Jc({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var th=function(t){return Math.max(0,-Lc(Math.abs(t)))},eh=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Lc(e)/3)))-Lc(Math.abs(t)))},nh=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lc(e)-Lc(t))+1},ih=function(){return new rh};function rh(){this.reset()}rh.prototype={constructor:rh,reset:function(){this.s=this.t=0},add:function(t){ah(oh,t,this.t),ah(this,oh.s,this.s),this.s?this.t+=oh.t:this.s=oh.t},valueOf:function(){return this.s}};var oh=new rh;function ah(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var sh=1e-6,uh=1e-12,ch=Math.PI,hh=ch/2,lh=ch/4,dh=2*ch,fh=180/ch,ph=ch/180,gh=Math.abs,vh=Math.atan,mh=Math.atan2,yh=Math.cos,bh=Math.ceil,xh=Math.exp,wh=(Math.floor,Math.log),_h=Math.pow,Mh=Math.sin,kh=Math.sign||function(t){return t>0?1:t<0?-1:0},Sh=Math.sqrt,Eh=Math.tan;function Ch(t){return t>1?0:t<-1?ch:Math.acos(t)}function Th(t){return t>1?hh:t<-1?-hh:Math.asin(t)}function Ph(t){return(t=Mh(t/2))*t}function Ah(){}function Oh(t,e){t&&Nh.hasOwnProperty(t.type)&&Nh[t.type](t,e)}var Dh={Feature:function(t,e){Oh(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,i=-1,r=n.length;while(++i<r)Oh(n[i].geometry,e)}},Nh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ih(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)Ih(n[i],e,0)},Polygon:function(t,e){Lh(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)Lh(n[i],e)},GeometryCollection:function(t,e){var n=t.geometries,i=-1,r=n.length;while(++i<r)Oh(n[i],e)}};function Ih(t,e,n){var i,r=-1,o=t.length-n;e.lineStart();while(++r<o)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Lh(t,e){var n=-1,i=t.length;e.polygonStart();while(++n<i)Ih(t[n],e,1);e.polygonEnd()}var jh,Bh,Rh,zh,Fh,Yh=function(t,e){t&&Dh.hasOwnProperty(t.type)?Dh[t.type](t,e):Oh(t,e)},Hh=ih(),Wh=ih(),Gh={point:Ah,lineStart:Ah,lineEnd:Ah,polygonStart:function(){Hh.reset(),Gh.lineStart=qh,Gh.lineEnd=Uh},polygonEnd:function(){var t=+Hh;Wh.add(t<0?dh+t:t),this.lineStart=this.lineEnd=this.point=Ah},sphere:function(){Wh.add(dh)}};function qh(){Gh.point=Vh}function Uh(){Xh(jh,Bh)}function Vh(t,e){Gh.point=Xh,jh=t,Bh=e,t*=ph,e*=ph,Rh=t,zh=yh(e=e/2+lh),Fh=Mh(e)}function Xh(t,e){t*=ph,e*=ph,e=e/2+lh;var n=t-Rh,i=n>=0?1:-1,r=i*n,o=yh(e),a=Mh(e),s=Fh*a,u=zh*o+s*yh(r),c=s*i*Mh(r);Hh.add(mh(c,u)),Rh=t,zh=o,Fh=a}var Zh=function(t){return Wh.reset(),Yh(t,Gh),2*Wh};function Qh(t){return[mh(t[1],t[0]),Th(t[2])]}function $h(t){var e=t[0],n=t[1],i=yh(n);return[i*yh(e),i*Mh(e),Mh(n)]}function Kh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Jh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function el(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function nl(t){var e=Sh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var il,rl,ol,al,sl,ul,cl,hl,ll,dl,fl=ih(),pl={point:gl,lineStart:ml,lineEnd:yl,polygonStart:function(){pl.point=bl,pl.lineStart=xl,pl.lineEnd=wl,fl.reset(),Gh.polygonStart()},polygonEnd:function(){Gh.polygonEnd(),pl.point=gl,pl.lineStart=ml,pl.lineEnd=yl,Hh<0?(il=-(ol=180),rl=-(al=90)):fl>sh?al=90:fl<-sh&&(rl=-90),dl[0]=il,dl[1]=ol},sphere:function(){il=-(ol=180),rl=-(al=90)}};function gl(t,e){ll.push(dl=[il=t,ol=t]),e<rl&&(rl=e),e>al&&(al=e)}function vl(t,e){var n=$h([t*ph,e*ph]);if(hl){var i=Jh(hl,n),r=[i[1],-i[0],0],o=Jh(r,i);nl(o),o=Qh(o);var a,s=t-sl,u=s>0?1:-1,c=o[0]*fh*u,h=gh(s)>180;h^(u*sl<c&&c<u*t)?(a=o[1]*fh,a>al&&(al=a)):(c=(c+360)%360-180,h^(u*sl<c&&c<u*t)?(a=-o[1]*fh,a<rl&&(rl=a)):(e<rl&&(rl=e),e>al&&(al=e))),h?t<sl?_l(il,t)>_l(il,ol)&&(ol=t):_l(t,ol)>_l(il,ol)&&(il=t):ol>=il?(t<il&&(il=t),t>ol&&(ol=t)):t>sl?_l(il,t)>_l(il,ol)&&(ol=t):_l(t,ol)>_l(il,ol)&&(il=t)}else ll.push(dl=[il=t,ol=t]);e<rl&&(rl=e),e>al&&(al=e),hl=n,sl=t}function ml(){pl.point=vl}function yl(){dl[0]=il,dl[1]=ol,pl.point=gl,hl=null}function bl(t,e){if(hl){var n=t-sl;fl.add(gh(n)>180?n+(n>0?360:-360):n)}else ul=t,cl=e;Gh.point(t,e),vl(t,e)}function xl(){Gh.lineStart()}function wl(){bl(ul,cl),Gh.lineEnd(),gh(fl)>sh&&(il=-(ol=180)),dl[0]=il,dl[1]=ol,hl=null}function _l(t,e){return(e-=t)<0?e+360:e}function Ml(t,e){return t[0]-e[0]}function kl(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Sl,El,Cl,Tl,Pl,Al,Ol,Dl,Nl,Il,Ll,jl,Bl,Rl,zl,Fl,Yl=function(t){var e,n,i,r,o,a,s;if(al=ol=-(il=rl=1/0),ll=[],Yh(t,pl),n=ll.length){for(ll.sort(Ml),e=1,i=ll[0],o=[i];e<n;++e)r=ll[e],kl(i,r[0])||kl(i,r[1])?(_l(i[0],r[1])>_l(i[0],i[1])&&(i[1]=r[1]),_l(r[0],i[1])>_l(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(s=_l(i[1],r[0]))>a&&(a=s,il=r[0],ol=i[1])}return ll=dl=null,il===1/0||rl===1/0?[[NaN,NaN],[NaN,NaN]]:[[il,rl],[ol,al]]},Hl={sphere:Ah,point:Wl,lineStart:ql,lineEnd:Xl,polygonStart:function(){Hl.lineStart=Zl,Hl.lineEnd=Ql},polygonEnd:function(){Hl.lineStart=ql,Hl.lineEnd=Xl}};function Wl(t,e){t*=ph,e*=ph;var n=yh(e);Gl(n*yh(t),n*Mh(t),Mh(e))}function Gl(t,e,n){++Sl,Cl+=(t-Cl)/Sl,Tl+=(e-Tl)/Sl,Pl+=(n-Pl)/Sl}function ql(){Hl.point=Ul}function Ul(t,e){t*=ph,e*=ph;var n=yh(e);Rl=n*yh(t),zl=n*Mh(t),Fl=Mh(e),Hl.point=Vl,Gl(Rl,zl,Fl)}function Vl(t,e){t*=ph,e*=ph;var n=yh(e),i=n*yh(t),r=n*Mh(t),o=Mh(e),a=mh(Sh((a=zl*o-Fl*r)*a+(a=Fl*i-Rl*o)*a+(a=Rl*r-zl*i)*a),Rl*i+zl*r+Fl*o);El+=a,Al+=a*(Rl+(Rl=i)),Ol+=a*(zl+(zl=r)),Dl+=a*(Fl+(Fl=o)),Gl(Rl,zl,Fl)}function Xl(){Hl.point=Wl}function Zl(){Hl.point=$l}function Ql(){Kl(jl,Bl),Hl.point=Wl}function $l(t,e){jl=t,Bl=e,t*=ph,e*=ph,Hl.point=Kl;var n=yh(e);Rl=n*yh(t),zl=n*Mh(t),Fl=Mh(e),Gl(Rl,zl,Fl)}function Kl(t,e){t*=ph,e*=ph;var n=yh(e),i=n*yh(t),r=n*Mh(t),o=Mh(e),a=zl*o-Fl*r,s=Fl*i-Rl*o,u=Rl*r-zl*i,c=Sh(a*a+s*s+u*u),h=Th(c),l=c&&-h/c;Nl+=l*a,Il+=l*s,Ll+=l*u,El+=h,Al+=h*(Rl+(Rl=i)),Ol+=h*(zl+(zl=r)),Dl+=h*(Fl+(Fl=o)),Gl(Rl,zl,Fl)}var Jl=function(t){Sl=El=Cl=Tl=Pl=Al=Ol=Dl=Nl=Il=Ll=0,Yh(t,Hl);var e=Nl,n=Il,i=Ll,r=e*e+n*n+i*i;return r<uh&&(e=Al,n=Ol,i=Dl,El<sh&&(e=Cl,n=Tl,i=Pl),r=e*e+n*n+i*i,r<uh)?[NaN,NaN]:[mh(n,e)*fh,Th(i/Sh(r))*fh]},td=function(t){return function(){return t}},ed=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n};function nd(t,e){return[gh(t)>ch?t+Math.round(-t/dh)*dh:t,e]}function id(t,e,n){return(t%=dh)?e||n?ed(od(t),ad(e,n)):od(t):e||n?ad(e,n):nd}function rd(t){return function(e,n){return e+=t,[e>ch?e-dh:e<-ch?e+dh:e,n]}}function od(t){var e=rd(t);return e.invert=rd(-t),e}function ad(t,e){var n=yh(t),i=Mh(t),r=yh(e),o=Mh(e);function a(t,e){var a=yh(e),s=yh(t)*a,u=Mh(t)*a,c=Mh(e),h=c*n+s*i;return[mh(u*r-h*o,s*n-c*i),Th(h*r+u*o)]}return a.invert=function(t,e){var a=yh(e),s=yh(t)*a,u=Mh(t)*a,c=Mh(e),h=c*r-u*o;return[mh(u*r+c*o,s*n+h*i),Th(h*n-s*i)]},a}nd.invert=nd;var sd=function(t){function e(e){return e=t(e[0]*ph,e[1]*ph),e[0]*=fh,e[1]*=fh,e}return t=id(t[0]*ph,t[1]*ph,t.length>2?t[2]*ph:0),e.invert=function(e){return e=t.invert(e[0]*ph,e[1]*ph),e[0]*=fh,e[1]*=fh,e},e};function ud(t,e,n,i,r,o){if(n){var a=yh(e),s=Mh(e),u=i*n;null==r?(r=e+i*dh,o=e-u/2):(r=cd(a,r),o=cd(a,o),(i>0?r<o:r>o)&&(r+=i*dh));for(var c,h=r;i>0?h>o:h<o;h-=u)c=Qh([a,-s*yh(h),-s*Mh(h)]),t.point(c[0],c[1])}}function cd(t,e){e=$h(e),e[0]-=t,nl(e);var n=Ch(-e[1]);return((-e[2]<0?-n:n)+dh-sh)%dh}var hd=function(){var t,e,n=td([0,0]),i=td(90),r=td(6),o={point:a};function a(n,i){t.push(n=e(n,i)),n[0]*=fh,n[1]*=fh}function s(){var a=n.apply(this,arguments),s=i.apply(this,arguments)*ph,u=r.apply(this,arguments)*ph;return t=[],e=id(-a[0]*ph,-a[1]*ph,0).invert,ud(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return s.center=function(t){return arguments.length?(n="function"===typeof t?t:td([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"===typeof t?t:td(+t),s):i},s.precision=function(t){return arguments.length?(r="function"===typeof t?t:td(+t),s):r},s},ld=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ah,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},dd=function(t,e){return gh(t[0]-e[0])<sh&&gh(t[1]-e[1])<sh};function fd(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var pd=function(t,e,n,i,r){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(dd(i,a)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else s.push(n=new fd(i,t,null,!0)),u.push(n.o=new fd(i,null,n,!1)),s.push(n=new fd(a,t,null,!1)),u.push(n.o=new fd(a,null,n,!0))}})),s.length){for(u.sort(e),gd(s),gd(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;var c,h,l=s[0];while(1){var d=l,f=!0;while(d.v)if((d=d.n)===l)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)r.point((h=c[o])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((h=c[o])[0],h[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,f=!f}while(!d.v);r.lineEnd()}}};function gd(t){if(e=t.length){var e,n,i=0,r=t[0];while(++i<e)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var vd=ih();function md(t){return gh(t[0])<=ch?t[0]:kh(t[0])*((gh(t[0])+ch)%dh-ch)}var yd=function(t,e){var n=md(e),i=e[1],r=Mh(i),o=[Mh(n),-yh(n),0],a=0,s=0;vd.reset(),1===r?i=hh+sh:-1===r&&(i=-hh-sh);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,d=h[l-1],f=md(d),p=d[1]/2+lh,g=Mh(p),v=yh(p),m=0;m<l;++m,f=b,g=w,v=_,d=y){var y=h[m],b=md(y),x=y[1]/2+lh,w=Mh(x),_=yh(x),M=b-f,k=M>=0?1:-1,S=k*M,E=S>ch,C=g*w;if(vd.add(mh(C*k*Mh(S),v*_+C*yh(S))),a+=E?M+k*dh:M,E^f>=n^b>=n){var T=Jh($h(d),$h(y));nl(T);var P=Jh(o,T);nl(P);var A=(E^M>=0?-1:1)*Th(P[2]);(i>A||i===A&&(T[0]||T[1]))&&(s+=E^M>=0?1:-1)}}return(a<-sh||a<sh&&vd<-sh)^1&s},bd=function(t,e,n,i){return function(r){var o,a,s,u=e(r),c=ld(),h=e(c),l=!1,d={point:f,lineStart:g,lineEnd:v,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=v,a=G(a);var t=yd(o,i);a.length?(l||(r.polygonStart(),l=!0),pd(a,wd,t,n,r)):t&&(l||(r.polygonStart(),l=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(e,n){t(e,n)&&r.point(e,n)}function p(t,e){u.point(t,e)}function g(){d.point=p,u.lineStart()}function v(){d.point=f,u.lineEnd()}function m(t,e){s.push([t,e]),h.point(t,e)}function y(){h.lineStart(),s=[]}function b(){m(s[0][0],s[0][1]),h.lineEnd();var t,e,n,i,u=h.clean(),d=c.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&u){if(n=d[0],(e=n.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else f>1&&2&u&&d.push(d.pop().concat(d.shift())),a.push(d.filter(xd))}return d}};function xd(t){return t.length>1}function wd(t,e){return((t=t.x)[0]<0?t[1]-hh-sh:hh-t[1])-((e=e.x)[0]<0?e[1]-hh-sh:hh-e[1])}var _d=bd((function(){return!0}),Md,Sd,[-ch,-hh]);function Md(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?ch:-ch,u=gh(o-n);gh(u-ch)<sh?(t.point(n,i=(i+a)/2>0?hh:-hh),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=ch&&(gh(n-r)<sh&&(n-=r*sh),gh(o-s)<sh&&(o-=s*sh),i=kd(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function kd(t,e,n,i){var r,o,a=Mh(t-n);return gh(a)>sh?vh((Mh(e)*(o=yh(i))*Mh(n)-Mh(i)*(r=yh(e))*Mh(t))/(r*o*a)):(e+i)/2}function Sd(t,e,n,i){var r;if(null==t)r=n*hh,i.point(-ch,r),i.point(0,r),i.point(ch,r),i.point(ch,0),i.point(ch,-r),i.point(0,-r),i.point(-ch,-r),i.point(-ch,0),i.point(-ch,r);else if(gh(t[0]-e[0])>sh){var o=t[0]<e[0]?ch:-ch;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}var Ed=function(t){var e=yh(t),n=6*ph,i=e>0,r=gh(e)>sh;function o(e,i,r,o){ud(o,t,n,r,e,i)}function a(t,n){return yh(t)*yh(n)>e}function s(t){var e,n,o,s,h;return{lineStart:function(){s=o=!1,h=1},point:function(l,d){var f,p=[l,d],g=a(l,d),v=i?g?0:c(l,d):g?c(l+(l<0?ch:-ch),d):0;if(!e&&(s=o=g)&&t.lineStart(),g!==o&&(f=u(e,p),(!f||dd(e,f)||dd(p,f))&&(p[0]+=sh,p[1]+=sh,g=a(p[0],p[1]))),g!==o)h=0,g?(t.lineStart(),f=u(p,e),t.point(f[0],f[1])):(f=u(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(r&&e&&i^g){var m;v&n||!(m=u(p,e,!0))||(h=0,i?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&dd(e,p)||t.point(p[0],p[1]),e=p,o=g,n=v},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return h|(s&&o)<<1}}}function u(t,n,i){var r=$h(t),o=$h(n),a=[1,0,0],s=Jh(r,o),u=Kh(s,s),c=s[0],h=u-c*c;if(!h)return!i&&t;var l=e*u/h,d=-e*c/h,f=Jh(a,s),p=el(a,l),g=el(s,d);tl(p,g);var v=f,m=Kh(p,v),y=Kh(v,v),b=m*m-y*(Kh(p,p)-1);if(!(b<0)){var x=Sh(b),w=el(v,(-m-x)/y);if(tl(w,p),w=Qh(w),!i)return w;var _,M=t[0],k=n[0],S=t[1],E=n[1];k<M&&(_=M,M=k,k=_);var C=k-M,T=gh(C-ch)<sh,P=T||C<sh;if(!T&&E<S&&(_=S,S=E,E=_),P?T?S+E>0^w[1]<(gh(w[0]-M)<sh?S:E):S<=w[1]&&w[1]<=E:C>ch^(M<=w[0]&&w[0]<=k)){var A=el(v,(-m+x)/y);return tl(A,p),[w,Qh(A)]}}}function c(e,n){var r=i?t:ch-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return bd(a,s,o,i?[0,-t]:[-ch,t-ch])},Cd=function(t,e,n,i,r,o){var a,s=t[0],u=t[1],c=e[0],h=e[1],l=0,d=1,f=c-s,p=h-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<d&&(d=a)}else if(f>0){if(a>d)return;a>l&&(l=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>d)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<d&&(d=a)}if(a=i-u,p||!(a>0)){if(a/=p,p<0){if(a<l)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>l&&(l=a)}if(a=o-u,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>l&&(l=a)}else if(p>0){if(a<l)return;a<d&&(d=a)}return l>0&&(t[0]=s+l*f,t[1]=u+l*p),d<1&&(e[0]=s+d*f,e[1]=u+d*p),!0}}}}},Td=1e9,Pd=-Td;function Ad(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,c){var h=0,l=0;if(null==r||(h=a(r,s))!==(l=a(o,s))||u(r,o)<0^s>0)do{c.point(0===h||3===h?t:n,h>1?i:e)}while((h=(h+s+4)%4)!==l);else c.point(o[0],o[1])}function a(i,r){return gh(i[0]-t)<sh?r>0?0:3:gh(i[0]-n)<sh?r>0?2:1:gh(i[1]-e)<sh?r>0?1:0:r>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,c,h,l,d,f,p,g,v,m,y,b=a,x=ld(),w={point:_,lineStart:E,lineEnd:C,polygonStart:k,polygonEnd:S};function _(t,e){r(t,e)&&b.point(t,e)}function M(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,a,s=c[n],u=1,h=s.length,l=s[0],d=l[0],f=l[1];u<h;++u)o=d,a=f,l=s[u],d=l[0],f=l[1],a<=i?f>i&&(d-o)*(i-a)>(f-a)*(t-o)&&++e:f<=i&&(d-o)*(i-a)<(f-a)*(t-o)&&--e;return e}function k(){b=x,u=[],c=[],y=!0}function S(){var t=M(),e=y&&t,n=(u=G(u)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&pd(u,s,t,o,a),a.polygonEnd()),b=a,u=c=h=null}function E(){w.point=T,c&&c.push(h=[]),m=!0,v=!1,p=g=NaN}function C(){u&&(T(l,d),f&&v&&x.rejoin(),u.push(x.result())),w.point=_,v&&b.lineEnd()}function T(o,a){var s=r(o,a);if(c&&h.push([o,a]),m)l=o,d=a,f=s,m=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var u=[p=Math.max(Pd,Math.min(Td,p)),g=Math.max(Pd,Math.min(Td,g))],x=[o=Math.max(Pd,Math.min(Td,o)),a=Math.max(Pd,Math.min(Td,a))];Cd(u,x,t,e,n,i)?(v||(b.lineStart(),b.point(u[0],u[1])),b.point(x[0],x[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(o,a),y=!1)}p=o,g=a,v=s}return w}}var Od,Dd,Nd,Id=function(){var t,e,n,i=0,r=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Ad(i,r,o,a)(e=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[i,r],[o,a]]}}},Ld=ih(),jd={sphere:Ah,point:Ah,lineStart:Bd,lineEnd:Ah,polygonStart:Ah,polygonEnd:Ah};function Bd(){jd.point=zd,jd.lineEnd=Rd}function Rd(){jd.point=jd.lineEnd=Ah}function zd(t,e){t*=ph,e*=ph,Od=t,Dd=Mh(e),Nd=yh(e),jd.point=Fd}function Fd(t,e){t*=ph,e*=ph;var n=Mh(e),i=yh(e),r=gh(t-Od),o=yh(r),a=Mh(r),s=i*a,u=Nd*n-Dd*i*o,c=Dd*n+Nd*i*o;Ld.add(mh(Sh(s*s+u*u),c)),Od=t,Dd=n,Nd=i}var Yd=function(t){return Ld.reset(),Yh(t,jd),+Ld},Hd=[null,null],Wd={type:"LineString",coordinates:Hd},Gd=function(t,e){return Hd[0]=t,Hd[1]=e,Yd(Wd)},qd={Feature:function(t,e){return Vd(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,i=-1,r=n.length;while(++i<r)if(Vd(n[i].geometry,e))return!0;return!1}},Ud={Sphere:function(){return!0},Point:function(t,e){return Xd(t.coordinates,e)},MultiPoint:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)if(Xd(n[i],e))return!0;return!1},LineString:function(t,e){return Zd(t.coordinates,e)},MultiLineString:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)if(Zd(n[i],e))return!0;return!1},Polygon:function(t,e){return Qd(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)if(Qd(n[i],e))return!0;return!1},GeometryCollection:function(t,e){var n=t.geometries,i=-1,r=n.length;while(++i<r)if(Vd(n[i],e))return!0;return!1}};function Vd(t,e){return!(!t||!Ud.hasOwnProperty(t.type))&&Ud[t.type](t,e)}function Xd(t,e){return 0===Gd(t,e)}function Zd(t,e){for(var n,i,r,o=0,a=t.length;o<a;o++){if(i=Gd(t[o],e),0===i)return!0;if(o>0&&(r=Gd(t[o],t[o-1]),r>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<uh*r))return!0;n=i}return!1}function Qd(t,e){return!!yd(t.map($d),Kd(e))}function $d(t){return t=t.map(Kd),t.pop(),t}function Kd(t){return[t[0]*ph,t[1]*ph]}var Jd=function(t,e){return(t&&qd.hasOwnProperty(t.type)?qd[t.type]:Vd)(t,e)};function tf(t,e,n){var i=P(t,e-sh,n).concat(e);return function(t){return i.map((function(e){return[t,e]}))}}function ef(t,e,n){var i=P(t,e-sh,n).concat(e);return function(t){return i.map((function(e){return[e,t]}))}}function nf(){var t,e,n,i,r,o,a,s,u,c,h,l,d=10,f=d,p=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return P(bh(i/p)*p,n,p).map(h).concat(P(bh(s/g)*g,a,g).map(l)).concat(P(bh(e/d)*d,t,d).filter((function(t){return gh(t%p)>sh})).map(u)).concat(P(bh(o/f)*f,r,f).filter((function(t){return gh(t%g)>sh})).map(c))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(l(a).slice(1),h(n).reverse().slice(1),l(s).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),s>a&&(t=s,s=a,a=t),m.precision(v)):[[i,s],[n,a]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),m.precision(v)):[[e,o],[t,r]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],m):[p,g]},m.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],m):[d,f]},m.precision=function(d){return arguments.length?(v=+d,u=tf(o,r,90),c=ef(e,t,v),h=tf(s,a,90),l=ef(i,n,v),m):v},m.extentMajor([[-180,-90+sh],[180,90-sh]]).extentMinor([[-180,-80-sh],[180,80+sh]])}function rf(){return nf()()}var of,af,sf,uf,cf=function(t,e){var n=t[0]*ph,i=t[1]*ph,r=e[0]*ph,o=e[1]*ph,a=yh(i),s=Mh(i),u=yh(o),c=Mh(o),h=a*yh(n),l=a*Mh(n),d=u*yh(r),f=u*Mh(r),p=2*Th(Sh(Ph(o-i)+a*u*Ph(r-n))),g=Mh(p),v=p?function(t){var e=Mh(t*=p)/g,n=Mh(p-t)/g,i=n*h+e*d,r=n*l+e*f,o=n*s+e*c;return[mh(r,i)*fh,mh(o,Sh(i*i+r*r))*fh]}:function(){return[n*fh,i*fh]};return v.distance=p,v},hf=function(t){return t},lf=ih(),df=ih(),ff={point:Ah,lineStart:Ah,lineEnd:Ah,polygonStart:function(){ff.lineStart=pf,ff.lineEnd=mf},polygonEnd:function(){ff.lineStart=ff.lineEnd=ff.point=Ah,lf.add(gh(df)),df.reset()},result:function(){var t=lf/2;return lf.reset(),t}};function pf(){ff.point=gf}function gf(t,e){ff.point=vf,of=sf=t,af=uf=e}function vf(t,e){df.add(uf*t-sf*e),sf=t,uf=e}function mf(){vf(of,af)}var yf=ff,bf=1/0,xf=bf,wf=-bf,_f=wf,Mf={point:kf,lineStart:Ah,lineEnd:Ah,polygonStart:Ah,polygonEnd:Ah,result:function(){var t=[[bf,xf],[wf,_f]];return wf=_f=-(xf=bf=1/0),t}};function kf(t,e){t<bf&&(bf=t),t>wf&&(wf=t),e<xf&&(xf=e),e>_f&&(_f=e)}var Sf,Ef,Cf,Tf,Pf=Mf,Af=0,Of=0,Df=0,Nf=0,If=0,Lf=0,jf=0,Bf=0,Rf=0,zf={point:Ff,lineStart:Yf,lineEnd:Gf,polygonStart:function(){zf.lineStart=qf,zf.lineEnd=Uf},polygonEnd:function(){zf.point=Ff,zf.lineStart=Yf,zf.lineEnd=Gf},result:function(){var t=Rf?[jf/Rf,Bf/Rf]:Lf?[Nf/Lf,If/Lf]:Df?[Af/Df,Of/Df]:[NaN,NaN];return Af=Of=Df=Nf=If=Lf=jf=Bf=Rf=0,t}};function Ff(t,e){Af+=t,Of+=e,++Df}function Yf(){zf.point=Hf}function Hf(t,e){zf.point=Wf,Ff(Cf=t,Tf=e)}function Wf(t,e){var n=t-Cf,i=e-Tf,r=Sh(n*n+i*i);Nf+=r*(Cf+t)/2,If+=r*(Tf+e)/2,Lf+=r,Ff(Cf=t,Tf=e)}function Gf(){zf.point=Ff}function qf(){zf.point=Vf}function Uf(){Xf(Sf,Ef)}function Vf(t,e){zf.point=Xf,Ff(Sf=Cf=t,Ef=Tf=e)}function Xf(t,e){var n=t-Cf,i=e-Tf,r=Sh(n*n+i*i);Nf+=r*(Cf+t)/2,If+=r*(Tf+e)/2,Lf+=r,r=Tf*t-Cf*e,jf+=r*(Cf+t),Bf+=r*(Tf+e),Rf+=3*r,Ff(Cf=t,Tf=e)}var Zf=zf;function Qf(t){this._context=t}Qf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,dh);break}},result:Ah};var $f,Kf,Jf,tp,ep,np=ih(),ip={point:Ah,lineStart:function(){ip.point=rp},lineEnd:function(){$f&&op(Kf,Jf),ip.point=Ah},polygonStart:function(){$f=!0},polygonEnd:function(){$f=null},result:function(){var t=+np;return np.reset(),t}};function rp(t,e){ip.point=op,Kf=tp=t,Jf=ep=e}function op(t,e){tp-=t,ep-=e,np.add(Sh(tp*tp+ep*ep)),tp=t,ep=e}var ap=ip;function sp(){this._string=[]}function up(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}sp.prototype={_radius:4.5,_circle:up(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=up(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var cp=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"===typeof r&&i.pointRadius(+r.apply(this,arguments)),Yh(t,n(i))),i.result()}return o.area=function(t){return Yh(t,n(yf)),yf.result()},o.measure=function(t){return Yh(t,n(ap)),ap.result()},o.bounds=function(t){return Yh(t,n(Pf)),Pf.result()},o.centroid=function(t){return Yh(t,n(Zf)),Zf.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,hf):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new sp):new Qf(e=t),"function"!==typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"===typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},hp=function(t){return{stream:lp(t)}};function lp(t){return function(e){var n=new dp;for(var i in t)n[i]=t[i];return n.stream=e,n}}function dp(){}function fp(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Yh(n,t.stream(Pf)),e(Pf.result()),null!=i&&t.clipExtent(i),t}function pp(t,e,n){return fp(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function gp(t,e,n){return pp(t,[[0,0],e],n)}function vp(t,e,n){return fp(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])}),n)}function mp(t,e,n){return fp(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])}),n)}dp.prototype={constructor:dp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yp=16,bp=yh(30*ph),xp=function(t,e){return+e?_p(t,e):wp(t)};function wp(t){return lp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function _p(t,e){function n(i,r,o,a,s,u,c,h,l,d,f,p,g,v){var m=c-i,y=h-r,b=m*m+y*y;if(b>4*e&&g--){var x=a+d,w=s+f,_=u+p,M=Sh(x*x+w*w+_*_),k=Th(_/=M),S=gh(gh(_)-1)<sh||gh(o-l)<sh?(o+l)/2:mh(w,x),E=t(S,k),C=E[0],T=E[1],P=C-i,A=T-r,O=y*P-m*A;(O*O/b>e||gh((m*P+y*A)/b-.5)>.3||a*d+s*f+u*p<bp)&&(n(i,r,o,a,s,u,C,T,S,x/=M,w/=M,_,g,v),v.point(C,T),n(C,T,S,x,w,_,c,h,l,d,f,p,g,v))}}return function(e){var i,r,o,a,s,u,c,h,l,d,f,p,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=m}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function m(){h=NaN,g.point=y,e.lineStart()}function y(i,r){var o=$h([i,r]),a=t(i,r);n(h,l,c,d,f,p,h=a[0],l=a[1],c=i,d=o[0],f=o[1],p=o[2],yp,e),e.point(h,l)}function b(){g.point=v,e.lineEnd()}function x(){m(),g.point=w,g.lineEnd=_}function w(t,e){y(i=t,e),r=h,o=l,a=d,s=f,u=p,g.point=y}function _(){n(h,l,c,d,f,p,r,o,i,a,s,u,yp,e),g.lineEnd=b,b()}return g}}var Mp=lp({point:function(t,e){this.stream.point(t*ph,e*ph)}});function kp(t){return lp({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function Sp(t,e,n){function i(i,r){return[e+t*i,n-t*r]}return i.invert=function(i,r){return[(i-e)/t,(n-r)/t]},i}function Ep(t,e,n,i){var r=yh(i),o=Mh(i),a=r*t,s=o*t,u=r/t,c=o/t,h=(o*n-r*e)/t,l=(o*e+r*n)/t;function d(t,i){return[a*t-s*i+e,n-s*t-a*i]}return d.invert=function(t,e){return[u*t-c*e+h,l-c*t-u*e]},d}function Cp(t){return Tp((function(){return t}))()}function Tp(t){var e,n,i,r,o,a,s,u,c,h,l=150,d=480,f=250,p=0,g=0,v=0,m=0,y=0,b=0,x=null,w=_d,_=null,M=hf,k=.5;function S(t){return u(t[0]*ph,t[1]*ph)}function E(t){return t=u.invert(t[0],t[1]),t&&[t[0]*fh,t[1]*fh]}function C(){var t=Ep(l,0,0,b).apply(null,e(p,g)),i=(b?Ep:Sp)(l,d-t[0],f-t[1],b);return n=id(v,m,y),s=ed(e,i),u=ed(n,s),a=xp(s,k),T()}function T(){return c=h=null,S}return S.stream=function(t){return c&&h===t?c:c=Mp(kp(n)(w(a(M(h=t)))))},S.preclip=function(t){return arguments.length?(w=t,x=void 0,T()):w},S.postclip=function(t){return arguments.length?(M=t,_=i=r=o=null,T()):M},S.clipAngle=function(t){return arguments.length?(w=+t?Ed(x=t*ph):(x=null,_d),T()):x*fh},S.clipExtent=function(t){return arguments.length?(M=null==t?(_=i=r=o=null,hf):Ad(_=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),T()):null==_?null:[[_,i],[r,o]]},S.scale=function(t){return arguments.length?(l=+t,C()):l},S.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],C()):[d,f]},S.center=function(t){return arguments.length?(p=t[0]%360*ph,g=t[1]%360*ph,C()):[p*fh,g*fh]},S.rotate=function(t){return arguments.length?(v=t[0]%360*ph,m=t[1]%360*ph,y=t.length>2?t[2]%360*ph:0,C()):[v*fh,m*fh,y*fh]},S.angle=function(t){return arguments.length?(b=t%360*ph,C()):b*fh},S.precision=function(t){return arguments.length?(a=xp(s,k=t*t),T()):Sh(k)},S.fitExtent=function(t,e){return pp(S,t,e)},S.fitSize=function(t,e){return gp(S,t,e)},S.fitWidth=function(t,e){return vp(S,t,e)},S.fitHeight=function(t,e){return mp(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&E,C()}}function Pp(t){var e=0,n=ch/3,i=Tp(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*ph,n=t[1]*ph):[e*fh,n*fh]},r}function Ap(t){var e=yh(t);function n(t,n){return[t*e,Mh(n)/e]}return n.invert=function(t,n){return[t/e,Th(n*e)]},n}function Op(t,e){var n=Mh(t),i=(n+Mh(e))/2;if(gh(i)<sh)return Ap(t);var r=1+n*(2*i-n),o=Sh(r)/i;function a(t,e){var n=Sh(r-2*i*Mh(e))/i;return[n*Mh(t*=i),o-n*yh(t)]}return a.invert=function(t,e){var n=o-e;return[mh(t,gh(n))/i*kh(n),Th((r-(t*t+n*n)*i*i)/(2*i))]},a}var Dp=function(){return Pp(Op).scale(155.424).center([0,33.6442])},Np=function(){return Dp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Ip(t){var e=t.length;return{point:function(n,i){var r=-1;while(++r<e)t[r].point(n,i)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}var Lp=function(){var t,e,n,i,r,o,a=Np(),s=Dp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Dp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(i.point(e,a),o)||(r.point(e,a),o)}function l(){return t=e=null,h}return h.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?s:r>=.166&&r<.234&&i>=-.214&&i<-.115?u:a).invert(t)},h.stream=function(n){return t&&e===n?t:t=Ip([a.stream(e=n),s.stream(n),u.stream(n)])},h.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),l()):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],h=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(c),i=s.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+sh,h+.12*e+sh],[o-.214*e-sh,h+.234*e-sh]]).stream(c),r=u.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+sh,h+.166*e+sh],[o-.115*e-sh,h+.234*e-sh]]).stream(c),l()},h.fitExtent=function(t,e){return pp(h,t,e)},h.fitSize=function(t,e){return gp(h,t,e)},h.fitWidth=function(t,e){return vp(h,t,e)},h.fitHeight=function(t,e){return mp(h,t,e)},h.scale(1070)};function jp(t){return function(e,n){var i=yh(e),r=yh(n),o=t(i*r);return[o*r*Mh(e),o*Mh(n)]}}function Bp(t){return function(e,n){var i=Sh(e*e+n*n),r=t(i),o=Mh(r),a=yh(r);return[mh(e*o,i*a),Th(i&&n*o/i)]}}var Rp=jp((function(t){return Sh(2/(1+t))}));Rp.invert=Bp((function(t){return 2*Th(t/2)}));var zp=function(){return Cp(Rp).scale(124.75).clipAngle(179.999)},Fp=jp((function(t){return(t=Ch(t))&&t/Mh(t)}));Fp.invert=Bp((function(t){return t}));var Yp=function(){return Cp(Fp).scale(79.4188).clipAngle(179.999)};function Hp(t,e){return[t,wh(Eh((hh+e)/2))]}Hp.invert=function(t,e){return[t,2*vh(xh(e))-hh]};var Wp=function(){return Gp(Hp).scale(961/dh)};function Gp(t){var e,n,i,r=Cp(t),o=r.center,a=r.scale,s=r.translate,u=r.clipExtent,c=null;function h(){var o=ch*a(),s=r(sd(r.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Hp?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),i]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,i)]])}return r.scale=function(t){return arguments.length?(a(t),h()):a()},r.translate=function(t){return arguments.length?(s(t),h()):s()},r.center=function(t){return arguments.length?(o(t),h()):o()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),h()):null==c?null:[[c,e],[n,i]]},h()}function qp(t){return Eh((hh+t)/2)}function Up(t,e){var n=yh(t),i=t===e?Mh(t):wh(n/yh(e))/wh(qp(e)/qp(t)),r=n*_h(qp(t),i)/i;if(!i)return Hp;function o(t,e){r>0?e<-hh+sh&&(e=-hh+sh):e>hh-sh&&(e=hh-sh);var n=r/_h(qp(e),i);return[n*Mh(i*t),r-n*yh(i*t)]}return o.invert=function(t,e){var n=r-e,o=kh(i)*Sh(t*t+n*n);return[mh(t,gh(n))/i*kh(n),2*vh(_h(r/o,1/i))-hh]},o}var Vp=function(){return Pp(Up).scale(109.5).parallels([30,30])};function Xp(t,e){return[t,e]}Xp.invert=Xp;var Zp=function(){return Cp(Xp).scale(152.63)};function Qp(t,e){var n=yh(t),i=t===e?Mh(t):(n-yh(e))/(e-t),r=n/i+t;if(gh(i)<sh)return Xp;function o(t,e){var n=r-e,o=i*t;return[n*Mh(o),r-n*yh(o)]}return o.invert=function(t,e){var n=r-e;return[mh(t,gh(n))/i*kh(n),r-kh(i)*Sh(t*t+n*n)]},o}var $p=function(){return Pp(Qp).scale(131.154).center([0,13.9389])},Kp=1.340264,Jp=-.081106,tg=893e-6,eg=.003796,ng=Sh(3)/2,ig=12;function rg(t,e){var n=Th(ng*Mh(e)),i=n*n,r=i*i*i;return[t*yh(n)/(ng*(Kp+3*Jp*i+r*(7*tg+9*eg*i))),n*(Kp+Jp*i+r*(tg+eg*i))]}rg.invert=function(t,e){for(var n,i,r,o=e,a=o*o,s=a*a*a,u=0;u<ig;++u)if(i=o*(Kp+Jp*a+s*(tg+eg*a))-e,r=Kp+3*Jp*a+s*(7*tg+9*eg*a),o-=n=i/r,a=o*o,s=a*a*a,gh(n)<uh)break;return[ng*t*(Kp+3*Jp*a+s*(7*tg+9*eg*a))/yh(o),Th(Mh(o)/ng)]};var og=function(){return Cp(rg).scale(177.158)};function ag(t,e){var n=yh(e),i=yh(t)*n;return[n*Mh(t)/i,Mh(e)/i]}ag.invert=Bp(vh);var sg=function(){return Cp(ag).scale(144.049).clipAngle(60)};function ug(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?hf:lp({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}var cg=function(){var t,e,n,i,r,o,a=1,s=0,u=0,c=1,h=1,l=hf,d=null,f=hf;function p(){return i=r=null,o}return o={stream:function(t){return i&&r===t?i:i=l(f(r=t))},postclip:function(i){return arguments.length?(f=i,d=t=e=n=null,p()):f},clipExtent:function(i){return arguments.length?(f=null==i?(d=t=e=n=null,hf):Ad(d=+i[0][0],t=+i[0][1],e=+i[1][0],n=+i[1][1]),p()):null==d?null:[[d,t],[e,n]]},scale:function(t){return arguments.length?(l=ug((a=+t)*c,a*h,s,u),p()):a},translate:function(t){return arguments.length?(l=ug(a*c,a*h,s=+t[0],u=+t[1]),p()):[s,u]},reflectX:function(t){return arguments.length?(l=ug(a*(c=t?-1:1),a*h,s,u),p()):c<0},reflectY:function(t){return arguments.length?(l=ug(a*c,a*(h=t?-1:1),s,u),p()):h<0},fitExtent:function(t,e){return pp(o,t,e)},fitSize:function(t,e){return gp(o,t,e)},fitWidth:function(t,e){return vp(o,t,e)},fitHeight:function(t,e){return mp(o,t,e)}}};function hg(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}hg.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(gh(n)>sh&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var lg=function(){return Cp(hg).scale(175.295)};function dg(t,e){return[yh(e)*Mh(t),Mh(e)]}dg.invert=Bp(Th);var fg=function(){return Cp(dg).scale(249.5).clipAngle(90+sh)};function pg(t,e){var n=yh(e),i=1+yh(t)*n;return[n*Mh(t)/i,Mh(e)/i]}pg.invert=Bp((function(t){return 2*vh(t)}));var gg=function(){return Cp(pg).scale(250).clipAngle(142)};function vg(t,e){return[wh(Eh((hh+e)/2)),-t]}vg.invert=function(t,e){return[-e,2*vh(xh(t))-hh]};var mg=function(){var t=Gp(vg),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};function yg(t,e){return t.parent===e.parent?1:2}function bg(t){return t.reduce(xg,0)/t.length}function xg(t,e){return t+e.x}function wg(t){return 1+t.reduce(_g,0)}function _g(t,e){return Math.max(t,e.y)}function Mg(t){var e;while(e=t.children)t=e[0];return t}function kg(t){var e;while(e=t.children)t=e[e.length-1];return t}var Sg=function(){var t=yg,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(e){var n=e.children;n?(e.x=bg(n),e.y=wg(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=Mg(r),u=kg(r),c=s.x-t(s,u)/2,h=u.x+t(u,s)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(h-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function Eg(t){var e=0,n=t.children,i=n&&n.length;if(i)while(--i>=0)e+=n[i].value;else e=1;t.value=e}var Cg=function(){return this.eachAfter(Eg)},Tg=function(t){var e,n,i,r,o=this,a=[o];do{e=a.reverse(),a=[];while(o=e.pop())if(t(o),n=o.children,n)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},Pg=function(t){var e,n,i=this,r=[i];while(i=r.pop())if(t(i),e=i.children,e)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},Ag=function(t){var e,n,i,r=this,o=[r],a=[];while(r=o.pop())if(a.push(r),e=r.children,e)for(n=0,i=e.length;n<i;++n)o.push(e[n]);while(r=a.pop())t(r);return this},Og=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,i=e.children,r=i&&i.length;while(--r>=0)n+=i[r].value;e.value=n}))},Dg=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},Ng=function(t){var e=this,n=Ig(e,t),i=[e];while(e!==n)e=e.parent,i.push(e);var r=i.length;while(t!==n)i.splice(r,0,t),t=t.parent;return i};function Ig(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();while(t===e)r=t,t=n.pop(),e=i.pop();return r}var Lg=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},jg=function(){var t=[];return this.each((function(e){t.push(e)})),t},Bg=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},Rg=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e};function zg(t,e){var n,i,r,o,a,s=new Gg(t),u=+t.value&&(s.value=t.value),c=[s];null==e&&(e=Yg);while(n=c.pop())if(u&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(i=n.children[o]=new Gg(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Wg)}function Fg(){return zg(this).eachBefore(Hg)}function Yg(t){return t.children}function Hg(t){t.data=t.data.data}function Wg(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Gg(t){this.data=t,this.depth=this.height=0,this.parent=null}Gg.prototype=zg.prototype={constructor:Gg,count:Cg,each:Tg,eachAfter:Ag,eachBefore:Pg,sum:Og,sort:Dg,path:Ng,ancestors:Lg,descendants:jg,leaves:Bg,links:Rg,copy:Fg};var qg=Array.prototype.slice;function Ug(t){var e,n,i=t.length;while(i)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}var Vg=function(t){var e,n,i=0,r=(t=Ug(qg.call(t))).length,o=[];while(i<r)e=t[i],n&&Qg(n,e)?++i:(n=Kg(o=Xg(o,e)),i=0);return n};function Xg(t,e){var n,i;if($g(e,t))return[e];for(n=0;n<t.length;++n)if(Zg(e,t[n])&&$g(tv(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Zg(tv(t[n],t[i]),e)&&Zg(tv(t[n],e),t[i])&&Zg(tv(t[i],e),t[n])&&$g(ev(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Zg(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Qg(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function $g(t,e){for(var n=0;n<e.length;++n)if(!Qg(t,e[n]))return!1;return!0}function Kg(t){switch(t.length){case 1:return Jg(t[0]);case 2:return tv(t[0],t[1]);case 3:return ev(t[0],t[1],t[2])}}function Jg(t){return{x:t.x,y:t.y,r:t.r}}function tv(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-i,h=s-r,l=Math.sqrt(u*u+c*c);return{x:(n+o+u/l*h)/2,y:(i+a+c/l*h)/2,r:(l+r+s)/2}}function ev(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,h=n.y,l=n.r,d=i-a,f=i-c,p=r-s,g=r-h,v=u-o,m=l-o,y=i*i+r*r-o*o,b=y-a*a-s*s+u*u,x=y-c*c-h*h+l*l,w=f*p-d*g,_=(p*x-g*b)/(2*w)-i,M=(g*v-p*m)/w,k=(f*b-d*x)/(2*w)-r,S=(d*m-f*v)/w,E=M*M+S*S-1,C=2*(o+_*M+k*S),T=_*_+k*k-o*o,P=-(E?(C+Math.sqrt(C*C-4*E*T))/(2*E):T/C);return{x:i+_+M*P,y:r+k+S*P,r:P}}function nv(t,e,n){var i,r,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(r=e.r+n.r,r*=r,a=t.r+n.r,a*=a,r>a?(i=(c+a-r)/(2*c),o=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x-i*s-o*u,n.y=t.y-i*u+o*s):(i=(c+r-a)/(2*c),o=Math.sqrt(Math.max(0,r/c-i*i)),n.x=e.x+i*s-o*u,n.y=e.y+i*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function iv(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function rv(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function ov(t){this._=t,this.next=null,this.previous=null}function av(t){if(!(r=t.length))return 0;var e,n,i,r,o,a,s,u,c,h,l;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;nv(n,e,i=t[2]),e=new ov(e),n=new ov(n),i=new ov(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){nv(e._,n._,i=t[s]),i=new ov(i),u=n.next,c=e.previous,h=n._.r,l=e._.r;do{if(h<=l){if(iv(u._,i._)){n=u,e.next=n,n.previous=e,--s;continue t}h+=u._.r,u=u.next}else{if(iv(c._,i._)){e=c,e.next=n,n.previous=e,--s;continue t}l+=c._.r,c=c.previous}}while(u!==c.next);i.previous=e,i.next=n,e.next=n.previous=n=i,o=rv(e);while((i=i.next)!==n)(a=rv(i))<o&&(e=i,o=a);n=e.next}e=[n._],i=n;while((i=i.next)!==n)e.push(i._);for(i=Vg(e),s=0;s<r;++s)e=t[s],e.x-=i.x,e.y-=i.y;return i.r}var sv=function(t){return av(t),t};function uv(t){return null==t?null:cv(t)}function cv(t){if("function"!==typeof t)throw new Error;return t}function hv(){return 0}var lv=function(t){return function(){return t}};function dv(t){return Math.sqrt(t.value)}var fv=function(){var t=null,e=1,n=1,i=hv;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(pv(t)).eachAfter(gv(i,.5)).eachBefore(vv(1)):r.eachBefore(pv(dv)).eachAfter(gv(hv,1)).eachAfter(gv(i,r.r/Math.min(e,n))).eachBefore(vv(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=uv(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"===typeof t?t:lv(+t),r):i},r};function pv(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function gv(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,s=t(n)*e||0;if(s)for(r=0;r<a;++r)i[r].r+=s;if(o=av(i),s)for(r=0;r<a;++r)i[r].r-=s;n.r=o+s}}}function vv(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var mv=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},yv=function(t,e,n,i,r){var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-e)/t.value;while(++s<u)o=a[s],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c},bv=function(){var t=1,e=1,n=0,i=!1;function r(r){var a=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/a,r.eachBefore(o(e,a)),i&&r.eachBefore(mv),r}function o(t,e){return function(i){i.children&&yv(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,a=i.x1-n,s=i.y1-n;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),i.x0=r,i.y0=o,i.x1=a,i.y1=s}}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},xv="$",wv={depth:-1},_v={};function Mv(t){return t.id}function kv(t){return t.parentId}var Sv=function(){var t=Mv,e=kv;function n(n){var i,r,o,a,s,u,c,h=n.length,l=new Array(h),d={};for(r=0;r<h;++r)i=n[r],s=l[r]=new Gg(i),null!=(u=t(i,r,n))&&(u+="")&&(c=xv+(s.id=u),d[c]=c in d?_v:s);for(r=0;r<h;++r)if(s=l[r],u=e(n[r],r,n),null!=u&&(u+="")){if(a=d[xv+u],!a)throw new Error("missing: "+u);if(a===_v)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=wv,o.eachBefore((function(t){t.depth=t.parent.depth+1,--h})).eachBefore(Wg),o.parent=null,h>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=cv(e),n):t},n.parentId=function(t){return arguments.length?(e=cv(t),n):e},n};function Ev(t,e){return t.parent===e.parent?1:2}function Cv(t){var e=t.children;return e?e[0]:t.t}function Tv(t){var e=t.children;return e?e[e.length-1]:t.t}function Pv(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Av(t){var e,n=0,i=0,r=t.children,o=r.length;while(--o>=0)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ov(t,e,n){return t.a.parent===e.parent?t.a:n}function Dv(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Nv(t){var e,n,i,r,o,a=new Dv(t,0),s=[a];while(e=s.pop())if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new Dv(i[r],r)),n.parent=e;return(a.parent=new Dv(null,0)).children=[a],a}Dv.prototype=Object.create(Gg.prototype);var Iv=function(){var t=Ev,e=1,n=1,i=null;function r(r){var s=Nv(r);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),i)r.eachBefore(u);else{var c=r,h=r,l=r;r.eachBefore((function(t){t.x<c.x&&(c=t),t.x>h.x&&(h=t),t.depth>l.depth&&(l=t)}));var d=c===h?1:t(c,h)/2,f=d-c.x,p=e/(h.x+d+f),g=n/(l.depth||1);r.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*g}))}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){Av(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=s(e,r,e.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(e,n,i){if(n){var r,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,h=a.m,l=s.m,d=u.m;while(s=Tv(s),o=Cv(o),s&&o)u=Cv(u),a=Tv(a),a.a=e,r=s.z+l-o.z-c+t(s._,o._),r>0&&(Pv(Ov(s,e,i),e,r),c+=r,h+=r),l+=s.m,c+=o.m,d+=u.m,h+=a.m;s&&!Tv(a)&&(a.t=s,a.m+=l-h),o&&!Cv(u)&&(u.t=o,u.m+=c-d,i=e)}return i}function u(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},Lv=function(t,e,n,i,r){var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-n)/t.value;while(++s<u)o=a[s],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c},jv=(1+Math.sqrt(5))/2;function Bv(t,e,n,i,r,o){var a,s,u,c,h,l,d,f,p,g,v,m=[],y=e.children,b=0,x=0,w=y.length,_=e.value;while(b<w){u=r-n,c=o-i;do{h=y[x++].value}while(!h&&x<w);for(l=d=h,g=Math.max(c/u,u/c)/(_*t),v=h*h*g,p=Math.max(d/v,v/l);x<w;++x){if(h+=s=y[x].value,s<l&&(l=s),s>d&&(d=s),v=h*h*g,f=Math.max(d/v,v/l),f>p){h-=s;break}p=f}m.push(a={value:h,dice:u<c,children:y.slice(b,x)}),a.dice?yv(a,n,i,r,_?i+=c*h/_:o):Lv(a,n,i,_?n+=u*h/_:r,o),_-=h,b=x}return m}var Rv=function t(e){function n(t,n,i,r,o){Bv(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(jv),zv=function(){var t=Rv,e=!1,n=1,i=1,r=[0],o=hv,a=hv,s=hv,u=hv,c=hv;function h(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(l),r=[0],e&&t.eachBefore(mv),t}function l(e){var n=r[e.depth],i=e.x0+n,h=e.y0+n,l=e.x1-n,d=e.y1-n;l<i&&(i=l=(i+l)/2),d<h&&(h=d=(h+d)/2),e.x0=i,e.y0=h,e.x1=l,e.y1=d,e.children&&(n=r[e.depth+1]=o(e)/2,i+=c(e)-n,h+=a(e)-n,l-=s(e)-n,d-=u(e)-n,l<i&&(i=l=(i+l)/2),d<h&&(h=d=(h+d)/2),t(e,i,h,l,d))}return h.round=function(t){return arguments.length?(e=!!t,h):e},h.size=function(t){return arguments.length?(n=+t[0],i=+t[1],h):[n,i]},h.tile=function(e){return arguments.length?(t=cv(e),h):t},h.padding=function(t){return arguments.length?h.paddingInner(t).paddingOuter(t):h.paddingInner()},h.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:lv(+t),h):o},h.paddingOuter=function(t){return arguments.length?h.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):h.paddingTop()},h.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:lv(+t),h):a},h.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:lv(+t),h):s},h.paddingBottom=function(t){return arguments.length?(u="function"===typeof t?t:lv(+t),h):u},h.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:lv(+t),h):c},h},Fv=function(t,e,n,i,r){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;function h(t,e,n,i,r,o,a){if(t>=e-1){var u=s[t];return u.x0=i,u.y0=r,u.x1=o,void(u.y1=a)}var l=c[t],d=n/2+l,f=t+1,p=e-1;while(f<p){var g=f+p>>>1;c[g]<d?f=g+1:p=g}d-c[f-1]<c[f]-d&&t+1<f&&--f;var v=c[f]-l,m=n-v;if(o-i>a-r){var y=(i*m+o*v)/n;h(t,f,v,i,r,y,a),h(f,e,m,y,r,o,a)}else{var b=(r*m+a*v)/n;h(t,f,v,i,r,o,b),h(f,e,m,i,b,o,a)}}h(0,u,t.value,e,n,i,r)},Yv=function(t,e,n,i,r){(1&t.depth?Lv:yv)(t,e,n,i,r)},Hv=function t(e){function n(t,n,i,r,o){if((a=t._squarify)&&a.ratio===e){var a,s,u,c,h,l=-1,d=a.length,f=t.value;while(++l<d){for(s=a[l],u=s.children,c=s.value=0,h=u.length;c<h;++c)s.value+=u[c].value;s.dice?yv(s,n,i,r,i+=(o-i)*s.value/f):Lv(s,n,i,n+=(r-n)*s.value/f,o),f-=s.value}}else t._squarify=a=Bv(e,t,n,i,r,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(jv),Wv=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Gv=function(t,e){var n=Jn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},qv=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Uv=Math.SQRT2,Vv=2,Xv=4,Zv=1e-12;function Qv(t){return((t=Math.exp(t))+1/t)/2}function $v(t){return((t=Math.exp(t))-1/t)/2}function Kv(t){return((t=Math.exp(2*t))-1)/(t+1)}var Jv=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],h=s-r,l=u-o,d=h*h+l*l;if(d<Zv)i=Math.log(c/a)/Uv,n=function(t){return[r+t*h,o+t*l,a*Math.exp(Uv*t*i)]};else{var f=Math.sqrt(d),p=(c*c-a*a+Xv*d)/(2*a*Vv*f),g=(c*c-a*a-Xv*d)/(2*c*Vv*f),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);i=(m-v)/Uv,n=function(t){var e=t*i,n=Qv(v),s=a/(Vv*f)*(n*Kv(Uv*e+v)-$v(v));return[r+s*h,o+s*l,a*n/Qv(Uv*e+v)]}}return n.duration=1e3*i,n};function tm(t){return function(e,n){var i=t((e=Gn(e)).h,(n=Gn(n)).h),r=ei(e.s,n.s),o=ei(e.l,n.l),a=ei(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var em=tm(Jn),nm=tm(ei);function im(t,e){var n=ei((t=za(t)).l,(e=za(e)).l),i=ei(t.a,e.a),r=ei(t.b,e.b),o=ei(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function rm(t){return function(e,n){var i=t((e=Va(e)).h,(n=Va(n)).h),r=ei(e.c,n.c),o=ei(e.l,n.l),a=ei(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var om=rm(Jn),am=rm(ei);function sm(t){return function e(n){function i(e,i){var r=t((e=os(e)).h,(i=os(i)).h),o=ei(e.s,i.s),a=ei(e.l,i.l),s=ei(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}var um=sm(Jn),cm=sm(ei);function hm(t,e){var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);while(n<i)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}var lm=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},dm=function(t){var e,n=-1,i=t.length,r=t[i-1],o=0;while(++n<i)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},fm=function(t){var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],u=0;while(++i<r)e=s,s=t[i],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[o/u,a/u]},pm=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function gm(t,e){return t[0]-e[0]||t[1]-e[1]}function vm(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){while(i>1&&pm(t[n[i-2]],t[n[i-1]],t[r])<=0)--i;n[i++]=r}return n.slice(0,i)}var mm=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(gm),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=vm(i),a=vm(r),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[i[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[i[a[e]][2]]);return c},ym=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],u=o[0],c=o[1],h=!1,l=0;l<r;++l)o=t[l],n=o[0],i=o[1],i>s!==c>s&&a<(u-n)*(s-i)/(c-i)+n&&(h=!h),u=n,c=i;return h},bm=function(t){var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],u=0;while(++i<r)e=a,n=s,o=t[i],a=o[0],s=o[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u},xm=n("f115"),wm=function(){return Math.random()},_m=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(wm),Mm=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(wm),km=function t(e){function n(){var t=Mm.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(wm),Sm=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(wm),Em=function t(e){function n(t){var n=Sm.source(e)(t);return function(){return n()/t}}return n.source=t,n}(wm),Cm=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(wm);function Tm(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pm(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var Am=Array.prototype,Om=Am.map,Dm=Am.slice,Nm={name:"implicit"};function Im(){var t=pa(),e=[],n=[],i=Nm;function r(r){var o=r+"",a=t.get(o);if(!a){if(i!==Nm)return i;t.set(o,a=e.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=pa();var i,o,a=-1,s=n.length;while(++a<s)t.has(o=(i=n[a])+"")||t.set(o,e.push(i));return r},r.range=function(t){return arguments.length?(n=Dm.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Im(e,n).unknown(i)},Tm.apply(r,arguments),r}function Lm(){var t,e,n=Im().unknown(void 0),i=n.domain,r=n.range,o=[0,1],a=!1,s=0,u=0,c=.5;function h(){var n=i().length,h=o[1]<o[0],l=o[h-0],d=o[1-h];t=(d-l)/Math.max(1,n-s+2*u),a&&(t=Math.floor(t)),l+=(d-l-t*(n-s))*c,e=t*(1-s),a&&(l=Math.round(l),e=Math.round(e));var f=P(n).map((function(e){return l+t*e}));return r(h?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),h()):i()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],h()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),h()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),h()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.copy=function(){return Lm(i(),o).round(a).paddingInner(s).paddingOuter(u).align(c)},Tm.apply(h(),arguments)}function jm(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jm(e())},t}function Bm(){return jm(Lm.apply(null,arguments).paddingInner(1))}var Rm=function(t){return function(){return t}},zm=function(t){return+t},Fm=[0,1];function Ym(t){return t}function Hm(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rm(isNaN(e)?NaN:.5)}function Wm(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Gm(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=Hm(r,i),o=n(a,o)):(i=Hm(i,r),o=n(o,a)),function(t){return o(i(t))}}function qm(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<i)r[a]=Hm(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=g(t,e,1,i)-1;return o[n](r[n](e))}}function Um(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t,e,n,i,r,o,a=Fm,s=Fm,u=yi,c=Ym;function h(){return i=Math.min(a.length,s.length)>2?qm:Gm,r=o=null,l}function l(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,u)))(t(c(e)))}return l.invert=function(n){return c(e((o||(o=i(s,a.map(t),li)))(n)))},l.domain=function(t){return arguments.length?(a=Om.call(t,zm),c===Ym||(c=Wm(a)),h()):a.slice()},l.range=function(t){return arguments.length?(s=Dm.call(t),h()):s.slice()},l.rangeRound=function(t){return s=Dm.call(t),u=qv,h()},l.clamp=function(t){return arguments.length?(c=t?Wm(a):Ym,l):c!==Ym},l.interpolate=function(t){return arguments.length?(u=t,h()):u},l.unknown=function(t){return arguments.length?(n=t,l):n},function(n,i){return t=n,e=i,h()}}function Xm(t,e){return Vm()(t,e)}var Zm=function(t,e,n,i){var r,o=L(t,e,n);switch(i=zc(null==i?",f":i),i.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=eh(o,a))||(i.precision=r),Gc(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=nh(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=th(o))||(i.precision=r-2*("%"===i.type));break}return Wc(i)};function Qm(t){var e=t.domain;return t.ticks=function(t){var n=e();return N(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Zm(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],u=r[a];return u<s&&(i=s,s=u,u=i,i=o,o=a,a=i),i=I(s,u,n),i>0?(s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i,i=I(s,u,n)):i<0&&(s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i,i=I(s,u,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(u/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(u*i)/i,e(r)),t},t}function $m(){var t=Xm(Ym,Ym);return t.copy=function(){return Um(t,$m())},Tm.apply(t,arguments),Qm(t)}function Km(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Om.call(e,zm),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Km(t).unknown(e)},t=arguments.length?Om.call(t,zm):[0,1],Qm(n)}var Jm=function(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t};function ty(t){return Math.log(t)}function ey(t){return Math.exp(t)}function ny(t){return-Math.log(-t)}function iy(t){return-Math.exp(-t)}function ry(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oy(t){return 10===t?ry:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function ay(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function sy(t){return function(e){return-t(-e)}}function uy(t){var e,n,i=t(ty,ey),r=i.domain,o=10;function a(){return e=ay(o),n=oy(o),r()[0]<0?(e=sy(e),n=sy(n),t(ny,iy)):t(ty,ey),i}return i.base=function(t){return arguments.length?(o=+t,a()):o},i.domain=function(t){return arguments.length?(r(t),a()):r()},i.ticks=function(t){var i,a=r(),s=a[0],u=a[a.length-1];(i=u<s)&&(d=s,s=u,u=d);var c,h,l,d=e(s),f=e(u),p=null==t?10:+t,g=[];if(!(o%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,s>0){for(;d<f;++d)for(h=1,c=n(d);h<o;++h)if(l=c*h,!(l<s)){if(l>u)break;g.push(l)}}else for(;d<f;++d)for(h=o-1,c=n(d);h>=1;--h)if(l=c*h,!(l<s)){if(l>u)break;g.push(l)}}else g=N(d,f,Math.min(f-d,p)).map(n);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===o?".0e":","),"function"!==typeof r&&(r=Wc(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,o*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*o<o-.5&&(i*=o),i<=a?r(t):""}},i.nice=function(){return r(Jm(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function cy(){var t=uy(Vm()).domain([1,10]);return t.copy=function(){return Um(t,cy()).base(t.base())},Tm.apply(t,arguments),t}function hy(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ly(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dy(t){var e=1,n=t(hy(e),ly(e));return n.constant=function(n){return arguments.length?t(hy(e=+n),ly(e)):e},Qm(n)}function fy(){var t=dy(Vm());return t.copy=function(){return Um(t,fy()).constant(t.constant())},Tm.apply(t,arguments)}function py(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gy(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vy(t){return t<0?-t*t:t*t}function my(t){var e=t(Ym,Ym),n=1;function i(){return 1===n?t(Ym,Ym):.5===n?t(gy,vy):t(py(n),py(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Qm(e)}function yy(){var t=my(Vm());return t.copy=function(){return Um(t,yy()).exponent(t.exponent())},Tm.apply(t,arguments),t}function by(){return yy.apply(null,arguments).exponent(.5)}function xy(){var t,e=[],n=[],i=[];function r(){var t=0,r=Math.max(1,n.length);i=new Array(r-1);while(++t<r)i[t-1]=R(e,t/r);return o}function o(e){return isNaN(e=+e)?t:n[g(i,e)]}return o.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)n=t[i],null==n||isNaN(n=+n)||e.push(n);return e.sort(c),r()},o.range=function(t){return arguments.length?(n=Dm.call(t),r()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return xy().domain(e).range(n).unknown(t)},Tm.apply(o,arguments)}function wy(){var t,e=0,n=1,i=1,r=[.5],o=[0,1];function a(e){return e<=e?o[g(r,e,0,i)]:t}function s(){var t=-1;r=new Array(i);while(++t<i)r[t]=((t+1)*n-(t-i)*e)/(i+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(i=(o=Dm.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=i?[r[i-1],n]:[r[a-1],r[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return r.slice()},a.copy=function(){return wy().domain([e,n]).range(o).unknown(t)},Tm.apply(Qm(a),arguments)}function _y(){var t,e=[.5],n=[0,1],i=1;function r(r){return r<=r?n[g(e,r,0,i)]:t}return r.domain=function(t){return arguments.length?(e=Dm.call(t),i=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(t){return arguments.length?(n=Dm.call(t),i=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return _y().domain(e).range(n).unknown(t)},Tm.apply(r,arguments)}var My=new Date,ky=new Date;function Sy(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return Sy((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)while(++i<=0)while(e(t,-1),!n(t));else while(--i>=0)while(e(t,1),!n(t));}))},n&&(r.count=function(e,i){return My.setTime(+e),ky.setTime(+i),t(My),t(ky),Math.floor(n(My,ky))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}var Ey=Sy((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ey.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sy((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Cy=Ey,Ty=Ey.range,Py=Sy((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Ay=Py,Oy=Py.range,Dy=1e3,Ny=6e4,Iy=36e5,Ly=864e5,jy=6048e5;function By(t){return Sy((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ny)/jy}))}var Ry=By(0),zy=By(1),Fy=By(2),Yy=By(3),Hy=By(4),Wy=By(5),Gy=By(6),qy=Ry.range,Uy=zy.range,Vy=Fy.range,Xy=Yy.range,Zy=Hy.range,Qy=Wy.range,$y=Gy.range,Ky=Sy((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ny)/Ly}),(function(t){return t.getDate()-1})),Jy=Ky,tb=Ky.range,eb=Sy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Dy-t.getMinutes()*Ny)}),(function(t,e){t.setTime(+t+e*Iy)}),(function(t,e){return(e-t)/Iy}),(function(t){return t.getHours()})),nb=eb,ib=eb.range,rb=Sy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Dy)}),(function(t,e){t.setTime(+t+e*Ny)}),(function(t,e){return(e-t)/Ny}),(function(t){return t.getMinutes()})),ob=rb,ab=rb.range,sb=Sy((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Dy)}),(function(t,e){return(e-t)/Dy}),(function(t){return t.getUTCSeconds()})),ub=sb,cb=sb.range,hb=Sy((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));hb.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Sy((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):hb:null};var lb=hb,db=hb.range;function fb(t){return Sy((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/jy}))}var pb=fb(0),gb=fb(1),vb=fb(2),mb=fb(3),yb=fb(4),bb=fb(5),xb=fb(6),wb=pb.range,_b=gb.range,Mb=vb.range,kb=mb.range,Sb=yb.range,Eb=bb.range,Cb=xb.range,Tb=Sy((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Ly}),(function(t){return t.getUTCDate()-1})),Pb=Tb,Ab=Tb.range,Ob=Sy((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Ob.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sy((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Db=Ob,Nb=Ob.range;function Ib(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jb(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bb(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Zb(r),h=Qb(r),l=Zb(o),d=Qb(o),f=Zb(a),p=Qb(a),g=Zb(s),v=Qb(s),m=Zb(u),y=Qb(u),b={a:N,A:I,b:L,B:j,c:null,d:mx,e:mx,f:_x,H:yx,I:bx,j:xx,L:wx,m:Mx,M:kx,p:B,q:R,Q:Kx,s:Jx,S:Sx,u:Ex,U:Cx,V:Tx,w:Px,W:Ax,x:null,X:null,y:Ox,Y:Dx,Z:Nx,"%":$x},x={a:z,A:F,b:Y,B:H,c:null,d:Ix,e:Ix,f:zx,H:Lx,I:jx,j:Bx,L:Rx,m:Fx,M:Yx,p:W,q:G,Q:Kx,s:Jx,S:Hx,u:Wx,U:Gx,V:qx,w:Ux,W:Vx,x:null,X:null,y:Xx,Y:Zx,Z:Qx,"%":$x},w={a:E,A:C,b:T,B:P,c:A,d:sx,e:sx,f:fx,H:cx,I:cx,j:ux,L:dx,m:ax,M:hx,p:S,q:ox,Q:gx,s:vx,S:lx,u:Kb,U:Jb,V:tx,w:$b,W:ex,x:O,X:D,y:ix,Y:nx,Z:rx,"%":px};function _(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=Wb[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function M(t,e){return function(n){var i,r,o=jb(1900,void 0,1),a=k(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=Lb(jb(o.y,0,1)),r=i.getUTCDay(),i=r>4||0===r?gb.ceil(i):gb(i),i=Pb.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=Ib(jb(o.y,0,1)),r=i.getDay(),i=r>4||0===r?zy.ceil(i):zy(i),i=Jy.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Lb(jb(o.y,0,1)).getUTCDay():Ib(jb(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Lb(o)):Ib(o)}}function k(t,e,n,i){var r,o,a=0,s=e.length,u=n.length;while(a<s){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(r=e.charAt(a++),o=w[r in Wb?e.charAt(a++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function S(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=h[i[0].toLowerCase()],n+i[0].length):-1}function E(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1}function C(t,e,n){var i=l.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1}function T(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1}function P(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=v[i[0].toLowerCase()],n+i[0].length):-1}function A(t,n,i){return k(t,e,n,i)}function O(t,e,i){return k(t,n,e,i)}function D(t,e,n){return k(t,i,e,n)}function N(t){return a[t.getDay()]}function I(t){return o[t.getDay()]}function L(t){return u[t.getMonth()]}function j(t){return s[t.getMonth()]}function B(t){return r[+(t.getHours()>=12)]}function R(t){return 1+~~(t.getMonth()/3)}function z(t){return a[t.getUTCDay()]}function F(t){return o[t.getUTCDay()]}function Y(t){return u[t.getUTCMonth()]}function H(t){return s[t.getUTCMonth()]}function W(t){return r[+(t.getUTCHours()>=12)]}function G(t){return 1+~~(t.getUTCMonth()/3)}return(b.x=_(n,b),b.X=_(i,b),b.c=_(e,b),x.x=_(n,x),x.X=_(i,x),x.c=_(e,x),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}})}var Rb,zb,Fb,Yb,Hb,Wb={"-":"",_:" ",0:"0"},Gb=/^\s*\d+/,qb=/^%/,Ub=/[\\^$*+?|[\]().{}]/g;function Vb(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Xb(t){return t.replace(Ub,"\\$&")}function Zb(t){return new RegExp("^(?:"+t.map(Xb).join("|")+")","i")}function Qb(t){var e={},n=-1,i=t.length;while(++n<i)e[t[n].toLowerCase()]=n;return e}function $b(t,e,n){var i=Gb.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Kb(t,e,n){var i=Gb.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Jb(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function tx(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function ex(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function nx(t,e,n){var i=Gb.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ix(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function rx(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ox(t,e,n){var i=Gb.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function ax(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function sx(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ux(t,e,n){var i=Gb.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function cx(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function hx(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function lx(t,e,n){var i=Gb.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function dx(t,e,n){var i=Gb.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function fx(t,e,n){var i=Gb.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function px(t,e,n){var i=qb.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function gx(t,e,n){var i=Gb.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function vx(t,e,n){var i=Gb.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function mx(t,e){return Vb(t.getDate(),e,2)}function yx(t,e){return Vb(t.getHours(),e,2)}function bx(t,e){return Vb(t.getHours()%12||12,e,2)}function xx(t,e){return Vb(1+Jy.count(Cy(t),t),e,3)}function wx(t,e){return Vb(t.getMilliseconds(),e,3)}function _x(t,e){return wx(t,e)+"000"}function Mx(t,e){return Vb(t.getMonth()+1,e,2)}function kx(t,e){return Vb(t.getMinutes(),e,2)}function Sx(t,e){return Vb(t.getSeconds(),e,2)}function Ex(t){var e=t.getDay();return 0===e?7:e}function Cx(t,e){return Vb(Ry.count(Cy(t)-1,t),e,2)}function Tx(t,e){var n=t.getDay();return t=n>=4||0===n?Hy(t):Hy.ceil(t),Vb(Hy.count(Cy(t),t)+(4===Cy(t).getDay()),e,2)}function Px(t){return t.getDay()}function Ax(t,e){return Vb(zy.count(Cy(t)-1,t),e,2)}function Ox(t,e){return Vb(t.getFullYear()%100,e,2)}function Dx(t,e){return Vb(t.getFullYear()%1e4,e,4)}function Nx(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vb(e/60|0,"0",2)+Vb(e%60,"0",2)}function Ix(t,e){return Vb(t.getUTCDate(),e,2)}function Lx(t,e){return Vb(t.getUTCHours(),e,2)}function jx(t,e){return Vb(t.getUTCHours()%12||12,e,2)}function Bx(t,e){return Vb(1+Pb.count(Db(t),t),e,3)}function Rx(t,e){return Vb(t.getUTCMilliseconds(),e,3)}function zx(t,e){return Rx(t,e)+"000"}function Fx(t,e){return Vb(t.getUTCMonth()+1,e,2)}function Yx(t,e){return Vb(t.getUTCMinutes(),e,2)}function Hx(t,e){return Vb(t.getUTCSeconds(),e,2)}function Wx(t){var e=t.getUTCDay();return 0===e?7:e}function Gx(t,e){return Vb(pb.count(Db(t)-1,t),e,2)}function qx(t,e){var n=t.getUTCDay();return t=n>=4||0===n?yb(t):yb.ceil(t),Vb(yb.count(Db(t),t)+(4===Db(t).getUTCDay()),e,2)}function Ux(t){return t.getUTCDay()}function Vx(t,e){return Vb(gb.count(Db(t)-1,t),e,2)}function Xx(t,e){return Vb(t.getUTCFullYear()%100,e,2)}function Zx(t,e){return Vb(t.getUTCFullYear()%1e4,e,4)}function Qx(){return"+0000"}function $x(){return"%"}function Kx(t){return+t}function Jx(t){return Math.floor(+t/1e3)}function tw(t){return Rb=Bb(t),zb=Rb.format,Fb=Rb.parse,Yb=Rb.utcFormat,Hb=Rb.utcParse,Rb}tw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ew=1e3,nw=60*ew,iw=60*nw,rw=24*iw,ow=7*rw,aw=30*rw,sw=365*rw;function uw(t){return new Date(t)}function cw(t){return t instanceof Date?+t:+new Date(+t)}function hw(t,e,n,i,r,o,a,s,u){var c=Xm(Ym,Ym),l=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),m=u("%a %d"),y=u("%b %d"),b=u("%B"),x=u("%Y"),w=[[a,1,ew],[a,5,5*ew],[a,15,15*ew],[a,30,30*ew],[o,1,nw],[o,5,5*nw],[o,15,15*nw],[o,30,30*nw],[r,1,iw],[r,3,3*iw],[r,6,6*iw],[r,12,12*iw],[i,1,rw],[i,2,2*rw],[n,1,ow],[e,1,aw],[e,3,3*aw],[t,1,sw]];function _(s){return(a(s)<s?f:o(s)<s?p:r(s)<s?g:i(s)<s?v:e(s)<s?n(s)<s?m:y:t(s)<s?b:x)(s)}function M(e,n,i,r){if(null==e&&(e=10),"number"===typeof e){var o=Math.abs(i-n)/e,a=h((function(t){return t[2]})).right(w,o);a===w.length?(r=L(n/sw,i/sw,e),e=t):a?(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a],r=a[1],e=a[0]):(r=Math.max(L(n,i,e),1),e=s)}return null==r?e:e.every(r)}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?d(Om.call(t,cw)):d().map(uw)},c.ticks=function(t,e){var n,i=d(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=M(t,r,o,e),n=n?n.range(r,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?_:u(e)},c.nice=function(t,e){var n=d();return(t=M(t,n[0],n[n.length-1],e))?d(Jm(n,t)):c},c.copy=function(){return Um(c,hw(t,e,n,i,r,o,a,s,u))},c}var lw=function(){return Tm.apply(hw(Cy,Ay,Ry,Jy,nb,ob,ub,lb,zb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},dw=Sy((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),fw=dw,pw=dw.range,gw=Sy((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Iy)}),(function(t,e){return(e-t)/Iy}),(function(t){return t.getUTCHours()})),vw=gw,mw=gw.range,yw=Sy((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Ny)}),(function(t,e){return(e-t)/Ny}),(function(t){return t.getUTCMinutes()})),bw=yw,xw=yw.range,ww=function(){return Tm.apply(hw(Db,fw,pb,Pb,vw,bw,ub,lb,Yb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function _w(){var t,e,n,i,r,o=0,a=1,s=Ym,u=!1;function c(e){return isNaN(e=+e)?r:s(0===n?.5:(e=(i(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return c.domain=function(r){return arguments.length?(t=i(o=+r[0]),e=i(a=+r[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(r=t,c):r},function(r){return i=r,t=r(o),e=r(a),n=t===e?0:1/(e-t),c}}function Mw(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kw(){var t=Qm(_w()(Ym));return t.copy=function(){return Mw(t,kw())},Pm.apply(t,arguments)}function Sw(){var t=uy(_w()).domain([1,10]);return t.copy=function(){return Mw(t,Sw()).base(t.base())},Pm.apply(t,arguments)}function Ew(){var t=dy(_w());return t.copy=function(){return Mw(t,Ew()).constant(t.constant())},Pm.apply(t,arguments)}function Cw(){var t=my(_w());return t.copy=function(){return Mw(t,Cw()).exponent(t.exponent())},Pm.apply(t,arguments)}function Tw(){return Cw.apply(null,arguments).exponent(.5)}function Pw(){var t=[],e=Ym;function n(n){if(!isNaN(n=+n))return e((g(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,r=0,o=e.length;r<o;++r)i=e[r],null==i||isNaN(i=+i)||t.push(i);return t.sort(c),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Pw(e).domain(t)},Pm.apply(n,arguments)}function Aw(){var t,e,n,i,r,o,a,s=0,u=.5,c=1,h=Ym,l=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?i:r),h(l?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(u=+a[1]),n=o(c=+a[2]),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),d):[s,u,c]},d.clamp=function(t){return arguments.length?(l=!!t,d):l},d.interpolator=function(t){return arguments.length?(h=t,d):h},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),d}}function Ow(){var t=Qm(Aw()(Ym));return t.copy=function(){return Mw(t,Ow())},Pm.apply(t,arguments)}function Dw(){var t=uy(Aw()).domain([.1,1,10]);return t.copy=function(){return Mw(t,Dw()).base(t.base())},Pm.apply(t,arguments)}function Nw(){var t=dy(Aw());return t.copy=function(){return Mw(t,Nw()).constant(t.constant())},Pm.apply(t,arguments)}function Iw(){var t=my(Aw());return t.copy=function(){return Mw(t,Iw()).exponent(t.exponent())},Pm.apply(t,arguments)}function Lw(){return Iw.apply(null,arguments).exponent(.5)}var jw=function(t){var e=t.length/6|0,n=new Array(e),i=0;while(i<e)n[i]="#"+t.slice(6*i,6*++i);return n},Bw=jw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Rw=jw("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),zw=jw("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Fw=jw("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Yw=jw("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Hw=jw("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ww=jw("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Gw=jw("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),qw=jw("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Uw=jw("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Vw=function(t){return ri(t[t.length-1])},Xw=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(jw),Zw=Vw(Xw),Qw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(jw),$w=Vw(Qw),Kw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(jw),Jw=Vw(Kw),t_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(jw),e_=Vw(t_),n_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(jw),i_=Vw(n_),r_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(jw),o_=Vw(r_),a_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(jw),s_=Vw(a_),u_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(jw),c_=Vw(u_),h_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(jw),l_=Vw(h_),d_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(jw),f_=Vw(d_),p_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(jw),g_=Vw(p_),v_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(jw),m_=Vw(v_),y_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(jw),b_=Vw(y_),x_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(jw),w_=Vw(x_),__=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(jw),M_=Vw(__),k_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(jw),S_=Vw(k_),E_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(jw),C_=Vw(E_),T_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(jw),P_=Vw(T_),A_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(jw),O_=Vw(A_),D_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(jw),N_=Vw(D_),I_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(jw),L_=Vw(I_),j_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(jw),B_=Vw(j_),R_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(jw),z_=Vw(R_),F_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(jw),Y_=Vw(F_),H_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(jw),W_=Vw(H_),G_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(jw),q_=Vw(G_),U_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(jw),V_=Vw(U_),X_=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},Z_=cm(os(300,.5,0),os(-240,.5,1)),Q_=cm(os(-100,.75,.35),os(80,1.5,.8)),$_=cm(os(260,.75,.35),os(80,1.5,.8)),K_=os(),J_=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return K_.h=360*t-100,K_.s=1.5-1.5*e,K_.l=.8-.9*e,K_+""},tM=Bn(),eM=Math.PI/3,nM=2*Math.PI/3,iM=function(t){var e;return t=(.5-t)*Math.PI,tM.r=255*(e=Math.sin(t))*e,tM.g=255*(e=Math.sin(t+eM))*e,tM.b=255*(e=Math.sin(t+nM))*e,tM+""},rM=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function oM(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var aM=oM(jw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sM=oM(jw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),uM=oM(jw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),cM=oM(jw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),hM=function(t){return cn(Ie(t).call(document.documentElement))},lM=0;function dM(){return new fM}function fM(){this._="@"+(++lM).toString(36)}fM.prototype=dM.prototype={constructor:fM,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var pM=function(t){return"string"===typeof t?new an([document.querySelectorAll(t)],[document.documentElement]):new an([null==t?[]:t],on)},gM=function(t,e){null==e&&(e=bi().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=xi(t,e[n]);return r},vM=function(t){return function(){return t}},mM=Math.abs,yM=Math.atan2,bM=Math.cos,xM=Math.max,wM=Math.min,_M=Math.sin,MM=Math.sqrt,kM=1e-12,SM=Math.PI,EM=SM/2,CM=2*SM;function TM(t){return t>1?0:t<-1?SM:Math.acos(t)}function PM(t){return t>=1?EM:t<=-1?-EM:Math.asin(t)}function AM(t){return t.innerRadius}function OM(t){return t.outerRadius}function DM(t){return t.startAngle}function NM(t){return t.endAngle}function IM(t){return t&&t.padAngle}function LM(t,e,n,i,r,o,a,s){var u=n-t,c=i-e,h=a-r,l=s-o,d=l*u-h*c;if(!(d*d<kM))return d=(h*(e-o)-l*(t-r))/d,[t+d*u,e+d*c]}function jM(t,e,n,i,r,o,a){var s=t-n,u=e-i,c=(a?o:-o)/MM(s*s+u*u),h=c*u,l=-c*s,d=t+h,f=e+l,p=n+h,g=i+l,v=(d+p)/2,m=(f+g)/2,y=p-d,b=g-f,x=y*y+b*b,w=r-o,_=d*g-p*f,M=(b<0?-1:1)*MM(xM(0,w*w*x-_*_)),k=(_*b-y*M)/x,S=(-_*y-b*M)/x,E=(_*b+y*M)/x,C=(-_*y+b*M)/x,T=k-v,P=S-m,A=E-v,O=C-m;return T*T+P*P>A*A+O*O&&(k=E,S=C),{cx:k,cy:S,x01:-h,y01:-l,x11:k*(r/w-1),y11:S*(r/w-1)}}var BM=function(){var t=AM,e=OM,n=vM(0),i=null,r=DM,o=NM,a=IM,s=null;function u(){var u,c,h=+t.apply(this,arguments),l=+e.apply(this,arguments),d=r.apply(this,arguments)-EM,f=o.apply(this,arguments)-EM,p=mM(f-d),g=f>d;if(s||(s=u=ra()),l<h&&(c=l,l=h,h=c),l>kM)if(p>CM-kM)s.moveTo(l*bM(d),l*_M(d)),s.arc(0,0,l,d,f,!g),h>kM&&(s.moveTo(h*bM(f),h*_M(f)),s.arc(0,0,h,f,d,g));else{var v,m,y=d,b=f,x=d,w=f,_=p,M=p,k=a.apply(this,arguments)/2,S=k>kM&&(i?+i.apply(this,arguments):MM(h*h+l*l)),E=wM(mM(l-h)/2,+n.apply(this,arguments)),C=E,T=E;if(S>kM){var P=PM(S/h*_M(k)),A=PM(S/l*_M(k));(_-=2*P)>kM?(P*=g?1:-1,x+=P,w-=P):(_=0,x=w=(d+f)/2),(M-=2*A)>kM?(A*=g?1:-1,y+=A,b-=A):(M=0,y=b=(d+f)/2)}var O=l*bM(y),D=l*_M(y),N=h*bM(w),I=h*_M(w);if(E>kM){var L,j=l*bM(b),B=l*_M(b),R=h*bM(x),z=h*_M(x);if(p<SM&&(L=LM(O,D,R,z,j,B,N,I))){var F=O-L[0],Y=D-L[1],H=j-L[0],W=B-L[1],G=1/_M(TM((F*H+Y*W)/(MM(F*F+Y*Y)*MM(H*H+W*W)))/2),q=MM(L[0]*L[0]+L[1]*L[1]);C=wM(E,(h-q)/(G-1)),T=wM(E,(l-q)/(G+1))}}M>kM?T>kM?(v=jM(R,z,O,D,l,T,g),m=jM(j,B,N,I,l,T,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),T<E?s.arc(v.cx,v.cy,T,yM(v.y01,v.x01),yM(m.y01,m.x01),!g):(s.arc(v.cx,v.cy,T,yM(v.y01,v.x01),yM(v.y11,v.x11),!g),s.arc(0,0,l,yM(v.cy+v.y11,v.cx+v.x11),yM(m.cy+m.y11,m.cx+m.x11),!g),s.arc(m.cx,m.cy,T,yM(m.y11,m.x11),yM(m.y01,m.x01),!g))):(s.moveTo(O,D),s.arc(0,0,l,y,b,!g)):s.moveTo(O,D),h>kM&&_>kM?C>kM?(v=jM(N,I,j,B,h,-C,g),m=jM(O,D,R,z,h,-C,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),C<E?s.arc(v.cx,v.cy,C,yM(v.y01,v.x01),yM(m.y01,m.x01),!g):(s.arc(v.cx,v.cy,C,yM(v.y01,v.x01),yM(v.y11,v.x11),!g),s.arc(0,0,h,yM(v.cy+v.y11,v.cx+v.x11),yM(m.cy+m.y11,m.cx+m.x11),g),s.arc(m.cx,m.cy,C,yM(m.y11,m.x11),yM(m.y01,m.x01),!g))):s.arc(0,0,h,w,x,g):s.lineTo(N,I)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-SM/2;return[bM(i)*n,_M(i)*n]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:vM(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:vM(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:vM(+t),u):n},u.padRadius=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:vM(+t),u):i},u.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:vM(+t),u):r},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:vM(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:vM(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u};function RM(t){this._context=t}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var zM=function(t){return new RM(t)};function FM(t){return t[0]}function YM(t){return t[1]}var HM=function(){var t=FM,e=YM,n=vM(!0),i=null,r=zM,o=null;function a(a){var s,u,c,h=a.length,l=!1;for(null==i&&(o=r(c=ra())),s=0;s<=h;++s)!(s<h&&n(u=a[s],s,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:vM(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:vM(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:vM(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a},WM=function(){var t=FM,e=null,n=vM(0),i=YM,r=vM(!0),o=null,a=zM,s=null;function u(u){var c,h,l,d,f,p=u.length,g=!1,v=new Array(p),m=new Array(p);for(null==o&&(s=a(f=ra())),c=0;c<=p;++c){if(!(c<p&&r(d=u[c],c,u))===g)if(g=!g)h=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=c-1;l>=h;--l)s.point(v[l],m[l]);s.lineEnd(),s.areaEnd()}g&&(v[c]=+t(d,c,u),m[c]=+n(d,c,u),s.point(e?+e(d,c,u):v[c],i?+i(d,c,u):m[c]))}if(f)return s=null,f+""||null}function c(){return HM().defined(r).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"===typeof n?n:vM(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:vM(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:vM(+t),u):e},u.y=function(t){return arguments.length?(n="function"===typeof t?t:vM(+t),i=null,u):n},u.y0=function(t){return arguments.length?(n="function"===typeof t?t:vM(+t),u):n},u.y1=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:vM(+t),u):i},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(i)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(r="function"===typeof t?t:vM(!!t),u):r},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u},GM=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},qM=function(t){return t},UM=function(){var t=qM,e=GM,n=null,i=vM(0),r=vM(CM),o=vM(0);function a(a){var s,u,c,h,l,d=a.length,f=0,p=new Array(d),g=new Array(d),v=+i.apply(this,arguments),m=Math.min(CM,Math.max(-CM,r.apply(this,arguments)-v)),y=Math.min(Math.abs(m)/d,o.apply(this,arguments)),b=y*(m<0?-1:1);for(s=0;s<d;++s)(l=g[p[s]=s]=+t(a[s],s,a))>0&&(f+=l);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(m-d*b)/f:0;s<d;++s,v=h)u=p[s],l=g[u],h=v+(l>0?l*c:0)+b,g[u]={data:a[u],index:s,value:l,startAngle:v,endAngle:h,padAngle:y};return g}return a.value=function(e){return arguments.length?(t="function"===typeof e?e:vM(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:vM(+t),a):i},a.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:vM(+t),a):r},a.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:vM(+t),a):o},a},VM=ZM(zM);function XM(t){this._curve=t}function ZM(t){function e(e){return new XM(t(e))}return e._curve=t,e}function QM(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(ZM(t)):e()._curve},t}XM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var $M=function(){return QM(HM().curve(VM))},KM=function(){var t=WM().curve(VM),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return QM(n())},delete t.lineX0,t.lineEndAngle=function(){return QM(i())},delete t.lineX1,t.lineInnerRadius=function(){return QM(r())},delete t.lineY0,t.lineOuterRadius=function(){return QM(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(ZM(t)):e()._curve},t},JM=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},tk=Array.prototype.slice;function ek(t){return t.source}function nk(t){return t.target}function ik(t){var e=ek,n=nk,i=FM,r=YM,o=null;function a(){var a,s=tk.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=ra()),t(o,+i.apply(this,(s[0]=u,s)),+r.apply(this,s),+i.apply(this,(s[0]=c,s)),+r.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(i="function"===typeof t?t:vM(+t),a):i},a.y=function(t){return arguments.length?(r="function"===typeof t?t:vM(+t),a):r},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function rk(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function ok(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function ak(t,e,n,i,r){var o=JM(e,n),a=JM(e,n=(n+r)/2),s=JM(i,n),u=JM(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function sk(){return ik(rk)}function uk(){return ik(ok)}function ck(){var t=ik(ak);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var hk={draw:function(t,e){var n=Math.sqrt(e/SM);t.moveTo(n,0),t.arc(0,0,n,0,CM)}},lk={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},dk=Math.sqrt(1/3),fk=2*dk,pk={draw:function(t,e){var n=Math.sqrt(e/fk),i=n*dk;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},gk=.8908130915292852,vk=Math.sin(SM/10)/Math.sin(7*SM/10),mk=Math.sin(CM/10)*vk,yk=-Math.cos(CM/10)*vk,bk={draw:function(t,e){var n=Math.sqrt(e*gk),i=mk*n,r=yk*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=CM*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},xk={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},wk=Math.sqrt(3),_k={draw:function(t,e){var n=-Math.sqrt(e/(3*wk));t.moveTo(0,2*n),t.lineTo(-wk*n,-n),t.lineTo(wk*n,-n),t.closePath()}},Mk=-.5,kk=Math.sqrt(3)/2,Sk=1/Math.sqrt(12),Ek=3*(Sk/2+1),Ck={draw:function(t,e){var n=Math.sqrt(e/Ek),i=n/2,r=n*Sk,o=i,a=n*Sk+n,s=-o,u=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Mk*i-kk*r,kk*i+Mk*r),t.lineTo(Mk*o-kk*a,kk*o+Mk*a),t.lineTo(Mk*s-kk*u,kk*s+Mk*u),t.lineTo(Mk*i+kk*r,Mk*r-kk*i),t.lineTo(Mk*o+kk*a,Mk*a-kk*o),t.lineTo(Mk*s+kk*u,Mk*u-kk*s),t.closePath()}},Tk=[hk,lk,pk,xk,bk,_k,Ck],Pk=function(){var t=vM(hk),e=vM(64),n=null;function i(){var i;if(n||(n=i=ra()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"===typeof e?e:vM(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:vM(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},Ak=function(){};function Ok(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Dk(t){this._context=t}Dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ok(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ok(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Nk=function(t){return new Dk(t)};function Ik(t){this._context=t}Ik.prototype={areaStart:Ak,areaEnd:Ak,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ok(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Lk=function(t){return new Ik(t)};function jk(t){this._context=t}jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ok(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Bk=function(t){return new jk(t)};function Rk(t,e){this._basis=new Dk(t),this._beta=e}Rk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;while(++u<=n)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var zk=function t(e){function n(t){return 1===e?new Dk(t):new Rk(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Fk(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Yk(t,e){this._context=t,this._k=(1-e)/6}Yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fk(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Fk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Hk=function t(e){function n(t){return new Yk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Wk(t,e){this._context=t,this._k=(1-e)/6}Wk.prototype={areaStart:Ak,areaEnd:Ak,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Gk=function t(e){function n(t){return new Wk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function qk(t,e){this._context=t,this._k=(1-e)/6}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Uk=function t(e){function n(t){return new qk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Vk(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>kM){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>kM){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Xk(t,e){this._context=t,this._alpha=e}Xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Vk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zk=function t(e){function n(t){return e?new Xk(t,e):new Yk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Qk(t,e){this._context=t,this._alpha=e}Qk.prototype={areaStart:Ak,areaEnd:Ak,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Vk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $k=function t(e){function n(t){return e?new Qk(t,e):new Wk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Kk(t,e){this._context=t,this._alpha=e}Kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jk=function t(e){function n(t){return e?new Kk(t,e):new qk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function tS(t){this._context=t}tS.prototype={areaStart:Ak,areaEnd:Ak,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var eS=function(t){return new tS(t)};function nS(t){return t<0?-1:1}function iS(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(nS(o)+nS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function rS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function oS(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function aS(t){this._context=t}function sS(t){this._context=new uS(t)}function uS(t){this._context=t}function cS(t){return new aS(t)}function hS(t){return new sS(t)}function lS(t){this._context=t}function dS(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}aS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oS(this,this._t0,rS(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,oS(this,rS(this,n=iS(this,t,e)),n);break;default:oS(this,this._t0,n=iS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(sS.prototype=Object.create(aS.prototype)).point=function(t,e){aS.prototype.point.call(this,e,t)},uS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},lS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=dS(t),r=dS(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var fS=function(t){return new lS(t)};function pS(t,e){this._context=t,this._t=e}pS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};var gS=function(t){return new pS(t,.5)};function vS(t){return new pS(t,0)}function mS(t){return new pS(t,1)}var yS=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,a=t[e[0]],s=a.length;o<r;++o)for(i=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},bS=function(t){var e=t.length,n=new Array(e);while(--e>=0)n[e]=e;return n};function xS(t,e){return t[e]}var wS=function(){var t=vM([]),e=bS,n=yS,i=xS;function r(r){var o,a,s=t.apply(this,arguments),u=r.length,c=s.length,h=new Array(c);for(o=0;o<c;++o){for(var l,d=s[o],f=h[o]=new Array(u),p=0;p<u;++p)f[p]=l=[0,+i(r[p],d,p,r)],l.data=r[p];f.key=d}for(o=0,a=e(h);o<c;++o)h[a[o]].index=o;return n(h,a),h}return r.keys=function(e){return arguments.length?(t="function"===typeof e?e:vM(tk.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"===typeof t?t:vM(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?bS:"function"===typeof t?t:vM(tk.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?yS:t,r):n},r},_S=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}yS(t,e)}},MS=function(t,e){if((s=t.length)>0)for(var n,i,r,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(r=(i=t[e[n]][u])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):(i[0]=0,i[1]=r)},kS=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}yS(t,e)}},SS=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,u=0,c=0;s<r;++s){for(var h=t[e[s]],l=h[a][1]||0,d=h[a-1][1]||0,f=(l-d)/2,p=0;p<s;++p){var g=t[e[p]],v=g[a][1]||0,m=g[a-1][1]||0;f+=v-m}u+=l,c+=f*l}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,yS(t,e)}},ES=function(t){var e=t.map(CS);return bS(t).sort((function(t,n){return e[t]-e[n]}))};function CS(t){var e,n=-1,i=0,r=t.length,o=-1/0;while(++n<r)(e=+t[n][1])>o&&(o=e,i=n);return i}var TS=function(t){var e=t.map(PS);return bS(t).sort((function(t,n){return e[t]-e[n]}))};function PS(t){var e,n=0,i=-1,r=t.length;while(++i<r)(e=+t[i][1])&&(n+=e);return n}var AS=function(t){return TS(t).reverse()},OS=function(t){var e,n,i=t.length,r=t.map(PS),o=ES(t),a=0,s=0,u=[],c=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],u.push(n)):(s+=r[n],c.push(n));return c.reverse().concat(u)},DS=function(t){return bS(t).reverse()},NS="%Y-%m-%dT%H:%M:%S.%LZ";function IS(t){return t.toISOString()}var LS=Date.prototype.toISOString?IS:Yb(NS),jS=LS;function BS(t){var e=new Date(t);return isNaN(e)?null:e}var RS=+new Date("2000-01-01T00:00:00.000Z")?BS:Hb(NS),zS=RS,FS=n("233a"),YS=function(t){return function(){return t}};function HS(t){return t[0]}function WS(t){return t[1]}function GS(){this._=null}function qS(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function US(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function VS(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function XS(t){while(t.L)t=t.L;return t}GS.prototype={constructor:GS,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){t=t.R;while(t.L)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=XS(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);e.L=e.R=null,e.U=n,e.C=!0,t=e;while(n&&n.C)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(US(this,n),t=n,n=t.U),n.C=!1,i.C=!0,VS(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(VS(this,n),t=n,n=t.U),n.C=!1,i.C=!0,US(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?XS(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,US(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,VS(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,US(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,VS(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,US(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,VS(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var ZS=GS;function QS(t,e,n,i){var r=[null,null],o=kE.push(r)-1;return r.left=t,r.right=e,n&&KS(r,t,e,n),i&&KS(r,e,t,i),_E[t.index].halfedges.push(o),_E[e.index].halfedges.push(o),r}function $S(t,e,n){var i=[e,n];return i.left=t,i}function KS(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function JS(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],c=a[1],h=s[0],l=s[1],d=0,f=1,p=h-u,g=l-c;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<d)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=i-u,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>d&&(d=o)}else if(p>0){if(o<d)return;o<f&&(f=o)}if(o=n-c,g||!(o>0)){if(o/=g,g<0){if(o<d)return;o<f&&(f=o)}else if(g>0){if(o>f)return;o>d&&(d=o)}if(o=r-c,g||!(o<0)){if(o/=g,g<0){if(o>f)return;o>d&&(d=o)}else if(g>0){if(o<d)return;o<f&&(f=o)}return!(d>0||f<1)||(d>0&&(t[0]=[u+d*p,c+d*g]),f<1&&(t[1]=[u+f*p,c+f*g]),!0)}}}}}function tE(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,h=t.right,l=c[0],d=c[1],f=h[0],p=h[1],g=(l+f)/2,v=(d+p)/2;if(p===d){if(g<e||g>=i)return;if(l>f){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(a=(l-f)/(p-d),s=v-a*g,a<-1||a>1)if(l>f){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(d<p){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function eE(t,e,n,i){var r,o=kE.length;while(o--)tE(r=kE[o],t,e,n,i)&&JS(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>SE||Math.abs(r[0][1]-r[1][1])>SE)||delete kE[o]}function nE(t){return _E[t.index]={site:t,halfedges:[]}}function iE(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function rE(t,e){return e[+(e.left!==t.site)]}function oE(t,e){return e[+(e.left===t.site)]}function aE(){for(var t,e,n,i,r=0,o=_E.length;r<o;++r)if((t=_E[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=iE(t,kE[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}function sE(t,e,n,i){var r,o,a,s,u,c,h,l,d,f,p,g,v=_E.length,m=!0;for(r=0;r<v;++r)if(o=_E[r]){a=o.site,u=o.halfedges,s=u.length;while(s--)kE[u[s]]||u.splice(s,1);s=0,c=u.length;while(s<c)f=oE(o,kE[u[s]]),p=f[0],g=f[1],h=rE(o,kE[u[++s%c]]),l=h[0],d=h[1],(Math.abs(p-l)>SE||Math.abs(g-d)>SE)&&(u.splice(s,0,kE.push($S(a,f,Math.abs(p-t)<SE&&i-g>SE?[t,Math.abs(l-t)<SE?d:i]:Math.abs(g-i)<SE&&n-p>SE?[Math.abs(d-i)<SE?l:n,i]:Math.abs(p-n)<SE&&g-e>SE?[n,Math.abs(l-n)<SE?d:e]:Math.abs(g-e)<SE&&p-t>SE?[Math.abs(d-e)<SE?l:t,e]:null))-1),++c);c&&(m=!1)}if(m){var y,b,x,w=1/0;for(r=0,m=null;r<v;++r)(o=_E[r])&&(a=o.site,y=a[0]-t,b=a[1]-e,x=y*y+b*b,x<w&&(w=x,m=o));if(m){var _=[t,e],M=[t,i],k=[n,i],S=[n,e];m.halfedges.push(kE.push($S(a=m.site,_,M))-1,kE.push($S(a,M,k))-1,kE.push($S(a,k,S))-1,kE.push($S(a,S,_))-1)}}for(r=0;r<v;++r)(o=_E[r])&&(o.halfedges.length||delete _E[r])}var uE,cE=[];function hE(){qS(this),this.x=this.y=this.arc=this.site=this.cy=null}function lE(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,c=i[1]-s,h=o[0]-a,l=o[1]-s,d=2*(u*l-c*h);if(!(d>=-EE)){var f=u*u+c*c,p=h*h+l*l,g=(l*f-c*p)/d,v=(u*p-h*f)/d,m=cE.pop()||new hE;m.arc=t,m.site=r,m.x=g+a,m.y=(m.cy=v+s)+Math.sqrt(g*g+v*v),t.circle=m;var y=null,b=ME._;while(b)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ME.insert(y,m),y||(uE=m)}}}}function dE(t){var e=t.circle;e&&(e.P||(uE=e.N),ME.remove(e),cE.push(e),qS(e),t.circle=null)}var fE=[];function pE(){qS(this),this.edge=this.site=this.circle=null}function gE(t){var e=fE.pop()||new pE;return e.site=t,e}function vE(t){dE(t),wE.remove(t),fE.push(t),qS(t)}function mE(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];vE(t);var u=o;while(u.circle&&Math.abs(n-u.circle.x)<SE&&Math.abs(i-u.circle.cy)<SE)o=u.P,s.unshift(u),vE(u),u=o;s.unshift(u),dE(u);var c=a;while(c.circle&&Math.abs(n-c.circle.x)<SE&&Math.abs(i-c.circle.cy)<SE)a=c.N,s.push(c),vE(c),c=a;s.push(c),dE(c);var h,l=s.length;for(h=1;h<l;++h)c=s[h],u=s[h-1],KS(c.edge,u.site,c.site,r);u=s[0],c=s[l-1],c.edge=QS(u.site,c.site,null,r),lE(u),lE(c)}function yE(t){var e,n,i,r,o=t[0],a=t[1],s=wE._;while(s)if(i=bE(s,a)-o,i>SE)s=s.L;else{if(r=o-xE(s,a),!(r>SE)){i>-SE?(e=s.P,n=s):r>-SE?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}nE(t);var u=gE(t);if(wE.insert(e,u),e||n){if(e===n)return dE(e),n=gE(e.site),wE.insert(u,n),u.edge=n.edge=QS(e.site,u.site),lE(e),void lE(n);if(n){dE(e),dE(n);var c=e.site,h=c[0],l=c[1],d=t[0]-h,f=t[1]-l,p=n.site,g=p[0]-h,v=p[1]-l,m=2*(d*v-f*g),y=d*d+f*f,b=g*g+v*v,x=[(v*y-f*b)/m+h,(d*b-g*y)/m+l];KS(n.edge,c,p,x),u.edge=QS(c,t,null,x),n.edge=QS(t,p,null,x),lE(e),lE(n)}else u.edge=QS(e.site,u.site)}}function bE(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n[0],u=n[1],c=u-e;if(!c)return s;var h=s-i,l=1/o-1/c,d=h/c;return l?(-d+Math.sqrt(d*d-2*l*(h*h/(-2*c)-u+c/2+r-o/2)))/l+i:(i+s)/2}function xE(t,e){var n=t.N;if(n)return bE(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var wE,_E,ME,kE,SE=1e-6,EE=1e-12;function CE(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function TE(t,e){return e[1]-t[1]||e[0]-t[0]}function PE(t,e){var n,i,r,o=t.sort(TE).pop();kE=[],_E=new Array(t.length),wE=new ZS,ME=new ZS;while(1)if(r=uE,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(yE(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;mE(r.arc)}if(aE(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];eE(a,s,u,c),sE(a,s,u,c)}this.edges=kE,this.cells=_E,wE=ME=kE=_E=null}PE.prototype={constructor:PE,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return rE(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length){var r,o,a,s=n.site,u=-1,c=e[r[o-1]],h=c.left===s?c.right:c.left;while(++u<o)a=h,c=e[r[u]],h=c.left===s?c.right:c.left,a&&h&&i<a.index&&i<h.index&&CE(s,a,h)<0&&t.push([s.data,a.data,h.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){var i,r,o=this,a=o._found||0,s=o.cells.length;while(!(r=o.cells[a]))if(++a>=s)return null;var u=t-r.site[0],c=e-r.site[1],h=u*u+c*c;do{r=o.cells[i=a],a=null,r.halfedges.forEach((function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var u=t-s[0],c=e-s[1],l=u*u+c*c;l<h&&(h=l,a=s.index)}}))}while(null!==a);return o._found=i,null==n||h<=n*n?r.site:null}};var AE=function(){var t=HS,e=WS,n=null;function i(i){return new PE(i.map((function(n,r){var o=[Math.round(t(n,r,i)/SE)*SE,Math.round(e(n,r,i)/SE)*SE];return o.index=r,o.data=n,o})),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"===typeof e?e:YS(+e),i):t},i.y=function(t){return arguments.length?(e="function"===typeof t?t:YS(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},OE=function(t){return function(){return t}};function DE(t,e,n){this.target=t,this.type=e,this.transform=n}function NE(t,e,n){this.k=t,this.x=e,this.y=n}NE.prototype={constructor:NE,scale:function(t){return 1===t?this:new NE(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new NE(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var IE=new NE(1,0,0);function LE(t){while(!t.__zoom)if(!(t=t.parentNode))return IE;return t.__zoom}function jE(){qe.stopImmediatePropagation()}LE.prototype=NE.prototype;var BE=function(){qe.preventDefault(),qe.stopImmediatePropagation()};function RE(){return!qe.ctrlKey&&!qe.button}function zE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function FE(){return this.__zoom||IE}function YE(){return-qe.deltaY*(1===qe.deltaMode?.05:qe.deltaMode?1:.002)}function HE(){return navigator.maxTouchPoints||"ontouchstart"in this}function WE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var GE=function(){var t,e,n=RE,i=zE,r=WE,o=YE,a=HE,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Jv,l=Object(vt["a"])("start","zoom","end"),d=500,f=150,p=0;function g(t){t.property("__zoom",FE).on("wheel.zoom",_).on("mousedown.zoom",M).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return e=Math.max(s[0],Math.min(s[1],e)),e===t.k?t:new NE(e,t.x,t.y)}function m(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new NE(t.k,i,r)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n){t.on("start.zoom",(function(){x(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,o=x(t,r),a=i.apply(t,r),s=null==n?y(a):"function"===typeof n?n.apply(t,r):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,l="function"===typeof e?e.apply(t,r):e,d=h(c.invert(s).concat(u/c.k),l.invert(s).concat(u/l.k));return function(t){if(1===t)t=l;else{var e=d(t),n=u/e[2];t=new NE(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function _(){if(n.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,i=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=_i(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[a,e.invert(a)],Wi(this),t.start()}BE(),t.wheel=setTimeout(c,f),t.zoom("mouse",r(m(v(e,i),t.mouse[0],t.mouse[1]),t.extent,u))}function c(){t.wheel=null,t.end()}}function M(){if(!e&&n.apply(this,arguments)){var t=x(this,arguments,!0),i=cn(qe.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",h,!0),o=_i(this),a=qe.clientX,s=qe.clientY;dn(qe.view),jE(),t.mouse=[o,this.__zoom.invert(o)],Wi(this),t.start()}function c(){if(BE(),!t.moved){var e=qe.clientX-a,n=qe.clientY-s;t.moved=e*e+n*n>p}t.zoom("mouse",r(m(t.that.__zoom,t.mouse[0]=_i(t.that),t.mouse[1]),t.extent,u))}function h(){i.on("mousemove.zoom mouseup.zoom",null),fn(qe.view,t.moved),BE(),t.end()}}function k(){if(n.apply(this,arguments)){var t=this.__zoom,e=_i(this),o=t.invert(e),a=t.k*(qe.shiftKey?.5:2),s=r(m(v(t,a),e,o),i.apply(this,arguments),u);BE(),c>0?cn(this).transition().duration(c).call(b,s,e):cn(this).call(g.transform,s)}}function S(){if(n.apply(this,arguments)){var e,i,r,o,a=qe.touches,s=a.length,u=x(this,arguments,qe.changedTouches.length===s);for(jE(),i=0;i<s;++i)r=a[i],o=wi(this,a,r.identifier),o=[o,this.__zoom.invert(o),r.identifier],u.touch0?u.touch1||u.touch0[2]===o[2]||(u.touch1=o,u.taps=0):(u.touch0=o,e=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(u.taps<2&&(t=setTimeout((function(){t=null}),d)),Wi(this),u.start())}}function E(){if(this.__zooming){var e,n,i,o,a=x(this,arguments),s=qe.changedTouches,c=s.length;for(BE(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)n=s[e],i=wi(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=i);if(n=a.that.__zoom,a.touch1){var h=a.touch0[0],l=a.touch0[1],d=a.touch1[0],f=a.touch1[1],p=(p=d[0]-h[0])*p+(p=d[1]-h[1])*p,g=(g=f[0]-l[0])*g+(g=f[1]-l[1])*g;n=v(n,Math.sqrt(p/g)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],o=[(l[0]+f[0])/2,(l[1]+f[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",r(m(n,i,o),a.extent,u))}}function C(){if(this.__zooming){var t,n,i=x(this,arguments),r=qe.changedTouches,o=r.length;for(jE(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var a=cn(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return g.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",FE),t!==i?b(t,e,n):i.interrupt().each((function(){x(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n)},g.scaleTo=function(t,e,n){g.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"===typeof e?e.apply(this,arguments):e;return r(m(v(o,c),a,s),t,u)}),n)},g.translateBy=function(t,e,n){g.transform(t,(function(){return r(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}))},g.translateTo=function(t,e,n,o){g.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==o?y(t):"function"===typeof o?o.apply(this,arguments):o;return r(IE.translate(s[0],s[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,u)}),o)},w.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Je(new DE(g,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"===typeof t?t:OE(+t),g):o},g.filter=function(t){return arguments.length?(n="function"===typeof t?t:OE(!!t),g):n},g.touchable=function(t){return arguments.length?(a="function"===typeof t?t:OE(!!t),g):a},g.extent=function(t){return arguments.length?(i="function"===typeof t?t:OE([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],g):[s[0],s[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(r=t,g):r},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=l.on.apply(l,arguments);return t===l?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g},qE=n("8e8a"),UE={name:"g6",data:function(){return{progress:0,grapha:null}},methods:{},mounted:function(){var t={nodes:Object(qE["c"])(200)};t.edges=Object(qE["b"])(t.nodes,200),t.nodes=t.nodes.map((function(t){return t.data})),t.edges=t.edges.map((function(t){return t.data}));var e=new s.a.Graph({container:this.$refs.g6,width:window.innerWidth,height:window.innerHeight,autoPaint:!1,modes:{default:["drag-canvas",{type:"tooltip",formatText:function(t){return t.name}},{type:"edge-tooltip",formatText:function(t,e){var n=e.item;return""+n.getSource().getModel().name+"<br/>"+n.getTarget().getModel().name}}]},defaultNode:{size:[10,10],color:"steelblue"},defaultEdge:{size:1},nodeStyle:{default:{lineWidth:2,fill:"steelblue"},highlight:{opacity:1},dark:{opacity:.2}},edgeStyle:{default:{stroke:"#e2e2e2",lineAppendWidth:2},highlight:{stroke:"#999"}}});function n(){e.setAutoPaint(!1),e.getNodes().forEach((function(t){e.clearItemStates(t)})),e.getEdges().forEach((function(t){e.clearItemStates(t)})),e.paint(),e.setAutoPaint(!0)}e.on("node:mouseenter",(function(t){var n=t.item;e.setAutoPaint(!1),e.getNodes().forEach((function(t){e.clearItemStates(t),e.setItemState(t,"dark",!0)})),e.setItemState(n,"dark",!1),e.setItemState(n,"highlight",!0),e.getEdges().forEach((function(t){t.getSource()===n?(e.setItemState(t.getTarget(),"dark",!1),e.setItemState(t.getTarget(),"highlight",!0),e.setItemState(t,"highlight",!0),t.toFront()):t.getTarget()===n?(e.setItemState(t.getSource(),"dark",!1),e.setItemState(t.getSource(),"highlight",!0),e.setItemState(t,"highlight",!0),t.toFront()):e.setItemState(t,"highlight",!1)})),e.paint(),e.setAutoPaint(!0)})),e.on("node:mouseleave",n),e.on("canvas:click",n),console.log("data = ",t,i),e.data({nodes:t.nodes,edges:t.edges.map((function(t,e){return t.id="edge"+e,Object.assign({},t)}))});var r=Pc().force("link",kc().id((function(t){return t.id})).strength(.5)).force("charge",Ac()).force("center",gc(window.innerWidth/2,window.innerHeight/2));function o(){e.refreshPositions(),e.paint()}r.nodes(t.nodes).on("tick",o),r.force("link").links(t.edges),e.render()}},VE=UE,XE=(n("c873"),n("7a3f")),ZE=Object(XE["a"])(VE,r,o,!1,null,"4ccc293c",null);e["default"]=ZE.exports},"4d0a":function(t,e,n){"use strict";var i=n("ee55"),r=n("c96f"),o="includes";i(i.P+i.F*n("06cd")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"5bc0":function(t,e,n){"use strict";
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */(function(e,n){t.exports=n()})(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=123)}([function(t,e,n){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){e.__esModule=!0;var i=n(169),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){var i=n(77),r=l(i),o=n(29),a=l(o),s=n(8),u=l(s),c=n(6),h=l(c);function l(t){return t&&t.__esModule?t:{default:t}}var d=n(9),f=n(157);function p(t,e,n,i){var r=!1;!0===i&&(r=null===e[n]&&void 0!==t[n]),r?delete t[n]:t[n]=e[n]}e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)while(!0===t.hasChildNodes())e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,n,i){if(e==t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var n=g.exec(t);if(n)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return f.v4()},e.assignAllKeys=function(t,e){for(var n in t)t.hasOwnProperty(n)&&"object"!==(0,h["default"])(t[n])&&(t[n]=e)},e.fillIfDefined=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)void 0!==n[r]&&(null===n[r]||"object"!==(0,h["default"])(n[r])?p(t,n,r,i):"object"===(0,h["default"])(t[r])&&e.fillIfDefined(t[r],n[r],i))},e.extend=function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},e.selectiveExtend=function(t,e,n){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=2;i<arguments.length;i++)for(var r=arguments[i],o=0;o<t.length;o++){var a=t[o];r&&r.hasOwnProperty(a)&&(e[a]=r[a])}return e},e.selectiveDeepExtend=function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var o=0;o<t.length;o++){var a=t[o];if(i.hasOwnProperty(a))if(i[a]&&i[a].constructor===Object)void 0===n[a]&&(n[a]={}),n[a].constructor===Object?e.deepExtend(n[a],i[a],!1,r):p(n,i,a,r);else{if(Array.isArray(i[a]))throw new TypeError("Arrays are not supported by deepExtend");p(n,i,a,r)}}return n},e.selectiveNotDeepExtend=function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var o in i)if(i.hasOwnProperty(o)&&-1===t.indexOf(o))if(i[o]&&i[o].constructor===Object)void 0===n[o]&&(n[o]={}),n[o].constructor===Object?e.deepExtend(n[o],i[o]):p(n,i,o,r);else if(Array.isArray(i[o])){n[o]=[];for(var a=0;a<i[o].length;a++)n[o].push(i[o][a])}else p(n,i,o,r);return n},e.deepExtend=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var o in n)if(n.hasOwnProperty(o)||!0===i)if(n[o]&&n[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?e.deepExtend(t[o],n[o],i):p(t,n,o,r);else if(Array.isArray(n[o])){t[o]=[];for(var a=0;a<n[o].length;a++)t[o].push(n[o][a])}else p(t,n,o,r);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0},e.convert=function(t,n){var i;if(void 0!==t){if(null===t)return null;if(!n)return t;if("string"!==typeof n&&!(n instanceof String))throw new Error("Type must be a string");switch(n){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?d(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(d.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return i=g.exec(t),i?new Date(Number(i[1])):d(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return d(t);if(t instanceof Date)return d(t.valueOf());if(d.isMoment(t))return d(t);if(e.isString(t))return i=g.exec(t),d(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(d.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return i=g.exec(t),i?new Date(Number(i[1])).toISOString():d(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";var r;if(e.isString(t))return i=g.exec(t),r=i?new Date(Number(i[1])).valueOf():new Date(t).valueOf(),"/Date("+r+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+n+'"')}}};var g=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e="undefined"===typeof t?"undefined":(0,h["default"])(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n.push(e),n},e.copyArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.concat(i.filter((function(t){return n.indexOf(t)<0}))),t.className=n.join(" ")},e.removeClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.filter((function(t){return i.indexOf(t)<0})),t.className=n.join(" ")},e.forEach=function(t,e){var n,i;if(Array.isArray(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else for(n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},e.toArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},e.updateProperty=function(t,e,n){return t[e]!==n&&(t[e]=n,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t()})))}},e.addEventListener=function(t,e,n,i){t.addEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,n,i)):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent("on"+e,n)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){var n=t;while(n){if(n===e)return!0;n=n.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,n){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":n||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,n,i){return e+e+n+n+i+i}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},e.overrideOpacity=function(t,n){var i;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?(i=t.substr(t.indexOf("(")+1).replace(")","").split(","),"rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"):(i=e.hexToRGB(t),null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+n+")")},e.RGBToHex=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},e.parseColor=function(t){var n;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var i=t.substr(4).substr(0,t.length-5).split(",").map((function(t){return parseInt(t)}));t=e.RGBToHex(i[0],i[1],i[2])}if(!0===e.isValidHex(t)){var r=e.hexToHSV(t),o={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},a={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},s=e.HSVToHex(a.h,a.s,a.v),u=e.HSVToHex(o.h,o.s,o.v);n={background:t,border:s,highlight:{background:u,border:s},hover:{background:u,border:s}}}else n={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else n={},n.background=t.background||void 0,n.border=t.border||void 0,e.isString(t.highlight)?n.highlight={border:t.highlight,background:t.highlight}:(n.highlight={},n.highlight.background=t.highlight&&t.highlight.background||void 0,n.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?n.hover={border:t.hover,background:t.hover}:(n.hover={},n.hover.background=t.hover&&t.hover.background||void 0,n.hover.border=t.hover&&t.hover.border||void 0);return n},e.RGBToHSV=function(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),r=Math.max(t,Math.max(e,n));if(i==r)return{h:0,s:0,v:i};var o=t==i?e-n:n==i?t-e:n-t,a=t==i?3:n==i?1:5,s=60*(a-o/(r-i))/360,u=(r-i)/r,c=r;return{h:s,s:u,v:c}};var v={split:function(t){var e={};return t.split(";").forEach((function(t){if(""!=t.trim()){var n=t.split(":"),i=n[0].trim(),r=n[1].trim();e[i]=r}})),e},join:function(t){return(0,u["default"])(t).map((function(e){return e+": "+t[e]})).join("; ")}};e.addCssText=function(t,n){var i=v.split(t.style.cssText),r=v.split(n),o=e.extend(i,r);t.style.cssText=v.join(o)},e.removeCssText=function(t,e){var n=v.split(t.style.cssText),i=v.split(e);for(var r in i)i.hasOwnProperty(r)&&delete n[r];t.style.cssText=v.join(n)},e.HSVToRGB=function(t,e,n){var i,r,o,a=Math.floor(6*t),s=6*t-a,u=n*(1-e),c=n*(1-s*e),h=n*(1-(1-s)*e);switch(a%6){case 0:i=n,r=h,o=u;break;case 1:i=c,r=n,o=u;break;case 2:i=u,r=n,o=h;break;case 3:i=u,r=c,o=n;break;case 4:i=h,r=u,o=n;break;case 5:i=n,r=u,o=c;break}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}},e.HSVToHex=function(t,n,i){var r=e.HSVToRGB(t,n,i);return e.RGBToHex(r.r,r.g,r.b)},e.hexToHSV=function(t){var n=e.hexToRGB(t);return e.RGBToHSV(n.r,n.g,n.b)},e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e},e.isValidRGBA=function(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);return e},e.selectiveBridgeObject=function(t,n){if(null!==n&&"object"===("undefined"===typeof n?"undefined":(0,h["default"])(n))){for(var i=(0,a["default"])(n),r=0;r<t.length;r++)n.hasOwnProperty(t[r])&&"object"==(0,h["default"])(n[t[r]])&&(i[t[r]]=e.bridgeObject(n[t[r]]));return i}return null},e.bridgeObject=function(t){if(null!==t&&"object"===("undefined"===typeof t?"undefined":(0,h["default"])(t))){var n=(0,a["default"])(t);if(t instanceof Element)n=t;else for(var i in n=(0,a["default"])(t),t)t.hasOwnProperty(i)&&"object"==(0,h["default"])(t[i])&&(n[i]=e.bridgeObject(t[i]));return n}return null},e.insertSort=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n],r=n;r>0&&e(i,t[r-1])<0;r--)t[r]=t[r-1];t[r]=i}return t},e.mergeOptions=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!==t&&void 0!==t},o=function(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":(0,h["default"])(t))},s=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var u=function(t,e,n){o(t[n])||(t[n]={});var i=e[n],r=t[n];for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},c=e[n],l=o(i)&&!s(i),d=l?i[n]:void 0,f=d?d.enabled:void 0;if(void 0!==c){if("boolean"===typeof c)return o(t[n])||(t[n]={}),void(t[n].enabled=c);if(null===c&&!o(t[n])){if(!r(d))return;t[n]=(0,a["default"])(d)}if(o(c)){var p=!0;void 0!==c.enabled?p=c.enabled:void 0!==f&&(p=d.enabled),u(t,e,n),t[n].enabled=p}}},e.binarySearchCustom=function(t,e,n,i){var r=1e4,o=0,a=0,s=t.length-1;while(a<=s&&o<r){var u=Math.floor((a+s)/2),c=t[u],h=void 0===i?c[n]:c[n][i],l=e(h);if(0==l)return u;-1==l?a=u+1:s=u-1,o++}return-1},e.binarySearchValue=function(t,e,n,i,r){var o,a,s,u,c=1e4,h=0,l=0,d=t.length-1;r=void 0!=r?r:function(t,e){return t==e?0:t<e?-1:1};while(l<=d&&h<c){if(u=Math.floor(.5*(d+l)),o=t[Math.max(0,u-1)][n],a=t[u][n],s=t[Math.min(t.length-1,u+1)][n],0==r(a,e))return u;if(r(o,e)<0&&r(a,e)>0)return"before"==i?Math.max(0,u-1):u;if(r(a,e)<0&&r(s,e)>0)return"before"==i?u:Math.min(t.length-1,u+1);r(a,e)<0?l=u+1:d=u-1,h++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),document.body.removeChild(e),n-i},e.topMost=function(t,e){var n=void 0;Array.isArray(e)||(e=[e]);var i=!0,o=!1,a=void 0;try{for(var s,u=(0,r["default"])(t);!(i=(s=u.next()).done);i=!0){var c=s.value;if(c){n=c[e[0]];for(var h=1;h<e.length;h++)n&&(n=n[e[h]]);if("undefined"!=typeof n)break}}}catch(l){o=!0,a=l}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}return n}},function(t,e,n){t.exports={default:n(194),__esModule:!0}},function(t,e,n){e.__esModule=!0;var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"===typeof e?"undefined":(0,r.default)(e))&&"function"!==typeof e?t:e}},function(t,e,n){e.__esModule=!0;var i=n(196),r=c(i),o=n(29),a=c(o),s=n(6),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":(0,u.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){e.__esModule=!0;var i=n(142),r=u(i),o=n(144),a=u(o),s="function"===typeof a.default&&"symbol"===typeof r.default?function(t){return typeof t}:function(t){return t&&"function"===typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}e.default="function"===typeof a.default&&"symbol"===s(r.default)?function(t){return"undefined"===typeof t?"undefined":s(t)}:function(t){return t&&"function"===typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":"undefined"===typeof t?"undefined":s(t)}},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports={default:n(140),__esModule:!0}},function(t,e,n){t.exports="undefined"!==typeof window&&window["moment"]||n(154)},function(t,e,n){function i(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(e){return{set:t}}}}if("undefined"!==typeof window){var r=n(175),o=window["Hammer"]||n(176);t.exports=r(o,{preventDefault:"mouse"})}else t.exports=function(){return i()}},function(t,e,n){var i=n(19),r=c(i),o=n(6),a=c(o),s=n(8),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(2),l=n(43);function d(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var n=(0,u["default"])(this._options.type),i=0,r=n.length;i<r;i++){var o=n[i],a=this._options.type[o];this._type[o]="Date"==a||"ISODate"==a||"ASPDate"==a?"Date":a}this._subscribers={},t&&this.add(t),this.setOptions(e)}d.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=l.extend(this,{replace:["add","update","remove"]})),"object"===(0,a["default"])(t.queue)&&this._queue.setOptions(t.queue)))},d.prototype.on=function(t,e){var n=this._subscribers[t];n||(n=[],this._subscribers[t]=n),n.push({callback:e})},d.prototype.off=function(t,e){var n=this._subscribers[t];n&&(this._subscribers[t]=n.filter((function(t){return t.callback!=e})))},d.prototype._trigger=function(t,e,n){if("*"==t)throw new Error("Cannot trigger event *");var i=[];t in this._subscribers&&(i=i.concat(this._subscribers[t])),"*"in this._subscribers&&(i=i.concat(this._subscribers["*"]));for(var r=0,o=i.length;r<o;r++){var a=i[r];a.callback&&a.callback(t,e,n||null)}},d.prototype.add=function(t,e){var n,i=[],r=this;if(Array.isArray(t))for(var o=0,s=t.length;o<s;o++)n=r._addItem(t[o]),i.push(n);else{if(!t||"object"!==("undefined"===typeof t?"undefined":(0,a["default"])(t)))throw new Error("Unknown dataType");n=r._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i},d.prototype.update=function(t,e){var n=[],i=[],r=[],o=[],s=this,u=s._fieldId,c=function(t){var e=t[u];if(s._data[e]){var a=h.extend({},s._data[e]);e=s._updateItem(t),i.push(e),o.push(t),r.push(a)}else e=s._addItem(t),n.push(e)};if(Array.isArray(t))for(var l=0,d=t.length;l<d;l++)t[l]&&"object"===(0,a["default"])(t[l])?c(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!t||"object"!==("undefined"===typeof t?"undefined":(0,a["default"])(t)))throw new Error("Unknown dataType");c(t)}if(n.length&&this._trigger("add",{items:n},e),i.length){var f={items:i,oldData:r,data:o};this._trigger("update",f,e)}return n.concat(i)},d.prototype.get=function(t){var e,n,i,r,o=this,a=h.getType(arguments[0]);if("String"==a||"Number"==a?(e=arguments[0],i=arguments[1]):"Array"==a?(n=arguments[0],i=arguments[1]):i=arguments[0],i&&i.returnType){var s=["Array","Object"];r=-1==s.indexOf(i.returnType)?"Array":i.returnType}else r="Array";var c,l,d,f,p,g=i&&i.type||this._options.type,v=i&&i.filter,m=[];if(void 0!=e)c=o._getItem(e,g),c&&v&&!v(c)&&(c=null);else if(void 0!=n)for(f=0,p=n.length;f<p;f++)c=o._getItem(n[f],g),v&&!v(c)||m.push(c);else for(l=(0,u["default"])(this._data),f=0,p=l.length;f<p;f++)d=l[f],c=o._getItem(d,g),v&&!v(c)||m.push(c);if(i&&i.order&&void 0==e&&this._sort(m,i.order),i&&i.fields){var y=i.fields;if(void 0!=e)c=this._filterFields(c,y);else for(f=0,p=m.length;f<p;f++)m[f]=this._filterFields(m[f],y)}if("Object"==r){var b,x={};for(f=0,p=m.length;f<p;f++)b=m[f],x[b.id]=b;return x}return void 0!=e?c:m},d.prototype.getIds=function(t){var e,n,i,r,o,a=this._data,s=t&&t.filter,c=t&&t.order,h=t&&t.type||this._options.type,l=(0,u["default"])(a),d=[];if(s)if(c){for(o=[],e=0,n=l.length;e<n;e++)i=l[e],r=this._getItem(i,h),s(r)&&o.push(r);for(this._sort(o,c),e=0,n=o.length;e<n;e++)d.push(o[e][this._fieldId])}else for(e=0,n=l.length;e<n;e++)i=l[e],r=this._getItem(i,h),s(r)&&d.push(r[this._fieldId]);else if(c){for(o=[],e=0,n=l.length;e<n;e++)i=l[e],o.push(a[i]);for(this._sort(o,c),e=0,n=o.length;e<n;e++)d.push(o[e][this._fieldId])}else for(e=0,n=l.length;e<n;e++)i=l[e],r=a[i],d.push(r[this._fieldId]);return d},d.prototype.getDataSet=function(){return this},d.prototype.forEach=function(t,e){var n,i,r,o,a=e&&e.filter,s=e&&e.type||this._options.type,c=this._data,h=(0,u["default"])(c);if(e&&e.order){var l=this.get(e);for(n=0,i=l.length;n<i;n++)r=l[n],o=r[this._fieldId],t(r,o)}else for(n=0,i=h.length;n<i;n++)o=h[n],r=this._getItem(o,s),a&&!a(r)||t(r,o)},d.prototype.map=function(t,e){var n,i,r,o,a=e&&e.filter,s=e&&e.type||this._options.type,c=[],h=this._data,l=(0,u["default"])(h);for(n=0,i=l.length;n<i;n++)r=l[n],o=this._getItem(r,s),a&&!a(o)||c.push(t(o,r));return e&&e.order&&this._sort(c,e.order),c},d.prototype._filterFields=function(t,e){if(!t)return t;var n,i,r={},o=(0,u["default"])(t),a=o.length;if(Array.isArray(e))for(n=0;n<a;n++)i=o[n],-1!=e.indexOf(i)&&(r[i]=t[i]);else for(n=0;n<a;n++)i=o[n],e.hasOwnProperty(i)&&(r[e[i]]=t[i]);return r},d.prototype._sort=function(t,e){if(h.isString(e)){var n=e;t.sort((function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},d.prototype.remove=function(t,e){var n,i,r,o,a=[],s=[],u=[];for(u=Array.isArray(t)?t:[t],n=0,i=u.length;n<i;n++)o=this._remove(u[n]),o&&(r=o[this._fieldId],void 0!=r&&(a.push(r),s.push(o)));return a.length&&this._trigger("remove",{items:a,oldData:s},e),a},d.prototype._remove=function(t){var e,n;return h.isNumber(t)||h.isString(t)?n=t:t&&"object"===("undefined"===typeof t?"undefined":(0,a["default"])(t))&&(n=t[this._fieldId]),void 0!==n&&this._data[n]?(e=this._data[n],delete this._data[n],this.length--,e):null},d.prototype.clear=function(t){var e,n,i=(0,u["default"])(this._data),r=[];for(e=0,n=i.length;e<n;e++)r.push(this._data[i[e]]);return this._data={},this.length=0,this._trigger("remove",{items:i,oldData:r},t),i},d.prototype.max=function(t){var e,n,i=this._data,r=(0,u["default"])(i),o=null,a=null;for(e=0,n=r.length;e<n;e++){var s=r[e],c=i[s],h=c[t];null!=h&&(!o||h>a)&&(o=c,a=h)}return o},d.prototype.min=function(t){var e,n,i=this._data,r=(0,u["default"])(i),o=null,a=null;for(e=0,n=r.length;e<n;e++){var s=r[e],c=i[s],h=c[t];null!=h&&(!o||h<a)&&(o=c,a=h)}return o},d.prototype.distinct=function(t){var e,n,i,r=this._data,o=(0,u["default"])(r),a=[],s=this._options.type&&this._options.type[t]||null,c=0;for(e=0,i=o.length;e<i;e++){var l=o[e],d=r[l],f=d[t],p=!1;for(n=0;n<c;n++)if(a[n]==f){p=!0;break}p||void 0===f||(a[c]=f,c++)}if(s)for(e=0,i=a.length;e<i;e++)a[e]=h.convert(a[e],s);return a},d.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=h.randomUUID(),t[this._fieldId]=e;var n,i,r={},o=(0,u["default"])(t);for(n=0,i=o.length;n<i;n++){var a=o[n],s=this._type[a];r[a]=h.convert(t[a],s)}return this._data[e]=r,this.length++,e},d.prototype._getItem=function(t,e){var n,i,r,o,a=this._data[t];if(!a)return null;var s={},c=(0,u["default"])(a);if(e)for(r=0,o=c.length;r<o;r++)n=c[r],i=a[n],s[n]=h.convert(i,e[n]);else for(r=0,o=c.length;r<o;r++)n=c[r],i=a[n],s[n]=i;return s[this._fieldId]||(s[this._fieldId]=a.id),s},d.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+(0,r["default"])(t)+")");var n=this._data[e];if(!n)throw new Error("Cannot update item: no item with id "+e+" found");for(var i=(0,u["default"])(t),o=0,a=i.length;o<a;o++){var s=i[o],c=this._type[s];n[s]=h.convert(t[s],c)}return e},t.exports=d},function(t,e,n){var i=n(8),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(11);function u(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var n=this;this.listener=function(){n._onEvent.apply(n,arguments)},this.setData(t)}u.prototype.setData=function(t){var e,n,i,r,o;if(this._data){for(this._data.off&&this._data.off("*",this.listener),e=this._data.getIds({filter:this._options&&this._options.filter}),o=[],i=0,r=e.length;i<r;i++)o.push(this._data._data[e[i]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:o})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),i=0,r=e.length;i<r;i++)n=e[i],this._ids[n]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},u.prototype.refresh=function(){var t,e,n,i=this._data.getIds({filter:this._options&&this._options.filter}),o=(0,r["default"])(this._ids),a={},s=[],u=[],c=[];for(e=0,n=i.length;e<n;e++)t=i[e],a[t]=!0,this._ids[t]||(s.push(t),this._ids[t]=!0);for(e=0,n=o.length;e<n;e++)t=o[e],a[t]||(u.push(t),c.push(this._data._data[t]),delete this._ids[t]);this.length+=s.length-u.length,s.length&&this._trigger("add",{items:s}),u.length&&this._trigger("remove",{items:u,oldData:c})},u.prototype.get=function(t){var e,n,i,r=this,o=a.getType(arguments[0]);"String"==o||"Number"==o||"Array"==o?(e=arguments[0],n=arguments[1],i=arguments[2]):(n=arguments[0],i=arguments[1]);var s=a.extend({},this._options,n);this._options.filter&&n&&n.filter&&(s.filter=function(t){return r._options.filter(t)&&n.filter(t)});var u=[];return void 0!=e&&u.push(e),u.push(s),u.push(i),this._data&&this._data.get.apply(this._data,u)},u.prototype.getIds=function(t){var e;if(this._data){var n,i=this._options.filter;n=t&&t.filter?i?function(e){return i(e)&&t.filter(e)}:t.filter:i,e=this._data.getIds({filter:n,order:t&&t.order})}else e=[];return e},u.prototype.map=function(t,e){var n=[];if(this._data){var i,r=this._options.filter;i=e&&e.filter?r?function(t){return r(t)&&e.filter(t)}:e.filter:r,n=this._data.map(t,{filter:i,order:e&&e.order})}else n=[];return n},u.prototype.getDataSet=function(){var t=this;while(t instanceof u)t=t._data;return t||null},u.prototype._onEvent=function(t,e,n){var i,r,o,a,s=e&&e.items,u=[],c=[],h=[],l=[],d=[],f=[];if(s&&this._data){switch(t){case"add":for(i=0,r=s.length;i<r;i++)o=s[i],a=this.get(o),a&&(this._ids[o]=!0,u.push(o));break;case"update":for(i=0,r=s.length;i<r;i++)o=s[i],a=this.get(o),a?this._ids[o]?(c.push(o),d.push(e.data[i]),l.push(e.oldData[i])):(this._ids[o]=!0,u.push(o)):this._ids[o]&&(delete this._ids[o],h.push(o),f.push(e.oldData[i]));break;case"remove":for(i=0,r=s.length;i<r;i++)o=s[i],this._ids[o]&&(delete this._ids[o],h.push(o),f.push(e.oldData[i]));break}this.length+=u.length-h.length,u.length&&this._trigger("add",{items:u},n),c.length&&this._trigger("update",{items:c,oldData:l,data:d},n),h.length&&this._trigger("remove",{items:h,oldData:f},n)}},u.prototype.on=s.prototype.on,u.prototype.off=s.prototype.off,u.prototype._trigger=s.prototype._trigger,u.prototype.subscribe=u.prototype.on,u.prototype.unsubscribe=u.prototype.off,t.exports=u},function(t,e,n){var i=n(57)("wks"),r=n(40),o=n(18).Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},function(t,e,n){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var n=0;n<t[e].redundant.length;n++)t[e].redundant[n].parentNode.removeChild(t[e].redundant[n]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,n){var i;return e.hasOwnProperty(t)?e[t].redundant.length>0?(i=e[t].redundant[0],e[t].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",t),n.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},n.appendChild(i)),e[t].used.push(i),i},e.getDOMElement=function(t,e,n,i){var r;return e.hasOwnProperty(t)?e[t].redundant.length>0?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0!==i?n.insertBefore(r,i):n.appendChild(r)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==i?n.insertBefore(r,i):n.appendChild(r)),e[t].used.push(r),r},e.drawPoint=function(t,n,i,r,o,a){var s;if("circle"==i.style?(s=e.getSVGElement("circle",r,o),s.setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",n),s.setAttributeNS(null,"r",.5*i.size)):(s=e.getSVGElement("rect",r,o),s.setAttributeNS(null,"x",t-.5*i.size),s.setAttributeNS(null,"y",n-.5*i.size),s.setAttributeNS(null,"width",i.size),s.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&s.setAttributeNS(null,"style",i.styles),s.setAttributeNS(null,"class",i.className+" vis-point"),a){var u=e.getSVGElement("text",r,o);a.xOffset&&(t+=a.xOffset),a.yOffset&&(n+=a.yOffset),a.content&&(u.textContent=a.content),a.className&&u.setAttributeNS(null,"class",a.className+" vis-label"),u.setAttributeNS(null,"x",t),u.setAttributeNS(null,"y",n)}return s},e.drawBar=function(t,n,i,r,o,a,s,u){if(0!=r){r<0&&(r*=-1,n-=r);var c=e.getSVGElement("rect",a,s);c.setAttributeNS(null,"x",t-.5*i),c.setAttributeNS(null,"y",n),c.setAttributeNS(null,"width",i),c.setAttributeNS(null,"height",r),c.setAttributeNS(null,"class",o),u&&c.setAttributeNS(null,"style",u)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var i=n(19),r=f(i),o=n(6),a=f(o),s=n(8),u=f(s),c=n(0),h=f(c),l=n(1),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=n(2),g=!1,v=void 0,m="background: #FFeeee; color: #dd0000",y=function(){function t(){(0,h["default"])(this,t)}return(0,d["default"])(t,null,[{key:"validate",value:function(e,n,i){g=!1,v=n;var r=n;return void 0!==i&&(r=n[i]),t.parse(e,r,[]),g}},{key:"parse",value:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,n,i)}},{key:"check",value:function(e,n,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,a=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",a="object"===t.getType(n[e]));var s=i[o];a&&void 0!==s.__type__&&(s=s.__type__),t.checkFields(e,n,i,o,s,r)}else t.getSuggestion(e,i,r)}},{key:"checkFields",value:function(e,n,i,r,o,a){var s=function(n){console.log("%c"+n+t.printLocation(a,e),m)},c=t.getType(n[e]),h=o[c];void 0!==h?"array"===t.getType(h)&&-1===h.indexOf(n[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+t.print(h)+' not "'+n[e]+'". '),g=!0):"object"===c&&"__any__"!==r&&(a=p.copyAndExtendArray(a,e),t.parse(n[e],i[r],a)):void 0===o["any"]&&(s('Invalid type received for "'+e+'". Expected: '+t.print((0,u["default"])(o))+". Received ["+c+'] "'+n[e]+'"'),g=!0)}},{key:"getType",value:function(t){var e="undefined"===typeof t?"undefined":(0,a["default"])(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,i){var r=t.findInOptions(e,n,i,!1),o=t.findInOptions(e,v,[],!0),a=8,s=4,c=void 0;c=void 0!==r.indexMatch?" in "+t.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':o.distance<=s&&r.distance>o.distance?" in "+t.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):r.distance<=a?'. Did you mean "'+r.closestMatch+'"?'+t.printLocation(r.path,e):". Did you mean one of these: "+t.print((0,u["default"])(n))+t.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+c,m),g=!0}},{key:"findInOptions",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,a="",s=[],u=e.toLowerCase(),c=void 0;for(var h in n){var l=void 0;if(void 0!==n[h].__type__&&!0===r){var d=t.findInOptions(e,n[h],p.copyAndExtendArray(i,h));o>d.distance&&(a=d.closestMatch,s=d.path,o=d.distance,c=d.indexMatch)}else-1!==h.toLowerCase().indexOf(u)&&(c=h),l=t.levenshteinDistance(e,h),o>l&&(a=h,s=p.copyArray(i),o=l)}return{closestMatch:a,path:s,distance:o,indexMatch:c}}},{key:"printLocation",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+n+"options = {\n",r=0;r<t.length;r++){for(var o=0;o<r+1;o++)i+="  ";i+=t[r]+": {\n"}for(var a=0;a<t.length+1;a++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var u=0;u<t.length-s;u++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return(0,r["default"])(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,r=[];for(n=0;n<=e.length;n++)r[n]=[n];for(i=0;i<=t.length;i++)r[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[e.length][t.length]}}]),t}();e["default"]=y,e.printStyle=m},function(t,e,n){var i=n(2);function r(t,e){this.options=null,this.props=null}r.prototype.setOptions=function(t){t&&i.extend(this.options,t)},r.prototype.redraw=function(){return!1},r.prototype.destroy=function(){},r.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=r},function(t,e,n){var i=n(18),r=n(7),o=n(80),a=n(26),s="prototype",u=function(t,e,n){var c,h,l,d=t&u.F,f=t&u.G,p=t&u.S,g=t&u.P,v=t&u.B,m=t&u.W,y=f?r:r[e]||(r[e]={}),b=y[s],x=f?i:p?i[e]:(i[e]||{})[s];for(c in f&&(n=e),n)h=!d&&x&&void 0!==x[c],h&&c in y||(l=h?x[c]:n[c],y[c]=f&&"function"!=typeof x[c]?n[c]:v&&h?o(l,i):m&&x[c]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):g&&"function"==typeof l?o(Function.call,l):l,g&&((y.virtual||(y.virtual={}))[c]=l,t&u.R&&b&&!b[c]&&a(b,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports={default:n(160),__esModule:!0}},function(t,e,n){var i=n(27),r=n(81),o=n(53),a=Object.defineProperty;e.f=n(21)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=c(i),o=n(0),a=c(o),s=n(1),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,n,i){(0,a["default"])(this,t),this.body=n,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,u["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,r["default"])(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var n=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,n),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),n>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,r=this.textSize.height,o=14;return 0===i&&(i=o,r=o),{width:i,height:r}}}]),t}();e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){this.labelModule.getTextSize(t,e,n);var r=2*i.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,r,o,a,s){if(this.resize(t,o,a,s),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,s),t[e](i,r,s.size),this.performFill(t,s),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,o,a,i,r,"hanging");var u=r+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,i,u,o,a,"hanging")}this.updateBoundingBox(i,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(p["default"]);e["default"]=v},function(t,e,n){var i=n(78),r=n(51);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(20),r=n(39);t.exports=n(21)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(32);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){t.exports={default:n(138),__esModule:!0}},function(t,e,n){e.__esModule=!0;var i=n(188),r=s(i),o=n(77),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,u=(0,a.default)(t);!(i=(s=u.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){r=!0,o=c}finally{try{!i&&u["return"]&&u["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var i=n(84),r=n(58);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){function i(t,e,n){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0}i.subtract=function(t,e){var n=new i;return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},i.add=function(t,e){var n=new i;return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},i.crossProduct=function(t,e){var n=new i;return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=i},function(t,e,n){var i,r,o;(function(n,a){r=[],i=a,o="function"===typeof i?i.apply(e,r):i,void 0===o||(t.exports=o)})(0,(function(){function t(t){var e,n=t&&t.preventDefault||!1,i=t&&t.container||window,r={},o={keydown:{},keyup:{}},a={};for(e=97;e<=122;e++)a[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)a[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)a[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a["left"]={code:37,shift:!1},a["up"]={code:38,shift:!1},a["right"]={code:39,shift:!1},a["down"]={code:40,shift:!1},a["space"]={code:32,shift:!1},a["enter"]={code:13,shift:!1},a["shift"]={code:16,shift:void 0},a["esc"]={code:27,shift:!1},a["backspace"]={code:8,shift:!1},a["tab"]={code:9,shift:!1},a["ctrl"]={code:17,shift:!1},a["alt"]={code:18,shift:!1},a["delete"]={code:46,shift:!1},a["pageup"]={code:33,shift:!1},a["pagedown"]={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var s=function(t){c(t,"keydown")},u=function(t){c(t,"keyup")},c=function(t,e){if(void 0!==o[e][t.keyCode]){for(var i=o[e][t.keyCode],r=0;r<i.length;r++)void 0===i[r].shift?i[r].fn(t):1==i[r].shift&&1==t.shiftKey?i[r].fn(t):0==i[r].shift&&0==t.shiftKey&&i[r].fn(t);1==n&&t.preventDefault()}};return r.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===o[n][a[t].code]&&(o[n][a[t].code]=[]),o[n][a[t].code].push({fn:e,shift:a[t].shift})},r.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),a)a.hasOwnProperty(n)&&r.bind(n,t,e)},r.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],r=o[n][a[t].code];if(void 0!==r)for(var s=0;s<r.length;s++)r[s].fn==e&&r[s].shift==a[t].shift||i.push(o[n][a[t].code][s]);o[n][a[t].code]=i}else o[n][a[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",s,!0),i.removeEventListener("keyup",u,!0)},i.addEventListener("keydown",s,!0),i.addEventListener("keyup",u,!0),r}return t}))},function(t,e,n){e.convertHiddenOptions=function(t,n,i){if(i&&!Array.isArray(i))return e.convertHiddenOptions(t,n,[i]);if(n.hiddenDates=[],i&&1==Array.isArray(i)){for(var r=0;r<i.length;r++)if(void 0===i[r].repeat){var o={};o.start=t(i[r].start).toDate().valueOf(),o.end=t(i[r].end).toDate().valueOf(),n.hiddenDates.push(o)}n.hiddenDates.sort((function(t,e){return t.start-e.start}))}},e.updateHiddenDates=function(t,n,i){if(i&&!Array.isArray(i))return e.updateHiddenDates(t,n,[i]);if(i&&void 0!==n.domProps.centerContainer.width){e.convertHiddenOptions(t,n,i);for(var r=t(n.range.start),o=t(n.range.end),a=n.range.end-n.range.start,s=a/n.domProps.centerContainer.width,u=0;u<i.length;u++)if(void 0!==i[u].repeat){var c=t(i[u].start),h=t(i[u].end);if("Invalid Date"==c._d)throw new Error("Supplied start date is not valid: "+i[u].start);if("Invalid Date"==h._d)throw new Error("Supplied end date is not valid: "+i[u].end);var l=h-c;if(l>=4*s){var d=0,f=o.clone();switch(i[u].repeat){case"daily":c.day()!=h.day()&&(d=1),c.dayOfYear(r.dayOfYear()),c.year(r.year()),c.subtract(7,"days"),h.dayOfYear(r.dayOfYear()),h.year(r.year()),h.subtract(7-d,"days"),f.add(1,"weeks");break;case"weekly":var p=h.diff(c,"days"),g=c.day();c.date(r.date()),c.month(r.month()),c.year(r.year()),h=c.clone(),c.day(g),h.day(g),h.add(p,"days"),c.subtract(1,"weeks"),h.subtract(1,"weeks"),f.add(1,"weeks");break;case"monthly":c.month()!=h.month()&&(d=1),c.month(r.month()),c.year(r.year()),c.subtract(1,"months"),h.month(r.month()),h.year(r.year()),h.subtract(1,"months"),h.add(d,"months"),f.add(1,"months");break;case"yearly":c.year()!=h.year()&&(d=1),c.year(r.year()),c.subtract(1,"years"),h.year(r.year()),h.subtract(1,"years"),h.add(d,"years"),f.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[u].repeat)}while(c<f)switch(n.hiddenDates.push({start:c.valueOf(),end:h.valueOf()}),i[u].repeat){case"daily":c.add(1,"days"),h.add(1,"days");break;case"weekly":c.add(1,"weeks"),h.add(1,"weeks");break;case"monthly":c.add(1,"months"),h.add(1,"months");break;case"yearly":c.add(1,"y"),h.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[u].repeat)}n.hiddenDates.push({start:c.valueOf(),end:h.valueOf()})}}e.removeDuplicates(n);var v=e.isHidden(n.range.start,n.hiddenDates),m=e.isHidden(n.range.end,n.hiddenDates),y=n.range.start,b=n.range.end;1==v.hidden&&(y=1==n.range.startToFront?v.startDate-1:v.endDate+1),1==m.hidden&&(b=1==n.range.endToFront?m.startDate-1:m.endDate+1),1!=v.hidden&&1!=m.hidden||n.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,n=[],i=0;i<e.length;i++)for(var r=0;r<e.length;r++)i!=r&&1!=e[r].remove&&1!=e[i].remove&&(e[r].start>=e[i].start&&e[r].end<=e[i].end?e[r].remove=!0:e[r].start>=e[i].start&&e[r].start<=e[i].end?(e[i].end=e[r].end,e[r].remove=!0):e[r].end>=e[i].start&&e[r].end<=e[i].end&&(e[i].start=e[r].start,e[r].remove=!0));for(i=0;i<e.length;i++)!0!==e[i].remove&&n.push(e[i]);t.hiddenDates=n,t.hiddenDates.sort((function(t,e){return t.start-e.start}))},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,n){for(var i=!1,r=e.current.valueOf(),o=0;o<e.hiddenDates.length;o++){var a=e.hiddenDates[o].start,s=e.hiddenDates[o].end;if(r>=a&&r<s){i=!0;break}}if(1==i&&r<e._end.valueOf()&&r!=n){var u=t(n),c=t(s);u.year()!=c.year()?e.switchedYear=!0:u.month()!=c.month()?e.switchedMonth=!0:u.dayOfYear()!=c.dayOfYear()&&(e.switchedDay=!0),e.current=c}},e.toScreen=function(t,n,i){var r;if(0==t.body.hiddenDates.length)return r=t.range.conversion(i),(n.valueOf()-r.offset)*r.scale;var o=e.isHidden(n,t.body.hiddenDates);1==o.hidden&&(n=o.startDate);var a=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(n<t.range.start){r=t.range.conversion(i,a);var s=e.getHiddenDurationBeforeStart(t.body.hiddenDates,n,r.offset);return n=t.options.moment(n).toDate().valueOf(),n+=s,-(r.offset-n.valueOf())*r.scale}if(n>t.range.end){var u={start:t.range.start,end:n};return n=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,u,n),r=t.range.conversion(i,a),(n.valueOf()-r.offset)*r.scale}return n=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,n),r=t.range.conversion(i,a),(n.valueOf()-r.offset)*r.scale},e.toTime=function(t,n,i){if(0==t.body.hiddenDates.length){var r=t.range.conversion(i);return new Date(n/r.scale+r.offset)}var o=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),a=t.range.end-t.range.start-o,s=a*n/i,u=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,s);return new Date(u+s+t.range.start)},e.getHiddenDurationBetween=function(t,e,n){for(var i=0,r=0;r<t.length;r++){var o=t[r].start,a=t[r].end;o>=e&&a<n&&(i+=a-o)}return i},e.getHiddenDurationBeforeStart=function(t,e,n){for(var i=0,r=0;r<t.length;r++){var o=t[r].start,a=t[r].end;o>=e&&a<=n&&(i+=a-o)}return i},e.correctTimeForHidden=function(t,n,i,r){return r=t(r).toDate().valueOf(),r-=e.getHiddenDurationBefore(t,n,i,r),r},e.getHiddenDurationBefore=function(t,e,n,i){var r=0;i=t(i).toDate().valueOf();for(var o=0;o<e.length;o++){var a=e[o].start,s=e[o].end;a>=n.start&&s<n.end&&i>=s&&(r+=s-a)}return r},e.getAccumulatedHiddenDuration=function(t,e,n){for(var i=0,r=0,o=e.start,a=0;a<t.length;a++){var s=t[a].start,u=t[a].end;if(s>=e.start&&u<e.end){if(r+=s-o,o=u,r>=n)break;i+=u-s}}return i},e.snapAwayFromHidden=function(t,n,i,r){var o=e.isHidden(n,t);return 1==o.hidden?i<0?1==r?o.startDate-(o.endDate-n)-1:o.startDate-1:1==r?o.endDate+(n-o.startDate)+1:o.endDate+1:n},e.isHidden=function(t,e){for(var n=0;n<e.length;n++){var i=e[n].start,r=e[n].end;if(t>=i&&t<r)return{hidden:!0,startDate:i,endDate:r}}return{hidden:!1,startDate:i,endDate:r}}},function(t,e,n){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){var e="pan-y";return t.getTouchAction=function(){return[e]},t}},function(t,e,n){var i=n(6),r=s(i),o=n(8),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(10),c=n(2),h=n(9);function l(t,e,n){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=n||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}l.prototype.stack=!0,l.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0);var n=void 0!=t.subgroup&&this.data.subgroup!=t.subgroup;n&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},l.prototype.isVisible=function(t){return!1},l.prototype.show=function(){return!1},l.prototype.hide=function(){return!1},l.prototype.redraw=function(){},l.prototype.repositionX=function(){},l.prototype.repositionY=function(){},l.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var n=new u(e);n.on("tap",(function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})})),n.on("doubletap",(function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})})),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},l.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var n=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",i.title="Delete this item",new u(i).on("tap",(function(t){t.stopPropagation(),n.parent.removeFromDataSet(n)})),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},l.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",t.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var i,r=50,o=this.parent.itemSet.body.domProps.scrollTop;i="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height;var a,s,u=i+this.parent.top-r<-o;u?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(s=this.options.tooltipOnItemUpdateTime.template.bind(this),a=s(this.data)):(a="start: "+h(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(a+="<br> end: "+h(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=a}}},l.prototype._updateContents=function(t){var e,n,i,r,o,a=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,u=s.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this),r=o(a,s)):r="",u)if(r instanceof Object&&!(r instanceof Element))o(a,u);else if(n=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(r),n){if(r instanceof Element)u.innerHTML="",u.appendChild(r);else if(void 0!=r)u.innerHTML=r;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=r}if(this.options.template?(i=this.options.template.bind(this),e=i(a,t,this.data)):e=this.data.content,e instanceof Object&&!(e instanceof Element))i(a,t);else if(n=this._contentToString(this.content)!==this._contentToString(e),n){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},l.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,a["default"])(this.data)}for(var n=0;n<e.length;n++){var i=e[n],r=this.data[i];null!=r?t.setAttribute("data-"+i,r):t.removeAttribute("data-"+i)}}},l.prototype._updateStyle=function(t){this.style&&(c.removeCssText(t,this.style),this.style=null),this.data.style&&(c.addCssText(t,this.data.style),this.style=this.data.style)},l.prototype._contentToString=function(t){return"string"===typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},l.prototype._updateEditStatus=function(){this.options&&("boolean"===typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,r["default"])(this.options.editable)&&(this.editable={},c.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"===typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,r["default"])(this.data.editable)&&(this.editable={},c.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},l.prototype.getWidthLeft=function(){return 0},l.prototype.getWidthRight=function(){return 0},l.prototype.getTitle=function(){return this.data.title},t.exports=l},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(51);t.exports=function(t){return Object(i(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){function i(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}i.prototype.setOptions=function(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay),t&&"undefined"!==typeof t.max&&(this.max=t.max),this._flushIfNeeded()},i.extend=function(t,e){var n=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(e&&e.replace)for(var o=0;o<e.replace.length;o++){var a=e.replace[o];r.push({name:a,original:t[a]}),n.replace(t,a)}return n._extended={object:t,methods:r},n},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}},i.prototype.replace=function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.queue({args:t,fn:i,context:this})}},i.prototype.queue=function(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"===typeof this.delay){var t=this;this._timeout=setTimeout((function(){t.flush()}),this.delay)}},i.prototype.flush=function(){while(this._queue.length>0){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=i},function(t,e){function n(t){if(t)return i(t)}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(16),u=n(66),c=n(36),h=n(9);function l(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:u.FORMAT,moment:h,timeAxis:null},this.options=a.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}l.prototype=new s,l.prototype.setOptions=function(t){t&&(a.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),a.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"===typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,r["default"])(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"===typeof h.locale?h.locale(t.locale):h.lang(t.locale)))},l.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},l.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},l.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,n=this.dom.background,i="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,r=e.parentNode!==i;this._calculateCharSize();var o=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,a=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=o?t.minorCharHeight:0,t.majorLabelHeight=a?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,u=n.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n),e.style.height=this.props.height+"px",this._repaintLabels(),s?i.insertBefore(e,s):i.appendChild(e),u?this.body.dom.backgroundVertical.insertBefore(n,u):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||r},l.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=a.convert(this.body.range.start,"Number"),n=a.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),r=i-c.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,i);r-=this.body.util.toTime(0).valueOf();var o=new u(new Date(e),new Date(n),r,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;var s,h,l,f,p,g=this.dom;g.redundant.lines=g.lines,g.redundant.majorTexts=g.majorTexts,g.redundant.minorTexts=g.minorTexts,g.lines=[],g.majorTexts=[],g.minorTexts=[];var v,m,y,b,x=0,w=void 0,_=0,M=1e3;o.start(),s=o.getCurrent(),l=this.body.util.toScreen(s);while(o.hasNext()&&_<M){switch(_++,f=o.isMajor(),b=o.getClassName(),y=o.getLabelMinor(),s,h=l,o.next(),s=o.getCurrent(),o.isMajor(),l=this.body.util.toScreen(s),v=x,x=l-h,o.scale){case"week":p=!0;break;default:p=x>=.4*v;break}if(this.options.showMinorLabels&&p){var k=this._repaintMinorText(h,y,t,b);k.style.width=x+"px"}f&&this.options.showMajorLabels?(h>0&&(void 0==w&&(w=h),k=this._repaintMajorText(h,o.getLabelMajor(),t,b)),m=this._repaintMajorLine(h,x,t,b)):p?m=this._repaintMinorLine(h,x,t,b):m&&(m.style.width=parseInt(m.style.width)+x+"px")}if(_!==M||d||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+M+" lines."),d=!0),this.options.showMajorLabels){var S=this.body.util.toTime(0),E=o.getLabelMajor(S),C=E.length*(this.props.majorCharWidth||10)+10;(void 0==w||C<w)&&this._repaintMajorText(0,E,t,b)}a.forEach(this.dom.redundant,(function(t){while(t.length){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}}))},l.prototype._repaintMinorText=function(t,e,n,i){var r=this.dom.redundant.minorTexts.shift();if(!r){var o=document.createTextNode("");r=document.createElement("div"),r.appendChild(o),this.dom.foreground.appendChild(r)}return this.dom.minorTexts.push(r),r.innerHTML=e,r.style.top="top"==n?this.props.majorLabelHeight+"px":"0",this.options.rtl?(r.style.left="",r.style.right=t+"px"):r.style.left=t+"px",r.className="vis-text vis-minor "+i,r},l.prototype._repaintMajorText=function(t,e,n,i){var r=this.dom.redundant.majorTexts.shift();if(!r){var o=document.createElement("div");r=document.createElement("div"),r.appendChild(o),this.dom.foreground.appendChild(r)}return r.childNodes[0].innerHTML=e,r.className="vis-text vis-major "+i,r.style.top="top"==n?"0":this.props.minorLabelHeight+"px",this.options.rtl?(r.style.left="",r.style.right=t+"px"):r.style.left=t+"px",this.dom.majorTexts.push(r),r},l.prototype._repaintMinorLine=function(t,e,n,i){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return r.style.top="top"==n?o.majorLabelHeight+"px":this.body.domProps.top.height+"px",r.style.height=o.minorLineHeight+"px",this.options.rtl?(r.style.left="",r.style.right=t-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-minor "+i):(r.style.left=t-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-minor "+i),r.style.width=e+"px",r},l.prototype._repaintMajorLine=function(t,e,n,i){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return r.style.top="top"==n?"0":this.body.domProps.top.height+"px",this.options.rtl?(r.style.left="",r.style.right=t-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-major "+i):(r.style.left=t-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-major "+i),r.style.height=o.majorLineHeight+"px",r.style.width=e+"px",r},l.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var d=!1;t.exports=l},function(t,e,n){var i=n(10),r=n(2),o=n(16),a=n(9),s=n(98);function u(t,e){this.body=t,this.defaultOptions={moment:a,locales:s,locale:"en",id:void 0,title:void 0},this.options=r.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}u.prototype=new o,u.prototype.setOptions=function(t){t&&r.selectiveExtend(["moment","locale","locales","id"],this.options,t)},u.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");function n(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",n.bind(this),!1),e.addEventListener("DOMMouseScroll",n.bind(this),!1)):e.attachEvent("onmousewheel",n.bind(this)),t.appendChild(e),this.hammer=new i(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:i.DIRECTION_HORIZONTAL})},u.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},u.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales["en"]);var i=this.options.title;return void 0===i?(i=n.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),i=i.charAt(0).toUpperCase()+i.substring(1)):"function"===typeof i&&(i=i.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=i,!1},u.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},u.prototype.setCustomTime=function(t){this.customTime=r.convert(t,"Date"),this.redraw()},u.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},u.prototype.setCustomTitle=function(t){this.options.title=t},u.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},u.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,n=this.body.util.toTime(e);this.setCustomTime(n),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},u.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},u.customTimeFromTarget=function(t){var e=t.target;while(e){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=n(117)["default"],h=n(48)["default"],l=n(193)["default"],d=n(200)["default"],f=n(201)["default"],p=n(202)["default"],g=n(203)["default"],v=n(204)["default"],m=n(205)["default"],y=n(206)["default"],b=n(207)["default"],x=n(208)["default"],w=n(209)["default"],_=n(210)["default"],M=n(211)["default"],k=n(212)["default"],S=n(213)["default"],E=n(15),C=E.printStyle,T=function(){function t(e,n,i,o,a,s){(0,r["default"])(this,t),this.options=u.bridgeObject(a),this.globalOptions=a,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new c(this.body,this.options,!1),this.setOptions(e)}return(0,a["default"])(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=h.choosify("node",i),this._load_images(),this.updateLabelModule(e),this.updateShape(n),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"===typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"===typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[e,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new l(this.options,this.body,this.labelModule);break;case"circle":this.shape=new d(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new f(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new p(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g(this.options,this.body,this.labelModule);break;case"dot":this.shape=new v(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new m(this.options,this.body,this.labelModule);break;case"icon":this.shape=new y(this.options,this.body,this.labelModule);break;case"image":this.shape=new b(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new x(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new w(this.options,this.body,this.labelModule);break;case"star":this.shape=new _(this.options,this.body,this.labelModule);break;case"text":this.shape=new M(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new k(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new S(this.options,this.body,this.labelModule);break;default:this.shape=new m(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&h.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),h.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,n){if(void 0!==n){var i=t.group;if(void 0!==e&&void 0!==e.group&&i!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");var r="number"===typeof i||"string"===typeof i&&""!=i;if(r){var o=n.get(i);u.selectiveNotDeepExtend(["font"],t,o),t.color=u.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments[4],a=["color","fixed","shadow"];if(u.selectiveNotDeepExtend(a,e,n,i),t.checkMass(n),u.mergeOptions(e,n,"shadow",r),void 0!==n.color&&null!==n.color){var s=u.parseColor(n.color);u.fillIfDefined(e.color,s)}else!0===i&&null===n.color&&(e.color=u.bridgeObject(r.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"===typeof n.fixed?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"===typeof n.fixed.x&&(e.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"===typeof n.fixed.y&&(e.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(e.font=u.bridgeObject(r.font)),t.updateGroupOptions(e,n,o),void 0!==n.scaling&&u.mergeOptions(e.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var n="";void 0!==e&&(n=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",C),t.mass=1}}}]),t}();e["default"]=T},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=c(i),o=n(0),a=c(o),s=n(1),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(2),l=function(){function t(){(0,a["default"])(this,t)}return(0,u["default"])(t,null,[{key:"choosify",value:function(t,e){var n=["node","edge","label"],i=!0,o=h.topMost(e,"chosen");if("boolean"===typeof o)i=o;else if("object"===("undefined"===typeof o?"undefined":(0,r["default"])(o))){if(-1===n.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var a=h.topMost(e,["chosen",t]);"boolean"!==typeof a&&"function"!==typeof a||(i=a)}return i}},{key:"pointInRect",value:function(t,e,n){if(t.width<=0||t.height<=0)return!1;if(void 0!==n){var i={x:e.x-n.x,y:e.y-n.y};if(0!==n.angle){var r=-n.angle,o={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y};e=o}else e=i}var a=t.x+t.width,s=t.y+t.width;return t.left<e.x&&a>e.x&&t.top<e.y&&s>e.y}},{key:"isValidLabel",value:function(t){return"string"===typeof t&&""!==t}}]),t}();e["default"]=l},function(t,e,n){n(125);for(var i=n(18),r=n(26),o=n(31),a=n(13)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],h=i[c],l=h&&h.prototype;l&&!l[a]&&r(l,a,c),o[c]=o.Array}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var i=n(32);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(27),r=n(130),o=n(58),a=n(56)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(82)("iframe"),i=o.length,r="<",a=">";e.style.display="none",n(134).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[u][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(57)("keys"),r=n(40);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(18),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(20).f,r=n(22),o=n(13)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(135)(!0);n(79)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){e.f=n(13)},function(t,e,n){var i=n(18),r=n(7),o=n(52),a=n(61),s=n(20).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(8),r=c(i),o=n(19),a=c(o),s=n(6),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(2),l=n(9),d=n(16),f=n(36);function p(t,e){var n=l().hours(0).minutes(0).seconds(0).milliseconds(0),i=n.clone().add(-3,"days").valueOf(),r=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=i,this.end=r):(this.start=e.start||i,this.end=e.end||r),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:l,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=h.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function g(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}p.prototype=new d,p.prototype.setOptions=function(t){if(t){var e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];h.selectiveExtend(e,this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},p.prototype.startRolling=function(){var t=this;function e(){t.stopRolling(),t.rolling=!0;var n=t.end-t.start,i=h.convert(new Date,"Date").valueOf(),r=i-n*t.options.rollingMode.offset,o=i+n*(1-t.options.rollingMode.offset),a={animation:!1};t.setRange(r,o,a);var s=t.conversion(t.body.domProps.center.width).scale;n=1/s/10,n<30&&(n=30),n>1e3&&(n=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,n)}e()},p.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},p.prototype.setRange=function(t,e,n,i,o){n||(n={}),!0!==n.byUser&&(n.byUser=!1);var s=this,c=void 0!=t?h.convert(t,"Date").valueOf():null,l=void 0!=e?h.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,n.animation){var d=this.start,p=this.end,g="object"===(0,u["default"])(n.animation)&&"duration"in n.animation?n.animation.duration:500,v="object"===(0,u["default"])(n.animation)&&"easingFunction"in n.animation?n.animation.easingFunction:"easeInOutQuad",m=h.easingFunctions[v];if(!m)throw new Error("Unknown easing function "+(0,a["default"])(v)+". Choose from: "+(0,r["default"])(h.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1,x=function t(){if(!s.props.touch.dragging){var e=(new Date).valueOf(),r=e-y,a=m(r/g),u=r>g,h=u||null===c?c:d+(c-d)*a,v=u||null===l?l:p+(l-p)*a;w=s._applyRange(h,v),f.updateHiddenDates(s.options.moment,s.body,s.options.hiddenDates),b=b||w;var x={start:new Date(s.start),end:new Date(s.end),byUser:n.byUser,event:n.event};if(o&&o(a,w,u),w&&s.body.emitter.emit("rangechange",x),u){if(b&&(s.body.emitter.emit("rangechanged",x),i))return i()}else s.animationTimer=setTimeout(t,20)}};return x()}var w=this._applyRange(c,l);if(f.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),w){var _={start:new Date(this.start),end:new Date(this.end),byUser:n.byUser,event:n.event};if(this.body.emitter.emit("rangechange",_),clearTimeout(s.timeoutID),s.timeoutID=setTimeout((function(){s.body.emitter.emit("rangechanged",_)}),200),i)return i()}},p.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},p.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},p.prototype._applyRange=function(t,e){var n,i=null!=t?h.convert(t,"Date").valueOf():this.start,r=null!=e?h.convert(e,"Date").valueOf():this.end,o=null!=this.options.max?h.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?h.convert(this.options.min,"Date").valueOf():null;if(isNaN(i)||null===i)throw new Error('Invalid start "'+t+'"');if(isNaN(r)||null===r)throw new Error('Invalid end "'+e+'"');if(r<i&&(r=i),null!==a&&i<a&&(n=a-i,i+=n,r+=n,null!=o&&r>o&&(r=o)),null!==o&&r>o&&(n=r-o,i-=n,r-=n,null!=a&&i<a&&(i=a)),null!==this.options.zoomMin){var s=parseFloat(this.options.zoomMin);if(s<0&&(s=0),r-i<s){var u=.5;this.end-this.start===s&&i>=this.start-u&&r<=this.end?(i=this.start,r=this.end):(n=s-(r-i),i-=n/2,r+=n/2)}}if(null!==this.options.zoomMax){var c=parseFloat(this.options.zoomMax);c<0&&(c=0),r-i>c&&(this.end-this.start===c&&i<this.start&&r>this.end?(i=this.start,r=this.end):(n=r-i-c,i+=n/2,r-=n/2))}var l=this.start!=i||this.end!=r;return i>=this.start&&i<=this.end||r>=this.start&&r<=this.end||this.start>=i&&this.start<=r||this.end>=i&&this.end<=r||this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=r,l},p.prototype.getRange=function(){return{start:this.start,end:this.end}},p.prototype.conversion=function(t,e){return p.conversion(this.start,this.end,t,e)},p.conversion=function(t,e,n,i){return void 0===i&&(i=0),0!=n&&e-t!=0?{offset:t,scale:n/(e-t-i)}:{offset:0,scale:1}},p.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},p.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;g(e);var n="horizontal"==e?t.deltaX:t.deltaY;n-=this.deltaDifference;var i=this.props.touch.end-this.props.touch.start,r=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);i-=r;var o,a="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;o=this.options.rtl?n/a*i:-n/a*i;var s=this.props.touch.start+o,u=this.props.touch.end+o,c=f.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-n,!0),h=f.snapAwayFromHidden(this.body.hiddenDates,u,this.previousDelta-n,!0);if(c!=s||h!=u)return this.deltaDifference+=n,this.props.touch.start=c,this.props.touch.end=h,void this._onDrag(t);this.previousDelta=n,this._applyRange(s,u);var l=new Date(this.start),d=new Date(this.end);this.body.emitter.emit("rangechange",{start:l,end:d,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},p.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},p.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var n,i;if(n=e<0?1-e/5:1/(1+e/5),this.rolling)i=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var r=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);i=this._pointerToDate(r)}this.zoom(n,i,e,t),t.preventDefault()}},p.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,h.preventDefault(t)},p.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){h.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),i=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=f.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n),o=i-r,a=n-r+(this.props.touch.start-(n-r))*e,s=n+o+(this.props.touch.end-(n+o))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var u=f.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),c=f.snapAwayFromHidden(this.body.hiddenDates,s,e-1,!0);u==a&&c==s||(this.props.touch.start=u,this.props.touch.end=c,this.scaleOffset=1-t.scale,a=u,s=c);var l={animation:!1,byUser:!0,event:t};this.setRange(a,s,l),this.startToFront=!1,this.endToFront=!0}},p.prototype._isInsideRange=function(t){var e,n=t.center?t.center.x:t.clientX;e=this.options.rtl?n-h.getAbsoluteLeft(this.body.dom.centerContainer):h.getAbsoluteRight(this.body.dom.centerContainer)-n;var i=this.body.util.toTime(e);return i>=this.start&&i<=this.end},p.prototype._pointerToDate=function(t){var e,n=this.options.direction;if(g(n),"horizontal"==n)return this.body.util.toTime(t.x).valueOf();var i=this.body.domProps.center.height;return e=this.conversion(i),t.y/e.scale+e.offset},p.prototype.getPointer=function(t,e){return this.options.rtl?{x:h.getAbsoluteRight(e)-t.x,y:t.y-h.getAbsoluteTop(e)}:{x:t.x-h.getAbsoluteLeft(e),y:t.y-h.getAbsoluteTop(e)}},p.prototype.zoom=function(t,e,n,i){null==e&&(e=(this.start+this.end)/2);var r=f.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=f.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),a=r-o,s=e-o+(this.start-(e-o))*t,u=e+a+(this.end-(e+a))*t;this.startToFront=!(n>0),this.endToFront=!(-n>0);var c=f.snapAwayFromHidden(this.body.hiddenDates,s,n,!0),h=f.snapAwayFromHidden(this.body.hiddenDates,u,-n,!0);c==s&&h==u||(s=c,u=h);var l={animation:!1,byUser:!0,event:i};this.setRange(s,u,l),this.startToFront=!1,this.endToFront=!0},p.prototype.move=function(t){var e=this.end-this.start,n=this.start+e*t,i=this.end+e*t;this.start=n,this.end=i},p.prototype.moveTo=function(t){var e=(this.start+this.end)/2,n=e-t,i=this.start-n,r=this.end-n,o={animation:!1,byUser:!0,event:null};this.setRange(i,r,o)},t.exports=p},function(t,e,n){var i=n(19),r=s(i),o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(44),c=n(10),h=n(37),l=n(2),d=n(45),f=n(97),p=n(36),g=n(46);function v(){}u(v.prototype),v.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var e=this;this._origRedraw=this._redraw.bind(this),this._redraw=l.throttle(this._origRedraw),this.on("_change",(function(t){e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()})),this.hammer=new c(this.dom.root);var n=this.hammer.get("pinch").set({enable:!0});h.disablePreventDefaultVertically(n),this.hammer.get("pan").set({threshold:5,direction:c.DIRECTION_HORIZONTAL}),this.listeners={};var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];function r(t){this.isActive()&&this.emit("mousewheel",t);var e=0,n=0;if("detail"in t&&(n=-1*t.detail),"wheelDelta"in t&&(n=t.wheelDelta),"wheelDeltaY"in t&&(n=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*n,n=0),"deltaY"in t&&(n=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(n)>=Math.abs(e)){var i=this.props.scrollTop,r=i+n;this.isActive()&&(this._setScrollTop(r),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var o=Math.abs(e)>=Math.abs(n)?e:n,a=o/120*(this.range.end-this.range.start)/20,s=this.range.start+a,u=this.range.end+a,c={animation:!1,byUser:!0,event:t};this.range.setRange(s,u,c)}}function o(t){if(e.options.verticalScroll&&(t.preventDefault(),e.isActive())){var n=-t.target.scrollTop;e._setScrollTop(n),e._redraw(),e.emit("scrollSide",t)}}i.forEach((function(t){var n=function(n){e.isActive()&&e.emit(t,n)};e.hammer.on(t,n),e.listeners[t]=n})),h.onTouch(this.hammer,function(t){e.emit("touch",t)}.bind(this)),h.onRelease(this.hammer,function(t){e.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",r.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",r.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",r.bind(this)),this.dom.left.parentNode.addEventListener("scroll",o.bind(this)),this.dom.right.parentNode.addEventListener("scroll",o.bind(this));var a=!1;function s(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1)&&!a)return t.dataTransfer.dropEffect="move",a=!0,!1}function u(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var n=JSON.parse(t.dataTransfer.getData("text"));if(!n||!n.content)return}catch(i){return!1}return a=!1,t.center={x:t.clientX,y:t.clientY},"item"!==n.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t),e.emit("drop",e.getEventProperties(t)),!1}if(this.dom.center.addEventListener("dragover",s.bind(this),!1),this.dom.center.addEventListener("drop",u.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},v.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(l.selectiveExtend(e,this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,a["default"])(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"===typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,a["default"])(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var n=this.timeAxis2=new d(this.body);n.setOptions=function(t){var e=t?l.extend({},t):{};e.orientation="top",d.prototype.setOptions.call(n,e)},this.components.push(n)}}else if(this.timeAxis2){var i=this.components.indexOf(this.timeAxis2);-1!==i&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&p.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new f(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach((function(e){return e.setOptions(t)})),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var r=l.deepExtend({},this.options);this.components.forEach((function(t){l.deepExtend(r,t.options)})),this.configurator.setModuleOptions({global:r})}this._redraw()},v.prototype.isActive=function(){return!this.activator||this.activator.active},v.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach((function(t){return t.destroy()})),this.body=null},v.prototype.setCustomTime=function(t,e){var n=this.customTimes.filter((function(t){return e===t.options.id}));if(0===n.length)throw new Error("No custom time bar found with id "+(0,r["default"])(e));n.length>0&&n[0].setCustomTime(t)},v.prototype.getCustomTime=function(t){var e=this.customTimes.filter((function(e){return e.options.id===t}));if(0===e.length)throw new Error("No custom time bar found with id "+(0,r["default"])(t));return e[0].getCustomTime()},v.prototype.setCustomTimeTitle=function(t,e){var n=this.customTimes.filter((function(t){return t.options.id===e}));if(0===n.length)throw new Error("No custom time bar found with id "+(0,r["default"])(e));if(n.length>0)return n[0].setCustomTitle(t)},v.prototype.getEventProperties=function(t){return{event:t}},v.prototype.addCustomTime=function(t,e){var n=void 0!==t?l.convert(t,"Date").valueOf():new Date,i=this.customTimes.some((function(t){return t.options.id===e}));if(i)throw new Error("A custom time with id "+(0,r["default"])(e)+" already exists");var o=new g(this.body,l.extend({},this.options,{time:n,id:e}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e},v.prototype.removeCustomTime=function(t){var e=this.customTimes.filter((function(e){return e.options.id===t}));if(0===e.length)throw new Error("No custom time bar found with id "+(0,r["default"])(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},v.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},v.prototype.fit=function(t,e){var n=this.getDataRange();if(null!==n.min||null!==n.max){var i=n.max-n.min,r=new Date(n.min.valueOf()-.01*i),o=new Date(n.max.valueOf()+.01*i),a=!t||void 0===t.animation||t.animation;this.range.setRange(r,o,{animation:a},e)}},v.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},v.prototype.setWindow=function(t,e,n,i){var r,o;"function"==typeof arguments[2]&&(i=arguments[2],n={}),1==arguments.length?(o=arguments[0],r=void 0===o.animation||o.animation,this.range.setRange(o.start,o.end,{animation:r})):2==arguments.length&&"function"==typeof arguments[1]?(o=arguments[0],i=arguments[1],r=void 0===o.animation||o.animation,this.range.setRange(o.start,o.end,{animation:r},i)):(r=!n||void 0===n.animation||n.animation,this.range.setRange(t,e,{animation:r},i))},v.prototype.moveTo=function(t,e,n){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.range.end-this.range.start,r=l.convert(t,"Date").valueOf(),o=r-i/2,a=r+i/2,s=!e||void 0===e.animation||e.animation;this.range.setRange(o,a,{animation:s},n)},v.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},v.prototype.zoomIn=function(t,e,n){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.getWindow(),r=i.start.valueOf(),o=i.end.valueOf(),a=o-r,s=a/(1+t),u=(a-s)/2,c=r+u,h=o-u;this.setWindow(c,h,e,n)}},v.prototype.zoomOut=function(t,e,n){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.getWindow(),r=i.start.valueOf(),o=i.end.valueOf(),a=o-r,s=r-a*t/2,u=o+a*t/2;this.setWindow(s,u,e,n)}},v.prototype.redraw=function(){this._redraw()},v.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,n=this.props,i=this.dom;if(i&&i.container&&0!=i.root.offsetWidth){p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(l.addClassName(i.root,"vis-top"),l.removeClassName(i.root,"vis-bottom")):(l.removeClassName(i.root,"vis-top"),l.addClassName(i.root,"vis-bottom")),i.root.style.maxHeight=l.option.asSize(e.maxHeight,""),i.root.style.minHeight=l.option.asSize(e.minHeight,""),i.root.style.width=l.option.asSize(e.width,""),n.border.left=(i.centerContainer.offsetWidth-i.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(i.centerContainer.offsetHeight-i.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,n.borderRootHeight=i.root.offsetHeight-i.root.clientHeight,n.borderRootWidth=i.root.offsetWidth-i.root.clientWidth,0===i.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===i.root.clientHeight&&(n.borderRootWidth=n.borderRootHeight),n.center.height=i.center.offsetHeight,n.left.height=i.left.offsetHeight,n.right.height=i.right.offsetHeight,n.top.height=i.top.clientHeight||-n.border.top,n.bottom.height=i.bottom.clientHeight||-n.border.bottom;var r=Math.max(n.left.height,n.center.height,n.right.height),o=n.top.height+r+n.bottom.height+n.borderRootHeight+n.border.top+n.border.bottom;i.root.style.height=l.option.asSize(e.height,o+"px"),n.root.height=i.root.offsetHeight,n.background.height=n.root.height-n.borderRootHeight;var a=n.root.height-n.top.height-n.bottom.height-n.borderRootHeight;n.centerContainer.height=a,n.leftContainer.height=a,n.rightContainer.height=n.leftContainer.height,n.root.width=i.root.offsetWidth,n.background.width=n.root.width-n.borderRootWidth,this.initialDrawDone||(n.scrollbarWidth=l.getScrollBarWidth()),e.verticalScroll?e.rtl?(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth+n.scrollbarWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth+n.scrollbarWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=e.orientation.item&&(s+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),i.center.style.top=s+"px";var u=0==n.scrollTop?"hidden":"",h=n.scrollTop==n.scrollTopMin?"hidden":"";i.shadowTop.style.visibility=u,i.shadowBottom.style.visibility=h,i.shadowTopLeft.style.visibility=u,i.shadowBottomLeft.style.visibility=h,i.shadowTopRight.style.visibility=u,i.shadowBottomRight.style.visibility=h,e.verticalScroll&&(i.rightContainer.className="vis-panel vis-right vis-vertical-scroll",i.leftContainer.className="vis-panel vis-left vis-vertical-scroll",i.shadowTopRight.style.visibility="hidden",i.shadowBottomRight.style.visibility="hidden",i.shadowTopLeft.style.visibility="hidden",i.shadowBottomLeft.style.visibility="hidden",i.left.style.top="0px",i.right.style.top="0px"),(!e.verticalScroll||n.center.height<n.centerContainer.height)&&(i.left.style.top=s+"px",i.right.style.top=s+"px",i.rightContainer.className=i.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.leftContainer.className=i.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right,this._setDOM());var d=n.center.height>n.centerContainer.height;this.hammer.get("pan").set({direction:d?c.DIRECTION_ALL:c.DIRECTION_HORIZONTAL}),this.components.forEach((function(e){t=e.redraw()||t}));var f=5;if(t){if(this.redrawCount<f)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},v.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var n=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=n,t.centerContainer.width=n,t.top.width=n,t.bottom.width=n,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},v.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},v.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},v.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},v.prototype._toTime=function(t){return p.toTime(this,t,this.props.center.width)},v.prototype._toGlobalTime=function(t){return p.toTime(this,t,this.props.root.width)},v.prototype._toScreen=function(t){return p.toScreen(this,t,this.props.center.width)},v.prototype._toGlobalScreen=function(t){return p.toScreen(this,t,this.props.root.width)},v.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},v.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=l.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},l.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},v.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(l.removeEventListener(window,"resize",this._onResize),this._onResize=null)},v.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},v.prototype._onPinch=function(t){this.touch.allowDragging=!1},v.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,n=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=n&&this.emit("verticalDrag")}},v.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},v.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},v.prototype._getScrollTop=function(){return this.props.scrollTop},v.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=v},function(t,e,n){var i=n(9),r=n(36),o=n(2);function a(t,e,n,r,o){this.moment=i,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(r)?this.hiddenDates=r:this.hiddenDates=void 0!=r?[r]:[],this.format=a.FORMAT,this.options=o||{}}a.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},a.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},a.prototype.setFormat=function(t){var e=o.deepExtend({},a.FORMAT);this.format=o.deepExtend(e,t)},a.prototype.setRange=function(t,e,n){if(!(t instanceof Date)||!(e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(n)},a.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},a.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year");break;default:break}},a.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},a.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year");break;default:break}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":break;default:break}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,r.stepOverHiddenDates(this.moment,this,t)},a.prototype.getCurrent=function(){return this.current},a.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},a.prototype.setAutoScale=function(t){this.autoScale=t},a.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,n=2592e6,i=864e5,r=36e5,o=6e4,a=1e3,s=1;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),3*n>t&&(this.scale="month",this.step=3),n>t&&(this.scale="month",this.step=1),5*i>t&&(this.scale="day",this.step=5),2*i>t&&(this.scale="day",this.step=2),i>t&&(this.scale="day",this.step=1),i/2>t&&(this.scale="weekday",this.step=1),4*r>t&&(this.scale="hour",this.step=4),r>t&&(this.scale="hour",this.step=1),15*o>t&&(this.scale="minute",this.step=15),10*o>t&&(this.scale="minute",this.step=10),5*o>t&&(this.scale="minute",this.step=5),o>t&&(this.scale="minute",this.step=1),15*a>t&&(this.scale="second",this.step=15),10*a>t&&(this.scale="second",this.step=10),5*a>t&&(this.scale="second",this.step=5),a>t&&(this.scale="second",this.step=1),200*s>t&&(this.scale="millisecond",this.step=200),100*s>t&&(this.scale="millisecond",this.step=100),50*s>t&&(this.scale="millisecond",this.step=50),10*s>t&&(this.scale="millisecond",this.step=10),5*s>t&&(this.scale="millisecond",this.step=5),s>t&&(this.scale="millisecond",this.step=1)}},a.snap=function(t,e,n){var r=i(t);if("year"==e){var o=r.year()+Math.round(r.month()/12);r.year(Math.round(o/n)*n),r.month(0),r.date(0),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0)}else if("month"==e)r.date()>15?(r.date(1),r.add(1,"month")):r.date(1),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if("week"==e)r.weekday()>2?(r.weekday(0),r.add(1,"week")):r.weekday(0),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if("day"==e){switch(n){case 5:case 2:r.hours(24*Math.round(r.hours()/24));break;default:r.hours(12*Math.round(r.hours()/12));break}r.minutes(0),r.seconds(0),r.milliseconds(0)}else if("weekday"==e){switch(n){case 5:case 2:r.hours(12*Math.round(r.hours()/12));break;default:r.hours(6*Math.round(r.hours()/6));break}r.minutes(0),r.seconds(0),r.milliseconds(0)}else if("hour"==e){switch(n){case 4:r.minutes(60*Math.round(r.minutes()/60));break;default:r.minutes(30*Math.round(r.minutes()/30));break}r.seconds(0),r.milliseconds(0)}else if("minute"==e){switch(n){case 15:case 10:r.minutes(5*Math.round(r.minutes()/5)),r.seconds(0);break;case 5:r.seconds(60*Math.round(r.seconds()/60));break;default:r.seconds(30*Math.round(r.seconds()/30));break}r.milliseconds(0)}else if("second"==e)switch(n){case 15:case 10:r.seconds(5*Math.round(r.seconds()/5)),r.milliseconds(0);break;case 5:r.milliseconds(1e3*Math.round(r.milliseconds()/1e3));break;default:r.milliseconds(500*Math.round(r.milliseconds()/500));break}else if("millisecond"==e){var a=n>5?n/2:1;r.milliseconds(Math.round(r.milliseconds()/a)*a)}return r},a.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"week":return 1==t.date();case"month":return 0==t.month();case"year":return!1;default:return!1}},a.prototype.getLabelMinor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"===typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},a.prototype.getLabelMajor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"===typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},a.prototype.getClassName=function(){var t=this.moment,e=this.moment(this.current),n=e.locale?e.locale("en"):e.lang("en"),i=this.step,r=[];function o(t){return t/i%2==0?" vis-even":" vis-odd"}function a(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(t().add(1,"day"),"day")?" vis-tomorrow":e.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function s(t){return t.isSame(new Date,"week")?" vis-current-week":""}function u(t){return t.isSame(new Date,"month")?" vis-current-month":""}function c(t){return t.isSame(new Date,"year")?" vis-current-year":""}switch(this.scale){case"millisecond":r.push(a(n)),r.push(o(n.milliseconds()));break;case"second":r.push(a(n)),r.push(o(n.seconds()));break;case"minute":r.push(a(n)),r.push(o(n.minutes()));break;case"hour":r.push("vis-h"+n.hours()+(4==this.step?"-h"+(n.hours()+4):"")),r.push(a(n)),r.push(o(n.hours()));break;case"weekday":r.push("vis-"+n.format("dddd").toLowerCase()),r.push(a(n)),r.push(s(n)),r.push(o(n.date()));break;case"day":r.push("vis-day"+n.date()),r.push("vis-"+n.format("MMMM").toLowerCase()),r.push(a(n)),r.push(u(n)),r.push(this.step<=2?a(n):""),r.push(this.step<=2?"vis-"+n.format("dddd").toLowerCase():""),r.push(o(n.date()-1));break;case"week":r.push("vis-week"+n.format("w")),r.push(s(n)),r.push(o(n.week()));break;case"month":r.push("vis-"+n.format("MMMM").toLowerCase()),r.push(u(n)),r.push(o(n.month()));break;case"year":r.push("vis-year"+n.year()),r.push(c(n)),r.push(o(n.year()));break}return r.filter(String).join(" ")},t.exports=a},function(t,e,n){var i=n(2),r=n(16),o=n(9),a=n(98);function s(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:o,locales:a,locale:"en"},this.options=i.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}s.prototype=new r,s.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},s.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},s.prototype.setOptions=function(t){t&&i.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},s.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),n=this.body.util.toScreen(e),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales["en"]);var r=i.current+" "+i.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");r=r.charAt(0).toUpperCase()+r.substring(1),this.options.rtl?this.bar.style.right=n+"px":this.bar.style.left=n+"px",this.bar.title=r}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},s.prototype.start=function(){var t=this;function e(){t.stop();var n=t.body.range.conversion(t.body.domProps.center.width).scale,i=1/n/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}e()},s.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},s.prototype.setCurrentTime=function(t){var e=i.convert(t,"Date").valueOf(),n=(new Date).valueOf();this.offset=e-n,this.redraw()},s.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=s},function(t,e,n){var i=n(8),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(100);function u(t,e,n){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"===typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var i in e.subgroupStack)this.subgroupStack[i]=e.subgroupStack[i],this.doInnerStack=this.doInnerStack||e.subgroupStack[i];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var r=this;this.itemSet.body.emitter.on("checkRangedItems",(function(){r.checkRangedItems=!0})),this._create(),this.setData(e)}u.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var n=document.createElement("div");n.className="vis-group",n["timeline-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},u.prototype.setData=function(t){var e,n;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this),e=n(t,this.dom.inner)):e=t&&t.content,e instanceof Element){this.dom.inner.appendChild(e);while(this.dom.inner.firstChild)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?n(t,this.dom.inner):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?a.removeClassName(this.dom.inner,"vis-hidden"):a.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),a.addClassName(this.dom.label,"vis-nesting-group");var i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(a.removeClassName(this.dom.label,i),a.addClassName(this.dom.label,"expanded")):(a.removeClassName(this.dom.label,"expanded"),a.addClassName(this.dom.label,i))}else this.nestedGroups&&(this.nestedGroups=null,i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",a.removeClassName(this.dom.label,i),a.removeClassName(this.dom.label,"expanded"),a.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(a.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var r=t&&t.className||null;r!=this.className&&(this.className&&(a.removeClassName(this.dom.label,this.className),a.removeClassName(this.dom.foreground,this.className),a.removeClassName(this.dom.background,this.className),a.removeClassName(this.dom.axis,this.className)),a.addClassName(this.dom.label,r),a.addClassName(this.dom.foreground,r),a.addClassName(this.dom.background,r),a.addClassName(this.dom.axis,r),this.className=r),this.style&&(a.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(a.addCssText(this.dom.label,t.style),this.style=t.style)},u.prototype.getLabelWidth=function(){return this.props.label.width},u.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},n=0;a.forEach(this.items,(function(t,i){if(t.dirty=!0,t.displayed){var r=!0;e[i]=t.redraw(r),n=e[i].length}}));var i=n>0;if(i)for(var r=0;r<n;r++)a.forEach(e,(function(t){t[r]()}));return!0}},u.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop,e=this.dom.foreground.offsetLeft,n=this.dom.foreground.offsetWidth;this.top=t,this.right=e,this.width=n},u.prototype._redrawItems=function(t,e,n,i){var r=t||this.stackDirty||this.isVisible&&!e;if(r){var o={},u=null;if("function"===typeof this.itemSet.options.order){var c=this,h=!1,l={},d=0;a.forEach(this.items,(function(t,e){if(!t.displayed){var n=!0;l[e]=t.redraw(n),d=l[e].length,c.visibleItems.push(t)}}));var f=d>0;if(f)for(var p=0;p<d;p++)a.forEach(l,(function(t){t[p]()}));if(a.forEach(this.items,(function(t){t.repositionX(h)})),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(u in this.subgroups)o[u]=this.subgroups[u].items.slice().sort((function(t,e){return c.itemSet.options.order(t.data,e.data)}));s.stackSubgroupsWithInnerStack(o,n,this.subgroups)}else{var g=this.orderedItems.byStart.slice().sort((function(t,e){return c.itemSet.options.order(t.data,e.data)}));s.stack(g,n,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(u in this.subgroups)o[u]=this.subgroups[u].items;s.stackSubgroupsWithInnerStack(o,n,this.subgroups)}else s.stack(this.visibleItems,n,!0);else s.nostack(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},u.prototype._didResize=function(t,e){t=a.updateProperty(this,"height",e)||t;var n=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return t=a.updateProperty(this.props.label,"width",n)||t,t=a.updateProperty(this.props.label,"height",i)||t,t},u.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},u.prototype._updateItemsVerticalPosition=function(t){for(var e=0,n=this.visibleItems.length;e<n;e++){var i=this.visibleItems[e];i.repositionY(t),this.isVisible||"__background__"==this.groupId||i.displayed&&i.hide()}},u.prototype.redraw=function(t,e,n,i){var r,o,a=!1,s=this.isVisible,u=[function(){n=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(n,s,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){r=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){a=this._didResize.bind(this)(a,r)}.bind(this),function(){this._applyGroupHeight.bind(this)(r)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){return!this.isVisible&&this.height&&(a=!1),a}];return i?u:(u.forEach((function(t){o=t()})),o)},u.prototype._updateSubGroupHeights=function(t){if((0,r["default"])(this.subgroups).length>0){var e=this;this.resetSubgroups(),a.forEach(this.visibleItems,(function(n){void 0!==n.data.subgroup&&(e.subgroups[n.data.subgroup].height=Math.max(e.subgroups[n.data.subgroup].height,n.height+t.item.vertical),e.subgroups[n.data.subgroup].visible=!0)}))}},u.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},u.prototype._calculateHeight=function(t){var e,n=this.visibleItems;if(n.length>0){var i=n[0].top,r=n[0].top+n[0].height;if(a.forEach(n,(function(t){i=Math.min(i,t.top),r=Math.max(r,t.top+t.height)})),i>t.axis){var o=i-t.axis;r-=o,a.forEach(n,(function(t){t.top-=o}))}e=r+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height),e},u.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},u.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);var i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)},u.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},u.prototype._addToSubgroup=function(t,e){e=e||t.data.subgroup,void 0!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var n=t.data.end||t.data.start;new Date(n)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=n),this.subgroups[e].items.push(t)},u.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var n=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start,i=t.subgroups[e].items[0].data.start,r=n-1;t.subgroups[e].items.forEach((function(t){new Date(t.data.start)<new Date(i)&&(i=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(r)&&(r=e)})),t.subgroups[e].start=i,t.subgroups[e].end=new Date(r-1)}},u.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort((function(t,e){return t.sortField-e.sortField}))}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var n=0;n<e.length;n++)this.subgroups[e[n].subgroup].index=n}},u.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},u.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},u.prototype._removeFromSubgroup=function(t,e){if(e=e||t.data.subgroup,void 0!=e){var n=this.subgroups[e];if(n){var i=n.items.indexOf(t);i>=0&&(n.items.splice(i,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},u.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},u.prototype.order=function(){for(var t=a.toArray(this.items),e=[],n=[],i=0;i<t.length;i++)void 0!==t[i].data.end&&n.push(t[i]),e.push(t[i]);this.orderedItems={byStart:e,byEnd:n},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},u.prototype._updateItemsInRange=function(t,e,n){var i=[],r={},o=(n.end-n.start)/4,s=n.start-o,u=n.end+o,c=function(t){return t<s?-1:t<=u?0:1};if(e.length>0)for(var h=0;h<e.length;h++)this._checkIfVisibleWithReference(e[h],i,r,n);var l=a.binarySearchCustom(t.byStart,c,"data","start");if(this._traceVisible(l,t.byStart,i,r,(function(t){return t.data.start<s||t.data.start>u})),1==this.checkRangedItems)for(this.checkRangedItems=!1,h=0;h<t.byEnd.length;h++)this._checkIfVisibleWithReference(t.byEnd[h],i,r,n);else{var d=a.binarySearchCustom(t.byEnd,c,"data","end");this._traceVisible(d,t.byEnd,i,r,(function(t){return t.data.end<s||t.data.end>u}))}var f={},p=0;for(h=0;h<i.length;h++){var g=i[h];if(!g.displayed){var v=!0;f[h]=g.redraw(v),p=f[h].length}}var m=p>0;if(m)for(var y=0;y<p;y++)a.forEach(f,(function(t){t[y]()}));for(h=0;h<i.length;h++)i[h].repositionX();return i},u.prototype._traceVisible=function(t,e,n,i,r){if(-1!=t){var o,a;for(o=t;o>=0;o--){if(a=e[o],r(a))break;void 0===i[a.id]&&(i[a.id]=!0,n.push(a))}for(o=t+1;o<e.length;o++){if(a=e[o],r(a))break;void 0===i[a.id]&&(i[a.id]=!0,n.push(a))}}},u.prototype._checkIfVisible=function(t,e,n){t.isVisible(n)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},u.prototype._checkIfVisibleWithReference=function(t,e,n,i){t.isVisible(i)?void 0===n[t.id]&&(n[t.id]=!0,e.push(t)):t.displayed&&t.hide()},u.prototype.changeSubgroup=function(t,e,n){this._removeFromSubgroup(t,e),this._addToSubgroup(t,n),this.orderSubgroups()},t.exports=u},function(t,e,n){var i=n(29),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(68);function s(t,e,n){a.call(this,t,e,n),this.width=0,this.height=0,this.top=0,this.left=0}s.prototype=(0,r["default"])(a.prototype),s.prototype.redraw=function(t,e,n){var i=!1;this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var r=0,o=this.visibleItems.length;r<o;r++){var a=this.visibleItems[r];a.repositionY(e)}return i},s.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=s},function(t,e,n){var i=n(38);function r(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,this.options=n,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}i.call(this,t,e,n)}r.prototype=new i(null,null,null),r.prototype.baseClassName="vis-item vis-range",r.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},r.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},r.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},r.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}},r.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},r.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},r.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},r.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach((function(t){n=t()})),n)},r.prototype.show=function(){this.displayed||this.redraw()},r.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},r.prototype.repositionX=function(t){var e,n,i=this.parent.width,r=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end),a=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(r<-i&&(r=-i),o>2*i&&(o=2*i));var s=Math.max(o-r+.5,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=s+this.props.content.width,n=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=s,n=Math.min(o-r,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",a){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-n,0)+"px":this.dom.content.style.left=Math.max(s-n,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-n)/2,0)+"px":this.dom.content.style.left=Math.max((s-n)/2,0)+"px";break;default:e=this.overflow?o>0?Math.max(-r,0):-n:r<0?-r:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},r.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},r.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},r.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=l(i),o=n(6),a=l(o),s=n(0),u=l(s),c=n(1),h=l(c);function l(t){return t&&t.__esModule?t:{default:t}}var d=n(2),f=n(179)["default"],p=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,u["default"])(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},d.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new f(r),this.wrapper=void 0}return(0,h["default"])(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"===typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===("undefined"===typeof t?"undefined":(0,a["default"])(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"===typeof t?(this.options.filter=!0,e=t):"function"===typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,n=0,i=!1;for(var r in this.configureOptions)this.configureOptions.hasOwnProperty(r)&&(this.allowCreation=!1,i=!1,"function"===typeof e?(i=e(r,[]),i=i||this._handleObject(this.configureOptions[r],[r],!0)):!0!==e&&-1===e.indexOf(r)||(i=!0),!1!==i&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),n++);if(!0===this.options.showButton){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerHTML="generate options",o.onclick=function(){t._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+e.length,i.innerHTML=!0===n?"<i><b>"+t+":</b></i>":t+":",i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==t.indexOf(e)&&(r=t.indexOf(e));for(var o=0;o<t.length;o++){var a=document.createElement("option");a.value=t[o],o===r&&(a.selected="selected"),a.innerHTML=t[o],i.appendChild(a)}var s=this;i.onchange=function(){s._update(this.value,n)};var u=this._makeLabel(n[n.length-1],n);this._makeItem(n,u,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=r,s.max=o}catch(g){}s.step=a;var u="",c=0;if(void 0!==e){var h=1.2;e<0&&e*h<r?(s.min=Math.ceil(e*h),c=s.min,u="range increased"):e/h<r&&(s.min=Math.ceil(e/h),c=s.min,u="range increased"),e*h>o&&1!==o&&(s.max=Math.ceil(e*h),c=s.max,u="range increased"),s.value=e}else s.value=i;var l=document.createElement("input");l.className="vis-configuration vis-config-rangeinput",l.value=s.value;var d=this;s.onchange=function(){l.value=this.value,d._update(Number(this.value),n)},s.oninput=function(){l.value=this.value};var f=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,f,s,l);""!==u&&this.popupHistory[p]!==c&&(this.popupHistory[p]=c,this._setupPopup(u,p))}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],n=e.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===("undefined"===typeof t?"undefined":(0,a["default"])(t))?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,r=t[1],o=document.createElement("div");e=void 0===e?r:e,"none"!==e?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){i._showColorPicker(e,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){i._showColorPicker(t,e,n)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=this.options.filter,o=!1;for(var a in t)if(t.hasOwnProperty(a)){i=!0;var s=t[a],u=d.copyAndExtendArray(e,a);if("function"===typeof r&&(i=r(a,e),!1===i&&!(s instanceof Array)&&"string"!==typeof s&&"boolean"!==typeof s&&s instanceof Object&&(this.allowCreation=!1,i=this._handleObject(s,u,!0),this.allowCreation=!1===n)),!1!==i){o=!0;var c=this._getValue(u);if(s instanceof Array)this._handleArray(s,c,u);else if("string"===typeof s)this._makeTextInput(s,c,u);else if("boolean"===typeof s)this._makeCheckbox(s,c,u);else if(s instanceof Object){var h=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(h=!1),!0===h)if(void 0!==s.enabled){var l=d.copyAndExtendArray(u,"enabled"),f=this._getValue(l);if(!0===f){var p=this._makeLabel(a,u,!0);this._makeItem(u,p),o=this._handleObject(s,u)||o}else this._makeCheckbox(s,f,u)}else{var g=this._makeLabel(a,u,!0);this._makeItem(u,g),o=this._handleObject(s,u)||o}}else console.error("dont know how to handle",s,a,u)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"===typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"===typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"===typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;t="true"===t||t,t="false"!==t&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===i[e[r]]&&(i[e[r]]={}),r!==e.length-1?i=i[e[r]]:i[e[r]]=t);return n}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,r["default"])(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e["default"]=p},function(t,e,n){var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(14);function s(t,e){}function u(t,e){return e="undefined"===typeof e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function c(t,e){var n=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(n=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(n=e.group.options.drawPoints.onRender),n}s.draw=function(t,e,n,i){i=i||0;for(var o=c(n,e),s=0;s<t.length;s++)if(o){var h=o(t[s],e);!0!==h&&"object"!==("undefined"===typeof h?"undefined":(0,r["default"])(h))||a.drawPoint(t[s].screen_x+i,t[s].screen_y,u(e,h),n.svgElements,n.svg,t[s].label)}else a.drawPoint(t[s].screen_x+i,t[s].screen_y,u(e),n.svgElements,n.svg,t[s].label)},s.drawIcon=function(t,e,n,i,r,o){var s=.5*r,c=a.getSVGElement("rect",o.svgElements,o.svg);c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",n-s),c.setAttributeNS(null,"width",i),c.setAttributeNS(null,"height",2*s),c.setAttributeNS(null,"class","vis-outline"),a.drawPoint(e+.5*i,n,u(t),o.svgElements,o.svg)},t.exports=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){(0,a["default"])(this,e);var o=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return o.labelOffset=0,o.selected=!1,o}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),t.circle(e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,n,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,r){var o,a=0;if(void 0!==this.height){a=.5*this.height;var s=this.labelModule.getTextSize(t,i,r);s.lineCount>=1&&(a+=s.height/2)}o=n+a,this.options.label&&(this.labelOffset=a),this.labelModule.draw(t,e,o,i,r,"hanging")}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=f(i),o=n(6),a=f(o),s=n(29),u=f(s),c=n(0),h=f(c),l=n(1),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=n(2),g=n(117)["default"],v=n(48)["default"],m=n(215)["default"],y=n(217)["default"],b=n(218)["default"],x=n(219)["default"],w=function(){function t(e,n,i,r){if((0,h["default"])(this,t),void 0===n)throw new Error("No body provided");this.options=p.bridgeObject(i),this.globalOptions=i,this.defaultOptions=r,this.body=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new g(this.body,this.options,!0),this.setOptions(e)}return(0,d["default"])(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value));var n=[e,this.options,this.defaultOptions];this.chooser=v.choosify("edge",n),this.updateLabelModule(e);var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(i=!0),i}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"===typeof o?r.width=o(r.width):"number"===typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"===typeof a?r.width=a(r.width):"number"===typeof a&&(r.width+=a),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"===typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof y&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof m&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof b&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof x&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new y(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new m(this.options,this.body,this.labelModule):this.edgeType=new b(this.options,this.body,this.labelModule):this.edgeType=new x(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"===typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"===typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawArrows(t,i,e),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t,e,n){n.fromArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.from),n.middleArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.middle),n.toArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n=this.from,i=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),n.id!=i.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,e);t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover),t.restore()}else{var a,s;this.labelModule.pointToSelf=!0;var u=this.options.selfReferenceSize;n.shape.width>n.shape.height?(a=n.x+.5*n.shape.width,s=n.y-u):(a=n.x+u,s=n.y-.5*n.shape.height),r=this._pointOnCircle(a,s,u,.125),this.labelModule.draw(t,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();v.pointInRect(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}var i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=10,n=this.from.x,i=this.from.y,r=this.to.x,o=this.to.y,a=t.left,s=t.top,u=this.edgeType.getDistanceToEdge(n,i,r,o,a,s);return u<e}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,a=Math.atan2(r,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}},{key:"_pointOnCircle",value:function(t,e,n,i){var r=2*i*Math.PI;return{x:t+n*Math.cos(r),y:e-n*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(p.selectiveDeepExtend(s,t,e,n),v.isValidLabel(e.label)?t.label=e.label:t.label=void 0,p.mergeOptions(t,e,"smooth",i),p.mergeOptions(t,e,"shadow",i),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=(0,u["default"])(i.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),p.mergeOptions(t.scaling,e.scaling,"label",i.scaling)):!0===n&&null===e.scaling&&(t.scaling=(0,u["default"])(i.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"===typeof e.arrows){var c=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=c.indexOf("to"),t.arrows.middle.enabled=-1!=c.indexOf("middle"),t.arrows.from.enabled=-1!=c.indexOf("from")}else{if("object"!==(0,a["default"])(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,r["default"])(e.arrows));p.mergeOptions(t.arrows,e.arrows,"to",i.arrows),p.mergeOptions(t.arrows,e.arrows,"middle",i.arrows),p.mergeOptions(t.arrows,e.arrows,"from",i.arrows)}else!0===n&&null===e.arrows&&(t.arrows=(0,u["default"])(i.arrows));if(void 0!==e.color&&null!==e.color){var h=e.color,l=t.color;if(o)p.deepExtend(l,i.color,!1,n);else for(var d in l)l.hasOwnProperty(d)&&delete l[d];if(p.isString(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,void 0===h.opacity&&(l.opacity=1);else{var f=!1;void 0!==h.color&&(l.color=h.color,f=!0),void 0!==h.highlight&&(l.highlight=h.highlight,f=!0),void 0!==h.hover&&(l.hover=h.hover,f=!0),void 0!==h.inherit&&(l.inherit=h.inherit),void 0!==h.opacity&&(l.opacity=Math.min(1,Math.max(0,h.opacity))),!0===f?l.inherit=!1:void 0===l.inherit&&(l.inherit="from")}}else!0===n&&null===e.color&&(t.color=p.bridgeObject(i.color));!0===n&&null===e.font&&(t.font=p.bridgeObject(i.font))}}]),t}();e["default"]=w},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(118),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_findBorderPositionBezier",value:function(t,e){var n,i,r,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),u=10,c=0,h=0,l=1,d=.2,f=this.to,p=!1;t.id===this.from.id&&(f=this.from,p=!0);while(h<=l&&c<u){var g=.5*(h+l);if(n=this.getPoint(g,s),i=Math.atan2(f.y-n.y,f.x-n.x),r=f.distanceToBorder(e,i),o=Math.sqrt(Math.pow(n.x-f.x,2)+Math.pow(n.y-f.y,2)),a=r-o,Math.abs(a)<d)break;a<0?!1===p?h=g:l=g:!1===p?l=g:h=g,c++}return n.t=g,n}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,r,o,a){var s=1e9,u=void 0,c=void 0,h=void 0,l=void 0,d=void 0,f=t,p=e;for(c=1;c<10;c++)h=.1*c,l=Math.pow(1-h,2)*t+2*h*(1-h)*a.x+Math.pow(h,2)*n,d=Math.pow(1-h,2)*e+2*h*(1-h)*a.y+Math.pow(h,2)*i,c>0&&(u=this._getDistanceToLine(f,p,l,d,r,o),s=u<s?u:s),f=l,p=d;return s}},{key:"_bezierCurve",value:function(t,e,n,i){var r=void 0!==n&&void 0!==n.x,o=void 0!==i&&void 0!==i.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),r&&o?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):r?t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=function(){function t(){(0,r["default"])(this,t)}return(0,a["default"])(t,null,[{key:"getRange",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,a=-1e9;if(n.length>0)for(var s=0;s<n.length;s++)e=t[n[s]],o>e.shape.boundingBox.left&&(o=e.shape.boundingBox.left),a<e.shape.boundingBox.right&&(a=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===a&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,a=0),{minX:o,maxX:a,minY:i,maxY:r}}},{key:"getRangeCore",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,a=-1e9;if(n.length>0)for(var s=0;s<n.length;s++)e=t[n[s]],o>e.x&&(o=e.x),a<e.x&&(a=e.x),i>e.y&&(i=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===a&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,a=0),{minX:o,maxX:a,minY:i,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(u.deepExtend(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):u.deepExtend(n,t.options,!0),n}}]),t}();e["default"]=c},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){var i=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(52),r=n(17),o=n(83),a=n(26),s=n(22),u=n(31),c=n(129),h=n(59),l=n(85),d=n(13)("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",g="keys",v="values",m=function(){return this};t.exports=function(t,e,n,y,b,x,w){c(n,e,y);var _,M,k,S=function(t){if(!f&&t in P)return P[t];switch(t){case g:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",C=b==v,T=!1,P=t.prototype,A=P[d]||P[p]||b&&P[b],O=A||S(b),D=b?C?S("entries"):O:void 0,N="Array"==e&&P.entries||A;if(N&&(k=l(N.call(new t)),k!==Object.prototype&&k.next&&(h(k,E,!0),i||s(k,d)||a(k,d,m))),C&&A&&A.name!==v&&(T=!0,O=function(){return A.call(this)}),i&&!w||!f&&!T&&P[d]||a(P,d,O),u[e]=O,u[E]=m,b)if(_={values:C?O:S(v),keys:x?O:S(g),entries:D},w)for(M in _)M in P||o(P,M,_[M]);else r(r.P+r.F*(f||T),e,_);return _}},function(t,e,n){var i=n(128);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=!n(21)&&!n(28)((function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(32),r=n(18).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){t.exports=n(26)},function(t,e,n){var i=n(22),r=n(25),o=n(131)(!1),a=n(56)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>u)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(22),r=n(41),o=n(56)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(50),r=n(13)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(17),r=n(7),o=n(28);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var i=n(84),r=n(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(42),r=n(39),o=n(25),a=n(53),s=n(22),u=n(81),c=Object.getOwnPropertyDescriptor;e.f=n(21)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){t.exports={default:n(162),__esModule:!0}},function(t,e,n){function i(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=i},function(t,e,n){var i=n(2);function r(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||void 0==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var n=this;this.frame.slide.onmousedown=function(t){n._onMouseDown(t)},this.frame.prev.onclick=function(t){n.prev(t)},this.frame.play.onclick=function(t){n.togglePlay(t)},this.frame.next.onclick=function(t){n.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}r.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},r.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},r.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var n=new Date,i=n-t,r=Math.max(this.playInterval-i,0),o=this;this.playTimeout=setTimeout((function(){o.playNext()}),r)},r.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},r.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},r.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},r.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},r.prototype.setPlayInterval=function(t){this.playInterval=t},r.prototype.getPlayInterval=function(){return this.playInterval},r.prototype.setPlayLoop=function(t){this.playLoop=t},r.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},r.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},r.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},r.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},r.prototype.getIndex=function(){return this.index},r.prototype.get=function(){return this.values[this.index]},r.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var n=this;this.onmousemove=function(t){n._onMouseMove(t)},this.onmouseup=function(t){n._onMouseUp(t)},i.addEventListener(document,"mousemove",this.onmousemove),i.addEventListener(document,"mouseup",this.onmouseup),i.preventDefault(t)}},r.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=t-3,i=Math.round(n/e*(this.values.length-1));return i<0&&(i=0),i>this.values.length-1&&(i=this.values.length-1),i},r.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=t/(this.values.length-1)*e,i=n+3;return i},r.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,n=this.startSlideX+e,r=this.leftToIndex(n);this.setIndex(r),i.preventDefault()},r.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",i.removeEventListener(document,"mousemove",this.onmousemove),i.removeEventListener(document,"mouseup",this.onmouseup),i.preventDefault()},t.exports=r},function(t,e,n){function i(t,e,n,i){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,n,i)}i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.setRange=function(t,e,n,i){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(n,i)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},n=Math.pow(10,Math.round(e(t))),i=2*Math.pow(10,Math.round(e(t/2))),r=5*Math.pow(10,Math.round(e(t/5))),o=n;return Math.abs(i-t)<=Math.abs(o-t)&&(o=i),Math.abs(r-t)<=Math.abs(o-t)&&(o=r),o<=0&&(o=1),o},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e,n){var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(95),u=n(34),c={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},h={dot:c.DOT,"dot-line":c.DOTLINE,"dot-color":c.DOTCOLOR,"dot-size":c.DOTSIZE,line:c.LINE,grid:c.GRID,surface:c.SURFACE,bar:c.BAR,"bar-color":c.BARCOLOR,"bar-size":c.BARSIZE},l=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],d=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],f=void 0;function p(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function g(t){return void 0===t||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function v(t,e){return void 0===t||""===t?e:t+g(e)}function m(t,e,n,i){for(var r,o,a=0;a<n.length;++a)r=n[a],o=v(i,r),e[o]=t[r]}function y(t,e,n,i){for(var r,o,a=0;a<n.length;++a)r=n[a],void 0!==t[r]&&(o=v(i,r),e[o]=t[r])}function b(t,e){if(void 0===t||p(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");f=t,m(t,e,l),m(t,e,d,"default"),w(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new u(0,0,-1)}function x(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===f||p(f))throw new Error("DEFAULTS not set for module Settings");y(t,e,l),y(t,e,d,"default"),w(t,e)}}function w(t,e){void 0!==t.backgroundColor&&E(t.backgroundColor,e),C(t.dataColor,e),S(t.style,e),_(t.showLegend,e),T(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),void 0!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&a.selectiveDeepExtend(["tooltipStyle"],e,t)}function _(t,e){if(void 0===t){var n=void 0===f.showLegend;if(n){var i=e.style===c.DOTCOLOR||e.style===c.DOTSIZE;e.showLegend=i}}else e.showLegend=t}function M(t){var e=h[t];return void 0===e?-1:e}function k(t){var e=!1;for(var n in c)if(c[n]===t){e=!0;break}return e}function S(t,e){if(void 0!==t){var n;if("string"===typeof t){if(n=M(t),-1===n)throw new Error("Style '"+t+"' is invalid")}else{if(!k(t))throw new Error("Style '"+t+"' is invalid");n=t}e.style=n}}function E(t,e){var n="white",i="gray",o=1;if("string"===typeof t)n=t,i="none",o=0;else{if("object"!==("undefined"===typeof t?"undefined":(0,r["default"])(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(n=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth)}e.frame.style.backgroundColor=n,e.frame.style.borderColor=i,e.frame.style.borderWidth=o+"px",e.frame.style.borderStyle="solid"}function C(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"===typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}function T(t,e){var n=t;void 0!==n&&(void 0===e.camera&&(e.camera=new s),e.camera.setArmRotation(n.horizontal,n.vertical),e.camera.setArmLength(n.distance))}t.exports.STYLE=c,t.exports.setDefaults=b,t.exports.setOptions=x,t.exports.setCameraPosition=T},function(t,e,n){var i=n(165),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(34);function s(){this.armLocation=new a,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new a,this.offsetMultiplier=.6,this.cameraLocation=new a,this.cameraRotation=new a(.5*Math.PI,0,0),this.calculateCameraOrientation()}s.prototype.setOffset=function(t,e){var n=Math.abs,i=r["default"],o=this.offsetMultiplier,a=this.armLength*o;n(t)>a&&(t=i(t)*a),n(e)>a&&(e=i(e)*a),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},s.prototype.getOffset=function(){return this.cameraOffset},s.prototype.setArmLocation=function(t,e,n){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=n,this.calculateCameraOrientation()},s.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},s.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},s.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},s.prototype.getArmLength=function(){return this.armLength},s.prototype.getCameraLocation=function(){return this.cameraLocation},s.prototype.getCameraRotation=function(){return this.cameraRotation},s.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,n=this.cameraOffset.x,i=this.cameraOffset.y,r=Math.sin,o=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*o(e)+i*-r(e)*o(t),this.cameraLocation.y=this.cameraLocation.y+n*r(e)+i*o(e)*o(t),this.cameraLocation.z=this.cameraLocation.z+i*r(t)},t.exports=s},function(t,e,n){var i=n(12);function r(t,e,n){this.dataGroup=t,this.column=e,this.graph=n,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}r.prototype.isLoaded=function(){return this.loaded},r.prototype.getLoadedProgress=function(){var t=this.values.length,e=0;while(this.dataPoints[e])e++;return Math.round(e/t*100)},r.prototype.getLabel=function(){return this.graph.filterLabel},r.prototype.getColumn=function(){return this.column},r.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},r.prototype.getValues=function(){return this.values},r.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},r.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var n={};n.column=this.column,n.value=this.values[t];var r=new i(this.dataGroup.getDataSet(),{filter:function(t){return t[n.column]==n.value}}).get();e=this.dataGroup._getDataPoints(r),this.dataPoints[t]=e}return e},r.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},r.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},r.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var n=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+n+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var i=this;setTimeout((function(){i.loadInBackground(t+1)}),10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=r},function(t,e,n){var i=n(35),r=n(44),o=n(10),a=n(2);function s(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=o(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];n.forEach((function(t){e.hammer.on(t,(function(t){t.stopPropagation()}))})),document&&document.body&&(this.onClick=function(n){u(n.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=i(),this.escListener=this.deactivate.bind(this)}function u(t,e){while(t){if(t===e)return!0;t=t.parentNode}return!1}r(s.prototype),s.current=null,s.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},s.prototype.activate=function(){s.current&&s.current.deactivate(),s.current=this,this.active=!0,this.dom.overlay.style.display="none",a.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},s.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",a.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},s.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=s},function(t,e,n){e["en"]={current:"current",time:"time"},e["en_EN"]=e["en"],e["en_US"]=e["en"],e["it"]={current:"attuale",time:"tempo"},e["it_IT"]=e["it"],e["it_CH"]=e["it"],e["nl"]={current:"huidige",time:"tijd"},e["nl_NL"]=e["nl"],e["nl_BE"]=e["nl"],e["de"]={current:"Aktuelle",time:"Zeit"},e["de_DE"]=e["de"],e["fr"]={current:"actuel",time:"heure"},e["fr_FR"]=e["fr"],e["fr_CA"]=e["fr"],e["fr_BE"]=e["fr"],e["es"]={current:"corriente",time:"hora"},e["es_ES"]=e["es"]},function(t,e,n){var i=n(29),r=s(i),o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(10),c=n(2),h=n(11),l=n(12),d=n(66),f=n(16),p=n(68),g=n(69),v=n(101),m=n(102),y=n(70),b=n(103),x=n(104)["default"],w="__ungrouped__",_="__background__";function M(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,n){var i=e.order;e.order=t.order,t.order=i},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onDropObjectOnItem:function(t,e,n){n(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=c.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){if(n._onAddGroups(e.items),n.groupsData&&n.groupsData.length>0){var r=n.groupsData.getDataSet();r.get().forEach((function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach((function(n){var i=r.get(n);i&&(i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),e=e.concat(i))})),r.update(e,i)}}))}},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}M.prototype=new f,M.types={background:b,box:v,range:y,point:m},M.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var n=document.createElement("div");n.className="vis-foreground",t.appendChild(n),this.dom.foreground=n;var i=document.createElement("div");i.className="vis-axis",this.dom.axis=i;var r=document.createElement("div");r.className="vis-labelset",this.dom.labelSet=r,this._updateUngrouped();var o=new g(_,null,this);o.show(),this.groups[_]=o,this.hammer=new u(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:u.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new u(this.body.dom.rightContainer):this.groupHammer=new u(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:u.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},M.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];c.selectiveExtend(e,this.options,t),"itemsAlwaysDraggable"in t&&("boolean"===typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,a["default"])(t.itemsAlwaysDraggable)&&(c.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"===typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,a["default"])(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"===typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,a["default"])(t.margin)&&(c.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"===typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,a["default"])(t.margin.item)&&c.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"===typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,a["default"])(t.editable)&&c.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"===typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,a["default"])(t.groupEditable)&&c.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var n=function(e){var n=t[e];if(n){if(!(n instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=n}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(n),this.markDirty()}},M.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&c.forEach(this.items,(function(t){t.dirty=!0,t.displayed&&t.redraw()}))},M.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},M.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},M.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},M.prototype.setSelection=function(t){var e,n,i,r;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,n=this.selection.length;e<n;e++)i=this.selection[e],r=this.items[i],r&&r.unselect();for(this.selection=[],e=0,n=t.length;e<n;e++)i=t[e],r=this.items[i],r&&(this.selection.push(i),r.select())},M.prototype.getSelection=function(){return this.selection.concat([])},M.prototype.getVisibleItems=function(){var t,e,n=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end)):(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end));var i=[];for(var r in this.groups)if(this.groups.hasOwnProperty(r))for(var o=this.groups[r],a=o.isVisible?o.visibleItems:[],s=0;s<a.length;s++){var u=a[s];this.options.rtl?u.right<e&&u.right+u.width>t&&i.push(u.id):u.left<t&&u.left+u.width>e&&i.push(u.id)}return i},M.prototype._deselect=function(t){for(var e=this.selection,n=0,i=e.length;n<i;n++)if(e[n]==t){e.splice(n,1);break}},M.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,n=c.option.asSize,i=this.options,r=i.orientation.item,o=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",o=this._orderGroups()||o;var s=e.end-e.start,u=s!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,h=e.start!=this.lastRangeStart,l=i.stack!=this.lastStack,d=i.stackSubgroups!=this.lastStackSubgroups,f=u||h||l||d;this.lastVisibleInterval=s,this.lastRangeStart=e.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;var p=this._firstGroup(),g={item:t.item,axis:t.axis},v={item:t.item,axis:t.item.vertical/2},m=0,y=t.axis+t.item.vertical;this.groups[_].redraw(e,v,f);var b={},x=0;c.forEach(this.groups,(function(t,n){if(n!==_){var i=t==p?g:v,r=!0;b[n]=t.redraw(e,i,f,r),x=b[n].length}}));var w=x>0;if(w){for(var M={},k=0;k<x;k++)c.forEach(b,(function(t,e){M[e]=t[k]()}));c.forEach(this.groups,(function(t,e){if(e!==_){var n=M[e];o=n||o,m+=t.height}})),m=Math.max(m,y)}return m=Math.max(m,y),a.style.height=n(m),this.props.width=a.offsetWidth,this.props.height=m,this.dom.axis.style.top=n("top"==r?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,o=this._isResized()||o,o},M.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t],n=this.groups[e]||this.groups[w];return n||null},M.prototype._updateUngrouped=function(){var t,e,n=this.groups[w];if(this.groupsData){if(n)for(e in n.hide(),delete this.groups[w],this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var i=this._getGroupId(t.data),r=this.groups[i];r&&r.add(t)||t.hide()}}else if(!n){var o=null,a=null;for(e in n=new p(o,a,this),this.groups[w]=n,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],n.add(t));n.show()}},M.prototype.getLabelSet=function(){return this.dom.labelSet},M.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(c.forEach(this.itemListeners,(function(t,e){i.off(e,t)})),e=i.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;c.forEach(this.itemListeners,(function(t,e){n.itemsData.on(e,t,r)})),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},M.prototype.getItems=function(){return this.itemsData},M.prototype.setGroups=function(t){var e,n=this;if(this.groupsData&&(c.forEach(this.groupListeners,(function(t,e){n.groupsData.off(e,t)})),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof h||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var i=this.groupsData;this.groupsData instanceof l&&(i=this.groupsData.getDataSet()),i.get().forEach((function(t){t.nestedGroups&&t.nestedGroups.forEach((function(e){var n=i.get(e);n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),i.update(n)}))}));var r=this.id;c.forEach(this.groupListeners,(function(t,e){n.groupsData.on(e,t,r)})),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},M.prototype.getGroups=function(){return this.groupsData},M.prototype.removeItem=function(t){var e=this.itemsData.get(t),n=this.itemsData.getDataSet();e&&this.options.onRemove(e,(function(e){e&&n.remove(t)}))},M.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},M.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?_:this.groupsData?t.group:w},M.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var n,i=e.itemsData.get(t,e.itemOptions),r=e.items[t],o=i?e._getType(i):null,a=M.types[o];if(r&&(a&&r instanceof a?e._updateItem(r,i):(n=r.selected,e._removeItem(r),r=null)),!r&&i){if(!a)throw"rangeoverflow"==o?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+o+'"');r=new a(i,e.conversion,e.options),r.id=t,e._addItem(r),n&&(this.selection.push(t),r.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},M.prototype._onAdd=M.prototype._onUpdate,M.prototype._onRemove=function(t){var e=0,n=this;t.forEach((function(t){var i=n.items[t];i&&(e++,n._removeItem(i))})),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},M.prototype._order=function(){c.forEach(this.groups,(function(t){t.order()}))},M.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},M.prototype._onAddGroups=function(t){var e=this;t.forEach((function(t){var n=e.groupsData.get(t),i=e.groups[t];if(i)i.setData(n);else{if(t==w||t==_)throw new Error("Illegal group id. "+t+" is a reserved id.");var o=(0,r["default"])(e.options);for(var a in c.extend(o,{height:null}),i=new p(t,n,e),e.groups[t]=i,e.items)if(e.items.hasOwnProperty(a)){var s=e.items[a];s.data.group==t&&i.add(s)}i.order(),i.show()}})),this.body.emitter.emit("_change",{queue:!0})},M.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach((function(t){var n=e[t];n&&(n.hide(),delete e[t])})),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},M.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!c.equalArray(t,this.groupIds);if(e){var n=this.groups;t.forEach((function(t){n[t].hide()})),t.forEach((function(t){n[t].show()})),this.groupIds=t}return e}return!1},M.prototype._orderNestedGroups=function(t){var e=[];return t.forEach((function(t){var n=this.groupsData.get(t);if(n.nestedInGroup||e.push(t),n.nestedGroups){var i=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}),r=i.map((function(t){return t.id}));e=e.concat(r)}}),this),e},M.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),n=this.groups[e];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,n&&n.add(t)},M.prototype._updateItem=function(t,e){t.setData(e);var n=this._getGroupId(t.data),i=this.groups[n];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},M.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},M.prototype._constructByEndArray=function(t){for(var e=[],n=0;n<t.length;n++)t[n]instanceof y&&e.push(t[n]);return e},M.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},M.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},M.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,n=this.touchParams.item||null,i=this;if(n&&(n.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=n.editable&&!n.editable.updateTime&&!n.editable.updateGroup&&!this.options.editable.overrideItems)return;var r=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=n,r)e={item:r,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(o)e={item:o,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var a=this._getGroupIndex(n.data.group),s=this.options.itemsAlwaysDraggable.item&&!n.selected?[n.id]:this.getSelection();this.touchParams.itemProps=s.map(function(e){var n=i.items[e],r=i._getGroupIndex(n.data.group);return{item:n,initialX:t.center.x,groupOffset:a-r,data:this._cloneItemData(n.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},M.prototype._onDragStartAddItem=function(t){var e,n,i=this.options.snap||null;this.options.rtl?(e=c.getAbsoluteRight(this.dom.frame),n=e-t.center.x+10):(e=c.getAbsoluteLeft(this.dom.frame),n=t.center.x-e-10);var r=this.body.util.toTime(n),o=this.body.util.getScale(),a=this.body.util.getStep(),s=i?i(r,o,a):r,u=s,h={type:"range",start:s,end:u,content:"new item"},l=c.randomUUID();h[this.itemsData._fieldId]=l;var d=this.groupFromTarget(t);d&&(h.group=d.groupId);var f=new y(h,this.conversion,this.options);f.id=l,f.data=this._cloneItemData(h),this._addItem(f),this.touchParams.selectedItem=f;var p={item:f,initialX:t.center.x,data:f.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],t.stopPropagation()},M.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,n=this,i=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var r=this.body.util.getScale(),o=this.body.util.getStep(),a=this.touchParams.selectedItem,s=(this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateGroup,u=null;if(s&&a&&void 0!=a.data.group){var h=n.groupFromTarget(t);h&&(u=this._getGroupIndex(h.groupId))}this.touchParams.itemProps.forEach(function(h){var l,d,f,p,g,v=n.body.util.toTime(t.center.x-e),m=n.body.util.toTime(h.initialX-e);l=this.options.rtl?-(v-m):v-m;var y=this._cloneItemData(h.item.data);if(null==h.item.editable||h.item.editable.updateTime||h.item.editable.updateGroup||n.options.editable.overrideItems){var b=(this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateTime;if(b)if(h.dragLeft)this.options.rtl?void 0!=y.end&&(f=c.convert(h.data.end,"Date"),g=new Date(f.valueOf()+l),y.end=i?i(g,r,o):g):void 0!=y.start&&(d=c.convert(h.data.start,"Date"),p=new Date(d.valueOf()+l),y.start=i?i(p,r,o):p);else if(h.dragRight)this.options.rtl?void 0!=y.start&&(d=c.convert(h.data.start,"Date"),p=new Date(d.valueOf()+l),y.start=i?i(p,r,o):p):void 0!=y.end&&(f=c.convert(h.data.end,"Date"),g=new Date(f.valueOf()+l),y.end=i?i(g,r,o):g);else if(void 0!=y.start)if(d=c.convert(h.data.start,"Date").valueOf(),p=new Date(d+l),void 0!=y.end){f=c.convert(h.data.end,"Date");var x=f.valueOf()-d.valueOf();y.start=i?i(p,r,o):p,y.end=new Date(y.start.valueOf()+x)}else y.start=i?i(p,r,o):p;if(s&&!h.dragLeft&&!h.dragRight&&null!=u&&void 0!=y.group){var w=u-h.groupOffset;w=Math.max(0,w),w=Math.min(n.groupIds.length-1,w),y.group=n.groupIds[w]}y=this._cloneItemData(y),n.options.onMoving(y,function(t){t&&h.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},M.prototype._moveToGroup=function(t,e){var n=this.groups[e];if(n&&n.groupId!=t.data.group){var i=t.parent;i.remove(t),i.order(),t.data.group=n.groupId,n.add(t),n.order()}},M.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,n=this.itemsData.getDataSet(),i=this.touchParams.itemProps;this.touchParams.itemProps=null,i.forEach(function(t){var i=t.item.id,r=null!=e.itemsData.get(i,e.itemOptions);if(r){var o=this._cloneItemData(t.item.data);e.options.onMove(o,(function(r){r?(r[n._fieldId]=i,n.update(r)):(t.item.setData(t.data),e.body.emitter.emit("_change"))}))}else e.options.onAdd(t.item.data,(function(n){e._removeItem(t.item),n&&e.itemsData.getDataSet().add(n),e.body.emitter.emit("_change")}))}.bind(this))}},M.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var n=this.groupsData.getDataSet(),i=n.get(e.groupId);void 0==i.showNested&&(i.showNested=!0),i.showNested=!i.showNested;var r=n.get(e.nestedGroups).map((function(t){return t.visible=i.showNested,t}));if(n.update(r.concat(i)),i.showNested)c.removeClassName(e.dom.label,"collapsed"),c.addClassName(e.dom.label,"expanded");else{c.removeClassName(e.dom.label,"expanded");var o=this.options.rtl?"collapsed-rtl":"collapsed";c.addClassName(e.dom.label,o)}}},M.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},M.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof l&&(e=this.groupsData.getDataSet());var n=this.groupFromTarget(t);if(n&&n.height!=this.groupTouchParams.group.height){var i=n.top<this.groupTouchParams.group.top,r=t.center?t.center.y:t.clientY,o=c.getAbsoluteTop(n.dom.foreground),a=this.groupTouchParams.group.height;if(i){if(o+a<r)return}else{var s=n.height;if(o+s-a>r)return}}if(n&&n!=this.groupTouchParams.group){var u=e.get(n.groupId),h=e.get(this.groupTouchParams.group.groupId);h&&u&&(this.options.groupOrderSwap(h,u,e),e.update(h),e.update(u));var d=e.getIds({order:this.options.groupOrder});if(!c.equalArray(d,this.groupTouchParams.originalOrder)){var f=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,g=Math.min(f.length,d.length),v=0,m=0,y=0;while(v<g){while(v+m<g&&v+y<g&&d[v+m]==f[v+y])v++;if(v+m>=g)break;if(d[v+m]==p)m=1;else if(f[v+y]==p)y=1;else{var b=d.indexOf(f[v+y]),x=e.get(d[v+m]),w=e.get(f[v+y]);this.options.groupOrderSwap(x,w,e),e.update(x),e.update(w);var _=d[v+m];d[v+m]=f[v+y],d[b]=_,v++}}}}}},M.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,n=e.groupTouchParams.group.groupId,i=e.groupsData.getDataSet(),r=c.extend({},i.get(n));e.options.onMoveGroup(r,(function(t){if(t)t[i._fieldId]=n,i.update(t);else{var r=i.getIds({order:e.options.groupOrder});if(!c.equalArray(r,e.groupTouchParams.originalOrder)){var o=e.groupTouchParams.originalOrder,a=Math.min(o.length,r.length),s=0;while(s<a){while(s<a&&r[s]==o[s])s++;if(s>=a)break;var u=r.indexOf(o[s]),h=i.get(r[s]),l=i.get(o[s]);e.options.groupOrderSwap(h,l,i),i.update(h),i.update(l);var d=r[s];r[s]=o[s],r[u]=d,s++}}}})),e.body.emitter.emit("groupDragged",{groupId:n})}},M.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),n=t.srcEvent&&t.srcEvent.shiftKey;if(e||n)this._onMultiSelectItem(t);else{var i=this.getSelection(),r=this.itemFromTarget(t),o=r?[r.id]:[];this.setSelection(o);var a=this.getSelection();(a.length>0||i.length>0)&&this.body.emitter.emit("select",{items:a,event:t})}}},M.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e){var n=this.itemFromRelatedTarget(t);if(e!==n){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new x(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var r=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-c.getAbsoluteLeft(r)+r.offsetLeft,t.clientY-c.getAbsoluteTop(r)+r.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}}},M.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);if(e){var n=this.itemFromRelatedTarget(t);e!==n&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))}},M.prototype._onMouseMove=function(t){var e=this.itemFromTarget(t);if(e&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var n=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-c.getAbsoluteLeft(n)+n.offsetLeft,t.clientY-c.getAbsoluteTop(n)+n.offsetTop),this.popup.show()}},M.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},M.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var n=e.itemsData.get(t.id);this.options.onUpdate(n,(function(t){t&&e.itemsData.getDataSet().update(t)}))}}},M.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),n=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,e)},M.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,n,i=this,r=this.options.snap||null;this.options.rtl?(e=c.getAbsoluteRight(this.dom.frame),n=e-t.center.x):(e=c.getAbsoluteLeft(this.dom.frame),n=t.center.x-e);var o,a,s=this.body.util.toTime(n),u=this.body.util.getScale(),h=this.body.util.getStep();"drop"==t.type?(a=JSON.parse(t.dataTransfer.getData("text")),a.content=a.content?a.content:"new item",a.start=a.start?a.start:r?r(s,u,h):s,a.type=a.type||"box",a[this.itemsData._fieldId]=a.id||c.randomUUID(),"range"!=a.type||a.end||(o=this.body.util.toTime(n+this.props.width/5),a.end=r?r(o,u,h):o)):(a={start:r?r(s,u,h):s,content:"new item"},a[this.itemsData._fieldId]=c.randomUUID(),"range"===this.options.type&&(o=this.body.util.toTime(n+this.props.width/5),a.end=r?r(o,u,h):o));var l=this.groupFromTarget(t);l&&(a.group=l.groupId),a=this._cloneItemData(a),this.options.onAdd(a,(function(e){e&&(i.itemsData.getDataSet().add(e),"drop"==t.type&&i.setSelection([e.id]))}))}},M.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var n=this.options.multiselect?this.getSelection():[],i=t.srcEvent&&t.srcEvent.shiftKey||!1;if(i&&this.options.multiselect){var r=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&n.length>0&&(o=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&void 0!=o&&o!=r||n.push(e.id);var a=M._getItemRange(this.itemsData.get(n,this.itemOptions));if(!this.options.multiselectPerGroup||o==r)for(var s in n=[],this.items)if(this.items.hasOwnProperty(s)){var u=this.items[s],c=u.data.start,h=void 0!==u.data.end?u.data.end:c;!(c>=a.min&&h<=a.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(u.id).group||u instanceof b||n.push(u.id)}}else{var l=n.indexOf(e.id);-1==l?n.push(e.id):n.splice(l,1)}this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},M._getItemRange=function(t){var e=null,n=null;return t.forEach((function(t){(null==n||t.start<n)&&(n=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)})),{min:n,max:e}},M.prototype.itemFromElement=function(t){var e=t;while(e){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},M.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},M.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},M.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(var i=0;i<n.length;i++){var r=n[i],o=this.groups[r],a=o.dom.foreground,s=c.getAbsoluteTop(a);if(e>s&&e<s+a.offsetHeight)return o;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>s)return o}else if(0===i&&e<s+a.offset)return o}return null},M.itemSetFromTarget=function(t){var e=t.target;while(e){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},M.prototype._cloneItemData=function(t,e){var n=c.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=n.start&&(n.start=c.convert(n.start,e&&e.start||"Date")),void 0!=n.end&&(n.end=c.convert(n.end,e&&e.end||"Date")),n},t.exports=M},function(t,e,n){var i=.001;e.orderByStart=function(t){t.sort((function(t,e){return t.data.start-e.data.start}))},e.orderByEnd=function(t){t.sort((function(t,e){var n="end"in t.data?t.data.end:t.data.start,i="end"in e.data?e.data.end:e.data.start;return n-i}))},e.stack=function(t,n,i){if(i)for(var r=0;r<t.length;r++)t[r].top=null;for(r=0;r<t.length;r++){var o=t[r];if(o.stack&&null===o.top){o.top=n.axis;do{for(var a=null,s=0,u=t.length;s<u;s++){var c=t[s];if(null!==c.top&&c!==o&&c.stack&&e.collision(o,c,n.item,c.options.rtl)){a=c;break}}null!=a&&(o.top=a.top+a.height+n.item.vertical)}while(a)}}},e.substack=function(t,n,i){for(var r=0;r<t.length;r++)t[r].top=null;var o=i.height;for(r=0;r<t.length;r++){var a=t[r];if(a.stack&&null===a.top){a.top=a.baseTop;do{for(var s=null,u=0,c=t.length;u<c;u++){var h=t[u];if(null!==h.top&&h!==a&&e.collision(a,h,n.item,h.options.rtl)){s=h;break}}null!=s&&(a.top=s.top+s.height+n.item.vertical),a.top+a.height>o&&(o=a.top+a.height)}while(s)}}i.height=o-i.top+.5*n.item.vertical},e.nostack=function(t,n,i,r){for(var o=0;o<t.length;o++)if(void 0==t[o].data.subgroup)t[o].top=n.item.vertical;else if(void 0!==t[o].data.subgroup&&r){var a=0;for(var s in i)i.hasOwnProperty(s)&&1==i[s].visible&&i[s].index<i[t[o].data.subgroup].index&&(a+=i[s].height,i[t[o].data.subgroup].top=a);t[o].top=a+.5*n.item.vertical}r||e.stackSubgroups(t,n,i)},e.stackSubgroups=function(t,n,i){for(var r in i)if(i.hasOwnProperty(r)){i[r].top=0;do{var o=null;for(var a in i)if(null!==i[a].top&&a!==r&&i[r].index>i[a].index&&e.collisionByTimes(i[r],i[a])){o=i[a];break}null!=o&&(i[r].top=o.top+o.height)}while(o)}for(var s=0;s<t.length;s++)void 0!==t[s].data.subgroup&&(t[s].top=i[t[s].data.subgroup].top+.5*n.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,n,i){var r=!1,o=[];for(var a in i)i[a].hasOwnProperty("index")?o[i[a].index]=a:o.push(a);for(var s=0;s<o.length;s++)if(a=o[s],i.hasOwnProperty(a)){for(var u in r=r||i[a].stack,i[a].top=0,i)i[u].visible&&i[a].index>i[u].index&&(i[a].top+=i[u].height);for(var c=t[a],h=0;h<c.length;h++)void 0!==c[h].data.subgroup&&(c[h].top=i[c[h].data.subgroup].top+.5*n.item.vertical,i[a].stack&&(c[h].baseTop=c[h].top));r&&i[a].stack&&e.substack(t[a],n,i[a])}},e.collision=function(t,e,n,r){return r?t.right-n.horizontal+i<e.right+e.width&&t.right+t.width+n.horizontal-i>e.right&&t.top-n.vertical+i<e.top+e.height&&t.top+t.height+n.vertical-i>e.top:t.left-n.horizontal+i<e.left+e.width&&t.left+t.width+n.horizontal-i>e.left&&t.top-n.vertical+i<e.top+e.height&&t.top+t.height+n.vertical-i>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,n){var i=n(38);function r(t,e,n){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=n,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);i.call(this,t,e,n)}r.prototype=new i(null,null,null),r.prototype.isVisible=function(t){var e,n=this.options.align,i=this.width*t.getMillisecondsPerPixel();return e="right"==n?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==n?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end,e},r.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},r.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var n=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(this.dom.dot)}this.displayed=!0},r.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e,this.dom.line.className="vis-item vis-line"+e,this.dom.dot.className="vis-item vis-dot"+e}},r.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},r.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},r.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},r.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach((function(t){n=t()})),n)},r.prototype.show=function(){this.displayed||this.redraw()},r.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},r.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},r.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,n=this.dom.line,i=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom="";else{var r=this.parent.itemSet.props.height,o=r-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=r-o+"px",n.style.bottom="0"}i.style.top=-this.props.dot.height/2+"px"},r.prototype.getWidthLeft=function(){return this.width/2},r.prototype.getWidthRight=function(){return this.width/2},t.exports=r},function(t,e,n){var i=n(38);function r(t,e,n){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=n,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);i.call(this,t,e,n)}r.prototype=new i(null,null,null),r.prototype.isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},r.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},r.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},r.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e,this.dom.dot.className="vis-item vis-dot"+e}},r.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},r.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},r.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},r.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach((function(t){n=t()})),n)},r.prototype.show=function(){this.displayed||this.redraw()},r.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},r.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},r.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},r.prototype.getWidthLeft=function(){return this.props.dot.width},r.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=r},function(t,e,n){var i=n(38),r=n(69),o=n(70);function a(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}i.call(this,t,e,n)}a.prototype=new i(null,null,null),a.prototype.baseClassName="vis-item vis-background",a.prototype.stack=!1,a.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},a.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},a.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},a.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}},a.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},a.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},a.prototype._repaintDomAdditionals=function(){},a.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach((function(t){n=t()})),n)},a.prototype.show=o.prototype.show,a.prototype.hide=o.prototype.hide,a.prototype.repositionX=o.prototype.repositionX,a.prototype.repositionY=function(t){var e,n=this.options.orientation.item;if(void 0!==this.data.subgroup){var i=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[i].height+"px",this.dom.box.style.top="top"==n?this.parent.top+this.parent.subgroups[i].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof r?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n){(0,r["default"])(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,a["default"])(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,a=0;if("flip"==this.overflowMethod){var s=!1,u=!0;this.y-e<this.padding&&(u=!1),this.x+n>r-this.padding&&(s=!0),o=s?this.x-n:this.x,a=u?this.y-e:this.y}else a=this.y-e,a+e+this.padding>i&&(a=i-e-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",r="boolean",o="number",a="array",s="date",u="object",c="dom",h="moment",l="any",d={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:c},__type__:{object:u,boolean:r,function:"function"}},align:{string:i},rtl:{boolean:r,undefined:"undefined"},rollingMode:{follow:{boolean:r},offset:{number:o,undefined:"undefined"},__type__:{object:u}},verticalScroll:{boolean:r,undefined:"undefined"},horizontalScroll:{boolean:r,undefined:"undefined"},autoResize:{boolean:r},throttleRedraw:{number:o},clickToUse:{boolean:r},dataAttributes:{string:i,array:a},editable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},updateGroup:{boolean:r,undefined:"undefined"},updateTime:{boolean:r,undefined:"undefined"},overrideItems:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:u}},end:{number:o,date:s,string:i,moment:h},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:u,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:u,function:"function"}},__type__:{object:u}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},order:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:u}},groupOrderSwap:{function:"function"},height:{string:i,number:o},hiddenDates:{start:{date:s,number:o,string:i,moment:h},end:{date:s,number:o,string:i,moment:h},repeat:{string:i},__type__:{object:u,array:a}},itemsAlwaysDraggable:{item:{boolean:r,undefined:"undefined"},range:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:u}},limitSize:{boolean:r},locale:{string:i},locales:{__any__:{any:l},__type__:{object:u}},margin:{axis:{number:o},item:{horizontal:{number:o,undefined:"undefined"},vertical:{number:o,undefined:"undefined"},__type__:{object:u,number:o}},__type__:{object:u,number:o}},max:{date:s,number:o,string:i,moment:h},maxHeight:{number:o,string:i},maxMinorChars:{number:o},min:{date:s,number:o,string:i,moment:h},minHeight:{number:o,string:i},moveable:{boolean:r},multiselect:{boolean:r},multiselectPerGroup:{boolean:r},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:u}},selectable:{boolean:r},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},stack:{boolean:r},stackSubgroups:{boolean:r},snap:{function:"function",null:"null"},start:{date:s,number:o,string:i,moment:h},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},showTooltips:{boolean:r},tooltip:{followMouse:{boolean:r},overflowMethod:{string:["cap","flip"]},__type__:{object:u}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:r,object:u}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:u}},type:{string:i},width:{string:i,number:o},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},__type__:{object:u}},f={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=d,e.configureOptions=f},function(t,e,n){var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(14),u=n(11),c=n(12),h=n(16),l=n(107),d=n(109),f=n(112),p=n(110),g=n(111),v=n(72),m="__ungrouped__";function y(t,e){this.id=a.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=a.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){n._onAddGroups(e.items)},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",(function(){n.lastStart=n.body.range.start,n.svg.style.left=a.option.asSize(-n.props.width),n.forceGraphUpdate=!0,n.redraw.call(n)})),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}y.prototype=new h,y.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new l(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new l(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new f(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new f(this.body,this.options.legend,"right",this.options.groups),this.show()},y.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),a.selectiveDeepExtend(e,this.options,t),a.mergeOptions(this.options,t,"interpolation"),a.mergeOptions(this.options,t,"drawPoints"),a.mergeOptions(this.options,t,"shaded"),a.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,r["default"])(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m)&&this.groups[m].setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},y.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},y.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},y.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof u||t instanceof c))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(a.forEach(this.itemListeners,(function(t,e){i.off(e,t)})),e=i.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;a.forEach(this.itemListeners,(function(t,e){n.itemsData.on(e,t,r)})),e=this.itemsData.getIds(),this._onAdd(e)}},y.prototype.setGroups=function(t){var e,n=this;if(this.groupsData){a.forEach(this.groupListeners,(function(t,e){n.groupsData.off(e,t)})),e=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<e.length;i++)this._removeGroup(e[i])}if(t){if(!(t instanceof u||t instanceof c))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var r=this.id;a.forEach(this.groupListeners,(function(t,e){n.groupsData.on(e,t,r)})),e=this.groupsData.getIds(),this._onAddGroups(e)}},y.prototype._onUpdate=function(t){this._updateAllGroupData(t)},y.prototype._onAdd=function(t){this._onUpdate(t)},y.prototype._onRemove=function(t){this._onUpdate(t)},y.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},y.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},y.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},y.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},y.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new d(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},y.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var n={},i=this.itemsData.get(),r=this.itemsData._fieldId,o={};t&&t.map((function(t){o[t]=t}));for(var s={},u=0;u<i.length;u++){var c=i[u],h=c.group;null!==h&&void 0!==h||(h=m),s.hasOwnProperty(h)?s[h]++:s[h]=1}var l={};if(!e&&t)for(h in this.groups)if(this.groups.hasOwnProperty(h)){v=this.groups[h];var d=v.getItems();n[h]=d.filter((function(t){return l[t[r]]=t[r],t[r]!==o[t[r]]}));var f=s[h];s[h]-=n[h].length,n[h].length<f&&(n[h][f-1]={})}for(u=0;u<i.length;u++)if(c=i[u],h=c.group,null!==h&&void 0!==h||(h=m),e||!t||c[r]===o[c[r]]||!l.hasOwnProperty(c[r])){n.hasOwnProperty(h)||(n[h]=new Array(s[h]));var p=a.bridgeObject(c);p.x=a.convert(c.x,"Date"),p.end=a.convert(c.end,"Date"),p.orginalY=c.y,p.y=Number(c.y),p[r]=c[r];var g=n[h].length-s[h]--;n[h][g]=p}for(h in this.groups)this.groups.hasOwnProperty(h)&&(n.hasOwnProperty(h)||(n[h]=new Array(0)));for(h in n)if(n.hasOwnProperty(h))if(0==n[h].length)this.groups.hasOwnProperty(h)&&this._removeGroup(h);else{var v=void 0;void 0!=this.groupsData&&(v=this.groupsData.get(h)),void 0==v&&(v={id:h,content:this.options.defaultGroup+h}),this._updateGroup(v,h),this.groups[h].setItems(n[h])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},y.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,n=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=a.option.asSize(3*this.props.width),this.svg.style.left=a.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==n||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var i=this.body.range.start-this.lastStart,r=this.body.range.end-this.body.range.start;if(0!=this.props.width){var o=this.props.width/r,s=i*o;this.svg.style.left=-this.props.width-s+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},y.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var n=this.groups[e];1!=n.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:n.options.zIndex})}a.insertSort(t,(function(t,e){var n=t.zIndex,i=e.zIndex;return void 0===n&&(n=0),void 0===i&&(i=0),n==i?0:n<i?-1:1}));for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=t[r].id;return i},y.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,n={},i=!1,r=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var u={};for(this._getRelevantData(a,u,r,o),this._applySampling(a,u),e=0;e<a.length;e++)this._convertXcoordinates(u[a[e]]);if(this._getYRanges(a,u,n),i=this._updateYAxis(a,n),1==i)return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var c=void 0;for(e=0;e<a.length;e++)t=this.groups[a[e]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=c&&(this._stack(u[t.id],u[c.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==c.options.shaded.orientation?(c.options.shaded.orientation="group",c.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=c.id))),c=t)),this._convertYcoordinates(u[a[e]],t);var h={};for(e=0;e<a.length;e++)if(t=this.groups[a[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var l=u[a[e]];if(null==l||0==l.length)continue;if(h.hasOwnProperty(a[e])||(h[a[e]]=g.calcPath(l,t)),"group"===t.options.shaded.orientation){var d=t.options.shaded.groupId;if(-1===a.indexOf(d)){console.log(t.id+": Unknown shading group target given:"+d);continue}h.hasOwnProperty(d)||(h[d]=g.calcPath(u[d],this.groups[d])),g.drawShading(h[a[e]],t,h[d],this.framework)}else g.drawShading(h[a[e]],t,void 0,this.framework)}for(p.draw(a,u,this.framework),e=0;e<a.length;e++)if(t=this.groups[a[e]],u[a[e]].length>0)switch(t.options.style){case"line":h.hasOwnProperty(a[e])||(h[a[e]]=g.calcPath(u[a[e]],t)),g.draw(h[a[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||v.draw(u[a[e]],t,this.framework);break;case"bar":default:}}}return s.cleanupElements(this.svgElements),!1},y.prototype._stack=function(t,e){var n,i,r,o,a;n=0;for(var s=0;s<t.length;s++){o=void 0,a=void 0;for(var u=n;u<e.length;u++){if(e[u].x===t[s].x){o=e[u],a=e[u],n=u;break}if(e[u].x>t[s].x){a=e[u],o=0==u?a:e[u-1],n=u;break}}void 0===a&&(o=e[e.length-1],a=e[e.length-1]),i=a.x-o.x,r=a.y-o.y,t[s].y=0==i?t[s].orginalY+a.y:t[s].orginalY+r/i*(t[s].x-o.x)+o.y}},y.prototype._getRelevantData=function(t,e,n,i){var r,o,s,u;if(t.length>0)for(o=0;o<t.length;o++){r=this.groups[t[o]];var c=r.getItems();if(1==r.options.sort){var h=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},l=Math.max(0,a.binarySearchValue(c,n,"x","before",h)),d=Math.min(c.length,a.binarySearchValue(c,i,"x","after",h)+1);d<=0&&(d=c.length);var f=new Array(d-l);for(s=l;s<d;s++)u=r.itemsData[s],f[s-l]=u;e[t[o]]=f}else e[t[o]]=r.itemsData}},y.prototype._applySampling=function(t,e){var n;if(t.length>0)for(var i=0;i<t.length;i++)if(n=this.groups[t[i]],1==n.options.sampling){var r=e[t[i]];if(r.length>0){var o=1,a=r.length,s=this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x),u=a/s;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(u)));for(var c=new Array(a),h=0;h<a;h+=o){var l=Math.round(h/o);c[l]=r[h]}e[t[i]]=c.splice(0,Math.round(a/o))}}},y.prototype._getYRanges=function(t,e,n){var i,r,o,a,s=[],u=[];if(t.length>0){for(o=0;o<t.length;o++)i=e[t[o]],a=this.groups[t[o]].options,i.length>0&&(r=this.groups[t[o]],!0===a.stack&&"bar"===a.style?"left"===a.yAxisOrientation?s=s.concat(i):u=u.concat(i):n[t[o]]=r.getYRange(i,t[o]));p.getStackedYRange(s,n,t,"__barStackLeft","left"),p.getStackedYRange(u,n,t,"__barStackRight","right")}},y.prototype._updateYAxis=function(t,e){var n,i,r=!1,o=!1,a=!1,s=1e9,u=1e9,c=-1e9,h=-1e9;if(t.length>0){for(var l=0;l<t.length;l++){var d=this.groups[t[l]];d&&"right"!=d.options.yAxisOrientation?(o=!0,s=1e9,c=-1e9):d&&d.options.yAxisOrientation&&(a=!0,u=1e9,h=-1e9)}for(l=0;l<t.length;l++)e.hasOwnProperty(t[l])&&!0!==e[t[l]].ignore&&(n=e[t[l]].min,i=e[t[l]].max,"right"!=e[t[l]].yAxisOrientation?(o=!0,s=s>n?n:s,c=c<i?i:c):(a=!0,u=u>n?n:u,h=h<i?i:h));1==o&&this.yAxisLeft.setRange(s,c),1==a&&this.yAxisRight.setRange(u,h)}r=this._toggleAxisVisiblity(o,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(a,this.yAxisRight)||r,1==a&&1==o?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!o,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==a?this.yAxisRight.width:0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var f=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(l=0;l<f.length;l++)-1!=t.indexOf(f[l])&&t.splice(t.indexOf(f[l]),1);return r},y.prototype._toggleAxisVisiblity=function(t,e){var n=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),n=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),n=!0),n},y.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,n=0;n<t.length;n++)t[n].screen_x=e(t[n].x)+this.props.width,t[n].screen_y=t[n].y,void 0!=t[n].end?t[n].screen_end=e(t[n].end)+this.props.width:t[n].screen_end=void 0},y.prototype._convertYcoordinates=function(t,e){var n=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(n=this.yAxisRight);for(var r=0;r<t.length;r++)t[r].screen_y=Math.round(n.convertValue(t[r].y));e.setZeroPosition(Math.min(i,n.convertValue(0)))},t.exports=y},function(t,e,n){var i=n(8),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(14),u=n(16),c=n(108);function h(t,e,n,i){this.id=a.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=a.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var r=this;this.body.emitter.on("verticalDrag",(function(){r.dom.lineContainer.style.top=r.body.domProps.scrollTop+"px"}))}h.prototype=new u,h.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},h.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},h.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},h.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var n=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];a.selectiveDeepExtend(n,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},h.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},h.prototype._redrawGroupIcons=function(){var t;s.prepareElements(this.svgElements);var e=this.options.iconWidth,n=15,i=4,o=i+.5*n;t="left"===this.options.orientation?i:this.width-e-i;var a=(0,r["default"])(this.groups);a.sort((function(t,e){return t<e?-1:1}));for(var u=0;u<a.length;u++){var c=a[u];!0!==this.groups[c].visible||void 0!==this.linegraphOptions.visibility[c]&&!0!==this.linegraphOptions.visibility[c]||(this.groups[c].getLegend(e,n,this.framework,t,o),o+=n+i)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},h.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},h.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},h.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},h.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},h.prototype.redraw=function(){var t=!1,e=0;for(var n in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(n)&&(!0!==this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&!0!==this.linegraphOptions.visibility[n]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var i=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();var o=this.options.orientation,a=this.options.showMinorLabels,s=this.options.showMajorLabels;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=s?i.majorCharHeight:0,i.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,"left"===o?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return t},h.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var n=this.options["orientation"],i=void 0!=this.options[n].range?this.options[n].range:{},r=!0;void 0!=i.max&&(this.range.end=i.max,r=!1);var o=!0;void 0!=i.min&&(this.range.start=i.min,o=!1),this.scale=new c(this.range.start,this.range.end,o,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[n].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;var a=this.scale.getLines();a.forEach((function(e){var i=e.y,r=e.major;t.options["showMinorLabels"]&&!1===r&&t._redrawLabel(i-2,e.val,n,"vis-y-axis vis-minor",t.props.minorCharHeight),r&&i>=0&&t._redrawLabel(i-2,e.val,n,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(r?t._redrawLine(i,n,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(i,n,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))}));var u=0;void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(u=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,u)+this.options.labelOffsetX+15:u+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},h.prototype.convertValue=function(t){return this.scale.convertValue(t)},h.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},h.prototype._redrawLabel=function(t,e,n,i,r){var o=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);o.className=i,o.innerHTML=e,"left"===n?(o.style.left="-"+this.options.labelOffsetX+"px",o.style.textAlign="right"):(o.style.right="-"+this.options.labelOffsetX+"px",o.style.textAlign="left"),o.style.top=t-.5*r+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},h.prototype._redrawLine=function(t,e,n,i,r){if(!0===this.master){var o=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);o.className=n,o.innerHTML="","left"===e?o.style.left=this.width-i+"px":o.style.right=this.width-i+"px",o.style.width=r+"px",o.style.top=t+"px"}},h.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&a.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},h.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var n=document.createTextNode("0"),i=document.createElement("div");i.className="vis-y-axis vis-major vis-measure",i.appendChild(n),this.dom.frame.appendChild(i),this.props.majorCharHeight=i.clientHeight,this.props.majorCharWidth=i.clientWidth,this.dom.frame.removeChild(i)}if(!("titleCharHeight"in this.props)){var r=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-title vis-measure",o.appendChild(r),this.dom.frame.appendChild(o),this.props.titleCharHeight=o.clientHeight,this.props.titleCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}},t.exports=h},function(t,e,n){function i(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=r,this.majorCharHeight=o,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=n,this.autoScaleEnd=i,this.formattingFunction=s,n||i){var u=this,c=function(t){var e=t-t%(u.magnitudefactor*u.minorSteps[u.minorStepIdx]);return t%(u.magnitudefactor*u.minorSteps[u.minorStepIdx])>u.magnitudefactor*u.minorSteps[u.minorStepIdx]*.5?e+u.magnitudefactor*u.minorSteps[u.minorStepIdx]:e};n&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=c(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=c(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,n=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);var i=0;n<0&&(i=n);for(var r=!1,o=i;Math.abs(o)<=Math.abs(n);o++){this.magnitudefactor=Math.pow(10,o);for(var a=0;a<this.minorSteps.length;a++){var s=this.magnitudefactor*this.minorSteps[a];if(s>=e){r=!0,this.minorStepIdx=a;break}}if(!0===r)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"===typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"===typeof e?""+e:"string"===typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),n=(e-this._start%e)%e,i=this._start+n;this._end-i>1e-5;i+=e)i!=this._start&&t.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return t},i.prototype.followScale=function(t){var e=this.minorStepIdx,n=this._start,i=this._end,r=this,o=function(){r.magnitudefactor*=2},a=function(){r.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?o():(o(),o())):(this.minorStepIdx=2,1==e?a():(a(),a())));var s=t.convertValue(0),u=t.getStep()*t.scale,c=!1,h=0;while(!c&&h++<5){this.scale=u/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var l=this.containerHeight/this.scale;this._start=n,this._end=this._start+l;var d=this._end*this.scale,f=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var g=s-d;this._end+=g/this.scale,this._start=this._end-l}else this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+l):(this._start+=f-p/this.scale,this._end=this._start+l);if(!this.autoScaleEnd&&this._end>i+1e-5)a(),c=!1;else{if(!this.autoScaleStart&&this._start<n-1e-5){if(!(this.zeroAlign&&n>=0)){a(),c=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&l<i-n?(o(),c=!1):c=!0}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,n){var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(110),u=n(111),c=n(72);function h(t,e,n,i){this.id=e;var r=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=a.selectiveBridgeObject(r,n),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}h.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&a.insertSort(this.itemsData,(function(t,e){return t.x>e.x?1:-1}))):this.itemsData=[]},h.prototype.getItems=function(){return this.itemsData},h.prototype.setZeroPosition=function(t){this.zeroPosition=t},h.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];a.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),a.mergeOptions(this.options,t,"interpolation"),a.mergeOptions(this.options,t,"drawPoints"),a.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,r["default"])(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},h.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},h.prototype.getLegend=function(t,e,n,i,r){if(void 0==n||null==n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");n={svg:o,svgElements:{},options:this.options,groups:[this]}}switch(void 0!=i&&null!=i||(i=0),void 0!=r&&null!=r||(r=.5*e),this.options.style){case"line":u.drawIcon(this,i,r,t,e,n);break;case"points":case"point":c.drawIcon(this,i,r,t,e,n);break;case"bar":s.drawIcon(this,i,r,t,e,n);break}return{icon:n.svg,label:this.content,orientation:this.options.yAxisOrientation}},h.prototype.getYRange=function(t){for(var e=t[0].y,n=t[0].y,i=0;i<t.length;i++)e=e>t[i].y?t[i].y:e,n=n<t[i].y?t[i].y:n;return{min:e,max:n,yAxisOrientation:this.options.yAxisOrientation}},t.exports=h},function(t,e,n){var i=n(14),r=n(72);function o(t,e){}o.drawIcon=function(t,e,n,r,o,a){var s=.5*o,u=i.getSVGElement("rect",a.svgElements,a.svg);u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",n-s),u.setAttributeNS(null,"width",r),u.setAttributeNS(null,"height",2*s),u.setAttributeNS(null,"class","vis-outline");var c=Math.round(.3*r),h=t.options.barChart.width,l=h/c,d=Math.round(.4*o),f=Math.round(.75*o),p=Math.round((r-2*c)/3);if(i.drawBar(e+.5*c+p,n+s-d-1,c,d,t.className+" vis-bar",a.svgElements,a.svg,t.style),i.drawBar(e+1.5*c+p+2,n+s-f-1,c,f,t.className+" vis-bar",a.svgElements,a.svg,t.style),1==t.options.drawPoints.enabled){var g={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/l,className:t.className};i.drawPoint(e+.5*c+p,n+s-d-1,g,a.svgElements,a.svg),i.drawPoint(e+1.5*c+p+2,n+s-f-1,g,a.svgElements,a.svg)}},o.draw=function(t,e,n){var a,s,u,c,h,l,d=[],f={},p=0;for(h=0;h<t.length;h++)if(c=n.groups[t[h]],"bar"===c.options.style&&!0===c.visible&&(void 0===n.options.groups.visibility[t[h]]||!0===n.options.groups.visibility[t[h]]))for(l=0;l<e[t[h]].length;l++)d.push({screen_x:e[t[h]][l].screen_x,screen_end:e[t[h]][l].screen_end,screen_y:e[t[h]][l].screen_y,x:e[t[h]][l].x,end:e[t[h]][l].end,y:e[t[h]][l].y,groupId:t[h],label:e[t[h]][l].label}),p+=1;if(0!==p)for(d.sort((function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x})),o._getDataIntersections(f,d),h=0;h<d.length;h++){c=n.groups[d[h].groupId];var g=void 0!=c.options.barChart.minWidth?c.options.barChart.minWidth:.1*c.options.barChart.width;s=d[h].screen_x;var v=0;if(void 0===f[s])h+1<d.length&&(a=Math.abs(d[h+1].screen_x-s)),u=o._getSafeDrawData(a,c,g);else{var m=h+(f[s].amount-f[s].resolved);m<d.length&&(a=Math.abs(d[m].screen_x-s)),u=o._getSafeDrawData(a,c,g),f[s].resolved+=1,!0===c.options.stack&&!0!==c.options.excludeFromStacking?d[h].screen_y<c.zeroPosition?(v=f[s].accumulatedNegative,f[s].accumulatedNegative+=c.zeroPosition-d[h].screen_y):(v=f[s].accumulatedPositive,f[s].accumulatedPositive+=c.zeroPosition-d[h].screen_y):!0===c.options.barChart.sideBySide&&(u.width=u.width/f[s].amount,u.offset+=f[s].resolved*u.width-.5*u.width*(f[s].amount+1))}var y=u.width,b=d[h].screen_x;if(void 0!=d[h].screen_end?(y=d[h].screen_end-d[h].screen_x,b+=.5*y):b+=u.offset,i.drawBar(b,d[h].screen_y-v,y,c.zeroPosition-d[h].screen_y,c.className+" vis-bar",n.svgElements,n.svg,c.style),!0===c.options.drawPoints.enabled){var x={screen_x:d[h].screen_x,screen_y:d[h].screen_y-v,x:d[h].x,y:d[h].y,groupId:d[h].groupId,label:d[h].label};r.draw([x],c,n,u.offset)}}},o._getDataIntersections=function(t,e){for(var n,i=0;i<e.length;i++)i+1<e.length&&(n=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(n=Math.min(n,Math.abs(e[i-1].screen_x-e[i].screen_x))),0===n&&(void 0===t[e[i].screen_x]&&(t[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[i].screen_x].amount+=1)},o._getSafeDrawData=function(t,e,n){var i,r;return t<e.options.barChart.width&&t>0?(i=t<n?n:t,r=0,"left"===e.options.barChart.align?r-=.5*t:"right"===e.options.barChart.align&&(r+=.5*t)):(i=e.options.barChart.width,r=0,"left"===e.options.barChart.align?r-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(r+=.5*e.options.barChart.width)),{width:i,offset:r}},o.getStackedYRange=function(t,e,n,i,r){if(t.length>0){t.sort((function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}));var a={};o._getDataIntersections(a,t),e[i]=o._getStackedYRange(a,t),e[i].yAxisOrientation=r,n.push(i)}},o._getStackedYRange=function(t,e){for(var n,i=e[0].screen_y,r=e[0].screen_y,o=0;o<e.length;o++)n=e[o].screen_x,void 0===t[n]?(i=i>e[o].screen_y?e[o].screen_y:i,r=r<e[o].screen_y?e[o].screen_y:r):e[o].screen_y<0?t[n].accumulatedNegative+=e[o].screen_y:t[n].accumulatedPositive+=e[o].screen_y;for(var a in t)t.hasOwnProperty(a)&&(i=i>t[a].accumulatedNegative?t[a].accumulatedNegative:i,i=i>t[a].accumulatedPositive?t[a].accumulatedPositive:i,r=r<t[a].accumulatedNegative?t[a].accumulatedNegative:r,r=r<t[a].accumulatedPositive?t[a].accumulatedPositive:r);return{min:i,max:r}},t.exports=o},function(t,e,n){var i=n(14);function r(t,e){}r.calcPath=function(t,e){if(null!=t&&t.length>0){var n=[];return n=1==e.options.interpolation.enabled?r._catmullRom(t,e):r._linear(t),n}},r.drawIcon=function(t,e,n,r,o,a){var s,u,c=.5*o,h=i.getSVGElement("rect",a.svgElements,a.svg);if(h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",n-c),h.setAttributeNS(null,"width",r),h.setAttributeNS(null,"height",2*c),h.setAttributeNS(null,"class","vis-outline"),s=i.getSVGElement("path",a.svgElements,a.svg),s.setAttributeNS(null,"class",t.className),void 0!==t.style&&s.setAttributeNS(null,"style",t.style),s.setAttributeNS(null,"d","M"+e+","+n+" L"+(e+r)+","+n),1==t.options.shaded.enabled&&(u=i.getSVGElement("path",a.svgElements,a.svg),"top"==t.options.shaded.orientation?u.setAttributeNS(null,"d","M"+e+", "+(n-c)+"L"+e+","+n+" L"+(e+r)+","+n+" L"+(e+r)+","+(n-c)):u.setAttributeNS(null,"d","M"+e+","+n+" L"+e+","+(n+c)+" L"+(e+r)+","+(n+c)+"L"+(e+r)+","+n),u.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&u.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var l={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};i.drawPoint(e+.5*r,n,l,a.svgElements,a.svg)}},r.drawShading=function(t,e,n,r){if(1==e.options.shaded.enabled){var o,a=Number(r.svg.style.height.replace("px","")),s=i.getSVGElement("path",r.svgElements,r.svg),u="L";1==e.options.interpolation.enabled&&(u="C");var c=0;c="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?a:Math.min(Math.max(0,e.zeroPosition),a),o="group"==e.options.shaded.orientation&&null!=n&&void 0!=n?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,u,!1)+" L"+n[n.length-1][0]+","+n[n.length-1][1]+" "+this.serializePath(n,u,!0)+n[0][0]+","+n[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,u,!1)+" V"+c+" H"+t[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",o)}},r.draw=function(t,e,n){if(null!=t&&void 0!=t){var r=i.getSVGElement("path",n.svgElements,n.svg);r.setAttributeNS(null,"class",e.className),void 0!==e.style&&r.setAttributeNS(null,"style",e.style);var o="L";1==e.options.interpolation.enabled&&(o="C"),r.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1))}},r.serializePath=function(t,e,n){if(t.length<2)return"";var i,r=e;if(n)for(i=t.length-2;i>0;i--)r+=t[i][0]+","+t[i][1]+" ";else for(i=1;i<t.length;i++)r+=t[i][0]+","+t[i][1]+" ";return r},r._catmullRomUniform=function(t){var e,n,i,r,o,a,s=[];s.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var u=1/6,c=t.length,h=0;h<c-1;h++)e=0==h?t[0]:t[h-1],n=t[h],i=t[h+1],r=h+2<c?t[h+2]:i,o={screen_x:(-e.screen_x+6*n.screen_x+i.screen_x)*u,screen_y:(-e.screen_y+6*n.screen_y+i.screen_y)*u},a={screen_x:(n.screen_x+6*i.screen_x-r.screen_x)*u,screen_y:(n.screen_y+6*i.screen_y-r.screen_y)*u},s.push([o.screen_x,o.screen_y]),s.push([a.screen_x,a.screen_y]),s.push([i.screen_x,i.screen_y]);return s},r._catmullRom=function(t,e){var n=e.options.interpolation.alpha;if(0==n||void 0===n)return this._catmullRomUniform(t);var i,r,o,a,s,u,c,h,l,d,f,p,g,v,m,y,b,x,w,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var M=t.length,k=0;k<M-1;k++)i=0==k?t[0]:t[k-1],r=t[k],o=t[k+1],a=k+2<M?t[k+2]:o,c=Math.sqrt(Math.pow(i.screen_x-r.screen_x,2)+Math.pow(i.screen_y-r.screen_y,2)),h=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2)),l=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),v=Math.pow(l,n),y=Math.pow(l,2*n),m=Math.pow(h,n),b=Math.pow(h,2*n),w=Math.pow(c,n),x=Math.pow(c,2*n),d=2*x+3*w*m+b,f=2*y+3*v*m+b,p=3*w*(w+m),p>0&&(p=1/p),g=3*v*(v+m),g>0&&(g=1/g),s={screen_x:(-b*i.screen_x+d*r.screen_x+x*o.screen_x)*p,screen_y:(-b*i.screen_y+d*r.screen_y+x*o.screen_y)*p},u={screen_x:(y*r.screen_x+f*o.screen_x-b*a.screen_x)*g,screen_y:(y*r.screen_y+f*o.screen_y-b*a.screen_y)*g},0==s.screen_x&&0==s.screen_y&&(s=r),0==u.screen_x&&0==u.screen_y&&(u=o),_.push([s.screen_x,s.screen_y]),_.push([u.screen_x,u.screen_y]),_.push([o.screen_x,o.screen_y]);return _},r._linear=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n].screen_x,t[n].screen_y]);return e},t.exports=r},function(t,e,n){var i=n(8),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),s=n(14),u=n(16);function c(t,e,n,i){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=n,this.options=a.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}c.prototype=new u,c.prototype.clear=function(){this.groups={},this.amountOfGroups=0},c.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},c.prototype.updateGroup=function(t,e){this.groups[t]=e},c.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},c.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},c.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},c.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},c.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];a.selectiveDeepExtend(e,this.options,t)},c.prototype.redraw=function(){var t=0,e=(0,r["default"])(this.groups);e.sort((function(t,e){return t<e?-1:1}));for(var n=0;n<e.length;n++){var i=e[n];1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var a="";for(n=0;n<e.length;n++)i=e[n],1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||(a+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=a,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},c.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,r["default"])(this.groups);t.sort((function(t,e){return t<e?-1:1})),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,n=Number(e.replace("px","")),i=n,o=this.options.iconSize,a=.75*this.options.iconSize,u=n+.5*a+3;this.svg.style.width=o+5+n+"px";for(var c=0;c<t.length;c++){var h=t[c];1!=this.groups[h].visible||void 0!==this.linegraphOptions.visibility[h]&&1!=this.linegraphOptions.visibility[h]||(this.groups[h].getLegend(o,a,this.framework,i,u),u+=a+this.options.iconSpacing)}}},t.exports=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",r="boolean",o="number",a="array",s="date",u="object",c="dom",h="moment",l="any",d={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:c},__type__:{object:u,boolean:r,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:r},sampling:{boolean:r},stack:{boolean:r},graphHeight:{string:i,number:o},shaded:{enabled:{boolean:r},orientation:{string:["bottom","top","zero","group"]},groupId:{object:u},__type__:{boolean:r,object:u}},style:{string:["line","bar","points"]},barChart:{width:{number:o},minWidth:{number:o},sideBySide:{boolean:r},align:{string:["left","center","right"]},__type__:{object:u}},interpolation:{enabled:{boolean:r},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:o},__type__:{object:u,boolean:r}},drawPoints:{enabled:{boolean:r},onRender:{function:"function"},size:{number:o},style:{string:["square","circle"]},__type__:{object:u,boolean:r,function:"function"}},dataAxis:{showMinorLabels:{boolean:r},showMajorLabels:{boolean:r},icons:{boolean:r},width:{string:i,number:o},visible:{boolean:r},alignZeros:{boolean:r},left:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:u}},format:{function:"function"},title:{text:{string:i,number:o,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:u}},__type__:{object:u}},right:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:u}},format:{function:"function"},title:{text:{string:i,number:o,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:u}},__type__:{object:u}},__type__:{object:u}},legend:{enabled:{boolean:r},icons:{boolean:r},left:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:u}},right:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:u}},__type__:{object:u,boolean:r}},groups:{visibility:{any:l},__type__:{object:u}},autoResize:{boolean:r},throttleRedraw:{number:o},clickToUse:{boolean:r},end:{number:o,date:s,string:i,moment:h},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:u}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:u}},__type__:{object:u}},moment:{function:"function"},height:{string:i,number:o},hiddenDates:{start:{date:s,number:o,string:i,moment:h},end:{date:s,number:o,string:i,moment:h},repeat:{string:i},__type__:{object:u,array:a}},locale:{string:i},locales:{__any__:{any:l},__type__:{object:u}},max:{date:s,number:o,string:i,moment:h},maxHeight:{number:o,string:i},maxMinorChars:{number:o},min:{date:s,number:o,string:i,moment:h},minHeight:{number:o,string:i},moveable:{boolean:r},multiselect:{boolean:r},orientation:{string:i},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},start:{date:s,number:o,string:i,moment:h},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:u}},width:{string:i,number:o},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},zIndex:{number:o},__type__:{object:u}},f={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=d,e.configureOptions=f},function(t,e,n){var i=n(29),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return l=t,C()}var s={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},u=(0,r["default"])(s);u.color="color.color",u.style="dashes";var c={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},h={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},l="",d=0,f="",p="",g=c.NULL;function v(){d=0,f=l.charAt(0)}function m(){d++,f=l.charAt(d)}function y(){return l.charAt(d+1)}var b=/[a-zA-Z_0-9.:#]/;function x(t){return b.test(t)}function w(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _(t,e,n){var i=e.split("."),r=t;while(i.length){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function M(t,e){var n,i,r=null,o=[t],a=t;while(a.parent)o.push(a.parent),a=a.parent;if(a.nodes)for(n=0,i=a.nodes.length;n<i;n++)if(e.id===a.nodes[n].id){r=a.nodes[n];break}for(r||(r={id:e.id},t.node&&(r.attr=w(r.attr,t.node))),n=o.length-1;n>=0;n--){var s=o[n];s.nodes||(s.nodes=[]),-1===s.nodes.indexOf(r)&&s.nodes.push(r)}e.attr&&(r.attr=w(r.attr,e.attr))}function k(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=w({},t.edge);e.attr=w(n,e.attr)}}function S(t,e,n,i,r){var o={from:e,to:n,type:i};return t.edge&&(o.attr=w({},t.edge)),o.attr=w(o.attr||{},r),o}function E(){g=c.NULL,p="";while(" "===f||"\t"===f||"\n"===f||"\r"===f)m();do{var t=!1;if("#"===f){var e=d-1;while(" "===l.charAt(e)||"\t"===l.charAt(e))e--;if("\n"===l.charAt(e)||""===l.charAt(e)){while(""!=f&&"\n"!=f)m();t=!0}}if("/"===f&&"/"===y()){while(""!=f&&"\n"!=f)m();t=!0}if("/"===f&&"*"===y()){while(""!=f){if("*"===f&&"/"===y()){m(),m();break}m()}t=!0}while(" "===f||"\t"===f||"\n"===f||"\r"===f)m()}while(t);if(""!==f){var n=f+y();if(h[n])return g=c.DELIMITER,p=n,m(),void m();if(h[f])return g=c.DELIMITER,p=f,void m();if(x(f)||"-"===f){p+=f,m();while(x(f))p+=f,m();return"false"===p?p=!1:"true"===p?p=!0:isNaN(Number(p))||(p=Number(p)),void(g=c.IDENTIFIER)}if('"'===f){m();while(""!=f&&('"'!=f||'"'===f&&'"'===y()))'"'===f?(p+=f,m()):"\\"===f&&"n"===y()?(p+="\n",m()):p+=f,m();if('"'!=f)throw L('End of string " expected');return m(),void(g=c.IDENTIFIER)}g=c.UNKNOWN;while(""!=f)p+=f,m();throw new SyntaxError('Syntax error in part "'+j(p,30)+'"')}g=c.DELIMITER}function C(){var t={};if(v(),E(),"strict"===p&&(t.strict=!0,E()),"graph"!==p&&"digraph"!==p||(t.type=p,E()),g===c.IDENTIFIER&&(t.id=p,E()),"{"!=p)throw L("Angle bracket { expected");if(E(),T(t),"}"!=p)throw L("Angle bracket } expected");if(E(),""!==p)throw L("End of file expected");return E(),delete t.node,delete t.edge,delete t.graph,t}function T(t){while(""!==p&&"}"!=p)P(t),";"===p&&E()}function P(t){var e=A(t);if(e)N(t,e);else{var n=O(t);if(!n){if(g!=c.IDENTIFIER)throw L("Identifier expected");var i=p;if(E(),"="===p){if(E(),g!=c.IDENTIFIER)throw L("Identifier expected");t[i]=p,E()}else D(t,i)}}}function A(t){var e=null;if("subgraph"===p&&(e={},e.type="subgraph",E(),g===c.IDENTIFIER&&(e.id=p,E())),"{"===p){if(E(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,T(e),"}"!=p)throw L("Angle bracket } expected");E(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function O(t){return"node"===p?(E(),t.node=I(),"node"):"edge"===p?(E(),t.edge=I(),"edge"):"graph"===p?(E(),t.graph=I(),"graph"):null}function D(t,e){var n={id:e},i=I();i&&(n.attr=i),M(t,n),N(t,e)}function N(t,e){while("->"===p||"--"===p){var n,i=p;E();var r=A(t);if(r)n=r;else{if(g!=c.IDENTIFIER)throw L("Identifier or subgraph expected");n=p,M(t,{id:n}),E()}var o=I(),a=S(t,e,n,i,o);k(t,a),e=n}}function I(){var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};while("["===p){E(),t={};while(""!==p&&"]"!=p){if(g!=c.IDENTIFIER)throw L("Attribute name expected");var n=p;if(E(),"="!=p)throw L("Equal sign = expected");if(E(),g!=c.IDENTIFIER)throw L("Attribute value expected");var i=p;"style"===n&&(i=e[i]),_(t,n,i),E(),","==p&&E()}if("]"!=p)throw L("Bracket ] expected");E()}return t}function L(t){return new SyntaxError(t+', got "'+j(p,30)+'" (char '+d+")")}function j(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function B(t,e,n){Array.isArray(t)?t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n(t,e)})):n(t,e)})):Array.isArray(e)?e.forEach((function(e){n(t,e)})):n(t,e)}function R(t,e,n){for(var i=e.split("."),r=i.pop(),o=t,a=0;a<i.length;a++){var s=i[a];s in o||(o[s]={}),o=o[s]}return o[r]=n,t}function z(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=e[i];Array.isArray(r)?r.forEach((function(e){R(n,e,t[i])})):R(n,"string"===typeof r?r:i,t[i])}return n}function F(t){var e=a(t),n={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach((function(t){var e={id:t.id,label:String(t.label||t.id)};w(e,z(t.attr,s)),e.image&&(e.shape="image"),n.nodes.push(e)})),e.edges){var i=function(t){var e={from:t.from,to:t.to};return w(e,z(t.attr,u)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach((function(t){var e,r;e=t.from instanceof Object?t.from.nodes:{id:t.from},r=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach((function(t){var e=i(t);n.edges.push(e)})),B(e,r,(function(e,r){var o=S(n,e.id,r.id,t.type,t.attr),a=i(o);n.edges.push(a)})),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach((function(t){var e=i(t);n.edges.push(e)}))}))}return e.attr&&(n.options=e.attr),n}e.parseDOT=a,e.DOTToGraph=F},function(t,e,n){function i(t,e){var n=[],i=[],r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(r.nodes.fixed=e.fixed),void 0!==e.parseColor&&(r.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(r.edges.inheritColor=e.inheritColor));for(var o=t.edges,a=t.nodes,s=0;s<o.length;s++){var u={},c=o[s];u["id"]=c.id,u["from"]=c.source,u["to"]=c.target,u["attributes"]=c.attributes,u["label"]=c.label,u["title"]=void 0!==c.attributes?c.attributes.title:void 0,"Directed"===c["type"]&&(u["arrows"]="to"),c.color&&!1===r.inheritColor&&(u["color"]=c.color),n.push(u)}for(var h=0;h<a.length;h++){var l={},d=a[h];l["id"]=d.id,l["attributes"]=d.attributes,l["x"]=d.x,l["y"]=d.y,l["label"]=d.label,l["title"]=void 0!==d.attributes?d.attributes.title:d.title,!0===r.nodes.parseColor?l["color"]=d.color:l["color"]=void 0!==d.color?{background:d.color,border:d.color,highlight:{background:d.color,border:d.color},hover:{background:d.color,border:d.color}}:void 0,l["size"]=d.size,l["fixed"]=r.nodes.fixed&&void 0!==d.x&&void 0!==d.y,i.push(l)}return{nodes:i,edges:n}}e.parseGephi=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=c(i),o=n(1),a=c(o),s=n(185),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){(0,r["default"])(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,a["default"])(t,[{key:"_tryloadBrokenUrl",value:function(t,e,n){void 0!==t&&void 0!==n&&(void 0!==e?(n.onerror=function(){console.error("Could not load brokenImage:",e)},n.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var r=new u["default"];return this.images[t]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=l(i),o=n(6),a=l(o),s=n(0),u=l(s),c=n(1),h=l(c);function l(t){return t&&t.__esModule?t:{default:t}}var d=n(2),f=n(48)["default"],p=n(191)["default"],g=["bold","ital","boldital","mono"],v=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,u["default"])(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return(0,h["default"])(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),f.isValidLabel(t.label)?this.labelDirty=!0:t.label="",void 0!==t.font&&null!==t.font)if("string"===typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,a["default"])(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var n=this;d.forEach(g,(function(t){n.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:d.forEach(e,(function(t,e){void 0!==t&&null!==t&&"object"!==("undefined"===typeof t?"undefined":(0,a["default"])(t))&&(n.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=d.topMost(t,"widthConstraint");if("number"===typeof n)e.maxWdt=Number(n),e.minWdt=Number(n);else if("object"===("undefined"===typeof n?"undefined":(0,a["default"])(n))){var i=d.topMost(t,["widthConstraint","maximum"]);"number"===typeof i&&(e.maxWdt=Number(i));var r=d.topMost(t,["widthConstraint","minimum"]);"number"===typeof r&&(e.minWdt=Number(r))}var o=d.topMost(t,"heightConstraint");if("number"===typeof o)e.minHgt=Number(o);else if("object"===("undefined"===typeof o?"undefined":(0,a["default"])(o))){var s=d.topMost(t,["heightConstraint","minimum"]);"number"===typeof s&&(e.minHgt=Number(s));var u=d.topMost(t,["heightConstraint","valign"]);"string"===typeof u&&("top"!==u&&"bottom"!==u||(e.valign=u))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),d.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=f.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var n=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var n=e.font;t.push(n)}}},{key:"getBasicOptions",value:function(e){for(var n={},i=0;i<e.length;++i){var r=e[i],o={};t.parseFontString(o,r)&&(r=o),d.forEach(r,(function(t,e){void 0!==t&&(n.hasOwnProperty(e)||(-1!==g.indexOf(e)?n[e]={}:n[e]=t))}))}return n}},{key:"getFontOption",value:function(e,n,i){for(var r=void 0,o=0;o<e.length;++o){var a=e[o];if(a.hasOwnProperty(n)){if(r=a[n],void 0===r||null===r)continue;var s={};if(t.parseFontString(s,r)&&(r=s),r.hasOwnProperty(i))return r[i]}}if(this.fontOptions.hasOwnProperty(i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,e){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(t,e,o)}return n}},{key:"propagateFonts",value:function(t){var e=this,n=[];this.addFontOptionsToPile(n,t),this.fontOptions=this.getBasicOptions(n);for(var i=function(t){var i=g[t],r=e.fontOptions[i],o=e.getFontOptions(n,i);d.forEach(o,(function(t,e){r[e]=t})),r.size=Number(r.size),r.vadjust=Number(r.vadjust)},r=0;r<g.length;++r)i(r)}},{key:"draw",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,i,r,e,n,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,a))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments[4],a=this._setAlignment(t,e,n,i),s=(0,r["default"])(a,2);e=s[0],n=s[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var c=this.lines[u];if(c&&c.blocks){var h=0;this.isEdgeLabel||"center"===this.fontOptions.align?h+=(this.size.width-c.width)/2:"right"===this.fontOptions.align&&(h+=this.size.width-c.width);for(var l=0;l<c.blocks.length;l++){var d=c.blocks[l];t.font=d.font;var f=this._getColor(d.color,o,d.strokeColor),p=(0,r["default"])(f,2),g=p[0],v=p[1];d.strokeWidth>0&&(t.lineWidth=d.strokeWidth,t.strokeStyle=v,t.lineJoin="round"),t.fillStyle=g,d.strokeWidth>0&&t.strokeText(d.text,e+h,n+d.vadjust),t.fillText(d.text,e+h,n+d.vadjust),h+=d.width}n+=c.height}}}},{key:"_setAlignment",value:function(t,e,n,i){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,n=0;var r=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=2*r):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=2*r):t.textBaseline="middle"}else t.textBaseline=i;return[e,n]}},{key:"_getColor",value:function(t,e,n){var i=t||"#000000",r=n||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));i=d.overrideOpacity(i,o),r=d.overrideOpacity(r,o)}return[i,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=2,e=this.size.left,n=this.size.top-.5*t;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=i,n=.5*-this.size.height;break;case"top":e=i,n=-(this.size.height+t);break;case"bottom":e=i,n=t;break}}var r={left:e,top:n,width:this.size.width,height:this.size.height};return r}},{key:"calculateLabelSize",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var r=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0!==t[e][n]?t[e][n]:t[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"===typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,n));var a="";return void 0!==o.mod&&""!==o.mod&&(a+=o.mod+" "),a+=o.size+"px "+o.face,t.font=a.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){var r=new p(t,this,e,n);return r.process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){if(0===this.size.width||0===this.size.height||void 0===this.elementOptions.label)return!1;var t=this.fontOptions.size*this.body.view.scale;return!(t<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!==typeof e)return!1;var n=e.split(" ");return t.size=n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),t}();e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=c(i),o=n(0),a=c(o),s=n(1),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(2),l=n(119)["default"],d=function(){function t(e,n,i){(0,a["default"])(this,t),this.body=n,this.labelModule=i,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,u["default"])(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,n,i,r){t.strokeStyle=this.getColor(t,e,n,i),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,n,i,o){if(this.from!=this.to)this._line(t,e,n,i,o);else{var a=this._getCircleData(t),s=(0,r["default"])(a,3),u=s[0],c=s[1],h=s[2];this._circle(t,e,u,c,h)}}},{key:"_drawDashedLine",value:function(t,e,n,i,o){t.lineCap="round";var a=[5,5];if(!0===Array.isArray(e.dashes)&&(a=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(a),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var s=this._getCircleData(t),u=(0,r["default"])(s,3),c=u[0],h=u[1],l=u[2];this._circle(t,e,c,h,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,a);else{var d=this._getCircleData(t),f=(0,r["default"])(d,3),p=f[0],g=f[1],v=f[2];this._circle(t,e,p,g,v)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from!=this.to?this._findBorderPosition(t,e,n):this._findBorderPositionCircle(t,e,n)}},{key:"findBorderPositions",value:function(t){var e={},n={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),n=this._findBorderPosition(this.to,t);else{var i=this._getCircleData(t).slice(0,2),o=(0,r["default"])(i,2),a=o[0],s=o[1];e=this._findBorderPositionCircle(this.from,t,{x:a,y:s,low:.25,high:.6,direction:-1}),n=this._findBorderPositionCircle(this.from,t,{x:a,y:s,low:.6,high:.8,direction:1})}return{from:e,to:n}}},{key:"_getCircleData",value:function(t){var e=void 0,n=void 0,i=this.from,r=this.options.selfReferenceSize;return void 0!==t&&void 0===i.shape.width&&i.shape.resize(t),i.shape.width>i.shape.height?(e=i.x+.5*i.shape.width,n=i.y-r):(e=i.x+r,n=i.y-.5*i.shape.height),[e,n,r]}},{key:"_pointOnCircle",value:function(t,e,n,i){var r=2*i*Math.PI;return{x:t+n*Math.cos(r),y:e-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,n){var i=n.x,r=n.y,o=n.low,a=n.high,s=n.direction,u=10,c=0,h=this.options.selfReferenceSize,l=void 0,d=void 0,f=void 0,p=void 0,g=void 0,v=.05,m=.5*(o+a);while(o<=a&&c<u){if(m=.5*(o+a),l=this._pointOnCircle(i,r,h,m),d=Math.atan2(t.y-l.y,t.x-l.x),f=t.distanceToBorder(e,d),p=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2)),g=f-p,Math.abs(g)<v)break;g>0?s>0?o=m:a=m:s>0?a=m:o=m,c++}return l.t=m,l}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,n,i){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var r=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=void 0,a=void 0;return o=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(o=h.overrideOpacity(this.from.options.color.border,e.opacity),a=h.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?a=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),r.addColorStop(0,o),r.addColorStop(1,a),r}return"to"===e.inheritsColor?h.overrideOpacity(this.to.options.color.border,e.opacity):h.overrideOpacity(this.from.options.color.border,e.opacity)}return h.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,n,i,r){this.enableShadow(t,e),t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,i,o,a,s,u){var c=0;if(this.from!=this.to)c=this._getDistanceToEdge(t,e,n,i,o,a,s);else{var h=this._getCircleData(void 0),l=(0,r["default"])(h,3),d=l[0],f=l[1],p=l[2],g=d-o,v=f-a;c=Math.abs(Math.sqrt(g*g+v*v)-p)}return c}},{key:"_getDistanceToLine",value:function(t,e,n,i,r,o){var a=n-t,s=i-e,u=a*a+s*s,c=((r-t)*a+(o-e)*s)/u;c>1?c=1:c<0&&(c=0);var h=t+c*a,l=e+c*s,d=h-r,f=l-o;return Math.sqrt(d*d+f*f)}},{key:"getArrowData",value:function(t,e,n,i,o,a){var s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,d=void 0,f=void 0,p=a.width;if("from"===e?(c=this.from,h=this.to,l=.1,d=a.fromArrowScale,f=a.fromArrowType):"to"===e?(c=this.to,h=this.from,l=-.1,d=a.toArrowScale,f=a.toArrowType):(c=this.to,h=this.from,d=a.middleArrowScale,f=a.middleArrowType),c!=h)if("middle"!==e)if(!0===this.options.smooth.enabled){u=this.findBorderPosition(c,t,{via:n});var g=this.getPoint(Math.max(0,Math.min(1,u.t+l)),n);s=Math.atan2(u.y-g.y,u.x-g.x)}else s=Math.atan2(c.y-h.y,c.x-h.x),u=this.findBorderPosition(c,t);else s=Math.atan2(c.y-h.y,c.x-h.x),u=this.getPoint(.5,n);else{var v=this._getCircleData(t),m=(0,r["default"])(v,3),y=m[0],b=m[1],x=m[2];"from"===e?(u=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1}),s=-2*u.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(u=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1}),s=-2*u.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(u=this._pointOnCircle(y,b,x,.175),s=3.9269908169872414)}"middle"===e&&d<0&&(p*=-1);var w=15*d+3*p,_=u.x-.9*w*Math.cos(s),M=u.y-.9*w*Math.sin(s),k={x:_,y:M};return{point:u,core:k,angle:s,length:w,type:f}}},{key:"drawArrowHead",value:function(t,e,n,i,r){t.strokeStyle=this.getColor(t,e,n,i),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,l.draw(t,r),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e["default"]=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=f(i),o=n(4),a=f(o),s=n(5),u=f(s),c=n(0),h=f(c),l=n(1),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(){(0,h["default"])(this,t)}return(0,d["default"])(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var n=e.point.x,i=e.point.y,r=e.angle,o=e.length,a=0;a<t.length;++a){var s=t[a],u=s.x*Math.cos(r)-s.y*Math.sin(r),c=s.x*Math.sin(r)+s.y*Math.cos(r);s.x=n+o*u,s.y=i+o*c}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),t}(),g=function(t){function e(){return(0,h["default"])(this,e),(0,a["default"])(this,(e.__proto__||(0,r["default"])(e)).apply(this,arguments))}return(0,u["default"])(e,t),(0,d["default"])(e,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];p.transform(n,e),p.drawPath(t,n)}}]),e}(p),v=function(){function t(){(0,h["default"])(this,t)}return(0,d["default"])(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};p.transform(n,e),t.circle(n.x,n.y,.4*e.length)}}]),t}(),m=function(){function t(){(0,h["default"])(this,t)}return(0,d["default"])(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];p.transform(n,e),p.drawPath(t,n)}}]),t}(),y=function(){function t(){(0,h["default"])(this,t)}return(0,d["default"])(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"circle":v.draw(t,e);break;case"bar":m.draw(t,e);break;case"arrow":default:g.draw(t,e)}}}]),t}();e["default"]=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.physicsBody=n,this.barnesHutTree,this.setOptions(i),this.randomSeed=5}return(0,a["default"])(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(e,n);this.barnesHutTree=r;for(var o=0;o<i;o++)t=e[n[o]],t.options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var n=void 0,i=void 0,r=void 0;n=t.centerOfMass.x-e.x,i=t.centerOfMass.y-e.y,r=Math.sqrt(n*n+i*i),r*t.calcSize>this.thetaInversed?this._calculateForces(r,n,i,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,n,i,e,t)}}},{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(t,3),a=e*o,s=n*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=s}},{key:"_formBarnesHutTree",value:function(t,e){for(var n=void 0,i=e.length,r=t[e[0]].x,o=t[e[0]].y,a=t[e[0]].x,s=t[e[0]].y,u=1;u<i;u++){var c=t[e[u]],h=c.x,l=c.y;c.options.mass>0&&(h<r&&(r=h),h>a&&(a=h),l<o&&(o=l),l>s&&(s=l))}var d=Math.abs(a-r)-Math.abs(s-o);d>0?(o-=.5*d,s+=.5*d):(r+=.5*d,a-=.5*d);var f=1e-5,p=Math.max(f,Math.abs(a-r)),g=.5*p,v=.5*(r+a),m=.5*(o+s),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-g,maxX:v+g,minY:m-g,maxY:m+g},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var b=0;b<i;b++)n=t[e[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,i=t.mass+e.options.mass,r=1/i;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=r,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=r,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){1==n&&void 0!==n||this._updateBranchMass(t,e);var i=t.children.NW.range,r=void 0;r=i.maxX>e.x?i.maxY>e.y?"NW":"SW":i.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,r)}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e);break}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n=void 0,i=void 0,r=void 0,o=void 0,a=.5*t.size;switch(e){case"NW":n=t.range.minX,i=t.range.minX+a,r=t.range.minY,o=t.range.minY+a;break;case"NE":n=t.range.minX+a,i=t.range.maxX,r=t.range.minY,o=t.range.minY+a;break;case"SW":n=t.range.minX,i=t.range.minX+a,r=t.range.minY+a,o=t.range.maxY;break;case"SE":n=t.range.minX+a,i=t.range.maxX,r=t.range.minY+a,o=t.range.maxY;break}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return(0,a["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,n=void 0,i=void 0,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,s=0;s<o.length;s++){var u=o[s];i=r[u],t=-i.x,e=-i.y,n=Math.sqrt(t*t+e*e),this._calculateForces(n,t,e,a,i)}}},{key:"_calculateForces",value:function(t,e,n,i,r){var o=0===t?0:this.options.centralGravity/t;i[r.id].x=e*o,i[r.id].y=n*o}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",r="boolean",o="number",a="array",s="object",u="dom",c="any",h=["arrow","circle","bar"],l={configure:{enabled:{boolean:r},filter:{boolean:r,string:i,array:a,function:"function"},container:{dom:u},showButton:{boolean:r},__type__:{object:s,boolean:r,string:i,array:a,function:"function"}},edges:{arrows:{to:{enabled:{boolean:r},scaleFactor:{number:o},type:{string:h},__type__:{object:s,boolean:r}},middle:{enabled:{boolean:r},scaleFactor:{number:o},type:{string:h},__type__:{object:s,boolean:r}},from:{enabled:{boolean:r},scaleFactor:{number:o},type:{string:h},__type__:{object:s,boolean:r}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:r},chosen:{label:{boolean:r,function:"function"},edge:{boolean:r,function:"function"},__type__:{object:s,boolean:r}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:r},opacity:{number:o},__type__:{object:s,string:i}},dashes:{boolean:r,array:a},font:{color:{string:i},size:{number:o},face:{string:i},background:{string:i},strokeWidth:{number:o},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:o},multi:{boolean:r,string:i},bold:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},__type__:{object:s,string:i}},hidden:{boolean:r},hoverWidth:{function:"function",number:o},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:r},length:{number:o,undefined:"undefined"},physics:{boolean:r},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:r},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:r}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:o},selfReferenceSize:{number:o},shadow:{enabled:{boolean:r},color:{string:i},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:r}},smooth:{enabled:{boolean:r},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:o},forceDirection:{string:["horizontal","vertical","none"],boolean:r},__type__:{object:s,boolean:r}},title:{string:i,undefined:"undefined"},width:{number:o},widthConstraint:{maximum:{number:o},__type__:{object:s,boolean:r,number:o}},value:{number:o,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:r},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:r},dragView:{boolean:r},hideEdgesOnDrag:{boolean:r},hideNodesOnDrag:{boolean:r},hover:{boolean:r},keyboard:{enabled:{boolean:r},speed:{x:{number:o},y:{number:o},zoom:{number:o},__type__:{object:s}},bindToWindow:{boolean:r},__type__:{object:s,boolean:r}},multiselect:{boolean:r},navigationButtons:{boolean:r},selectable:{boolean:r},selectConnectedEdges:{boolean:r},hoverConnectedEdges:{boolean:r},tooltipDelay:{number:o},zoomView:{boolean:r},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:o},improvedLayout:{boolean:r},hierarchical:{enabled:{boolean:r},levelSeparation:{number:o},nodeSpacing:{number:o},treeSpacing:{number:o},blockShifting:{boolean:r},edgeMinimization:{boolean:r},parentCentralization:{boolean:r},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:r}},__type__:{object:s}},manipulation:{enabled:{boolean:r},initiallyActive:{boolean:r},addNode:{boolean:r,function:"function"},addEdge:{boolean:r,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:r,function:"function"}},deleteNode:{boolean:r,function:"function"},deleteEdge:{boolean:r,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:r}},nodes:{borderWidth:{number:o},borderWidthSelected:{number:o,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},chosen:{label:{boolean:r,function:"function"},node:{boolean:r,function:"function"},__type__:{object:s,boolean:r}},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},__type__:{object:s,string:i}},fixed:{x:{boolean:r},y:{boolean:r},__type__:{object:s,boolean:r}},font:{align:{string:i},color:{string:i},size:{number:o},face:{string:i},background:{string:i},strokeWidth:{number:o},strokeColor:{string:i},vadjust:{number:o},multi:{boolean:r,string:i},bold:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:o},face:{string:i},mod:{string:i},vadjust:{number:o},__type__:{object:s,string:i}},__type__:{object:s,string:i}},group:{string:i,number:o,undefined:"undefined"},heightConstraint:{minimum:{number:o},valign:{string:i},__type__:{object:s,boolean:r,number:o}},hidden:{boolean:r},icon:{face:{string:i},code:{string:i},size:{number:o},color:{string:i},__type__:{object:s}},id:{string:i,number:o},image:{selected:{string:i,undefined:"undefined"},unselected:{string:i,undefined:"undefined"},__type__:{object:s,string:i}},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:r},level:{number:o,undefined:"undefined"},margin:{top:{number:o},right:{number:o},bottom:{number:o},left:{number:o},__type__:{object:s,number:o}},mass:{number:o},physics:{boolean:r},scaling:{min:{number:o},max:{number:o},label:{enabled:{boolean:r},min:{number:o},max:{number:o},maxVisible:{number:o},drawThreshold:{number:o},__type__:{object:s,boolean:r}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:r},color:{string:i},size:{number:o},x:{number:o},y:{number:o},__type__:{object:s,boolean:r}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:r,array:a},borderRadius:{number:o},interpolation:{boolean:r},useImageSize:{boolean:r},useBorderWithImage:{boolean:r},__type__:{object:s}},size:{number:o},title:{string:i,dom:u,undefined:"undefined"},value:{number:o,undefined:"undefined"},widthConstraint:{minimum:{number:o},maximum:{number:o},__type__:{object:s,boolean:r,number:o}},x:{number:o},y:{number:o},__type__:{object:s}},physics:{enabled:{boolean:r},barnesHut:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:o},centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},damping:{number:o},avoidOverlap:{number:o},__type__:{object:s}},repulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:o},springLength:{number:o},springConstant:{number:o},nodeDistance:{number:o},damping:{number:o},__type__:{object:s}},maxVelocity:{number:o},minVelocity:{number:o},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:r},iterations:{number:o},updateInterval:{number:o},onlyDynamicEdges:{boolean:r},fit:{boolean:r},__type__:{object:s,boolean:r}},timestep:{number:o},adaptiveTimestep:{boolean:r},__type__:{object:s,boolean:r}},autoResize:{boolean:r},clickToUse:{boolean:r},locale:{string:i},locales:{__any__:{any:c},__type__:{object:s}},height:{string:i},width:{string:i},__type__:{object:s}};l.groups.__any__=l.nodes,l.manipulation.controlNodeStyle=l.nodes;var d={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};e.allOptions=l,e.configureOptions=d},function(t,e,n){var i=n(2);i.extend(e,n(159)),i.extend(e,n(177)),i.extend(e,n(181))},function(t,e,n){n(49),n(60),t.exports=n(136)},function(t,e,n){var i=n(126),r=n(127),o=n(31),a=n(25);t.exports=n(79)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(54),r=n(39),o=n(59),a={};n(26)(a,n(13)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(20),r=n(27),o=n(33);t.exports=n(21)?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,u=0;while(s>u)i.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var i=n(25),r=n(132),o=n(133);t.exports=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),h=o(a,c);if(t&&n!=n){while(c>h)if(s=u[h++],s!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},function(t,e,n){var i=n(55),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(55),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(18).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(55),r=n(51);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var i=n(27),r=n(137);t.exports=n(7).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){var i=n(86),r=n(13)("iterator"),o=n(31);t.exports=n(7).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){n(139);var i=n(7).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(17);i(i.S,"Object",{create:n(54)})},function(t,e,n){n(141),t.exports=n(7).Object.keys},function(t,e,n){var i=n(41),r=n(33);n(87)("keys",(function(){return function(t){return r(i(t))}}))},function(t,e,n){t.exports={default:n(143),__esModule:!0}},function(t,e,n){n(60),n(49),t.exports=n(61).f("iterator")},function(t,e,n){t.exports={default:n(145),__esModule:!0}},function(t,e,n){n(146),n(151),n(152),n(153),t.exports=n(7).Symbol},function(t,e,n){var i=n(18),r=n(22),o=n(21),a=n(17),s=n(83),u=n(147).KEY,c=n(28),h=n(57),l=n(59),d=n(40),f=n(13),p=n(61),g=n(62),v=n(148),m=n(149),y=n(27),b=n(25),x=n(53),w=n(39),_=n(54),M=n(150),k=n(89),S=n(20),E=n(33),C=k.f,T=S.f,P=M.f,A=i.Symbol,O=i.JSON,D=O&&O.stringify,N="prototype",I=f("_hidden"),L=f("toPrimitive"),j={}.propertyIsEnumerable,B=h("symbol-registry"),R=h("symbols"),z=h("op-symbols"),F=Object[N],Y="function"==typeof A,H=i.QObject,W=!H||!H[N]||!H[N].findChild,G=o&&c((function(){return 7!=_(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=C(F,e);i&&delete F[e],T(t,e,n),i&&t!==F&&T(F,e,i)}:T,q=function(t){var e=R[t]=_(A[N]);return e._k=t,e},U=Y&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},V=function(t,e,n){return t===F&&V(z,e,n),y(t),e=x(e,!0),y(n),r(R,e)?(n.enumerable?(r(t,I)&&t[I][e]&&(t[I][e]=!1),n=_(n,{enumerable:w(0,!1)})):(r(t,I)||T(t,I,w(1,{})),t[I][e]=!0),G(t,e,n)):T(t,e,n)},X=function(t,e){y(t);var n,i=v(e=b(e)),r=0,o=i.length;while(o>r)V(t,n=i[r++],e[n]);return t},Z=function(t,e){return void 0===e?_(t):X(_(t),e)},Q=function(t){var e=j.call(this,t=x(t,!0));return!(this===F&&r(R,t)&&!r(z,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,I)&&this[I][t])||e)},$=function(t,e){if(t=b(t),e=x(e,!0),t!==F||!r(R,e)||r(z,e)){var n=C(t,e);return!n||!r(R,e)||r(t,I)&&t[I][e]||(n.enumerable=!0),n}},K=function(t){var e,n=P(b(t)),i=[],o=0;while(n.length>o)r(R,e=n[o++])||e==I||e==u||i.push(e);return i},J=function(t){var e,n=t===F,i=P(n?z:b(t)),o=[],a=0;while(i.length>a)!r(R,e=i[a++])||n&&!r(F,e)||o.push(R[e]);return o};Y||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(z,n),r(this,I)&&r(this[I],t)&&(this[I][t]=!1),G(this,t,w(1,n))};return o&&W&&G(F,t,{configurable:!0,set:e}),q(t)},s(A[N],"toString",(function(){return this._k})),k.f=$,S.f=V,n(88).f=M.f=K,n(42).f=Q,n(63).f=J,o&&!n(52)&&s(F,"propertyIsEnumerable",Q,!0),p.f=function(t){return q(f(t))}),a(a.G+a.W+a.F*!Y,{Symbol:A});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=E(f.store),it=0;nt.length>it;)g(nt[it++]);a(a.S+a.F*!Y,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=A(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!Y,"Object",{create:Z,defineProperty:V,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:K,getOwnPropertySymbols:J}),O&&a(a.S+a.F*(!Y||c((function(){var t=A();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){if(void 0!==t&&!U(t)){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);return e=i[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!U(e))return e}),i[1]=e,D.apply(O,i)}}}),A[N][L]||n(26)(A[N],L,A[N].valueOf),l(A,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},function(t,e,n){var i=n(40)("meta"),r=n(32),o=n(22),a=n(20).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(28)((function(){return u(Object.preventExtensions({}))})),h=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[i].i},d=function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[i].w},f=function(t){return c&&p.NEED&&u(t)&&!o(t,i)&&h(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:l,getWeak:d,onFreeze:f}},function(t,e,n){var i=n(33),r=n(63),o=n(42);t.exports=function(t){var e=i(t),n=r.f;if(n){var a,s=n(t),u=o.f,c=0;while(s.length>c)u.call(t,a=s[c++])&&e.push(a)}return e}},function(t,e,n){var i=n(50);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(25),r=n(88).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},function(t,e){},function(t,e,n){n(62)("asyncIterator")},function(t,e,n){n(62)("observable")},function(t,e,n){(function(t){(function(e,n){t.exports=n()})(0,(function(){var e,n;function i(){return e.apply(null,arguments)}function r(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,i){return Un(t,e,n,i,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(t){return null==t._pf&&(t._pf=g()),t._pf}function m(t){if(null==t._isValid){var e=v(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function y(t){var e=p(NaN);return null!=t?f(v(e),t):v(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var b=i.momentProperties=[];function x(t,e){var n,i,r;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=v(e)),u(e._locale)||(t._locale=e._locale),b.length>0)for(n=0;n<b.length;n++)i=b[n],r=e[i],u(r)||(t[i]=r);return t}var w=!1;function _(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,i.updateOffset(this),w=!1)}function M(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function k(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function S(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=k(e)),n}function E(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&S(t[i])!==S(e[i]))&&a++;return a+o}function C(t){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"===typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}C(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var P,A={};function O(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),A[t]||(C(e),A[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function N(t){var e,n;for(n in t)e=t[n],D(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(t,e){var n,i=f({},t);for(n in e)d(e,n)&&(a(t[n])&&a(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)d(t,n)&&!d(e,n)&&a(t[n])&&(i[n]=f({},i[n]));return i}function L(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,P=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B(t,e,n){var i=this._calendar[t]||this._calendar["sameElse"];return D(i)?i.call(e,n):i}var R={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function z(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])}var F="Invalid date";function Y(){return this._invalidDate}var H="%d",W=/\d{1,2}/;function G(t){return this._ordinal.replace("%d",t)}var q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function U(t,e,n,i){var r=this._relativeTime[n];return D(r)?r(t,e,n,i):r.replace(/%d/i,t)}function V(t,e){var n=this._relativeTime[t>0?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)}var X={};function Z(t,e){var n=t.toLowerCase();X[n]=X[n+"s"]=X[e]=t}function Q(t){return"string"===typeof t?X[t]||X[t.toLowerCase()]:void 0}function $(t){var e,n,i={};for(n in t)d(t,n)&&(e=Q(n),e&&(i[e]=t[n]));return i}var K={};function J(t,e){K[t]=e}function tt(t){var e=[];for(var n in t)e.push({unit:n,priority:K[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}function et(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var nt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,it=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rt={},ot={};function at(t,e,n,i){var r=i;"string"===typeof i&&(r=function(){return this[i]()}),t&&(ot[t]=r),e&&(ot[e[0]]=function(){return et(r.apply(this,arguments),e[1],e[2])}),n&&(ot[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function st(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function ut(t){var e,n,i=t.match(nt);for(e=0,n=i.length;e<n;e++)ot[i[e]]?i[e]=ot[i[e]]:i[e]=st(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=D(i[r])?i[r].call(e,t):i[r];return o}}function ct(t,e){return t.isValid()?(e=ht(e,t.localeData()),rt[e]=rt[e]||ut(e),rt[e](t)):t.localeData().invalidDate()}function ht(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}it.lastIndex=0;while(n>=0&&it.test(t))t=t.replace(it,i),it.lastIndex=0,n-=1;return t}var lt=/\d/,dt=/\d\d/,ft=/\d{3}/,pt=/\d{4}/,gt=/[+-]?\d{6}/,vt=/\d\d?/,mt=/\d\d\d\d?/,yt=/\d\d\d\d\d\d?/,bt=/\d{1,3}/,xt=/\d{1,4}/,wt=/[+-]?\d{1,6}/,_t=/\d+/,Mt=/[+-]?\d+/,kt=/Z|[+-]\d\d:?\d\d/gi,St=/Z|[+-]\d\d(?::?\d\d)?/gi,Et=/[+-]?\d+(\.\d{1,3})?/,Ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Tt={};function Pt(t,e,n){Tt[t]=D(e)?e:function(t,i){return t&&n?n:e}}function At(t,e){return d(Tt,t)?Tt[t](e._strict,e._locale):new RegExp(Ot(t))}function Ot(t){return Dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function Dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Nt={};function It(t,e){var n,i=e;for("string"===typeof t&&(t=[t]),c(e)&&(i=function(t,n){n[e]=S(t)}),n=0;n<t.length;n++)Nt[t[n]]=i}function Lt(t,e){It(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function jt(t,e,n){null!=e&&d(Nt,t)&&Nt[t](e,n._a,n,t)}var Bt=0,Rt=1,zt=2,Ft=3,Yt=4,Ht=5,Wt=6,Gt=7,qt=8;function Ut(t){return Vt(t)?366:365}function Vt(t){return t%4===0&&t%100!==0||t%400===0}at("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),at(0,["YY",2],0,(function(){return this.year()%100})),at(0,["YYYY",4],0,"year"),at(0,["YYYYY",5],0,"year"),at(0,["YYYYYY",6,!0],0,"year"),Z("year","y"),J("year",1),Pt("Y",Mt),Pt("YY",vt,dt),Pt("YYYY",xt,pt),Pt("YYYYY",wt,gt),Pt("YYYYYY",wt,gt),It(["YYYYY","YYYYYY"],Bt),It("YYYY",(function(t,e){e[Bt]=2===t.length?i.parseTwoDigitYear(t):S(t)})),It("YY",(function(t,e){e[Bt]=i.parseTwoDigitYear(t)})),It("Y",(function(t,e){e[Bt]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)};var Xt,Zt=$t("FullYear",!0);function Qt(){return Vt(this.year())}function $t(t,e){return function(n){return null!=n?(Jt(this,t,n),i.updateOffset(this,e),this):Kt(this,t)}}function Kt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Jt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Vt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),ie(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function te(t){return t=Q(t),D(this[t])?this[t]():this}function ee(t,e){if("object"===typeof t){t=$(t);for(var n=tt(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=Q(t),D(this[t]))return this[t](e);return this}function ne(t,e){return(t%e+e)%e}function ie(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ne(e,12);return t+=(e-n)/12,1===n?Vt(t)?29:28:31-n%7%2}Xt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},at("M",["MM",2],"Mo",(function(){return this.month()+1})),at("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),at("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Z("month","M"),J("month",8),Pt("M",vt),Pt("MM",vt,dt),Pt("MMM",(function(t,e){return e.monthsShortRegex(t)})),Pt("MMMM",(function(t,e){return e.monthsRegex(t)})),It(["M","MM"],(function(t,e){e[Rt]=S(t)-1})),It(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Rt]=r:v(n).invalidMonth=t}));var re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function ae(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||re).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months["standalone"]}var se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ue(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[re.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function ce(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=Xt.call(this._shortMonthsParse,a),-1!==r?r:null):(r=Xt.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===e?(r=Xt.call(this._shortMonthsParse,a),-1!==r?r:(r=Xt.call(this._longMonthsParse,a),-1!==r?r:null)):(r=Xt.call(this._longMonthsParse,a),-1!==r?r:(r=Xt.call(this._shortMonthsParse,a),-1!==r?r:null))}function he(t,e,n){var i,r,o;if(this._monthsParseExact)return ce.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function le(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=S(e);else if(e=t.localeData().monthsParse(e),!c(e))return t;return n=Math.min(t.date(),ie(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function de(t){return null!=t?(le(this,t),i.updateOffset(this,!0),this):Kt(this,"Month")}function fe(){return ie(this.year(),this.month())}var pe=Ct;function ge(t){return this._monthsParseExact?(d(this,"_monthsRegex")||ye.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=pe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}var ve=Ct;function me(t){return this._monthsParseExact?(d(this,"_monthsRegex")||ye.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=ve),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ye(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=p([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=Dt(i[e]),r[e]=Dt(r[e]);for(e=0;e<24;e++)o[e]=Dt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function be(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function xe(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function we(t,e,n){var i=7+e-n,r=(7+xe(t,0,i).getUTCDay()-e)%7;return-r+i-1}function _e(t,e,n,i,r){var o,a,s=(7+n-i)%7,u=we(t,i,r),c=1+7*(e-1)+s+u;return c<=0?(o=t-1,a=Ut(o)+c):c>Ut(t)?(o=t+1,a=c-Ut(t)):(o=t,a=c),{year:o,dayOfYear:a}}function Me(t,e,n){var i,r,o=we(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+ke(r,e,n)):a>ke(t.year(),e,n)?(i=a-ke(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function ke(t,e,n){var i=we(t,e,n),r=we(t+1,e,n);return(Ut(t)-i+r)/7}function Se(t){return Me(t,this._week.dow,this._week.doy).week}at("w",["ww",2],"wo","week"),at("W",["WW",2],"Wo","isoWeek"),Z("week","w"),Z("isoWeek","W"),J("week",5),J("isoWeek",5),Pt("w",vt),Pt("ww",vt,dt),Pt("W",vt),Pt("WW",vt,dt),Lt(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=S(t)}));var Ee={dow:0,doy:6};function Ce(){return this._week.dow}function Te(){return this._week.doy}function Pe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ae(t){var e=Me(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Oe(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function De(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}at("d",0,"do","day"),at("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),at("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),at("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),at("e",0,0,"weekday"),at("E",0,0,"isoWeekday"),Z("day","d"),Z("weekday","e"),Z("isoWeekday","E"),J("day",11),J("weekday",11),J("isoWeekday",11),Pt("d",vt),Pt("e",vt),Pt("E",vt),Pt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Pt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Pt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Lt(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:v(n).invalidWeekday=t})),Lt(["d","e","E"],(function(t,e,n,i){e[i]=S(t)}));var Ne="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Ie(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays["standalone"]}var Le="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function je(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}var Be="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Re(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function ze(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=Xt.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===e?(r=Xt.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=Xt.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===e?(r=Xt.call(this._weekdaysParse,a),-1!==r?r:(r=Xt.call(this._shortWeekdaysParse,a),-1!==r?r:(r=Xt.call(this._minWeekdaysParse,a),-1!==r?r:null))):"ddd"===e?(r=Xt.call(this._shortWeekdaysParse,a),-1!==r?r:(r=Xt.call(this._weekdaysParse,a),-1!==r?r:(r=Xt.call(this._minWeekdaysParse,a),-1!==r?r:null))):(r=Xt.call(this._minWeekdaysParse,a),-1!==r?r:(r=Xt.call(this._weekdaysParse,a),-1!==r?r:(r=Xt.call(this._shortWeekdaysParse,a),-1!==r?r:null)))}function Fe(t,e,n){var i,r,o;if(this._weekdaysParseExact)return ze.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ye(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Oe(t,this.localeData()),this.add(t-e,"d")):e}function He(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function We(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=De(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}var Ge=Ct;function qe(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}var Ue=Ct;function Ve(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ue),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Xe=Ct;function Ze(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qe(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),u.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=Dt(s[e]),u[e]=Dt(u[e]),c[e]=Dt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $e(){return this.hours()%12||12}function Ke(){return this.hours()||24}function Je(t,e){at(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}at("H",["HH",2],0,"hour"),at("h",["hh",2],0,$e),at("k",["kk",2],0,Ke),at("hmm",0,0,(function(){return""+$e.apply(this)+et(this.minutes(),2)})),at("hmmss",0,0,(function(){return""+$e.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)})),at("Hmm",0,0,(function(){return""+this.hours()+et(this.minutes(),2)})),at("Hmmss",0,0,(function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)})),Je("a",!0),Je("A",!1),Z("hour","h"),J("hour",13),Pt("a",tn),Pt("A",tn),Pt("H",vt),Pt("h",vt),Pt("k",vt),Pt("HH",vt,dt),Pt("hh",vt,dt),Pt("kk",vt,dt),Pt("hmm",mt),Pt("hmmss",yt),Pt("Hmm",mt),Pt("Hmmss",yt),It(["H","HH"],Ft),It(["k","kk"],(function(t,e,n){var i=S(t);e[Ft]=24===i?0:i})),It(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),It(["h","hh"],(function(t,e,n){e[Ft]=S(t),v(n).bigHour=!0})),It("hmm",(function(t,e,n){var i=t.length-2;e[Ft]=S(t.substr(0,i)),e[Yt]=S(t.substr(i)),v(n).bigHour=!0})),It("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Ft]=S(t.substr(0,i)),e[Yt]=S(t.substr(i,2)),e[Ht]=S(t.substr(r)),v(n).bigHour=!0})),It("Hmm",(function(t,e,n){var i=t.length-2;e[Ft]=S(t.substr(0,i)),e[Yt]=S(t.substr(i))})),It("Hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Ft]=S(t.substr(0,i)),e[Yt]=S(t.substr(i,2)),e[Ht]=S(t.substr(r))}));var nn=/[ap]\.?m?\.?/i;function rn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var on,an=$t("Hours",!0),sn={calendar:j,longDateFormat:R,invalidDate:F,ordinal:H,dayOfMonthOrdinalParse:W,relativeTime:q,months:oe,monthsShort:se,week:Ee,weekdays:Ne,weekdaysMin:Be,weekdaysShort:Le,meridiemParse:nn},un={},cn={};function hn(t){return t?t.toLowerCase().replace("_","-"):t}function ln(t){var e,n,i,r,o=0;while(o<t.length){r=hn(t[o]).split("-"),e=r.length,n=hn(t[o+1]),n=n?n.split("-"):null;while(e>0){if(i=dn(r.slice(0,e).join("-")),i)return i;if(n&&n.length>=e&&E(r,n,!0)>=e-1)break;e--}o++}return null}function dn(e){var n=null;if(!un[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=on._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),fn(n)}catch(i){}return un[e]}function fn(t,e){var n;return t&&(n=u(e)?vn(t):pn(t,e),n&&(on=n)),on._abbr}function pn(t,e){if(null!==e){var n=sn;if(e.abbr=t,null!=un[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=un[t]._config;else if(null!=e.parentLocale){if(null==un[e.parentLocale])return cn[e.parentLocale]||(cn[e.parentLocale]=[]),cn[e.parentLocale].push({name:t,config:e}),null;n=un[e.parentLocale]._config}return un[t]=new L(I(n,e)),cn[t]&&cn[t].forEach((function(t){pn(t.name,t.config)})),fn(t),un[t]}return delete un[t],null}function gn(t,e){if(null!=e){var n,i=sn;null!=un[t]&&(i=un[t]._config),e=I(i,e),n=new L(e),n.parentLocale=un[t],un[t]=n,fn(t)}else null!=un[t]&&(null!=un[t].parentLocale?un[t]=un[t].parentLocale:null!=un[t]&&delete un[t]);return un[t]}function vn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return on;if(!o(t)){if(e=dn(t),e)return e;t=[t]}return ln(t)}function mn(){return P(un)}function yn(t){var e,n=t._a;return n&&-2===v(t).overflow&&(e=n[Rt]<0||n[Rt]>11?Rt:n[zt]<1||n[zt]>ie(n[Bt],n[Rt])?zt:n[Ft]<0||n[Ft]>24||24===n[Ft]&&(0!==n[Yt]||0!==n[Ht]||0!==n[Wt])?Ft:n[Yt]<0||n[Yt]>59?Yt:n[Ht]<0||n[Ht]>59?Ht:n[Wt]<0||n[Wt]>999?Wt:-1,v(t)._overflowDayOfYear&&(e<Bt||e>zt)&&(e=zt),v(t)._overflowWeeks&&-1===e&&(e=Gt),v(t)._overflowWeekday&&-1===e&&(e=qt),v(t).overflow=e),t}function bn(t,e,n){return null!=t?t:null!=e?e:n}function xn(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wn(t){var e,n,i,r,o=[];if(!t._d){for(i=xn(t),t._w&&null==t._a[zt]&&null==t._a[Rt]&&_n(t),null!=t._dayOfYear&&(r=bn(t._a[Bt],i[Bt]),(t._dayOfYear>Ut(r)||0===t._dayOfYear)&&(v(t)._overflowDayOfYear=!0),n=xe(r,0,t._dayOfYear),t._a[Rt]=n.getUTCMonth(),t._a[zt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ft]&&0===t._a[Yt]&&0===t._a[Ht]&&0===t._a[Wt]&&(t._nextDay=!0,t._a[Ft]=0),t._d=(t._useUTC?xe:be).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ft]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==t._d.getDay()&&(v(t).weekdayMismatch=!0)}}function _n(t){var e,n,i,r,o,a,s,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=bn(e.GG,t._a[Bt],Me(Vn(),1,4).year),i=bn(e.W,1),r=bn(e.E,1),(r<1||r>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=Me(Vn(),o,a);n=bn(e.gg,t._a[Bt],c.year),i=bn(e.w,c.week),null!=e.d?(r=e.d,(r<0||r>6)&&(u=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o}i<1||i>ke(n,o,a)?v(t)._overflowWeeks=!0:null!=u?v(t)._overflowWeekday=!0:(s=_e(n,i,r,o,a),t._a[Bt]=s.year,t._dayOfYear=s.dayOfYear)}var Mn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,En=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((\-?\d+)/i;function Pn(t){var e,n,i,r,o,a,s=t._i,u=Mn.exec(s)||kn.exec(s);if(u){for(v(t).iso=!0,e=0,n=En.length;e<n;e++)if(En[e][1].exec(u[1])){r=En[e][0],i=!1!==En[e][2];break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=Cn.length;e<n;e++)if(Cn[e][1].exec(u[3])){o=(u[2]||" ")+Cn[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Sn.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),zn(t)}else t._isValid=!1}var An=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function On(t,e,n,i,r,o){var a=[Dn(t),se.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function Dn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Nn(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function In(t,e,n){if(t){var i=Le.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return v(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}var Ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function jn(t,e,n){if(t)return Ln[t];if(e)return 0;var i=parseInt(n,10),r=i%100,o=(i-r)/100;return 60*o+r}function Bn(t){var e=An.exec(Nn(t._i));if(e){var n=On(e[4],e[3],e[2],e[5],e[6],e[7]);if(!In(e[1],n,t))return;t._a=n,t._tzm=jn(e[8],e[9],e[10]),t._d=xe.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),v(t).rfc2822=!0}else t._isValid=!1}function Rn(t){var e=Tn.exec(t._i);null===e?(Pn(t),!1===t._isValid&&(delete t._isValid,Bn(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}function zn(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],v(t).empty=!0;var e,n,r,o,a,s=""+t._i,u=s.length,c=0;for(r=ht(t._f,t._locale).match(nt)||[],e=0;e<r.length;e++)o=r[e],n=(s.match(At(o,t))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&v(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),ot[o]?(n?v(t).empty=!1:v(t).unusedTokens.push(o),jt(o,n,t)):t._strict&&!n&&v(t).unusedTokens.push(o);v(t).charsLeftOver=u-c,s.length>0&&v(t).unusedInput.push(s),t._a[Ft]<=12&&!0===v(t).bigHour&&t._a[Ft]>0&&(v(t).bigHour=void 0),v(t).parsedDateParts=t._a.slice(0),v(t).meridiem=t._meridiem,t._a[Ft]=Fn(t._locale,t._a[Ft],t._meridiem),wn(t),yn(t)}else Bn(t);else Pn(t)}function Fn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Yn(t){var e,n,i,r,o;if(0===t._f.length)return v(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],zn(e),m(e)&&(o+=v(e).charsLeftOver,o+=10*v(e).unusedTokens.length,v(e).score=o,(null==i||o<i)&&(i=o,n=e));f(t,n||e)}function Hn(t){if(!t._d){var e=$(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),wn(t)}}function Wn(t){var e=new _(yn(Gn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Gn(t){var e=t._i,n=t._f;return t._locale=t._locale||vn(t._l),null===e||void 0===n&&""===e?y({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),M(e)?new _(yn(e)):(h(e)?t._d=e:o(n)?Yn(t):n?zn(t):qn(t),m(t)||(t._d=null),t))}function qn(t){var e=t._i;u(e)?t._d=new Date(i.now()):h(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Rn(t):o(e)?(t._a=l(e.slice(0),(function(t){return parseInt(t,10)})),wn(t)):a(e)?Hn(t):c(e)?t._d=new Date(e):i.createFromInputFallback(t)}function Un(t,e,n,i,r){var u={};return!0!==n&&!1!==n||(i=n,n=void 0),(a(t)&&s(t)||o(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=r,u._l=n,u._i=t,u._f=e,u._strict=i,Wn(u)}function Vn(t,e,n,i){return Un(t,e,n,i,!1)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Xn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Vn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),Zn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Vn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Qn(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Vn();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function $n(){var t=[].slice.call(arguments,0);return Qn("isBefore",t)}function Kn(){var t=[].slice.call(arguments,0);return Qn("isAfter",t)}var Jn=function(){return Date.now?Date.now():+new Date},ti=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ei(t){for(var e in t)if(-1===Xt.call(ti,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<ti.length;++i)if(t[ti[i]]){if(n)return!1;parseFloat(t[ti[i]])!==S(t[ti[i]])&&(n=!0)}return!0}function ni(){return this._isValid}function ii(){return Si(NaN)}function ri(t){var e=$(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=ei(e),this._milliseconds=+h+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=vn(),this._bubble()}function oi(t){return t instanceof ri}function ai(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function si(t,e){at(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+et(~~(t/60),2)+e+et(~~t%60,2)}))}si("Z",":"),si("ZZ",""),Pt("Z",St),Pt("ZZ",St),It(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=ci(St,t)}));var ui=/([\+\-]|\d\d)/gi;function ci(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(ui)||["-",0,0],o=60*r[1]+S(r[2]);return 0===o?0:"+"===r[0]?o:-o}function hi(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(M(t)||h(t)?t.valueOf():Vn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Vn(t).local()}function li(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function di(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(t=ci(St,t),null===t)return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=li(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Ai(this,Si(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:li(this)}function fi(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function pi(t){return this.utcOffset(0,t)}function gi(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(li(this),"m")),this}function vi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=ci(kt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function mi(t){return!!this.isValid()&&(t=t?Vn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function yi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bi(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t={};if(x(t,this),t=Gn(t),t._a){var e=t._isUTC?p(t._a):Vn(t._a);this._isDSTShifted=this.isValid()&&E(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function xi(){return!!this.isValid()&&!this._isUTC}function wi(){return!!this.isValid()&&this._isUTC}function _i(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Mi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Si(t,e){var n,i,r,o=t,a=null;return oi(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Mi.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:S(a[zt])*n,h:S(a[Ft])*n,m:S(a[Yt])*n,s:S(a[Ht])*n,ms:S(ai(1e3*a[Wt]))*n}):(a=ki.exec(t))?(n="-"===a[1]?-1:(a[1],1),o={y:Ei(a[2],n),M:Ei(a[3],n),w:Ei(a[4],n),d:Ei(a[5],n),h:Ei(a[6],n),m:Ei(a[7],n),s:Ei(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(r=Ti(Vn(o.from),Vn(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new ri(o),oi(t)&&d(t,"_locale")&&(i._locale=t._locale),i}function Ei(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ci(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ti(t,e){var n;return t.isValid()&&e.isValid()?(e=hi(e,t),t.isBefore(e)?n=Ci(t,e):(n=Ci(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pi(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"===typeof n?+n:n,r=Si(n,i),Ai(this,r,t),this}}function Ai(t,e,n,r){var o=e._milliseconds,a=ai(e._days),s=ai(e._months);t.isValid()&&(r=null==r||r,s&&le(t,Kt(t,"Month")+s*n),a&&Jt(t,"Date",Kt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}Si.fn=ri.prototype,Si.invalid=ii;var Oi=Pi(1,"add"),Di=Pi(-1,"subtract");function Ni(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ii(t,e){var n=t||Vn(),r=hi(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(D(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Vn(n)))}function Li(){return new _(this)}function ji(t,e){var n=M(t)?t:Vn(t);return!(!this.isValid()||!n.isValid())&&(e=Q(u(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Bi(t,e){var n=M(t)?t:Vn(t);return!(!this.isValid()||!n.isValid())&&(e=Q(u(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Ri(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function zi(t,e){var n,i=M(t)?t:Vn(t);return!(!this.isValid()||!i.isValid())&&(e=Q(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Fi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Yi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Hi(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(i=hi(t,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=Q(e),e){case"year":o=Wi(this,i)/12;break;case"month":o=Wi(this,i);break;case"quarter":o=Wi(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:k(o)}function Wi(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function Gi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qi(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?ct(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():ct(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ui(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function Vi(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=ct(this,t);return this.localeData().postformat(e)}function Xi(t,e){return this.isValid()&&(M(t)&&t.isValid()||Vn(t).isValid())?Si({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Zi(t){return this.from(Vn(),t)}function Qi(t,e){return this.isValid()&&(M(t)&&t.isValid()||Vn(t).isValid())?Si({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function $i(t){return this.to(Vn(),t)}function Ki(t){var e;return void 0===t?this._locale._abbr:(e=vn(t),null!=e&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ji=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function tr(){return this._locale}function er(t){switch(t=Q(t),t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function nr(t){return t=Q(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function ir(){return this._d.valueOf()-6e4*(this._offset||0)}function rr(){return Math.floor(this.valueOf()/1e3)}function or(){return new Date(this.valueOf())}function ar(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function sr(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function ur(){return this.isValid()?this.toISOString():null}function cr(){return m(this)}function hr(){return f({},v(this))}function lr(){return v(this).overflow}function dr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function fr(t,e){at(0,[t,t.length],0,e)}function pr(t){return yr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function gr(t){return yr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function vr(){return ke(this.year(),1,4)}function mr(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function yr(t,e,n,i,r){var o;return null==t?Me(this,i,r).year:(o=ke(t,i,r),e>o&&(e=o),br.call(this,t,e,n,i,r))}function br(t,e,n,i,r){var o=_e(t,e,n,i,r),a=xe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function xr(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}at(0,["gg",2],0,(function(){return this.weekYear()%100})),at(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),fr("gggg","weekYear"),fr("ggggg","weekYear"),fr("GGGG","isoWeekYear"),fr("GGGGG","isoWeekYear"),Z("weekYear","gg"),Z("isoWeekYear","GG"),J("weekYear",1),J("isoWeekYear",1),Pt("G",Mt),Pt("g",Mt),Pt("GG",vt,dt),Pt("gg",vt,dt),Pt("GGGG",xt,pt),Pt("gggg",xt,pt),Pt("GGGGG",wt,gt),Pt("ggggg",wt,gt),Lt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=S(t)})),Lt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),at("Q",0,"Qo","quarter"),Z("quarter","Q"),J("quarter",7),Pt("Q",lt),It("Q",(function(t,e){e[Rt]=3*(S(t)-1)})),at("D",["DD",2],"Do","date"),Z("date","D"),J("date",9),Pt("D",vt),Pt("DD",vt,dt),Pt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),It(["D","DD"],zt),It("Do",(function(t,e){e[zt]=S(t.match(vt)[0],10)}));var wr=$t("Date",!0);function _r(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}at("DDD",["DDDD",3],"DDDo","dayOfYear"),Z("dayOfYear","DDD"),J("dayOfYear",4),Pt("DDD",bt),Pt("DDDD",ft),It(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=S(t)})),at("m",["mm",2],0,"minute"),Z("minute","m"),J("minute",14),Pt("m",vt),Pt("mm",vt,dt),It(["m","mm"],Yt);var Mr=$t("Minutes",!1);at("s",["ss",2],0,"second"),Z("second","s"),J("second",15),Pt("s",vt),Pt("ss",vt,dt),It(["s","ss"],Ht);var kr,Sr=$t("Seconds",!1);for(at("S",0,0,(function(){return~~(this.millisecond()/100)})),at(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),at(0,["SSS",3],0,"millisecond"),at(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),at(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),at(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),at(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),at(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),at(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Z("millisecond","ms"),J("millisecond",16),Pt("S",bt,lt),Pt("SS",bt,dt),Pt("SSS",bt,ft),kr="SSSS";kr.length<=9;kr+="S")Pt(kr,_t);function Er(t,e){e[Wt]=S(1e3*("0."+t))}for(kr="S";kr.length<=9;kr+="S")It(kr,Er);var Cr=$t("Milliseconds",!1);function Tr(){return this._isUTC?"UTC":""}function Pr(){return this._isUTC?"Coordinated Universal Time":""}at("z",0,0,"zoneAbbr"),at("zz",0,0,"zoneName");var Ar=_.prototype;function Or(t){return Vn(1e3*t)}function Dr(){return Vn.apply(null,arguments).parseZone()}function Nr(t){return t}Ar.add=Oi,Ar.calendar=Ii,Ar.clone=Li,Ar.diff=Hi,Ar.endOf=nr,Ar.format=Vi,Ar.from=Xi,Ar.fromNow=Zi,Ar.to=Qi,Ar.toNow=$i,Ar.get=te,Ar.invalidAt=lr,Ar.isAfter=ji,Ar.isBefore=Bi,Ar.isBetween=Ri,Ar.isSame=zi,Ar.isSameOrAfter=Fi,Ar.isSameOrBefore=Yi,Ar.isValid=cr,Ar.lang=Ji,Ar.locale=Ki,Ar.localeData=tr,Ar.max=Zn,Ar.min=Xn,Ar.parsingFlags=hr,Ar.set=ee,Ar.startOf=er,Ar.subtract=Di,Ar.toArray=ar,Ar.toObject=sr,Ar.toDate=or,Ar.toISOString=qi,Ar.inspect=Ui,Ar.toJSON=ur,Ar.toString=Gi,Ar.unix=rr,Ar.valueOf=ir,Ar.creationData=dr,Ar.year=Zt,Ar.isLeapYear=Qt,Ar.weekYear=pr,Ar.isoWeekYear=gr,Ar.quarter=Ar.quarters=xr,Ar.month=de,Ar.daysInMonth=fe,Ar.week=Ar.weeks=Pe,Ar.isoWeek=Ar.isoWeeks=Ae,Ar.weeksInYear=mr,Ar.isoWeeksInYear=vr,Ar.date=wr,Ar.day=Ar.days=Ye,Ar.weekday=He,Ar.isoWeekday=We,Ar.dayOfYear=_r,Ar.hour=Ar.hours=an,Ar.minute=Ar.minutes=Mr,Ar.second=Ar.seconds=Sr,Ar.millisecond=Ar.milliseconds=Cr,Ar.utcOffset=di,Ar.utc=pi,Ar.local=gi,Ar.parseZone=vi,Ar.hasAlignedHourOffset=mi,Ar.isDST=yi,Ar.isLocal=xi,Ar.isUtcOffset=wi,Ar.isUtc=_i,Ar.isUTC=_i,Ar.zoneAbbr=Tr,Ar.zoneName=Pr,Ar.dates=T("dates accessor is deprecated. Use date instead.",wr),Ar.months=T("months accessor is deprecated. Use month instead",de),Ar.years=T("years accessor is deprecated. Use year instead",Zt),Ar.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fi),Ar.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bi);var Ir=L.prototype;function Lr(t,e,n,i){var r=vn(),o=p().set(i,e);return r[n](o,t)}function jr(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return Lr(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Lr(t,i,n,"month");return r}function Br(t,e,n,i){"boolean"===typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var r,o=vn(),a=t?o._week.dow:0;if(null!=n)return Lr(e,(n+a)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=Lr(e,(r+a)%7,i,"day");return s}function Rr(t,e){return jr(t,e,"months")}function zr(t,e){return jr(t,e,"monthsShort")}function Fr(t,e,n){return Br(t,e,n,"weekdays")}function Yr(t,e,n){return Br(t,e,n,"weekdaysShort")}function Hr(t,e,n){return Br(t,e,n,"weekdaysMin")}Ir.calendar=B,Ir.longDateFormat=z,Ir.invalidDate=Y,Ir.ordinal=G,Ir.preparse=Nr,Ir.postformat=Nr,Ir.relativeTime=U,Ir.pastFuture=V,Ir.set=N,Ir.months=ae,Ir.monthsShort=ue,Ir.monthsParse=he,Ir.monthsRegex=me,Ir.monthsShortRegex=ge,Ir.week=Se,Ir.firstDayOfYear=Te,Ir.firstDayOfWeek=Ce,Ir.weekdays=Ie,Ir.weekdaysMin=Re,Ir.weekdaysShort=je,Ir.weekdaysParse=Fe,Ir.weekdaysRegex=qe,Ir.weekdaysShortRegex=Ve,Ir.weekdaysMinRegex=Ze,Ir.isPM=en,Ir.meridiem=rn,fn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",fn),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",vn);var Wr=Math.abs;function Gr(){var t=this._data;return this._milliseconds=Wr(this._milliseconds),this._days=Wr(this._days),this._months=Wr(this._months),t.milliseconds=Wr(t.milliseconds),t.seconds=Wr(t.seconds),t.minutes=Wr(t.minutes),t.hours=Wr(t.hours),t.months=Wr(t.months),t.years=Wr(t.years),this}function qr(t,e,n,i){var r=Si(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Ur(t,e){return qr(this,t,e,1)}function Vr(t,e){return qr(this,t,e,-1)}function Xr(t){return t<0?Math.floor(t):Math.ceil(t)}function Zr(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Xr($r(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=k(o/1e3),u.seconds=t%60,e=k(t/60),u.minutes=e%60,n=k(e/60),u.hours=n%24,a+=k(n/24),r=k(Qr(a)),s+=r,a-=Xr($r(r)),i=k(s/12),s%=12,u.days=a,u.months=s,u.years=i,this}function Qr(t){return 4800*t/146097}function $r(t){return 146097*t/4800}function Kr(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=Q(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Qr(e),"month"===t?n:n/12;switch(e=this._days+Math.round($r(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Jr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN}function to(t){return function(){return this.as(t)}}var eo=to("ms"),no=to("s"),io=to("m"),ro=to("h"),oo=to("d"),ao=to("w"),so=to("M"),uo=to("y");function co(){return Si(this)}function ho(t){return t=Q(t),this.isValid()?this[t+"s"]():NaN}function lo(t){return function(){return this.isValid()?this._data[t]:NaN}}var fo=lo("milliseconds"),po=lo("seconds"),go=lo("minutes"),vo=lo("hours"),mo=lo("days"),yo=lo("months"),bo=lo("years");function xo(){return k(this.days()/7)}var wo=Math.round,_o={ss:44,s:45,m:45,h:22,d:26,M:11};function Mo(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ko(t,e,n){var i=Si(t).abs(),r=wo(i.as("s")),o=wo(i.as("m")),a=wo(i.as("h")),s=wo(i.as("d")),u=wo(i.as("M")),c=wo(i.as("y")),h=r<=_o.ss&&["s",r]||r<_o.s&&["ss",r]||o<=1&&["m"]||o<_o.m&&["mm",o]||a<=1&&["h"]||a<_o.h&&["hh",a]||s<=1&&["d"]||s<_o.d&&["dd",s]||u<=1&&["M"]||u<_o.M&&["MM",u]||c<=1&&["y"]||["yy",c];return h[2]=e,h[3]=+t>0,h[4]=n,Mo.apply(null,h)}function So(t){return void 0===t?wo:"function"===typeof t&&(wo=t,!0)}function Eo(t,e){return void 0!==_o[t]&&(void 0===e?_o[t]:(_o[t]=e,"s"===t&&(_o.ss=e-1),!0))}function Co(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=ko(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}var To=Math.abs;function Po(t){return(t>0)-(t<0)||+t}function Ao(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=To(this._milliseconds)/1e3,r=To(this._days),o=To(this._months);t=k(i/60),e=k(t/60),i%=60,t%=60,n=k(o/12),o%=12;var a=n,s=o,u=r,c=e,h=t,l=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Po(this._months)!==Po(d)?"-":"",g=Po(this._days)!==Po(d)?"-":"",v=Po(this._milliseconds)!==Po(d)?"-":"";return f+"P"+(a?p+a+"Y":"")+(s?p+s+"M":"")+(u?g+u+"D":"")+(c||h||l?"T":"")+(c?v+c+"H":"")+(h?v+h+"M":"")+(l?v+l+"S":"")}var Oo=ri.prototype;return Oo.isValid=ni,Oo.abs=Gr,Oo.add=Ur,Oo.subtract=Vr,Oo.as=Kr,Oo.asMilliseconds=eo,Oo.asSeconds=no,Oo.asMinutes=io,Oo.asHours=ro,Oo.asDays=oo,Oo.asWeeks=ao,Oo.asMonths=so,Oo.asYears=uo,Oo.valueOf=Jr,Oo._bubble=Zr,Oo.clone=co,Oo.get=ho,Oo.milliseconds=fo,Oo.seconds=po,Oo.minutes=go,Oo.hours=vo,Oo.days=mo,Oo.weeks=xo,Oo.months=yo,Oo.years=bo,Oo.humanize=Co,Oo.toISOString=Ao,Oo.toString=Ao,Oo.toJSON=Ao,Oo.locale=Ki,Oo.localeData=tr,Oo.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ao),Oo.lang=Ji,at("X",0,0,"unix"),at("x",0,0,"valueOf"),Pt("x",Mt),Pt("X",Et),It("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),It("x",(function(t,e,n){n._d=new Date(S(t))})),i.version="2.19.1",r(Vn),i.fn=Ar,i.min=$n,i.max=Kn,i.now=Jn,i.utc=p,i.unix=Or,i.months=Rr,i.isDate=h,i.locale=fn,i.invalid=y,i.duration=Si,i.isMoment=M,i.weekdays=Fr,i.parseZone=Dr,i.localeData=vn,i.isDuration=oi,i.monthsShort=zr,i.weekdaysMin=Hr,i.defineLocale=pn,i.updateLocale=gn,i.locales=mn,i.weekdaysShort=Yr,i.normalizeUnits=Q,i.relativeTimeRounding=So,i.relativeTimeThreshold=Eo,i.calendarFormat=Ni,i.prototype=Ar,i}))}).call(e,n(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=156},function(t,e,n){(function(e){var n,i="undefined"!==typeof window?window:"undefined"!==typeof e?e:null;if(i&&i.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}for(var a=[],s={},u=0;u<256;u++)a[u]=(u+256).toString(16).substr(1),s[a[u]]=u;function c(t,e,n){var i=e&&n||0,r=0;e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){r<16&&(e[i+r++]=s[t])}));while(r<16)e[i+r++]=0;return e}function h(t,e){var n=e||0,i=a;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}var l=n(),d=[1|l[0],l[1],l[2],l[3],l[4],l[5]],f=16383&(l[6]<<8|l[7]),p=0,g=0;function v(t,e,n){var i=e&&n||0,r=e||[];t=t||{};var o=void 0!==t.clockseq?t.clockseq:f,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:g+1,u=a-p+(s-g)/1e4;if(u<0&&void 0===t.clockseq&&(o=o+1&16383),(u<0||a>p)&&void 0===t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=a,g=s,f=o,a+=122192928e5;var c=(1e4*(268435455&a)+s)%4294967296;r[i++]=c>>>24&255,r[i++]=c>>>16&255,r[i++]=c>>>8&255,r[i++]=255&c;var l=a/4294967296*1e4&268435455;r[i++]=l>>>8&255,r[i++]=255&l,r[i++]=l>>>24&15|16,r[i++]=l>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(var v=t.node||d,m=0;m<6;m++)r[i+m]=v[m];return e||h(r)}function m(t,e,i){var r=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;a++)e[r+a]=o[a];return e||h(o)}var y=m;y.v1=v,y.v4=m,y.parse=c,y.unparse=h,t.exports=y}).call(e,n(158))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Graph3d=n(161),e.graph3d={Camera:n(95),Filter:n(96),Point2d:n(91),Point3d:n(34),Slider:n(92),StepNumber:n(93)},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){var i=n(7),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){var i=n(90),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=n(44),s=n(2),u=n(34),c=n(91),h=n(92),l=n(93),d=n(94),f=n(15)["default"],p=n(15),g=p.printStyle,v=n(172),m=v.allOptions,y=n(173);x.STYLE=d.STYLE;var b=void 0;function x(t,e,n){if(!(this instanceof x))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new y,this.dataPoints=null,this.create(),d.setDefaults(x.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(e)}function w(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function _(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}x.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:b,animationInterval:1e3,animationPreload:!1,animationAutoStart:b,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:x.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:b,backgroundColor:b,xBarWidth:b,yBarWidth:b,valueMin:b,valueMax:b,xMin:b,xMax:b,xStep:b,yMin:b,yMax:b,yStep:b,zMin:b,zMax:b,zStep:b},a(x.prototype),x.prototype._setScale=function(){this.scale=new u(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,n)},x.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},x.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),i=t.x*this.scale.x,r=t.y*this.scale.y,o=t.z*this.scale.z,a=e.x,s=e.y,c=e.z,h=Math.sin(n.x),l=Math.cos(n.x),d=Math.sin(n.y),f=Math.cos(n.y),p=Math.sin(n.z),g=Math.cos(n.z),v=f*(p*(r-s)+g*(i-a))-d*(o-c),m=h*(f*(o-c)+d*(p*(r-s)+g*(i-a)))+l*(g*(r-s)-p*(i-a)),y=l*(f*(o-c)+d*(p*(r-s)+g*(i-a)))-h*(g*(r-s)-p*(i-a));return new u(v,m,y)},x.prototype._convertTranslationToScreen=function(t){var e,n,i=this.eye.x,r=this.eye.y,o=this.eye.z,a=t.x,s=t.y,u=t.z;return this.showPerspective?(e=o/u*(a-i),n=o/u*(s-r)):(e=a*(-o/this.camera.getArmLength()),n=s*(-o/this.camera.getArmLength())),new c(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-n*this.frame.canvas.clientWidth)},x.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);var i=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?i.length():-i.z}var r=function(t,e){return e.dist-t.dist};t.sort(r)},x.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},x.prototype.getDataPoints=function(t){for(var e=[],n=0;n<t.length;n++){var i=new u;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],void 0!==this.colValue&&(i.value=t[n][this.colValue]||0);var r={};r.point=i,r.bottom=new u(i.x,i.y,this.zRange.min),r.trans=void 0,r.screen=void 0,e.push(r)}return e},x.prototype._getDataPoints=function(t){var e,n,i,r,o=[];if(this.style===x.STYLE.GRID||this.style===x.STYLE.SURFACE){var a=this.dataGroup.getDistinctValues(this.colX,t),s=this.dataGroup.getDistinctValues(this.colY,t);o=this.getDataPoints(t);var u=[];for(i=0;i<o.length;i++){r=o[i];var c=a.indexOf(r.point.x),h=s.indexOf(r.point.y);void 0===u[c]&&(u[c]=[]),u[c][h]=r}for(e=0;e<u.length;e++)for(n=0;n<u[e].length;n++)u[e][n]&&(u[e][n].pointRight=e<u.length-1?u[e+1][n]:void 0,u[e][n].pointTop=n<u[e].length-1?u[e][n+1]:void 0,u[e][n].pointCross=e<u.length-1&&n<u[e].length-1?u[e+1][n+1]:void 0)}else if(this._checkValueField(t),o=this.getDataPoints(t),this.style===x.STYLE.LINE)for(i=0;i<o.length;i++)i>0&&(o[i-1].pointNext=o[i]);return o},x.prototype.create=function(){while(this.containerElement.hasChildNodes())this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,n=function(t){e._onMouseDown(t)},i=function(t){e._onTouchStart(t)},r=function(t){e._onWheel(t)},o=function(t){e._onTooltip(t)},a=function(t){e._onClick(t)};s.addEventListener(this.frame.canvas,"mousedown",n),s.addEventListener(this.frame.canvas,"touchstart",i),s.addEventListener(this.frame.canvas,"mousewheel",r),s.addEventListener(this.frame.canvas,"mousemove",o),s.addEventListener(this.frame.canvas,"click",a),this.containerElement.appendChild(this.frame)},x.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},x.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},x.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},x.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},x.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},x.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},x.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},x.prototype.setData=function(t){void 0!==t&&null!==t&&(this._readData(t),this.redraw(),this.animationStart())},x.prototype.setOptions=function(t){if(void 0!==t){var e=f.validate(t,m);!0===e&&console.log("%cErrors have been found in the supplied options object.",g),this.animationStop(),d.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart()}},x.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case x.STYLE.BAR:t=x.prototype._redrawBarGraphPoint;break;case x.STYLE.BARCOLOR:t=x.prototype._redrawBarColorGraphPoint;break;case x.STYLE.BARSIZE:t=x.prototype._redrawBarSizeGraphPoint;break;case x.STYLE.DOT:t=x.prototype._redrawDotGraphPoint;break;case x.STYLE.DOTLINE:t=x.prototype._redrawDotLineGraphPoint;break;case x.STYLE.DOTCOLOR:t=x.prototype._redrawDotColorGraphPoint;break;case x.STYLE.DOTSIZE:t=x.prototype._redrawDotSizeGraphPoint;break;case x.STYLE.SURFACE:t=x.prototype._redrawSurfaceGraphPoint;break;case x.STYLE.GRID:t=x.prototype._redrawGridGraphPoint;break;case x.STYLE.LINE:t=x.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},x.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},x.prototype._getContext=function(){var t=this.frame.canvas,e=t.getContext("2d");return e.lineJoin="round",e.lineCap="round",e},x.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)},x.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},x.prototype._getLegendWidth=function(){var t;if(this.style===x.STYLE.DOTSIZE){var e=this._dotSize();t=e*this.dotSizeMaxFraction}else t=this.style===x.STYLE.BARSIZE?this.xBarWidth:20;return t},x.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==x.STYLE.LINE&&this.style!==x.STYLE.BARSIZE){var t=this.style===x.STYLE.BARSIZE||this.style===x.STYLE.DOTSIZE,e=this.style===x.STYLE.DOTSIZE||this.style===x.STYLE.DOTCOLOR||this.style===x.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),i=this.margin,r=this._getLegendWidth(),o=this.frame.clientWidth-this.margin,a=o-r,s=i+n,u=this._getContext();if(u.lineWidth=1,u.font="14px arial",!1===t){var h,d=0,f=n;for(h=d;h<f;h++){var p=(h-d)/(f-d),g=240*p,v=this._hsv2rgb(g,1,1);u.strokeStyle=v,u.beginPath(),u.moveTo(a,i+h),u.lineTo(o,i+h),u.stroke()}u.strokeStyle=this.axisColor,u.strokeRect(a,i,r,n)}else{var m;this.style===x.STYLE.DOTSIZE?m=r*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,x.STYLE.BARSIZE),u.strokeStyle=this.axisColor,u.fillStyle=this.dataColor.fill,u.beginPath(),u.moveTo(a,i),u.lineTo(o,i),u.lineTo(a+m,s),u.lineTo(a,s),u.closePath(),u.fill(),u.stroke()}var y,b,w=5,_=e?this.valueRange.min:this.zRange.min,M=e?this.valueRange.max:this.zRange.max,k=new l(_,M,(M-_)/5,!0);k.start(!0);while(!k.end())h=s-(k.getCurrent()-_)/(M-_)*n,y=new c(a-w,h),b=new c(a,h),this._line(u,y,b),u.textAlign="right",u.textBaseline="middle",u.fillStyle=this.axisColor,u.fillText(k.getCurrent(),a-2*w,h),k.next();u.textAlign="right",u.textBaseline="top";var S=this.legendLabel;u.fillText(S,o,s+this.margin)}},x.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var n={visible:this.showAnimationControls},i=new h(e,n);e.slider=i,e.style.padding="10px",i.setValues(t.values),i.setPlayInterval(this.animationInterval);var r=this,o=function(){var t=r.dataGroup.dataFilter,e=i.getIndex();t.selectValue(e),r.dataPoints=t._getDataPoints(),r.redraw()};i.setOnChangeCallback(o)}else e.slider=void 0},x.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},x.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var n=this.margin,i=this.margin;e.fillText(t,n,i)}},x.prototype._line=function(t,e,n,i){void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()},x.prototype.drawAxisLabelX=function(t,e,n,i,r){void 0===r&&(r=0);var o=this._convert3Dto2D(e);Math.cos(2*i)>0?(t.textAlign="center",t.textBaseline="top",o.y+=r):Math.sin(2*i)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y)},x.prototype.drawAxisLabelY=function(t,e,n,i,r){void 0===r&&(r=0);var o=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.textAlign="center",t.textBaseline="top",o.y+=r):Math.sin(2*i)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,o.x,o.y)},x.prototype.drawAxisLabelZ=function(t,e,n,i){void 0===i&&(i=0);var r=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,r.x-i,r.y)},x.prototype._line3d=function(t,e,n,i){var r=this._convert3Dto2D(e),o=this._convert3Dto2D(n);this._line(t,r,o,i)},x.prototype._redrawAxis=function(){var t,e,n,i,r,o,a,s,h,d,f,p=this._getContext();p.font=24/this.camera.getArmLength()+"px arial";var g,v,m,y=.025/this.scale.x,b=.025/this.scale.y,x=5/this.camera.getArmLength(),w=this.camera.getArmRotation().horizontal,_=new c(Math.cos(w),Math.sin(w)),M=this.xRange,k=this.yRange,S=this.zRange;p.lineWidth=1,i=void 0===this.defaultXStep,n=new l(M.min,M.max,this.xStep,i),n.start(!0);while(!n.end()){var E=n.getCurrent();if(this.showGrid?(t=new u(E,k.min,S.min),e=new u(E,k.max,S.min),this._line3d(p,t,e,this.gridColor)):this.showXAxis&&(t=new u(E,k.min,S.min),e=new u(E,k.min+y,S.min),this._line3d(p,t,e,this.axisColor),t=new u(E,k.max,S.min),e=new u(E,k.max-y,S.min),this._line3d(p,t,e,this.axisColor)),this.showXAxis){a=_.x>0?k.min:k.max,g=new u(E,a,S.min);var C="  "+this.xValueLabel(E)+"  ";this.drawAxisLabelX(p,g,C,w,x)}n.next()}p.lineWidth=1,i=void 0===this.defaultYStep,n=new l(k.min,k.max,this.yStep,i),n.start(!0);while(!n.end()){var T=n.getCurrent();if(this.showGrid?(t=new u(M.min,T,S.min),e=new u(M.max,T,S.min),this._line3d(p,t,e,this.gridColor)):this.showYAxis&&(t=new u(M.min,T,S.min),e=new u(M.min+b,T,S.min),this._line3d(p,t,e,this.axisColor),t=new u(M.max,T,S.min),e=new u(M.max-b,T,S.min),this._line3d(p,t,e,this.axisColor)),this.showYAxis){o=_.y>0?M.min:M.max,g=new u(o,T,S.min);var P="  "+this.yValueLabel(T)+"  ";this.drawAxisLabelY(p,g,P,w,x)}n.next()}if(this.showZAxis){p.lineWidth=1,i=void 0===this.defaultZStep,n=new l(S.min,S.max,this.zStep,i),n.start(!0),o=_.x>0?M.min:M.max,a=_.y<0?k.min:k.max;while(!n.end()){var A=n.getCurrent(),O=new u(o,a,A),D=this._convert3Dto2D(O);e=new c(D.x-x,D.y),this._line(p,D,e,this.axisColor);var N=this.zValueLabel(A)+" ";this.drawAxisLabelZ(p,O,N,5),n.next()}p.lineWidth=1,t=new u(o,a,S.min),e=new u(o,a,S.max),this._line3d(p,t,e,this.axisColor)}this.showXAxis&&(p.lineWidth=1,v=new u(M.min,k.min,S.min),m=new u(M.max,k.min,S.min),this._line3d(p,v,m,this.axisColor),v=new u(M.min,k.max,S.min),m=new u(M.max,k.max,S.min),this._line3d(p,v,m,this.axisColor));this.showYAxis&&(p.lineWidth=1,t=new u(M.min,k.min,S.min),e=new u(M.min,k.max,S.min),this._line3d(p,t,e,this.axisColor),t=new u(M.max,k.min,S.min),e=new u(M.max,k.max,S.min),this._line3d(p,t,e,this.axisColor));var I=this.xLabel;I.length>0&&this.showXAxis&&(f=.1/this.scale.y,o=(M.max+3*M.min)/4,a=_.x>0?k.min-f:k.max+f,r=new u(o,a,S.min),this.drawAxisLabelX(p,r,I,w));var L=this.yLabel;L.length>0&&this.showYAxis&&(d=.1/this.scale.x,o=_.y>0?M.min-d:M.max+d,a=(k.max+3*k.min)/4,r=new u(o,a,S.min),this.drawAxisLabelY(p,r,L,w));var j=this.zLabel;j.length>0&&this.showZAxis&&(h=30,o=_.x>0?M.min:M.max,a=_.y<0?k.min:k.max,s=(S.max+3*S.min)/4,r=new u(o,a,s),this.drawAxisLabelZ(p,r,j,h))},x.prototype._hsv2rgb=function(t,e,n){var i,r,o,a,s,u;switch(a=n*e,s=Math.floor(t/60),u=a*(1-Math.abs(t/60%2-1)),s){case 0:i=a,r=u,o=0;break;case 1:i=u,r=a,o=0;break;case 2:i=0,r=a,o=u;break;case 3:i=0,r=u,o=a;break;case 4:i=u,r=0,o=a;break;case 5:i=a,r=0,o=u;break;default:i=0,r=0,o=0;break}return"RGB("+parseInt(255*i)+","+parseInt(255*r)+","+parseInt(255*o)+")"},x.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},x.prototype._redrawBar=function(t,e,n,i,r,o){var a,s=this,c=e.point,h=this.zRange.min,l=[{point:new u(c.x-n,c.y-i,c.z)},{point:new u(c.x+n,c.y-i,c.z)},{point:new u(c.x+n,c.y+i,c.z)},{point:new u(c.x-n,c.y+i,c.z)}],d=[{point:new u(c.x-n,c.y-i,h)},{point:new u(c.x+n,c.y-i,h)},{point:new u(c.x+n,c.y+i,h)},{point:new u(c.x-n,c.y+i,h)}];l.forEach((function(t){t.screen=s._convert3Dto2D(t.point)})),d.forEach((function(t){t.screen=s._convert3Dto2D(t.point)}));var f=[{corners:l,center:u.avg(d[0].point,d[2].point)},{corners:[l[0],l[1],d[1],d[0]],center:u.avg(d[1].point,d[0].point)},{corners:[l[1],l[2],d[2],d[1]],center:u.avg(d[2].point,d[1].point)},{corners:[l[2],l[3],d[3],d[2]],center:u.avg(d[3].point,d[2].point)},{corners:[l[3],l[0],d[0],d[3]],center:u.avg(d[0].point,d[3].point)}];e.surfaces=f;for(var p=0;p<f.length;p++){a=f[p];var g=this._convertPointToTranslation(a.center);a.dist=this.showPerspective?g.length():-g.z}f.sort((function(t,e){var n=e.dist-t.dist;return n||(t.corners===l?1:e.corners===l?-1:0)})),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=o,t.fillStyle=r;for(var v=2;v<f.length;v++)a=f[v],this._polygon(t,a.corners)},x.prototype._polygon=function(t,e,n,i){if(!(e.length<2)){void 0!==n&&(t.fillStyle=n),void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var r=1;r<e.length;++r){var o=e[r];t.lineTo(o.screen.x,o.screen.y)}t.closePath(),t.fill(),t.stroke()}},x.prototype._drawCircle=function(t,e,n,i,r){var o=this._calcRadius(e,r);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=i,t.fillStyle=n,t.beginPath(),t.arc(e.screen.x,e.screen.y,o,0,2*Math.PI,!0),t.fill(),t.stroke()},x.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio),n=this._hsv2rgb(e,1,1),i=this._hsv2rgb(e,1,.8);return{fill:n,border:i}},x.prototype._getColorsColor=function(t){var e,n;if("string"===typeof t.point.value)e=t.point.value,n=t.point.value;else{var i=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(i,1,1),n=this._hsv2rgb(i,1,.8)}return{fill:e,border:n}},x.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},x.prototype._calcRadius=function(t,e){var n;return void 0===e&&(e=this._dotSize()),n=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()),n<0&&(n=0),n},x.prototype._redrawBarGraphPoint=function(t,e){var n=this.xBarWidth/2,i=this.yBarWidth/2,r=this._getColorsRegular(e);this._redrawBar(t,e,n,i,r.fill,r.border)},x.prototype._redrawBarColorGraphPoint=function(t,e){var n=this.xBarWidth/2,i=this.yBarWidth/2,r=this._getColorsColor(e);this._redrawBar(t,e,n,i,r.fill,r.border)},x.prototype._redrawBarSizeGraphPoint=function(t,e){var n=(e.point.value-this.valueRange.min)/this.valueRange.range(),i=this.xBarWidth/2*(.8*n+.2),r=this.yBarWidth/2*(.8*n+.2),o=this._getColorsSize();this._redrawBar(t,e,i,r,o.fill,o.border)},x.prototype._redrawDotGraphPoint=function(t,e){var n=this._getColorsRegular(e);this._drawCircle(t,e,n.fill,n.border)},x.prototype._redrawDotLineGraphPoint=function(t,e){var n=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,n,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},x.prototype._redrawDotColorGraphPoint=function(t,e){var n=this._getColorsColor(e);this._drawCircle(t,e,n.fill,n.border)},x.prototype._redrawDotSizeGraphPoint=function(t,e){var n=this._dotSize(),i=(e.point.value-this.valueRange.min)/this.valueRange.range(),r=n*this.dotSizeMinFraction,o=n*this.dotSizeMaxFraction-r,a=r+o*i,s=this._getColorsSize();this._drawCircle(t,e,s.fill,s.border,a)},x.prototype._redrawSurfaceGraphPoint=function(t,e){var n=e.pointRight,i=e.pointTop,r=e.pointCross;if(void 0!==e&&void 0!==n&&void 0!==i&&void 0!==r){var o,a,s=!0;if(this.showGrayBottom||this.showShadow){var c=u.subtract(r.trans,e.trans),h=u.subtract(i.trans,n.trans),l=u.crossProduct(c,h),d=l.length();s=l.z>0}if(s){var f,p=(e.point.z+n.point.z+i.point.z+r.point.z)/4,g=240*(1-(p-this.zRange.min)*this.scale.z/this.verticalRatio),v=1;this.showShadow?(f=Math.min(1+l.x/d/2,1),o=this._hsv2rgb(g,v,f),a=o):(f=1,o=this._hsv2rgb(g,v,f),a=this.axisColor)}else o="gray",a=this.axisColor;t.lineWidth=this._getStrokeWidth(e);var m=[e,n,r,i];this._polygon(t,m,o,a)}},x.prototype._drawGridLine=function(t,e,n){if(void 0!==e&&void 0!==n){var i=(e.point.z+n.point.z)/2,r=240*(1-(i-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(r,1,1),this._line(t,e.screen,n.screen)}},x.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},x.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},x.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var n=this.dataPoints[t];this._pointDrawingMethod.call(this,e,n)}},x.prototype._storeMousePosition=function(t){this.startMouseX=w(t),this.startMouseY=_(t),this._startCameraOffset=this.camera.getOffset()},x.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},s.addEventListener(document,"mousemove",e.onmousemove),s.addEventListener(document,"mouseup",e.onmouseup),s.preventDefault(t)}},x.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(w(t))-this.startMouseX,n=parseFloat(_(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var i=.5*this.frame.clientWidth,r=.5*this.frame.clientHeight,o=(this._startCameraOffset.x||0)-e/i*this.camera.armLength*.8,a=(this._startCameraOffset.y||0)+n/r*this.camera.armLength*.8;this.camera.setOffset(o,a),this._storeMousePosition(t)}else{var u=this.startArmRotation.horizontal+e/200,c=this.startArmRotation.vertical+n/200,h=4,l=Math.sin(h/360*2*Math.PI);Math.abs(Math.sin(u))<l&&(u=Math.round(u/Math.PI)*Math.PI-.001),Math.abs(Math.cos(u))<l&&(u=(Math.round(u/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(c))<l&&(c=Math.round(c/Math.PI)*Math.PI),Math.abs(Math.cos(c))<l&&(c=(Math.round(c/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(u,c)}this.redraw();var d=this.getCameraPosition();this.emit("cameraPositionChange",d),s.preventDefault(t)},x.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,s.removeEventListener(document,"mousemove",this.onmousemove),s.removeEventListener(document,"mouseup",this.onmouseup),s.preventDefault(t)},x.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),n=w(t)-e.left,i=_(t)-e.top,r=this._dataPointFromXY(n,i);r&&this.onclick_callback(r.point.data)}s.preventDefault(t)}},x.prototype._onTooltip=function(t){var e=300,n=this.frame.getBoundingClientRect(),i=w(t)-n.left,r=_(t)-n.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(i,r);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var a=this;this.tooltipTimeout=setTimeout((function(){a.tooltipTimeout=null;var t=a._dataPointFromXY(i,r);t&&a._showTooltip(t)}),e)}},x.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},s.addEventListener(document,"touchmove",e.ontouchmove),s.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},x.prototype._onTouchMove=function(t){this._onMouseMove(t)},x.prototype._onTouchEnd=function(t){this.touchDown=!1,s.removeEventListener(document,"touchmove",this.ontouchmove),s.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},x.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var n=this.camera.getArmLength(),i=n*(1-e/10);this.camera.setArmLength(i),this.redraw(),this._hideTooltip()}var r=this.getCameraPosition();this.emit("cameraPositionChange",r),s.preventDefault(t)},x.prototype._insideTriangle=function(t,e){var n=e[0],i=e[1],r=e[2];function o(t){return t>0?1:t<0?-1:0}var a=o((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x)),s=o((r.x-i.x)*(t.y-i.y)-(r.y-i.y)*(t.x-i.x)),u=o((n.x-r.x)*(t.y-r.y)-(n.y-r.y)*(t.x-r.x));return(0==a||0==s||a==s)&&(0==s||0==u||s==u)&&(0==a||0==u||a==u)},x.prototype._dataPointFromXY=function(t,e){var n,i=100,r=null,o=null,a=null,s=new c(t,e);if(this.style===x.STYLE.BAR||this.style===x.STYLE.BARCOLOR||this.style===x.STYLE.BARSIZE)for(n=this.dataPoints.length-1;n>=0;n--){r=this.dataPoints[n];var u=r.surfaces;if(u)for(var h=u.length-1;h>=0;h--){var l=u[h],d=l.corners,f=[d[0].screen,d[1].screen,d[2].screen],p=[d[2].screen,d[3].screen,d[0].screen];if(this._insideTriangle(s,f)||this._insideTriangle(s,p))return r}}else for(n=0;n<this.dataPoints.length;n++){r=this.dataPoints[n];var g=r.screen;if(g){var v=Math.abs(t-g.x),m=Math.abs(e-g.y),y=Math.sqrt(v*v+m*m);(null===a||y<a)&&y<i&&(a=y,o=r)}}return o},x.prototype.hasBars=function(t){return t==x.STYLE.BAR||t==x.STYLE.BARCOLOR||t==x.STYLE.BARSIZE},x.prototype._showTooltip=function(t){var e,n,i;this.tooltip?(e=this.tooltip.dom.content,n=this.tooltip.dom.line,i=this.tooltip.dom.dot):(e=document.createElement("div"),(0,r["default"])(e.style,{},this.tooltipStyle.content),e.style.position="absolute",n=document.createElement("div"),(0,r["default"])(n.style,{},this.tooltipStyle.line),n.style.position="absolute",i=document.createElement("div"),(0,r["default"])(i.style,{},this.tooltipStyle.dot),i.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:n,dot:i}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"===typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(n),this.frame.appendChild(i);var o=e.offsetWidth,a=e.offsetHeight,s=n.offsetHeight,u=i.offsetWidth,c=i.offsetHeight,h=t.screen.x-o/2;h=Math.min(Math.max(h,10),this.frame.clientWidth-10-o),n.style.left=t.screen.x+"px",n.style.top=t.screen.y-s+"px",e.style.left=h+"px",e.style.top=t.screen.y-s-a+"px",i.style.left=t.screen.x-u/2+"px",i.style.top=t.screen.y-c/2+"px"},x.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},x.prototype.setCameraPosition=function(t){d.setCameraPosition(t,this),this.redraw()},x.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=x},function(t,e,n){n(163),t.exports=n(7).Object.assign},function(t,e,n){var i=n(17);i(i.S+i.F,"Object",{assign:n(164)})},function(t,e,n){var i=n(33),r=n(63),o=n(42),a=n(41),s=n(78),u=Object.assign;t.exports=!u||n(28)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i}))?function(t,e){var n=a(t),u=arguments.length,c=1,h=r.f,l=o.f;while(u>c){var d,f=s(arguments[c++]),p=h?i(f).concat(h(f)):i(f),g=p.length,v=0;while(g>v)l.call(f,d=p[v++])&&(n[d]=f[d])}return n}:u},function(t,e,n){t.exports={default:n(166),__esModule:!0}},function(t,e,n){n(167),t.exports=n(7).Math.sign},function(t,e,n){var i=n(17);i(i.S,"Math",{sign:n(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){t.exports={default:n(170),__esModule:!0}},function(t,e,n){n(171);var i=n(7).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(17);i(i.S+i.F*!n(21),"Object",{defineProperty:n(20).f})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",r="boolean",o="number",a="object",s={fill:{string:i},stroke:{string:i},strokeWidth:{number:o},__type__:{string:i,object:a,undefined:"undefined"}},u={animationAutoStart:{boolean:r,undefined:"undefined"},animationInterval:{number:o},animationPreload:{boolean:r},axisColor:{string:i},backgroundColor:s,xBarWidth:{number:o,undefined:"undefined"},yBarWidth:{number:o,undefined:"undefined"},cameraPosition:{distance:{number:o},horizontal:{number:o},vertical:{number:o},__type__:{object:a}},xCenter:{string:i},yCenter:{string:i},dataColor:s,dotSizeMinFraction:{number:o},dotSizeMaxFraction:{number:o},dotSizeRatio:{number:o},filterLabel:{string:i},gridColor:{string:i},onclick:{function:"function"},keepAspectRatio:{boolean:r},xLabel:{string:i},yLabel:{string:i},zLabel:{string:i},legendLabel:{string:i},xMin:{number:o,undefined:"undefined"},yMin:{number:o,undefined:"undefined"},zMin:{number:o,undefined:"undefined"},xMax:{number:o,undefined:"undefined"},yMax:{number:o,undefined:"undefined"},zMax:{number:o,undefined:"undefined"},showAnimationControls:{boolean:r,undefined:"undefined"},showGrid:{boolean:r},showLegend:{boolean:r,undefined:"undefined"},showPerspective:{boolean:r},showShadow:{boolean:r},showXAxis:{boolean:r},showYAxis:{boolean:r},showZAxis:{boolean:r},xStep:{number:o,undefined:"undefined"},yStep:{number:o,undefined:"undefined"},zStep:{number:o,undefined:"undefined"},style:{number:o,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:r,function:"function"},tooltipStyle:{content:{color:{string:i},background:{string:i},border:{string:i},borderRadius:{string:i},boxShadow:{string:i},padding:{string:i},__type__:{object:a}},line:{borderLeft:{string:i},height:{string:i},width:{string:i},__type__:{object:a}},dot:{border:{string:i},borderRadius:{string:i},height:{string:i},width:{string:i},__type__:{object:a}},__type__:{object:a}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:o,undefined:"undefined"},valueMin:{number:o,undefined:"undefined"},verticalRatio:{number:o},height:{string:i},width:{string:i},__type__:{object:a}};e.allOptions=u},function(t,e,n){var i=n(11),r=n(12),o=n(174),a=n(96),s=n(94),u=n(34);function c(){this.dataTable=null}c.prototype.initializeData=function(t,e,n){if(void 0!==e){var o;if(Array.isArray(e)&&(e=new i(e)),!(e instanceof i||e instanceof r))throw new Error("Array, DataSet, or DataView expected");if(o=e.get(),0!=o.length){this.style=n,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=o;var s=this;this._onChange=function(){t.setData(s.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var u=t.hasBars(n);if(u&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(o,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(o,this.colY)||1),this._initializeRange(o,this.colX,t,u),this._initializeRange(o,this.colY,t,u),this._initializeRange(o,this.colZ,t,!1),o[0].hasOwnProperty("style")){this.colValue="style";var c=this.getColumnRange(o,this.colValue);this._setRangeDefaults(c,t.defaultValueMin,t.defaultValueMax),this.valueRange=c}var h,l=this.getDataTable();return l[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new a(this,"filter",t),this.dataFilter.setOnLoadCallback((function(){t.redraw()}))),h=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable()),h}}},c.prototype._collectRangeSettings=function(t,e){var n=["x","y","z"].indexOf(t);if(-1==n)throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},c.prototype._initializeRange=function(t,e,n,i){var r=5,o=this._collectRangeSettings(e,n),a=this.getColumnRange(t,e);i&&"z"!=e&&a.expand(o.barWidth/2),this._setRangeDefaults(a,o.min,o.max),this[o.range_label]=a,this[o.step_label]=void 0!==o.step?o.step:a.range()/r},c.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var n=[],i=0;i<e.length;i++){var r=e[i][t]||0;-1===n.indexOf(r)&&n.push(r)}return n.sort((function(t,e){return t-e}))},c.prototype.getSmallestDifference=function(t,e){for(var n=this.getDistinctValues(t,e),i=null,r=1;r<n.length;r++){var o=n[r]-n[r-1];(null==i||i>o)&&(i=o)}return i},c.prototype.getColumnRange=function(t,e){for(var n=new o,i=0;i<t.length;i++){var r=t[i][e];n.adjust(r)}return n},c.prototype.getNumberOfRows=function(){return this.dataTable.length},c.prototype._setRangeDefaults=function(t,e,n){void 0!==e&&(t.min=e),void 0!==n&&(t.max=n),t.max<=t.min&&(t.max=t.min+1)},c.prototype.getDataTable=function(){return this.dataTable},c.prototype.getDataSet=function(){return this.dataSet},c.prototype.getDataPoints=function(t){for(var e=[],n=0;n<t.length;n++){var i=new u;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],void 0!==this.colValue&&(i.value=t[n][this.colValue]||0);var r={};r.point=i,r.bottom=new u(i.x,i.y,this.zRange.min),r.trans=void 0,r.screen=void 0,e.push(r)}return e},c.prototype.initDataAsMatrix=function(t){var e,n,i,r,o=this.getDistinctValues(this.colX,t),a=this.getDistinctValues(this.colY,t),s=this.getDataPoints(t),u=[];for(i=0;i<s.length;i++){r=s[i];var c=o.indexOf(r.point.x),h=a.indexOf(r.point.y);void 0===u[c]&&(u[c]=[]),u[c][h]=r}for(e=0;e<u.length;e++)for(n=0;n<u[e].length;n++)u[e][n]&&(u[e][n].pointRight=e<u.length-1?u[e+1][n]:void 0,u[e][n].pointTop=n<u[e].length-1?u[e][n+1]:void 0,u[e][n].pointCross=e<u.length-1&&n<u[e].length-1?u[e+1][n+1]:void 0);return s},c.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},c.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},c.prototype._getDataPoints=function(t){var e=[];if(this.style===s.STYLE.GRID||this.style===s.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===s.STYLE.LINE)for(var n=0;n<e.length;n++)n>0&&(e[n-1].pointNext=e[n]);return e},c.prototype._checkValueField=function(t){var e=this.style===s.STYLE.BARCOLOR||this.style===s.STYLE.BARSIZE||this.style===s.STYLE.DOTCOLOR||this.style===s.STYLE.DOTSIZE;if(e){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=c},function(t,e,n){function i(){this.min=void 0,this.max=void 0}i.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},i.prototype.combine=function(t){this.add(t.min),this.add(t.max)},i.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,n=this.max+t;if(e>n)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=n}},i.prototype.range=function(){return this.max-this.min},i.prototype.center=function(){return(this.min+this.max)/2},t.exports=i},function(t,e,n){var i,r,o;(function(n){r=[],i=n,o="function"===typeof i?i.apply(e,r):i,void 0===o||(t.exports=o)})((function(){var t=null;return function e(n,i){var r=i||{preventDefault:!1};if(n.Manager){var o=n,a=function(t,n){var i=Object.create(r);return n&&o.assign(i,n),e(new o(t,i),i)};return o.assign(a,o),a.Manager=function(t,n){var i=Object.create(r);return n&&o.assign(i,n),e(new o.Manager(t,i),i)},a}var s=Object.create(n),u=n.element;function c(t){return t.match(/[^ ]+/g)}function h(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var i=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof i&&(e.srcEvent.stopPropagation=function(){i(),e.stopPropagation()}),e.firstTarget=t;var r=t;while(r&&!n){var o=r.hammer;if(o)for(var a,s=0;s<o.length;s++)if(a=o[s]._handlers[e.type],a)for(var u=0;u<a.length&&!n;u++)a[u](e);r=r.parentNode}}return u.hammer||(u.hammer=[]),u.hammer.push(s),n.on("hammer.input",(function(e){!0!==r.preventDefault&&r.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)})),s._handlers={},s.on=function(t,e){return c(t).forEach((function(t){var i=s._handlers[t];i||(s._handlers[t]=i=[],n.on(t,h)),i.push(e)})),s},s.off=function(t,e){return c(t).forEach((function(t){var i=s._handlers[t];i&&(i=e?i.filter((function(t){return t!==e})):[],i.length>0?s._handlers[t]=i:(n.off(t,h),delete s._handlers[t]))})),s},s.emit=function(e,i){t=i.target,n.emit(e,i)},s.destroy=function(){var t=n.element.hammer,e=t.indexOf(s);-1!==e&&t.splice(e,1),t.length||delete n.element.hammer,s._handlers={},n.destroy()},s}}))},function(t,e,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(r,o,a,s){var u,c=["","webkit","Moz","MS","ms","o"],h=o.createElement("div"),l="function",d=Math.round,f=Math.abs,p=Date.now;function g(t,e,n){return setTimeout(_(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s){i=0;while(i<t.length)e.call(n,t[i],i,t),i++}else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!==typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var b=y((function(t,e,n){var i=Object.keys(e),r=0;while(r<i.length)(!n||n&&t[i[r]]===s)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),x=y((function(t,e){return b(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&u(i,n)}function _(t,e){return function(){return t.apply(e,arguments)}}function M(t,e){return typeof t==l?t.apply(e&&e[0]||s,e):t}function k(t,e){return t===s?e:t}function S(t,e,n){m(P(e),(function(e){t.addEventListener(e,n,!1)}))}function E(t,e,n){m(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function C(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);var i=0;while(i<t.length){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){var i=[],r=[],o=0;while(o<t.length){var a=e?t[o][e]:t[o];A(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function N(t,e){var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;while(o<c.length){if(n=c[o],i=n?n+r:e,i in t)return i;o++}return s}var I=1;function L(){return I++}function j(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var B=/mobile|tablet|ip(ad|hone|od)|android/i,R="ontouchstart"in r,z=N(r,"PointerEvent")!==s,F=R&&B.test(navigator.userAgent),Y="touch",H="pen",W="mouse",G="kinect",q=25,U=1,V=2,X=4,Z=8,Q=1,$=2,K=4,J=8,tt=16,et=$|K,nt=J|tt,it=et|nt,rt=["x","y"],ot=["clientX","clientY"];function at(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){M(t.options.enable,[t])&&n.handler(e)},this.init()}function st(t){var e,n=t.options.inputClass;return e=n||(z?Tt:F?jt:R?Ft:Mt),new e(t,ut)}function ut(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&U&&i-r===0,a=e&(X|Z)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,ct(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ct(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=dt(e)),r>1&&!n.firstMultiple?n.firstMultiple=dt(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=ft(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=mt(s,u),e.distance=vt(s,u),ht(n,e),e.offsetDirection=gt(e.deltaX,e.deltaY);var c=pt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,e.scale=a?bt(a.pointers,i):1,e.rotation=a?yt(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,lt(n,e);var h=t.element;C(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function ht(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==U&&o.eventType!==X||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function lt(t,e){var n,i,r,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Z&&(u>q||a.velocity===s)){var c=e.deltaX-a.deltaX,h=e.deltaY-a.deltaY,l=pt(u,c,h);i=l.x,r=l.y,n=f(l.x)>f(l.y)?l.x:l.y,o=gt(c,h),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function dt(t){var e=[],n=0;while(n<t.pointers.length)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:ft(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ft(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};var n=0,i=0,r=0;while(r<e)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function pt(t,e,n){return{x:e/t||0,y:n/t||0}}function gt(t,e){return t===e?Q:f(t)>=f(e)?t<0?$:K:e<0?J:tt}function vt(t,e,n){n||(n=rt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function mt(t,e,n){n||(n=rt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function yt(t,e){return mt(e[1],e[0],ot)+mt(t[1],t[0],ot)}function bt(t,e){return vt(e[0],e[1],ot)/vt(t[0],t[1],ot)}at.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(j(this.element),this.evWin,this.domHandler)}};var xt={mousedown:U,mousemove:V,mouseup:X},wt="mousedown",_t="mousemove mouseup";function Mt(){this.evEl=wt,this.evWin=_t,this.pressed=!1,at.apply(this,arguments)}w(Mt,at,{handler:function(t){var e=xt[t.type];e&U&&0===t.button&&(this.pressed=!0),e&V&&1!==t.which&&(e=X),this.pressed&&(e&X&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:W,srcEvent:t}))}});var kt={pointerdown:U,pointermove:V,pointerup:X,pointercancel:Z,pointerout:Z},St={2:Y,3:H,4:W,5:G},Et="pointerdown",Ct="pointermove pointerup pointercancel";function Tt(){this.evEl=Et,this.evWin=Ct,at.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Et="MSPointerDown",Ct="MSPointerMove MSPointerUp MSPointerCancel"),w(Tt,at,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=kt[i],o=St[t.pointerType]||t.pointerType,a=o==Y,s=A(e,t.pointerId,"pointerId");r&U&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):r&(X|Z)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Pt={touchstart:U,touchmove:V,touchend:X,touchcancel:Z},At="touchstart",Ot="touchstart touchmove touchend touchcancel";function Dt(){this.evTarget=At,this.evWin=Ot,this.started=!1,at.apply(this,arguments)}function Nt(t,e){var n=O(t.touches),i=O(t.changedTouches);return e&(X|Z)&&(n=D(n.concat(i),"identifier",!0)),[n,i]}w(Dt,at,{handler:function(t){var e=Pt[t.type];if(e===U&&(this.started=!0),this.started){var n=Nt.call(this,t,e);e&(X|Z)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Y,srcEvent:t})}}});var It={touchstart:U,touchmove:V,touchend:X,touchcancel:Z},Lt="touchstart touchmove touchend touchcancel";function jt(){this.evTarget=Lt,this.targetIds={},at.apply(this,arguments)}function Bt(t,e){var n=O(t.touches),i=this.targetIds;if(e&(U|V)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=O(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return C(t.target,u)})),e===U){r=0;while(r<o.length)i[o[r].identifier]=!0,r++}r=0;while(r<a.length)i[a[r].identifier]&&s.push(a[r]),e&(X|Z)&&delete i[a[r].identifier],r++;return s.length?[D(o.concat(s),"identifier",!0),s]:void 0}w(jt,at,{handler:function(t){var e=It[t.type],n=Bt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Y,srcEvent:t})}});var Rt=2500,zt=25;function Ft(){at.apply(this,arguments);var t=_(this.handler,this);this.touch=new jt(this.manager,t),this.mouse=new Mt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Yt(t,e){t&U?(this.primaryTouch=e.changedPointers[0].identifier,Ht.call(this,e)):t&(X|Z)&&Ht.call(this,e)}function Ht(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,Rt)}}function Wt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=zt&&a<=zt)return!0}return!1}w(Ft,at,{handler:function(t,e,n){var i=n.pointerType==Y,r=n.pointerType==W;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Yt.call(this,e,n);else if(r&&Wt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Gt=N(h.style,"touchAction"),qt=Gt!==s,Ut="compute",Vt="auto",Xt="manipulation",Zt="none",Qt="pan-x",$t="pan-y",Kt=ee();function Jt(t,e){this.manager=t,this.set(e)}function te(t){if(T(t,Zt))return Zt;var e=T(t,Qt),n=T(t,$t);return e&&n?Zt:e||n?e?Qt:$t:T(t,Xt)?Xt:Vt}function ee(){if(!qt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}Jt.prototype={set:function(t){t==Ut&&(t=this.compute()),qt&&this.manager.element.style&&Kt[t]&&(this.manager.element.style[Gt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){M(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=T(i,Zt)&&!Kt[Zt],o=T(i,$t)&&!Kt[$t],a=T(i,Qt)&&!Kt[Qt];if(r){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return r||o&&n&et||a&&n&nt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ne=1,ie=2,re=4,oe=8,ae=oe,se=16,ue=32;function ce(t){this.options=u({},this.defaults,t||{}),this.id=L(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=ne,this.simultaneous={},this.requireFail=[]}function he(t){return t&se?"cancel":t&oe?"end":t&re?"move":t&ie?"start":""}function le(t){return t==tt?"down":t==J?"up":t==$?"left":t==K?"right":""}function de(t,e){var n=e.manager;return n?n.get(t):t}function fe(){ce.apply(this,arguments)}function pe(){fe.apply(this,arguments),this.pX=null,this.pY=null}function ge(){fe.apply(this,arguments)}function ve(){ce.apply(this,arguments),this._timer=null,this._input=null}function me(){fe.apply(this,arguments)}function ye(){fe.apply(this,arguments)}function be(){ce.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function xe(t,e){return e=e||{},e.recognizers=k(e.recognizers,xe.defaults.preset),new Me(t,e)}ce.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=de(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)?this:(t=de(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return t=de(t,this),-1===A(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=de(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<oe&&i(e.options.event+he(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=oe&&i(e.options.event+he(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ue},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(ue|ne)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!M(this.options.enable,[this,e]))return this.reset(),void(this.state=ue);this.state&(ae|se|ue)&&(this.state=ne),this.state=this.process(e),this.state&(ie|re|oe|se)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(fe,ce,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ie|re),r=this.attrTest(t);return i&&(n&Z||!r)?e|se:i||r?n&X?e|oe:e&ie?e|re:ie:ue}}),w(pe,fe,{defaults:{event:"pan",threshold:10,pointers:1,direction:it},getTouchAction:function(){var t=this.options.direction,e=[];return t&et&&e.push($t),t&nt&&e.push(Qt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&et?(r=0===o?Q:o<0?$:K,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Q:a<0?J:tt,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return fe.prototype.attrTest.call(this,t)&&(this.state&ie||!(this.state&ie)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=le(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(ge,fe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ie)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(ve,ce,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Vt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(X|Z)&&!r)this.reset();else if(t.eventType&U)this.reset(),this._timer=g((function(){this.state=ae,this.tryEmit()}),e.time,this);else if(t.eventType&X)return ae;return ue},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ae&&(t&&t.eventType&X?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(me,fe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ie)}}),w(ye,fe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|nt,pointers:1},getTouchAction:function(){return pe.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(et|nt)?e=t.overallVelocity:n&et?e=t.overallVelocityX:n&nt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&t.eventType&X},emit:function(t){var e=le(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(be,ce,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&U&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=X)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||vt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=g((function(){this.state=ae,this.tryEmit()}),e.interval,this),ie):ae}return ue},failTimeout:function(){return this._timer=g((function(){this.state=ue}),this.options.interval,this),ue},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ae&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),xe.VERSION="2.0.7",xe.defaults={domEvents:!1,touchAction:Ut,enable:!0,inputTarget:null,inputClass:null,preset:[[me,{enable:!1}],[ge,{enable:!1},["rotate"]],[ye,{direction:et}],[pe,{direction:et},["swipe"]],[be],[be,{event:"doubletap",taps:2},["tap"]],[ve]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var we=1,_e=2;function Me(t,e){this.options=u({},xe.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=st(this),this.touchAction=new Jt(this,this.options.touchAction),ke(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ke(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,(function(r,o){n=N(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function Se(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}Me.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?_e:we},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ae)&&(r=e.curRecognizer=null);var o=0;while(o<i.length)n=i[o],e.stopped===_e||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(ie|re|oe)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof ce)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return m(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return m(P(t),(function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&Se(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var i=0;while(i<n.length)n[i](e),i++}},destroy:function(){this.element&&ke(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(xe,{INPUT_START:U,INPUT_MOVE:V,INPUT_END:X,INPUT_CANCEL:Z,STATE_POSSIBLE:ne,STATE_BEGAN:ie,STATE_CHANGED:re,STATE_ENDED:oe,STATE_RECOGNIZED:ae,STATE_CANCELLED:se,STATE_FAILED:ue,DIRECTION_NONE:Q,DIRECTION_LEFT:$,DIRECTION_RIGHT:K,DIRECTION_UP:J,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:nt,DIRECTION_ALL:it,Manager:Me,Input:at,TouchAction:Jt,TouchInput:jt,MouseInput:Mt,PointerEventInput:Tt,TouchMouseInput:Ft,SingleTouchInput:Dt,Recognizer:ce,AttrRecognizer:fe,Tap:be,Pan:pe,Swipe:ye,Pinch:ge,Rotate:me,Press:ve,on:S,off:E,each:m,merge:x,extend:b,assign:u,inherit:w,bindFn:_,prefixed:N});var Ee="undefined"!==typeof r?r:"undefined"!==typeof self?self:{};Ee.Hammer=xe,i=function(){return xe}.call(e,n,e,t),i===s||(t.exports=i)})(window,document)},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Timeline=n(178),e.Graph2d=n(180),e.timeline={Core:n(65),DateUtil:n(36),Range:n(64),stack:n(100),TimeStep:n(66),components:{items:{Item:n(38),BackgroundItem:n(103),BoxItem:n(101),PointItem:n(102),RangeItem:n(70)},BackgroundGroup:n(69),Component:n(16),CurrentTime:n(67),CustomTime:n(46),DataAxis:n(107),DataScale:n(108),GraphGroup:n(109),Group:n(68),ItemSet:n(99),Legend:n(112),LineGraph:n(106),TimeAxis:n(45)}},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){var i=n(9),r=n(2),o=n(11),a=n(12),s=n(64),u=n(65),c=n(45),h=n(67),l=n(46),d=n(99),f=n(15).printStyle,p=n(105).allOptions,g=n(105).configureOptions,v=n(71)["default"],m=n(15)["default"];function y(t,e,n,u){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||n instanceof o||n instanceof a)&&n instanceof Object){var l=u;u=n,n=l}u&&u.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:i,width:null,height:null,maxHeight:null,minHeight:null},this.options=r.deepExtend({},this.defaultOptions),this._create(t),!u||u&&"undefined"==typeof u.rtl){this.dom.root.style.visibility="hidden";var p,g=this.dom.root;while(!p&&g)p=window.getComputedStyle(g,null).direction,g=g.parentElement;this.options.rtl=p&&"rtl"==p.toLowerCase()}else this.options.rtl=u.rtl;this.options.rollingMode=u&&u.rollingMode,this.options.onInitialDrawComplete=u&&u.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return f.timeAxis.step.scale},getStep:function(){return f.timeAxis.step.step},toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new s(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new c(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new h(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new d(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){f.emit("click",f.getEventProperties(t))},this.dom.root.ondblclick=function(t){f.emit("doubleClick",f.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){f.emit("contextmenu",f.getEventProperties(t))},this.dom.root.onmouseover=function(t){f.emit("mouseOver",f.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){f.emit("mouseDown",f.getEventProperties(t))},this.dom.root.onpointermove=function(t){f.emit("mouseMove",f.getEventProperties(t))},this.dom.root.onpointerup=function(t){f.emit("mouseUp",f.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){f.emit("mouseMove",f.getEventProperties(t))},this.dom.root.onmousedown=function(t){f.emit("mouseDown",f.getEventProperties(t))},this.dom.root.onmouseup=function(t){f.emit("mouseUp",f.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",(function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!f.initialFitDone)if(f.initialFitDone=!0,void 0!=f.options.start||void 0!=f.options.end){if(void 0==f.options.start||void 0==f.options.end)var t=f.getItemRange();var e=void 0!=f.options.start?f.options.start:t.min,n=void 0!=f.options.end?f.options.end:t.max;f.setWindow(e,n,{animation:!1})}else f.fit({animation:!1});!f.initialDrawDone&&f.initialRangeChangeDone&&(f.initialDrawDone=!0,f.dom.root.style.visibility="visible",f.options.onInitialDrawComplete&&setTimeout((function(){return f.options.onInitialDrawComplete()}),0))}})),u&&this.setOptions(u),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}function b(t){return r.convert(t.data.start,"Date").valueOf()}function x(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return r.convert(e,"Date").valueOf()}function w(t,e){var n=t.props.leftContainer.height,i=t.props.left.height,r=e.parent,o=r.top,a=!0,s=t.timeAxis.options.orientation.axis,u=function(){return"bottom"==s?r.height-e.top-e.height:e.top},c=-1*t._getScrollTop(),h=o+u(),l=e.height;return h<c?o+n<=o+u()+l&&(o+=u()-t.itemSet.options.margin.item.vertical):h+l>c+n?o+=u()+l-n+t.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,i-n),{shouldScroll:a,scrollOffset:o,itemTop:h}}y.prototype=new u,y.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(t){var e=m.validate(t,p);if(!0===e&&console.log("%cErrors have been found in the supplied options object.",f),u.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var n=this.itemsData;if(n){var i=this.getSelection();this.setItems(null),this.setItems(n),this.setSelection(i)}}},y.prototype.setItems=function(t){var e;e=t?t instanceof o||t instanceof a?t:new o(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},y.prototype.setGroups=function(t){var e;if(t){var n=function(t){return!1!==t.visible};e=t instanceof o||t instanceof a?new a(t,{filter:n}):new o(t.filter(n))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var n=Array.isArray(t)?t:[t],i=this.itemsData.getDataSet().get(n,{type:{start:"Date",end:"Date"}}),r=null,o=null;if(i.forEach((function(t){var e=t.start.valueOf(),n="end"in t?t.end.valueOf():t.start.valueOf();(null===r||e<r)&&(r=e),(null===o||n>o)&&(o=n)})),null!==r&&null!==o){var a=this,s=this.itemSet.items[n[0]],u=-1*this._getScrollTop(),c=null,h=function(t,e,n){var i=w(a,s);if(c||(c=i),c.itemTop!=i.itemTop||c.shouldScroll){c.itemTop!=i.itemTop&&i.shouldScroll&&(c=i,u=-1*a._getScrollTop());var r=u,o=c.scrollOffset,h=n?o:r+(o-r)*t;a._setScrollTop(-h),e||a._redraw()}},l=function(){var t=w(a,s);t.shouldScroll&&t.itemTop!=c.itemTop&&(a._setScrollTop(-t.scrollOffset),a._redraw())},d=function(){l(),setTimeout(l,100)},f=(r+o)/2,p=Math.max(this.range.end-this.range.start,1.1*(o-r)),g=!e||void 0===e.animation||e.animation;g||(c={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(f-p/2,f+p/2,{animation:g},d,h)}}},y.prototype.fit=function(t,e){var n,i=!t||void 0===t.animation||t.animation,r=this.itemsData&&this.itemsData.getDataSet();1===r.length&&void 0===r.get()[0].end?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:i},e)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:i},e))},y.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,n=null!==t.max?t.max.valueOf():null,i=null,o=null;if(null!=e&&null!=n){var a=n-e;a<=0&&(a=10);var s=a/this.props.center.width,u={},c=0;r.forEach(this.itemSet.items,(function(t,e){if(t.groupShowing){var n=!0;u[e]=t.redraw(n),c=u[e].length}}));var h=c>0;if(h)for(var l=0;l<c;l++)r.forEach(u,(function(t){t[l]()}));if(r.forEach(this.itemSet.items,function(t){var r,a,u=b(t),c=x(t);this.options.rtl?(r=u-(t.getWidthRight()+10)*s,a=c+(t.getWidthLeft()+10)*s):(r=u-(t.getWidthLeft()+10)*s,a=c+(t.getWidthRight()+10)*s),r<e&&(e=r,i=t),a>n&&(n=a,o=t)}.bind(this)),i&&o){var d=i.getWidthLeft()+10,f=o.getWidthRight()+10,p=this.props.center.width-d-f;p>0&&(this.options.rtl?(e=b(i)-f*a/p,n=x(o)+d*a/p):(e=b(i)-d*a/p,n=x(o)+f*a/p))}}return{min:null!=e?new Date(e):null,max:null!=n?new Date(n):null}},y.prototype.getDataRange=function(){var t=null,e=null,n=this.itemsData&&this.itemsData.getDataSet();return n&&n.forEach((function(n){var i=r.convert(n.start,"Date").valueOf(),o=r.convert(void 0!=n.end?n.end:n.start,"Date").valueOf();(null===t||i<t)&&(t=i),(null===e||o>e)&&(e=o)})),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e,n=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;e=this.options.rtl?r.getAbsoluteRight(this.dom.centerContainer)-n:n-r.getAbsoluteLeft(this.dom.centerContainer);var o=i-r.getAbsoluteTop(this.dom.centerContainer),a=this.itemSet.itemFromTarget(t),s=this.itemSet.groupFromTarget(t),u=l.customTimeFromTarget(t),c=this.itemSet.options.snap||null,h=this.body.util.getScale(),d=this.body.util.getStep(),f=this._toTime(e),p=c?c(f,h,d):f,g=r.getTarget(t),v=null;return null!=a?v="item":null!=u?v="custom-time":r.hasParent(g,this.timeAxis.dom.foreground)?v="axis":this.timeAxis2&&r.hasParent(g,this.timeAxis2.dom.foreground)?v="axis":r.hasParent(g,this.itemSet.dom.labelSet)?v="group-label":r.hasParent(g,this.currentTime.bar)?v="current-time":r.hasParent(g,this.dom.center)&&(v="background"),{event:t,item:a?a.id:null,group:s?s.groupId:null,what:v,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:o,time:f,snappedTime:p}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=c(i),o=n(0),a=c(o),s=n(1),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(10),l=n(37),d=n(2),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,a["default"])(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,u["default"])(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!==typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!==typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"===typeof t)return e[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n=void 0,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===d.isString(t)){if(!0===d.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",");n={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===d.isValidRGBA(t)){var a=t.substr(5).substr(0,t.length-6).split(",");n={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(!0===d.isValidHex(t)){var s=d.hexToRGB(t);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var u=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:u}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,r["default"])(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=d.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=d.extend({},t)),this.color=t;var n=d.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,r=this.r*n.s,o=this.centerCoordinates.x+r*Math.sin(i*n.h),a=this.centerCoordinates.y+r*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=d.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=d.HSVToRGB(e.h,e.s,e.v);n["a"]=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=d.RGBToHSV(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(i){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(i){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new h(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),l.onTouch(this.hammer,(function(e){t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,n);var i=void 0,r=void 0,o=void 0,a=void 0;this.centerCoordinates={x:.5*e,y:.5*n},this.r=.49*e;var s=2*Math.PI/360,u=1/360,c=1/this.r,h=void 0;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(s*o),r=this.centerCoordinates.y+a*Math.cos(s*o),h=d.HSVToRGB(o*u,a*c,1),t.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",t.fillRect(i-.5,r-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,n)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,i=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,s=i-r,u=Math.atan2(a,s),c=.98*Math.min(Math.sqrt(a*a+s*s),o),h=Math.cos(u)*c+r,l=Math.sin(u)*c+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px";var f=u/(2*Math.PI);f=f<0?f+1:f;var p=c/this.r,g=d.RGBToHSV(this.color.r,this.color.g,this.color.b);g.h=f,g.s=p;var v=d.HSVToRGB(g.h,g.s,g.v);v["a"]=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e["default"]=f},function(t,e,n){var i=n(9),r=n(2),o=n(11),a=n(12),s=n(64),u=n(65),c=n(45),h=n(67),l=n(46),d=n(106),f=n(15).printStyle,p=n(113).allOptions,g=n(113).configureOptions,v=n(71)["default"],m=n(15)["default"];function y(t,e,n,u){if(!(Array.isArray(n)||n instanceof o||n instanceof a)&&n instanceof Object){var l=u;u=n,n=l}u&&u.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:i,width:null,height:null,maxHeight:null,minHeight:null},this.options=r.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new s(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new c(this.body),this.components.push(this.timeAxis),this.currentTime=new h(this.body),this.components.push(this.currentTime),this.linegraph=new d(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",(function(t){f.emit("click",f.getEventProperties(t))})),this.on("doubletap",(function(t){f.emit("doubleClick",f.getEventProperties(t))})),this.dom.root.oncontextmenu=function(t){f.emit("contextmenu",f.getEventProperties(t))},u&&this.setOptions(u),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}y.prototype=new u,y.prototype.setOptions=function(t){var e=m.validate(t,p);!0===e&&console.log("%cErrors have been found in the supplied options object.",f),u.prototype.setOptions.call(this,t)},y.prototype.setItems=function(t){var e,n=null==this.itemsData;if(e=t?t instanceof o||t instanceof a?t:new o(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),n)if(void 0!=this.options.start||void 0!=this.options.end){var i=void 0!=this.options.start?this.options.start:null,r=void 0!=this.options.end?this.options.end:null;this.setWindow(i,r,{animation:!1})}else this.fit({animation:!1})},y.prototype.setGroups=function(t){var e;e=t?t instanceof o||t instanceof a?t:new o(t):null,this.groupsData=e,this.linegraph.setGroups(e)},y.prototype.getLegend=function(t,e,n){return void 0===e&&(e=15),void 0===n&&(n=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,n):"cannot find group:'"+t+"'"},y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},y.prototype.getDataRange=function(){var t=null,e=null;for(var n in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(n)&&1==this.linegraph.groups[n].visible)for(var i=0;i<this.linegraph.groups[n].itemsData.length;i++){var o=this.linegraph.groups[n].itemsData[i],a=r.convert(o.x,"Date").valueOf();t=null==t?a:t>a?a:t,e=null==e?a:e<a?a:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY,i=e-r.getAbsoluteLeft(this.dom.centerContainer),o=n-r.getAbsoluteTop(this.dom.centerContainer),a=this._toTime(i),s=l.customTimeFromTarget(t),u=r.getTarget(t),c=null;r.hasParent(u,this.timeAxis.dom.foreground)?c="axis":this.timeAxis2&&r.hasParent(u,this.timeAxis2.dom.foreground)?c="axis":r.hasParent(u,this.linegraph.yAxisLeft.dom.frame)?c="data-axis":r.hasParent(u,this.linegraph.yAxisRight.dom.frame)?c="data-axis":r.hasParent(u,this.linegraph.legendLeft.dom.frame)?c="legend":r.hasParent(u,this.linegraph.legendRight.dom.frame)?c="legend":null!=s?c="custom-time":r.hasParent(u,this.currentTime.bar)?c="current-time":r.hasParent(u,this.dom.center)&&(c="background");var h=[],d=this.linegraph.yAxisLeft,f=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&h.push(d.screenToValue(o)),!f.hidden&&this.itemsData.length>0&&h.push(f.screenToValue(o)),{event:t,what:c,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:i,y:o,time:a,value:h}},y.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},t.exports=y},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Network=n(182),e.network={Images:n(116),dotparser:n(114),gephiParser:n(115),allOptions:n(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,n){return e.network.gephiParser.parseGephi(t,n)},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){n(183);var i=n(44),r=n(2),o=n(114),a=n(115),s=n(97),u=n(184),c=n(116)["default"],h=n(186)["default"],l=n(187)["default"],d=n(214)["default"],f=n(220)["default"],p=n(227)["default"],g=n(229)["default"],v=n(230)["default"],m=n(231)["default"],y=n(232)["default"],b=n(234)["default"],x=n(235)["default"],w=n(237)["default"],_=n(71)["default"],M=n(15)["default"],k=n(15),S=k.printStyle,E=n(122),C=E.allOptions,T=E.configureOptions,P=n(238)["default"];function A(t,e,n){var i=this;if(!(this instanceof A))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:u,clickToUse:!1},r.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new c((function(){return i.body.emitter.emit("_requestRedraw")})),this.groups=new h,this.canvas=new v(this.body),this.selectionHandler=new b(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new m(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new f(this.body),this.layoutEngine=new x(this.body),this.clustering=new p(this.body),this.manipulation=new w(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new l(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new d(this.body,this.images,this.groups),this.body.modules["kamadaKawai"]=new P(this.body,150,.05),this.body.modules["clustering"]=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}i(A.prototype),A.prototype.setOptions=function(t){var e=this;if(void 0!==t){var n=M.validate(t,C);!0===n&&console.log("%cErrors have been found in the supplied options object.",S);var i=["locale","locales","clickToUse"];if(r.selectiveDeepExtend(i,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new _(this,this.body.container,T,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var o={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};r.deepExtend(o.nodes,this.nodesHandler.options),r.deepExtend(o.edges,this.edgesHandler.options),r.deepExtend(o.layout,this.layoutEngine.options),r.deepExtend(o.interaction,this.selectionHandler.options),r.deepExtend(o.interaction,this.renderer.options),r.deepExtend(o.interaction,this.interactionHandler.options),r.deepExtend(o.manipulation,this.manipulation.options),r.deepExtend(o.physics,this.physics.options),r.deepExtend(o.global,this.canvas.options),r.deepExtend(o.global,this.options),this.configurator.setModuleOptions(o)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new s(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},A.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=t[r.fromId],a=t[r.toId],s=void 0!==o&&void 0!==a,u=!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&s&&!1===o.options.hidden&&!1===a.options.hidden;u&&this.body.edgeIndices.push(r.id)}},A.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},A.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=o.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=a.parseGephi(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},A.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];r.recursiveDOMDelete(this.body.container)},A.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,r=0;for(e in t)if(t.hasOwnProperty(e)){var o=t[e].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(n,i,r)},A.prototype.isActive=function(){return!this.activator||this.activator.active},A.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},A.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},A.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},A.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},A.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},A.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},A.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},A.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},A.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},A.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},A.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},A.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},A.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},A.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},A.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},A.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},A.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},A.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},A.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},A.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},A.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},A.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},A.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},A.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},A.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},A.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},A.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},A.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},A.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},A.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},A.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},A.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},A.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},A.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},A.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},A.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},A.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},A.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},A.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},A.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},A.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},A.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},A.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},A.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},A.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},A.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=A},function(t,e,n){"undefined"!==typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,n){this.beginPath(),this.arc(t,e,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,n){this.beginPath(),this.rect(t-n,e-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,n){this.beginPath(),n*=1.15,e+=.275*n;var i=2*n,r=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-r*r);this.moveTo(t,e-(a-o)),this.lineTo(t+r,e+o),this.lineTo(t-r,e+o),this.lineTo(t,e-(a-o)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,n){this.beginPath(),n*=1.15,e-=.275*n;var i=2*n,r=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-r*r);this.moveTo(t,e+(a-o)),this.lineTo(t+r,e-o),this.lineTo(t-r,e-o),this.lineTo(t,e+(a-o)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,n){this.beginPath(),n*=.82,e+=.1*n;for(var i=0;i<10;i++){var r=i%2===0?1.3*n:.5*n;this.lineTo(t+r*Math.sin(2*i*Math.PI/10),e-r*Math.cos(2*i*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,n){this.beginPath(),this.lineTo(t,e+n),this.lineTo(t+n,e),this.lineTo(t,e-n),this.lineTo(t-n,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,r){var o=Math.PI/180;n-2*r<0&&(r=n/2),i-2*r<0&&(r=i/2),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+n-r,e),this.arc(t+n-r,e+r,r,270*o,360*o,!1),this.lineTo(t+n,e+i-r),this.arc(t+n-r,e+i-r,r,0,90*o,!1),this.lineTo(t+r,e+i),this.arc(t+r,e+i-r,r,90*o,180*o,!1),this.lineTo(t,e+r),this.arc(t+r,e+r,r,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,n,i){var r=.5522848,o=n/2*r,a=i/2*r,s=t+n,u=e+i,c=t+n/2,h=e+i/2;this.beginPath(),this.moveTo(t,h),this.bezierCurveTo(t,h-a,c-o,e,c,e),this.bezierCurveTo(c+o,e,s,h-a,s,h),this.bezierCurveTo(s,h+a,c+o,u,c,u),this.bezierCurveTo(c-o,u,t,h+a,t,h),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,n,i){var r=1/3,o=n,a=i*r,s=.5522848,u=o/2*s,c=a/2*s,h=t+o,l=e+a,d=t+o/2,f=e+a/2,p=e+(i-a/2),g=e+i;this.beginPath(),this.moveTo(h,f),this.bezierCurveTo(h,f+c,d+u,l,d,l),this.bezierCurveTo(d-u,l,t,f+c,t,f),this.bezierCurveTo(t,f-c,d-u,e,d,e),this.bezierCurveTo(d+u,e,h,f-c,h,f),this.lineTo(h,p),this.bezierCurveTo(h,p+c,d+u,g,d,g),this.bezierCurveTo(d-u,g,t,p+c,t,p),this.lineTo(t,f)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,n,i,r){this.beginPath(),this.moveTo(t,e);var o=r.length,a=n-t,s=i-e,u=s/a,c=Math.sqrt(a*a+s*s),h=0,l=!0,d=0,f=r[0];while(c>=.1)f=r[h++%o],f>c&&(f=c),d=Math.sqrt(f*f/(1+u*u)),d=a<0?-d:d,t+=d,e+=u*d,!0===l?this.lineTo(t,e):this.moveTo(t,e),c-=f,l=!l},CanvasRenderingContext2D.prototype.hexagon=function(t,e,n){this.beginPath();var i=6,r=2*Math.PI/i;this.moveTo(t+n,e);for(var o=1;o<i;o++)this.lineTo(t+n*Math.cos(r*o),e+n*Math.sin(r*o));this.closePath()})},function(t,e,n){e["en"]={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e["en_EN"]=e["en"],e["en_US"]=e["en"],e["de"]={edit:"Editieren",del:"Lsche Auswahl",back:"Zurck",addNode:"Knoten hinzufgen",addEdge:"Kante hinzufgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster knnen nicht gelscht werden.",editClusterError:"Cluster knnen nicht editiert werden."},e["de_DE"]=e["de"],e["es"]={edit:"Editar",del:"Eliminar seleccin",back:"tras",addNode:"Aadir nodo",addEdge:"Aadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e["es_ES"]=e["es"],e["it"]={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e["it_IT"]=e["it"],e["nl"]={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e["nl_NL"]=e["nl"],e["nl_BE"]=e["nl"],e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n",addEdge:"Adicionar aresta",editNode:"Editar n",editEdge:"Editar aresta",addDescription:"Clique em um espao em branco para adicionar um novo n",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",createEdgeError:"No foi possvel linkar arestas a um cluster.",deleteClusterError:"Clusters no puderam ser removidos.",editClusterError:"Clusters no puderam ser editados."},e["pt-BR"]=e["pt-br"],e["pt_BR"]=e["pt-br"],e["pt_br"]=e["pt-br"],e["ru"]={edit:"",del:" ",back:"",addNode:" ",addEdge:" ",editNode:" ",editEdge:" ",addDescription:"   ,    .",edgeDescription:"        ,   .",editEdgeDescription:"        ,    .",createEdgeError:"    .",deleteClusterError:"    ",editClusterError:"   ."},e["ru_RU"]=e["ru"],e["cn"]={edit:"",del:"",back:"",addNode:"",addEdge:"",editNode:"",editEdge:"",addDescription:"",edgeDescription:"",editEdgeDescription:"",createEdgeError:"",deleteClusterError:"",editClusterError:""},e["zh_CN"]=e["cn"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,r["default"])(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,a["default"])(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var n=Math.floor(e/2),i=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),a=Math.floor(t/2),s=Math.floor(t/4),u=Math.floor(t/8),c=Math.floor(t/16);this.canvas.width=3*s,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,s,i],[a,i,u,r],[5*u,i,c,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,r,o){if(this.initialized())if(e>2){e*=.5;var a=0;while(e>2&&a<this.NUM_ITERATIONS)e*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var s=this.coordinates[a];t.drawImage(this.canvas,s[0],s[1],s[2],s[3],n,i,r,o)}else t.drawImage(this.image,n,i,r,o)}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=function(){function t(){(0,r["default"])(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},u.extend(this.options,this.defaultOptions)}return(0,a["default"])(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)if(t.hasOwnProperty(n)&&-1===e.indexOf(n)){var i=t[n];this.add(n,i)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.groups[t];if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,n={},n.color=this.groups[this.groupsArray[i]],this.groups[t]=n}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,n={},n.color=this.defaultGroups[r],this.groups[t]=n}return n}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e["default"]=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=n(11),h=n(12),l=n(47)["default"],d=function(){function t(e,n,i,o){var a=this;if((0,r["default"])(this,t),this.body=e,this.images=n,this.groups=i,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){a.add(e.items)},update:function(t,e){a.update(e.items,e.data,e.oldData)},remove:function(t,e){a.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=u.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,a["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){u.forEach(t.nodesListeners,(function(e,n){t.body.data.nodes&&t.body.data.nodes.off(n,e)})),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(l.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==t.size)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(t instanceof c||t instanceof h)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new c,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new c}if(n&&u.forEach(this.nodesListeners,(function(t,e){n.off(e,t)})),this.body.nodes={},this.body.data.nodes){var i=this;u.forEach(this.nodesListeners,(function(t,e){i.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,i=[],r=0;r<t.length;r++){n=t[r];var o=this.body.data.nodes.get(n),a=this.create(o);i.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(i),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,n){for(var i=this.body.nodes,r=!1,o=0;o<t.length;o++){var a=t[o],s=i[a],u=e[o];void 0!==s?s.setOptions(u)&&(r=!0):(r=!0,s=this.create(u),i[a]=s)}r||void 0===n||(r=e.some((function(t,e){var i=n[e];return i&&i.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,n=0;n<t.length;n++){var i=t[n];delete e[i]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u.forEach(this.body.nodes,(function(n,i){var r=t.body.data.nodes.get(i);void 0!==r&&(!0===e&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var n=0;n<t.length;n++)if(void 0!==this.body.nodes[t[n]]){var i=this.body.nodes[t[n]];e[t[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var a=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(a.x),y:Math.round(a.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var n in e._data)if(e._data.hasOwnProperty(n)){var i=this.body.nodes[n];e._data[n].x==Math.round(i.x)&&e._data[n].y==Math.round(i.y)||t.push({id:i.id,x:Math.round(i.x),y:Math.round(i.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],r={},o=0;o<i.edges.length;o++){var a=i.edges[o];"to"!==e&&a.toId==i.id?void 0===r[a.fromId]&&(n.push(a.fromId),r[a.fromId]=!0):"from"!==e&&a.fromId==i.id&&void 0===r[a.toId]&&(n.push(a.toId),r[a.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(n),setTimeout((function(){i.body.emitter.emit("startSimulation")}),0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e["default"]=d},function(t,e,n){t.exports={default:n(189),__esModule:!0}},function(t,e,n){n(49),n(60),t.exports=n(190)},function(t,e,n){var i=n(86),r=n(13)("iterator"),o=n(31);t.exports=n(7).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(i(e))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(192)["default"],c=n(48)["default"],h=function(){function t(e,n,i,o){var a=this;(0,r["default"])(this,t),this.ctx=e,this.parent=n;var s=function(t,n){if(void 0===t)return 0;var r=a.parent.getFormattingValues(e,i,o,n),s=0;if(""!==t){var u=a.ctx.measureText(t);s=u.width}return{width:s,values:r}};this.lines=new u(s)}return(0,a["default"])(t,[{key:"process",value:function(t){if(!c.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n");var n=String(t).split("\n"),i=n.length;if(e.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var a=0;a<o.length;a++){var s=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,s,!0)}else for(var h=0;h<o.length;h++){var l=o[h].mod,d=o[h].text;this.lines.append(d,l)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var f=0;f<i;f++)this.splitStringIntoLines(n[f]);else for(var p=0;p<i;p++)this.lines.newLine(n[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){var e=[],n={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};while(n.position<t.length){var i=t.charAt(n.position);/[ \t]/.test(i)?n.mono?n.add(i):n.spacing=!0:/</.test(i)?n.mono||n.bold||!/<b>/.test(t.substr(n.position,3))?n.mono||n.ital||!/<i>/.test(t.substr(n.position,3))?!n.mono&&/<code>/.test(t.substr(n.position,6))?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono"),n.position+=5):!n.mono&&"bold"===n.mod()&&/<\/b>/.test(t.substr(n.position,4))?(n.emitBlock(),n.bold=!1,n.modStack.shift(),n.position+=3):!n.mono&&"ital"===n.mod()&&/<\/i>/.test(t.substr(n.position,4))?(n.emitBlock(),n.ital=!1,n.modStack.shift(),n.position+=3):"mono"===n.mod()&&/<\/code>/.test(t.substr(n.position,7))?(n.emitBlock(),n.mono=!1,n.modStack.shift(),n.position+=6):n.add(i):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital"),n.position+=2):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold"),n.position+=2):/&/.test(i)?/&lt;/.test(t.substr(n.position,4))?(n.add("<"),n.position+=3):/&amp;/.test(t.substr(n.position,5))?(n.add("&"),n.position+=4):n.add("&"):n.add(i),n.position++}return n.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){var e=[],n={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};while(n.position<t.length){var i=t.charAt(n.position);/[ \t]/.test(i)?(n.mono?n.add(i):n.spacing=!0,n.beginable=!0):/\\/.test(i)?n.position<t.length+1&&(n.position++,i=t.charAt(n.position),/ \t/.test(i)?n.spacing=!0:(n.add(i),n.beginable=!1)):n.mono||n.bold||!n.beginable&&!n.spacing||!/\*/.test(i)?n.mono||n.ital||!n.beginable&&!n.spacing||!/\_/.test(i)?!n.mono&&(n.beginable||n.spacing)&&/`/.test(i)?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono")):!n.mono&&"bold"===n.mod()&&/\*/.test(i)?n.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.bold=!1,n.modStack.shift()):n.add(i):!n.mono&&"ital"===n.mod()&&/\_/.test(i)?n.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.ital=!1,n.modStack.shift()):n.add(i):n.mono&&"mono"===n.mod()&&/`/.test(i)?n.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.mono=!1,n.modStack.shift()):n.add(i):(n.add(i),n.beginable=!1):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital")):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold")),n.position++}return n.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){var e="",n=0;while(n<t.length){var i=""===e?"":" ",r=e+i+t[n];if(this.overMaxWidth(r))break;e=r,n++}return n}},{key:"getLongestFitWord",value:function(t){var e=0;while(e<t.length){if(this.overMaxWidth(t.slice(0,e)))break;e++}return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");var i=t.split("\r");while(i.length>0){var r=this.getLongestFit(i);if(0===r){var o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(o.slice(0,a),e),i[0]=o.slice(a)}else{var s=r;" "===i[r-1]?r--:" "===i[s]&&s++;var u=i.slice(0,r).join("");r==i.length&&n?this.lines.append(u,e):this.lines.newLine(u,e),i=i.slice(s)}}}}]),t}();e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(90),r=c(i),o=n(0),a=c(o),s=n(1),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){(0,a["default"])(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,u["default"])(t,[{key:"_add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var i=e;void 0!==e&&""!==e||(i=" ");var o=this.measureText(i,n),a=(0,r["default"])({},o.values);a.text=e,a.width=o.width,a.mod=n,void 0!==e&&""!==e||(a.width=0),this.lines[t].blocks.push(a),this.lines[t].width+=a.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i=0;i<e.blocks.length;i++){var r=e.blocks[i];n<r.height&&(n=r.height)}e.height=n}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>t&&(t=i.width),e+=i.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var n=this.lines[e];if(0!==n.blocks.length&&(e!==this.lines.length-1||0!==n.width)){var i={};(0,r["default"])(i,n),i.blocks=[];for(var o=void 0,a=[],s=0;s<n.blocks.length;s++){var u=n.blocks[s];0!==u.width?a.push(u):void 0===o&&(o=u)}0===a.length&&void 0!==o&&a.push(o),i.blocks=a,t.push(i)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){(0,a["default"])(this,e);var o=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return o._setMargins(i),o}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),t.roundRect(this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}}]),e}(p["default"]);e["default"]=v},function(t,e,n){n(195),t.exports=n(7).Object.getPrototypeOf},function(t,e,n){var i=n(41),r=n(85);n(87)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},function(t,e,n){t.exports={default:n(197),__esModule:!0}},function(t,e,n){n(198),t.exports=n(7).Object.setPrototypeOf},function(t,e,n){var i=n(17);i(i.S,"Object",{setPrototypeOf:n(199).set})},function(t,e,n){var i=n(32),r=n(27),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(80)(Function.call,n(89).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(73),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){(0,a["default"])(this,e);var o=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return o._setMargins(i),o}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(73),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i,o,s){(0,a["default"])(this,e);var u=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return u.setImages(o,s),u}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,e,n,i,r),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){(0,a["default"])(this,e);var o=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return o._setMargins(i),o}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),r=i.width+this.margin.right+this.margin.left;this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),t.database(e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"diamond",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"circle",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,o),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,e,n,i,r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var n=.5*this.width,i=.5*this.height,r=Math.sin(e)*n,o=Math.cos(e)*i;return n*i/Math.sqrt(r*r+o*o)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){(0,a["default"])(this,e);var o=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return o._setMargins(i),o}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){if(this.resize(t,i,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,r,o),void 0!==this.options.label){var a=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+a,i)}this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){var n=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+n)}}},{key:"_icon",value:function(t,e,n,i,r,o){var a=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(i?"bold ":"")+a+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(73),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i,o,s){(0,a["default"])(this,e);var u=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return u.setImages(o,s),u}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){if(this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var a=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth,u=(i?s:a)/this.body.view.scale;t.lineWidth=Math.min(this.width,u),t.beginPath(),t.strokeStyle=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,o),t.closePath()}this._drawImageAtPosition(t,o),this._drawImageLabel(t,e,n,i,r),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"square",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"hexagon",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"star",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(23),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){(0,a["default"])(this,e);var o=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i));return o._setMargins(i),o}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(t,o),this.updateBoundingBox(e,n,t,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"triangle",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(24),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"draw",value:function(t,e,n,i,r,o){this._drawShape(t,"triangleDown",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=n(11),h=n(12),l=n(74)["default"],d=function(){function t(e,n,i){var o=this;(0,r["default"])(this,t),this.body=e,this.images=n,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},u.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var i=!1;for(var r in t.body.edges)if(t.body.edges.hasOwnProperty(r)){var o=t.body.edges[r],a=t.body.data.edges._data[r];if(void 0!==a){var s=a.smooth;void 0!==s&&!0===s.enabled&&"dynamic"===s.type&&(void 0===e?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:e}}),i=!0)}}!0===n&&!0===i&&t.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){t.reconnectEdges()})),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){u.forEach(t.edgesListeners,(function(e,n){t.body.data.edges&&t.body.data.edges.off(n,e)})),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){l.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(t instanceof c||t instanceof h)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new c,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new c}if(i&&u.forEach(this.edgesListeners,(function(t,e){i.off(e,t)})),this.body.edges={},this.body.data.edges){u.forEach(this.edgesListeners,(function(t,n){e.body.data.edges.on(n,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],a=n[o];a&&a.disconnect();var s=i.get(o,{showInternalIds:!0});n[o]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<t.length;r++){var o=t[r],a=n.get(o),s=e[o];void 0!==s?(s.disconnect(),i=s.setOptions(a)||i,s.connect()):(this.body.edges[o]=this.create(a),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;u.forEach(t,(function(t){var e=n[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;u.forEach(this.body.edges,(function(e,n){var i=t.body.data.edges._data[n];void 0!==i&&e.setOptions(i)}))}},{key:"create",value:function(t){return new l(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in n)if(n.hasOwnProperty(t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];u.forEach(this.body.edges,(function(n,i){var r=t.body.nodes[n.toId],o=t.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(i)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=this.body.data.edges,n=[];e.forEach((function(e,i){var r=t[i];void 0===r&&n.push(i)})),this.add(n,!0)}}]),t}();e["default"]=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=m(i),o=n(3),a=m(o),s=n(0),u=m(s),c=n(1),h=m(c),l=n(4),d=m(l),f=n(5),p=m(f),g=n(216),v=m(g);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t,n,i){return(0,u["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,a["default"])(e)).call(this,t,n,i))}return(0,p["default"])(e,t),(0,h["default"])(e,[{key:"_line",value:function(t,e,n){var i=n[0],r=n[1];this._bezierCurve(t,e,i,r)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,n=void 0,i=void 0,r=void 0,o=void 0,a=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(i=this.from.y,o=this.to.y,n=this.from.x-a*t,r=this.to.x+a*t):(i=this.from.y-a*e,o=this.to.y+a*e,n=this.from.x,r=this.to.x),[{x:n,y:i},{x:r,y:o}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),u=(0,r["default"])(s,2),c=u[0],h=u[1];return this._getDistanceToBezierEdge(t,e,n,i,o,a,c,h)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=(0,r["default"])(e,2),i=n[0],o=n[1],a=t,s=[];s[0]=Math.pow(1-a,3),s[1]=3*a*Math.pow(1-a,2),s[2]=3*Math.pow(a,2)*(1-a),s[3]=Math.pow(a,3);var u=s[0]*this.fromPoint.x+s[1]*i.x+s[2]*o.x+s[3]*this.toPoint.x,c=s[0]*this.fromPoint.y+s[1]*i.y+s[2]*o.y+s[3]*this.toPoint.y;return{x:u,y:c}}}]),e}(v["default"]);e["default"]=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(75),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,r,o,a,s){var u=1e9,c=void 0,h=void 0,l=void 0,d=void 0,f=void 0,p=t,g=e,v=[0,0,0,0];for(h=1;h<10;h++)l=.1*h,v[0]=Math.pow(1-l,3),v[1]=3*l*Math.pow(1-l,2),v[2]=3*Math.pow(l,2)*(1-l),v[3]=Math.pow(l,3),d=v[0]*t+v[1]*a.x+v[2]*s.x+v[3]*n,f=v[0]*e+v[1]*a.y+v[2]*s.y+v[3]*i,h>0&&(c=this._getDistanceToLine(p,g,d,f,r,o),u=c<u?c:u),p=d,g=f;return u}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=m(i),o=n(3),a=m(o),s=n(0),u=m(s),c=n(1),h=m(c),l=n(4),d=m(l),f=n(5),p=m(f),g=n(75),v=m(g);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t,n,i){(0,u["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,a["default"])(e)).call(this,t,n,i));return r._boundFunction=function(){r.positionBezierNode()},r.body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return(0,p["default"])(e,t),(0,h["default"])(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,n=t,i=void 0,o=void 0;if(this.from===this.to){var a=this._getCircleData(this.from),s=(0,r["default"])(a,3),u=s[0],c=s[1],h=s[2],l=2*Math.PI*(1-n);i=u+h*Math.sin(l),o=c+h-h*(1-Math.cos(l))}else i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,o=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToBezierEdge(t,e,n,i,r,o,this.via)}}]),e}(v["default"]);e["default"]=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(75),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var a=void 0,s=void 0;a=s=r<=o?n*o:n*r,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(s=-s),t=this.from.x+a,e=this.from.y+s,"discrete"===i&&(r<=o?t=r<n*o?this.from.x:t:e=o<n*r?this.from.y:e)}else if("straightCross"===i){var u=(1-n)*r,c=(1-n)*o;r<=o?(u=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(u=-u),c=0),t=this.to.x+u,e=this.to.y+c}else if("horizontal"===i){var h=(1-n)*r;this.from.x<this.to.x&&(h=-h),t=this.to.x+h,e=this.from.y}else if("vertical"===i){var l=(1-n)*o;this.from.y<this.to.y&&(l=-l),t=this.from.x,e=this.to.y+l}else if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var d=Math.sqrt(r*r+o*o),f=Math.PI,p=Math.atan2(o,r),g=(p+(.5*n+.5)*f)%(2*f);t=this.from.x+(.5*n+.5)*d*Math.sin(g),e=this.from.y+(.5*n+.5)*d*Math.cos(g)}else if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var v=Math.sqrt(r*r+o*o),m=Math.PI,y=Math.atan2(o,r),b=(y+(.5*-n+.5)*m)%(2*m);t=this.from.x+(.5*n+.5)*v*Math.sin(b),e=this.from.y+(.5*n+.5)*v*Math.cos(b)}else{var x=void 0,w=void 0;x=w=r<=o?n*o:n*r,this.from.x>this.to.x&&(x=-x),this.from.y>=this.to.y&&(w=-w),t=this.from.x+x,e=this.from.y+w,r<=o?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,r,o,a)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,r=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:r}}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(118),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var n=this.to,i=this.from;t.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,a=n.y-i.y,s=Math.sqrt(o*o+a*a),u=t.distanceToBorder(e,r),c=(s-u)/s,h={};return h.x=(1-c)*i.x+c*n.x,h.y=(1-c)*i.y+c*n.y,h}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToLine(t,e,n,i,r,o)}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=c(i),o=n(0),a=c(o),s=n(1),u=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(120)["default"],l=n(221)["default"],d=n(222)["default"],f=n(223)["default"],p=n(224)["default"],g=n(121)["default"],v=n(225)["default"],m=n(226)["default"],y=n(2),b=n(119)["default"],x=function(){function t(e){(0,a["default"])(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},y.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,u["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,y.selectiveNotDeepExtend(["stabilization"],this.options,t),y.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new v(this.body,this.physicsBody,t),this.edgesSolver=new f(this.body,this.physicsBody,t),this.gravitySolver=new m(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new l(this.body,this.physicsBody,t),this.edgesSolver=new f(this.body,this.physicsBody,t),this.gravitySolver=new g(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new d(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new g(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new h(this.body,this.physicsBody,t),this.edgesSolver=new f(this.body,this.physicsBody,t),this.gravitySolver=new g(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick();var e=Date.now()-t;(e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var t=1.2;!0===this._evaluateStepQuality()?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){var t=this.adaptiveCounter%this.adaptiveInterval===0;t?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)t.hasOwnProperty(n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)e.hasOwnProperty(i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===t[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var t=(0,r["default"])(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<t.length;i++){var o=t[i];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},n[o].x=this.previousStates[o].vx,n[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,n=void 0,i=this.body.nodes,r=this.referenceState,o=.3;for(var a in this.referenceState)if(this.referenceState.hasOwnProperty(a)&&void 0!==i[a]&&(t=i[a].x-r[a].positions.x,e=i[a].y-r[a].positions.y,n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),n>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,i=5,r=0;r<t.length;r++){var o=t[r],a=this._performStep(o);e=Math.max(e,a),n+=a}this.adaptiveTimestepEnabled=n/t.length<i,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){var i=this.modelOptions.damping*t,r=(e-i)/n;t+=r*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(t)>o&&(t=t>0?o:-o),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],n=this.physicsBody.forces[t],i=this.physicsBody.velocities[t];this.previousStates[t]={x:e.x,y:e.y,vx:i.x,vy:i.y},!1===e.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,e.options.mass),e.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===e.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,e.options.mass),e.y+=i.y*this.timestep):(n.y=0,i.y=0);var r=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));return r}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!==typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();var i=0;while(e()&&i<this.options.stabilization.updateInterval)this.physicsTick(),i++;n(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var n=this.physicsBody.physicsNodeIndices[e],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=20,a=.03,s=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),u=Math.min(Math.max(5,s),15),c=3*u,h=y.HSVToHex((180-180*Math.min(1,Math.max(0,a*s)))/360,1,1),l={x:i.x+o*r.x,y:i.y+o*r.y};t.lineWidth=u,t.strokeStyle=h,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(l.x,l.y),t.stroke();var d=Math.atan2(r.y,r.x);t.fillStyle=h,b.draw(t,{type:"arrow",point:l,angle:d,length:c}),t.fill()}}}]),t}();e["default"]=x},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return(0,a["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,a,s,u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,l=this.options.nodeDistance,d=-2/3/l,f=4/3,p=0;p<c.length-1;p++){a=u[c[p]];for(var g=p+1;g<c.length;g++)s=u[c[g]],t=s.x-a.x,e=s.y-a.y,n=Math.sqrt(t*t+e*e),0===n&&(n=.1*Math.random(),t=n),n<2*l&&(o=n<.5*l?1:d*n+f,o/=n,i=t*o,r=e*o,h[a.id].x-=i,h[a.id].y-=r,h[s.id].x+=i,h[s.id].y+=r)}}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return(0,a["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,n,i,r,o,a,s,u,c,h=this.body.nodes,l=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=this.options.nodeDistance;for(u=0;u<l.length-1;u++)for(a=h[l[u]],c=u+1;c<l.length;c++)if(s=h[l[c]],a.level===s.level){t=s.x-a.x,e=s.y-a.y,n=Math.sqrt(t*t+e*e);var p=.05;o=n<f?-Math.pow(p*n,2)+Math.pow(p*f,2):0,0===n?n=.01:o/=n,i=t*o,r=e*o,d[a.id].x-=i,d[a.id].y-=r,d[s.id].x+=i,d[s.id].y+=r}}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return(0,a["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,n=this.physicsBody.physicsEdgeIndices,i=this.body.edges,r=void 0,o=void 0,a=void 0,s=0;s<n.length;s++)e=i[n[s]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,r=e.to,o=e.edgeType.via,a=e.from,this._calculateSpringForce(r,o,.5*t),this._calculateSpringForce(o,a,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(i*i+r*r),.01),a=this.options.springConstant*(n-o)/o,s=i*a,u=r*a;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=s,this.physicsBody.forces[t.id].y+=u),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=s,this.physicsBody.forces[e.id].y-=u)}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return(0,a["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,a,s,u,c,h=this.body.edges,l=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,g=0;g<f.length;g++){var v=f[g];p[v].springFx=0,p[v].springFy=0}for(var m=0;m<d.length;m++)e=h[d[m]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.from.x-e.to.x,i=e.from.y-e.to.y,s=Math.sqrt(n*n+i*i),s=0===s?.01:s,a=this.options.springConstant*(t-s)/s,r=n*a,o=i*a,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=r,p[e.toId].springFy-=o),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=r,p[e.fromId].springFy+=o)):(void 0!==p[e.toId]&&(p[e.toId].x-=l*r,p[e.toId].y-=l*o),void 0!==p[e.fromId]&&(p[e.fromId].x+=l*r,p[e.fromId].y+=l*o)));a=1;for(var y=0;y<f.length;y++){var b=f[y];u=Math.min(a,Math.max(-a,p[b].springFx)),c=Math.min(a,Math.max(-a,p[b].springFy)),p[b].x+=u,p[b].y+=c}for(var x=0,w=0,_=0;_<f.length;_++){var M=f[_];x+=p[M].x,w+=p[M].y}for(var k=x/f.length,S=w/f.length,E=0;E<f.length;E++){var C=f[E];p[C].x-=k,p[C].y-=S}}}]),t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(120),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=i.edges.length+1,a=this.options.gravitationalConstant*r.mass*i.options.mass*o/Math.pow(t,2),s=e*a,u=n*a;this.physicsBody.forces[i.id].x+=s,this.physicsBody.forces[i.id].y+=u}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=g(i),o=n(0),a=g(o),s=n(1),u=g(s),c=n(4),h=g(c),l=n(5),d=g(l),f=n(121),p=g(f);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,n,i){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_calculateForces",value:function(t,e,n,i,r){if(t>0){var o=r.edges.length+1,a=this.options.centralGravity*o*r.options.mass;i[r.id].x=e*a,i[r.id].y=n*a}}}]),e}(p["default"]);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=l(i),o=n(6),a=l(o),s=n(0),u=l(s),c=n(1),h=l(c);function l(t){return t&&t.__esModule?t:{default:t}}var d=n(2),f=n(76)["default"],p=n(228)["default"],g=n(74)["default"],v=n(47)["default"],m=function(){function t(e){var n=this;(0,u["default"])(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},d.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return(0,h["default"])(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===("undefined"===typeof t?"undefined":(0,a["default"])(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=t&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var i={},r={};d.forEach(this.body.nodes,(function(n,o){var a=f.cloneOptions(n);!0===e.joinCondition(a)&&(i[o]=n,d.forEach(n.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(i,r,e,n)}},{key:"clusterByEdgeCount",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var o=[],a={},s=void 0,u=void 0,c=void 0,h=function(i){var h={},l={},v=n.body.nodeIndices[i],m=n.body.nodes[v];if(void 0===a[v]){c=0,u=[];for(var y=0;y<m.edges.length;y++)s=m.edges[y],void 0===n.clusteredEdges[s.id]&&(s.toId!==s.fromId&&c++,u.push(s));if(c===t){d=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var n=f.cloneOptions(t);return e.joinCondition(n)};for(var b=!0,x=0;x<u.length;x++){s=u[x];var w=n._getConnectedId(s,v);if(!d(m)){b=!1;break}l[s.id]=s,h[v]=m,h[w]=n.body.nodes[w],a[v]=!0}if((0,r["default"])(h).length>0&&(0,r["default"])(l).length>0&&!0===b)if(p=function(){for(var t=0;t<o.length;++t)for(var e in h)if(void 0!==o[t].nodes[e])return o[t]},g=p(),void 0!==g){for(var _ in h)void 0===g.nodes[_]&&(g.nodes[_]=h[_]);for(var M in l)void 0===g.edges[M]&&(g.edges[M]=l[M])}else o.push({nodes:h,edges:l})}}},l=0;l<this.body.nodeIndices.length;l++){var d,p,g;h(l)}for(l=0;l<o.length;l++)this._cluster(o[l].nodes,o[l].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var i=this.body.nodes[t];e=this._checkOptions(e,i),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=i.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=i.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=i.options.fixed.x,e.clusterNodeProperties.fixed.y=i.options.fixed.y);var o={},a={},s=i.id,u=f.cloneOptions(i);o[s]=i;for(var c=0;c<i.edges.length;c++){var h=i.edges[c];if(void 0===this.clusteredEdges[h.id]){var l=this._getConnectedId(h,s);if(void 0===this.clusteredNodes[l])if(l!==s)if(void 0===e.joinCondition)a[h.id]=h,o[l]=this.body.nodes[l];else{var d=f.cloneOptions(this.body.nodes[l]);!0===e.joinCondition(u,d)&&(a[h.id]=h,o[l]=this.body.nodes[l])}else a[h.id]=h}}var p=(0,r["default"])(o).map((function(t){return o[t].id}));for(g in o)if(o.hasOwnProperty(g))for(var g=o[g],v=0;v<g.edges.length;v++){var m=g.edges[v];p.indexOf(this._getConnectedId(m,g.id))>-1&&(a[m.id]=m)}this._cluster(o,a,e,n)}},{key:"_createClusterEdges",value:function(t,e,n,i){for(var o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,h=void 0,l=(0,r["default"])(t),d=[],f=0;f<l.length;f++){a=l[f],s=t[a];for(var p=0;p<s.edges.length;p++)o=s.edges[p],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:o.toId==a?(u=n.id,c=o.fromId,h=c):(u=o.toId,c=n.id,h=u),void 0===t[h]&&d.push({edge:o,fromId:c,toId:u}))}for(var g=[],v=function(t){for(var e=0;e<g.length;e++){var n=g[e],i=t.fromId===n.fromId&&t.toId===n.toId,r=t.fromId===n.toId&&t.toId===n.fromId;if(i||r)return n}return null},m=0;m<d.length;m++){var y=d[m],b=y.edge,x=v(y);null===x?(x=this._createClusteredEdge(y.fromId,y.toId,b,i),g.push(x)):x.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=x.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var a in t)t.hasOwnProperty(a)&&void 0!==this.clusteredNodes[a]&&o.push(a);for(var s=0;s<o.length;++s)delete t[o[s]];if(0!=(0,r["default"])(t).length&&(1!=(0,r["default"])(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var u=d.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var c=[];for(var h in t)if(t.hasOwnProperty(h)){var l=f.cloneOptions(t[h]);c.push(l)}var g=[];for(var v in e)if(e.hasOwnProperty(v)&&"clusterEdge:"!==v.substr(0,12)){var m=f.cloneOptions(e[v],"edge");g.push(m)}if(u=n.processProperties(u,c,g),!u)throw new Error("The processProperties function does not return properties!")}void 0===u.id&&(u.id="cluster:"+d.randomUUID());var y=u.id;void 0===u.label&&(u.label="cluster");var b=void 0;void 0===u.x&&(b=this._getClusterPosition(t),u.x=b.x),void 0===u.y&&(void 0===b&&(b=this._getClusterPosition(t)),u.y=b.y),u.id=y;var x=this.body.functions.createNode(u,p);x.containedNodes=t,x.containedEdges=e,x.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[u.id]=x,this._clusterEdges(t,e,u,n.clusterEdgeProperties),u.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,r["default"])(t),n=t[e[0]].x,i=t[e[0]].x,o=t[e[0]].y,a=t[e[0]].y,s=void 0,u=1;u<e.length;u++)s=t[e[u]],n=s.x<n?s.x:n,i=s.x>i?s.x:i,o=s.y<o?s.y:o,a=s.y>a?s.y:a;return{x:.5*(n+i),y:.5*(o+a)}}},{key:"openCluster",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=r.indexOf(t)-1;if(o>=0){var a=r[o],s=this.body.nodes[a];return s._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var u=i.containedNodes,c=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"===typeof e.releaseFunction){var h={},l={x:i.x,y:i.y};for(var f in u)if(u.hasOwnProperty(f)){var p=this.body.nodes[f];h[f]={x:p.x,y:p.y}}var g=e.releaseFunction(l,h);for(var v in u)if(u.hasOwnProperty(v)){var m=this.body.nodes[v];void 0!==g[v]&&(m.x=void 0===g[v].x?i.x:g[v].x,m.y=void 0===g[v].y?i.y:g[v].y)}}else d.forEach(u,(function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)}));for(var y in u)if(u.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=i.vx,b.vy=i.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var x=[],w=0;w<i.edges.length;w++)x.push(i.edges[w]);for(var _=0;_<x.length;_++){for(var M=x[_],k=this._getConnectedId(M,t),S=this.clusteredNodes[k],E=0;E<M.clusteringEdgeReplacingIds.length;E++){var C=M.clusteringEdgeReplacingIds[E],T=this.body.edges[C];if(void 0!==T)if(void 0!==S){var P=this.body.nodes[S.clusterId];P.containedEdges[T.id]=T,delete c[T.id];var A=T.fromId,O=T.toId;T.toId==k?O=S.clusterId:A=S.clusterId,this._createClusteredEdge(A,O,T,P.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(T)}M.remove()}for(var D in c)c.hasOwnProperty(D)&&this._restoreEdge(c[D]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)n.hasOwnProperty(i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){var e=[],n=100,i=0,r=void 0;while(void 0!==this.clusteredNodes[t]&&i<n){if(r=this.body.nodes[t],void 0===r)return[];e.push(r.id),t=this.clusteredNodes[t].clusterId,i++}return r=this.body.nodes[t],void 0===r?[]:(e.push(r.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(t),i=0;i<n.length;i++){var r=this.body.edges[n[i]];r.setOptions(e)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){var e=[],n=100,i=0;while(void 0!==t&&void 0!==this.body.edges[t]&&i<n)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){var e=[t],n=[],i=[],r=100,o=0;while(e.length>0&&o<r){var a=e.pop();if(void 0!==a){var s=this.body.edges[a];if(void 0!==s){o++;var u=s.clusteringEdgeReplacingIds;if(void 0===u)i.push(a);else for(var c=0;c<u.length;++c){var h=u[c];-1===e.indexOf(u)&&-1===n.indexOf(u)&&e.push(h)}n.push(a)}}}return i}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),n+=1}t/=n,e/=n;var a=e-Math.pow(t,2),s=Math.sqrt(a),u=Math.floor(t+2*s);return u>i&&(u=i),u}},{key:"_createClusteredEdge",value:function(t,e,n,i,r){var o=f.cloneOptions(n,"edge");d.deepExtend(o,i),o.from=t,o.to=e,o.id="clusterEdge:"+d.randomUUID(),void 0!==r&&d.deepExtend(o,r);var a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof g){var r=e,o={};o[r.id]=r,e=o}if(t instanceof v){var a=t,s={};s[a.id]=a,t=s}if(void 0===n||null===n)throw new Error("_clusterEdges: parameter clusterNode required");for(var u in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(e.hasOwnProperty(u)&&void 0!==this.body.edges[u]){var c=this.body.edges[u];this._backupEdgeOptions(c),c.setOptions({physics:!1})}for(var h in t)t.hasOwnProperty(h)&&(this.clusteredNodes[h]={clusterId:n.id,node:this.body.nodes[h]},this.body.nodes[h].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return d.forEach(t,(function(t){e(t)&&n.push(t)})),n}},{key:"_updateState",value:function(){var t=this,e=void 0,n=[],i=[],o=function(e){d.forEach(t.body.nodes,(function(t){!0===t.isCluster&&e(t)}))};for(e in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(e)){var a=this.body.nodes[e];void 0===a&&n.push(e)}o((function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]}));for(var s=0;s<n.length;s++)delete this.clusteredNodes[n[s]];d.forEach(this.clusteredEdges,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||i.push(e)})),o((function(t){d.forEach(t.containedEdges,(function(t,e){t.endPointsValid()||-1!==i.indexOf(e)||i.push(e)}))})),d.forEach(this.body.edges,(function(e,n){var r=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var a=0;d.forEach(o,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(a+=1)})),r=a>0}e.endPointsValid()&&r||i.push(n)})),o((function(e){d.forEach(i,(function(n){delete e.containedEdges[n],d.forEach(e.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=t._filter(r.clusteringEdgeReplacingIds,(function(t){return-1===i.indexOf(t)})):e.edges[o]=null})),e.edges=t._filter(e.edges,(function(t){return null!==t}))}))})),d.forEach(i,(function(e){delete t.clusteredEdges[e]})),d.forEach(i,(function(e){delete t.body.edges[e]}));var u=(0,r["default"])(this.body.edges);d.forEach(u,(function(e){var n=t.body.edges[e],i=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(i!==t._isClusteredEdge(n.id)){if(!i)throw new Error("remove edge from clustering not implemented!");var r=t._getClusterNodeForNode(n.fromId);void 0!==r&&t._clusterEdges(t.body.nodes[n.fromId],n,r);var o=t._getClusterNodeForNode(n.toId);void 0!==o&&t._clusterEdges(t.body.nodes[n.toId],n,o)}}));var c=!1,h=!0,l=function(){var e=[];o((function(t){var n=(0,r["default"])(t.containedNodes).length,i=!0===t.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&e.push(t.id)}));for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);h=e.length>0,c=c||h};while(h)l();c&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e["default"]=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=f(i),o=n(0),a=f(o),s=n(1),u=f(s),c=n(4),h=f(c),l=n(5),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=n(2),g=n(47)["default"],v=function(t){function e(t,n,i,o,s,u){(0,a["default"])(this,e);var c=(0,h["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this,t,n,i,o,s,u));return c.isCluster=!0,c.containedNodes={},c.containedEdges={},c}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"_openChildCluster",value:function(t){var e=this,n=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],p.forEach(n.edges,(function(t){delete e.containedEdges[t.id]})),p.forEach(n.containedNodes,(function(t,n){e.containedNodes[n]=t})),n.containedNodes={},p.forEach(n.containedEdges,(function(t,n){e.containedEdges[n]=t})),n.containedEdges={},p.forEach(n.edges,(function(t){p.forEach(e.edges,(function(n){var i=n.clusteringEdgeReplacingIds.indexOf(t.id);-1!==i&&(p.forEach(t.clusteringEdgeReplacingIds,(function(t){n.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=n.id})),n.clusteringEdgeReplacingIds.splice(i,1))}))})),n.edges=[]}}]),e}(g);e["default"]=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function u(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}var c=n(2),h=function(){function t(e,n){(0,r["default"])(this,t),u(),this.body=e,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},c.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,a["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",(function(){t.dragging=!0})),this.body.emitter.on("dragEnd",(function(){t.dragging=!1})),this.body.emitter.on("_resizeNodes",(function(){t._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===t.renderingActive&&t._redraw()})),this.body.emitter.on("_blockRedraw",(function(){t.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){t.allowRedraw=!0,t.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",(function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()})),this.body.emitter.on("_stopRendering",(function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()}))}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];c.selectiveDeepExtend(e,this.options,t)}}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!==typeof window){var n=void 0,i=window;return!0===this.requiresTimeout?n=i.setTimeout(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,n,i),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,n,i)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,n=void 0;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],n.resize(t),n.updateBoundingBox(t,n.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,i=this.body.nodeIndices,r=void 0,o=[],a=20,s=this.canvas.DOMtoCanvas({x:-a,y:-a}),u=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),c={top:s.y,left:s.x,bottom:u.y,right:u.x},h=0;h<i.length;h++)r=n[i[h]],r.isSelected()?o.push(i[h]):!0===e?r.draw(t):!0===r.isBoundingBoxOverlappingWith(c)?r.draw(t):r.updateBoundingBox(t,r.selected);for(var l=0;l<o.length;l++)r=n[o[l]],r.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=void 0,r=0;r<n.length;r++)i=e[n[r]],!0===i.connected&&i.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!==typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(10),c=n(37),h=n(2),l=function(){function t(e){(0,r["default"])(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",(function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)})),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",(function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var n=["width","height","autoResize"];h.selectiveDeepExtend(n,this.options,t)}!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval((function(){var t=e.setSize();!0===t&&e.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=this._onResize.bind(this),h.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),h.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1!=t?n=this.cameraState.scale*t:1!=e&&(n=this.cameraState.scale*e),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"===typeof t)return t+"px";if("string"===typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){while(this.body.container.hasChildNodes())this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new u(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:u.DIRECTION_ALL}),c.onTouch(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("mousewheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("DOMMouseScroll",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new u(this.frame),c.onRelease(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),s=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===s||this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==s&&(this.frame.canvas.height=s,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;"undefined"!==typeof window&&(e=window.devicePixelRatio||1);var n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=n(76)["default"],h=function(){function t(e,n){var i=this;(0,r["default"])(this,t),this.body=e,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",(function(){i.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,a["default"])(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,i=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var r=0;for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var a=this.body.nodes[o];!0===a.predefinedPosition&&(r+=1)}if(r>.5*this.body.nodeIndices.length)return void this.fit(t,!1);n=c.getRange(this.body.nodes,t.nodes);var s=this.body.nodeIndices.length;i=12.662/(s+7.4147)+.0964822;var u=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);i*=u}else{this.body.emitter.emit("_resizeNodes"),n=c.getRange(this.body.nodes,t.nodes);var h=1.1*Math.abs(n.maxX-n.minX),l=1.1*Math.abs(n.maxY-n.minY),d=this.canvas.frame.canvas.clientWidth/h,f=this.canvas.frame.canvas.clientHeight/l;i=d<=f?d:f}i>1?i=1:0===i&&(i=1);var p=c.findCenter(n),g={position:p,scale:i,animation:t.animation};this.moveTo(g)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:e.x-t.x,y:e.y-t.y},i=this.body.view.translation,r={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=r}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=u.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e["default"]=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(2),c=n(233)["default"],h=n(104)["default"],l=function(){function t(e,n,i){(0,r["default"])(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new c(e,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},u.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];u.selectiveNotDeepExtend(e,this.options,t),u.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(u.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=u.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-u.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-u.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,n),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,n),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.selectionHandler.getSelection(),r=!1;r=!0===n?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var o=this.selectionHandler.getSelection(),a=this._determineDifference(i,o),s=this._determineDifference(o,i);a.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,i),r=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,i),r=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0),s.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),!0===r&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];-1===e.indexOf(r)&&n.push(r)}return n};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=u.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;i.forEach((function(t){var n=t.node;!1===t.xFixed&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var a=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach((function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch["scale"]&&(this.pinch.scale=1);var n=this.pinch.scale*t.scale;this.zoom(n,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/n,a=(1-o)*e.x+r.x*o,s=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:a,y:s},void 0!=i){var u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var n=this.body.view.scale,i=e/10;e<0&&(i/=1-i),n*=1+i;var r=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,r)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout((function(){return e._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,a="node";if(void 0===this.popupObj){for(var s=this.body.nodeIndices,u=this.body.nodes,c=void 0,l=[],d=0;d<s.length;d++)c=u[s[d]],!0===c.isOverlappingWith(i)&&void 0!==c.getTitle()&&l.push(s[d]);l.length>0&&(this.popupObj=u[l[l.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var f=this.body.edgeIndices,p=this.body.edges,g=void 0,v=[],m=0;m<f.length;m++)g=p[f[m]],!0===g.isOverlappingWith(i)&&!0===g.connected&&void 0!==g.getTitle()&&v.push(f[m]);v.length>0&&(this.popupObj=p[v[v.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new h(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===n)){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(10),c=n(37),h=n(35),l=function(){function t(e,n){var i=this;(0,r["default"])(this,t),this.body=e,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return(0,a["default"])(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode&&this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"]),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div"),this.navigationDOM["wrapper"].className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM["wrapper"].appendChild(this.navigationDOM[e[i]]);var r=new u(this.navigationDOM[e[i]]);"_fit"===n[i]?c.onTouch(r,this._fit.bind(this)):c.onTouch(r,this.bindToRedraw.bind(this,n[i])),this.navigationHammers.push(r)}var o=new u(this.canvas.frame);c.onRelease(o,(function(){t._stopMovement()})),this.navigationHammers.push(o),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=h({container:window,preventDefault:!0}):this.keycharm=h({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",(function(){t.bindToRedraw("_moveUp")}),"keydown"),this.keycharm.bind("down",(function(){t.bindToRedraw("_moveDown")}),"keydown"),this.keycharm.bind("left",(function(){t.bindToRedraw("_moveLeft")}),"keydown"),this.keycharm.bind("right",(function(){t.bindToRedraw("_moveRight")}),"keydown"),this.keycharm.bind("=",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num+",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num-",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("-",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("[",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("]",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pageup",(function(){t.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pagedown",(function(){t.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("up",(function(){t.unbindFromRedraw("_moveUp")}),"keyup"),this.keycharm.bind("down",(function(){t.unbindFromRedraw("_moveDown")}),"keyup"),this.keycharm.bind("left",(function(){t.unbindFromRedraw("_moveLeft")}),"keyup"),this.keycharm.bind("right",(function(){t.unbindFromRedraw("_moveRight")}),"keyup"),this.keycharm.bind("=",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num+",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num-",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("-",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("[",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("]",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pageup",(function(){t.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pagedown",(function(){t.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n(47)["default"],c=n(74)["default"],h=n(2),l=function(){function t(e,n){var i=this;(0,r["default"])(this,t),this.body=e,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},h.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return(0,a["default"])(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];h.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&(e=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={};return n["pointer"]={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},n["event"]=t,n}},{key:"_generateClickEvent",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,n);if(!0===r)o.nodes=[],o.edges=[];else{var a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}void 0!==i&&(o["previousSelection"]=i),"click"==t&&(o.items=this.getClickedItems(n)),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof u&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,r=null,o=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a],u=o[s];if(u.connected){var c=u.from.x,h=u.from.y,l=u.to.x,d=u.to.y,f=u.edgeType.getDistanceToEdge(c,h,l,d,n.x,n.y);f<i&&(r=s,i=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function(t){t instanceof u?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof u?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof u?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.select(),this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.hover=!0,this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.unselect(),this._removeFromSelection(n)}}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof u?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof u?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===n||n instanceof u&&n.id!=r||n instanceof c)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof c&&n.id!=o||n instanceof u&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));void 0!==n&&(i=i||this.emitHoverEvent(t,e,n),n instanceof u&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)),!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,i=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(n=0;n<t.nodes.length;n++){i=t.nodes[n];var r=this.body.nodes[i];if(!r)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(r,e.highlightEdges)}if(t.edges)for(n=0;n<t.edges.length;n++){i=t.edges[n];var o=this.body.edges[i];if(!o)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var a=r[i[o]],s=a.getItemsOnPoint(e);n.push.apply(n,s)}for(var u=this.body.edgeIndices,c=this.body.edges,h=u.length-1;h>=0;h--){var l=c[u[h]],d=l.getItemsOnPoint(e);n.push.apply(n,d)}return n}}]),t}();e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=f(i),o=n(6),a=f(o),s=n(8),u=f(s),c=n(0),h=f(c),l=n(1),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=n(2),g=n(76)["default"],v=n(236),m=v.HorizontalStrategy,y=v.VerticalStrategy,b=function(){function t(){(0,h["default"])(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,d["default"])(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,n={},i=function t(i){if(void 0!==n[i])return n[i];var r=e.levels[i];if(e.childrenReference[i]){var o=e.childrenReference[i];if(o.length>0)for(var a=0;a<o.length;a++)r=Math.max(r,t(o[a]))}return n[i]=r,r};return i(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(e=Math.min(this.levels[n],e));for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}},{key:"getTreeSize",value:function(t,e){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var a in this.trees)if(this.trees.hasOwnProperty(a)&&this.trees[a]===e){var s=t[a];n=Math.min(s.x,n),i=Math.max(s.x,i),r=Math.min(s.y,r),o=Math.max(s.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,u["default"])(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var r in i)if(i[r]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),x=function(){function t(e){(0,h["default"])(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},p.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,d["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(p.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),p.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),p.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,a["default"])(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"===typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,n=0;n<t.length;n++){var i=t[n],r=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=e*Math.cos(r)),void 0===i.y&&(i.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,n=0;n<t.length;n++){var i=this.body.nodes[t[n]];!0===i.predefinedPosition&&(e+=1)}if(e<.5*t.length){var r=10,o=0,a=150,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>a){var u=t.length;while(t.length>a&&o<=r){o+=1;var c=t.length;o%3===0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s);var h=t.length;if(c==h&&o%3!==0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}o>r&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=70,d=0;d<t.length;d++){var f=this.body.nodes[t[d]];!1===f.predefinedPosition&&(f.x+=(.5-this.seededRandom())*l,f.y+=(.5-this.seededRandom())*l)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=g.getRangeCore(this.body.nodes,this.body.nodeIndices),e=g.findCenter(t),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=e.x,i.y-=e.y}}},{key:"_declusterAll",value:function(){var t=!0;while(!0===t){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new b,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0!==t.options.level?(n=!0,this.hierarchical.levels[e]=t.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,n={},i=function(){for(var e=a(),n=0,i=0;i<e.length-1;i++){var r=e[i].max-e[i+1].min;n+=r+t.options.hierarchical.treeSpacing,o(i+1,n)}},o=function(e,n){var i=t.hierarchical.trees;for(var r in i)i.hasOwnProperty(r)&&i[r]===e&&t.direction.shift(r,n)},a=function(){for(var e=[],n=0;n<t.hierarchical.numTrees();n++)e.push(t.direction.getTreeSize(n));return e},s=function e(n,i){if(!i[n.id]&&(i[n.id]=!0,t.hierarchical.childrenReference[n.id])){var r=t.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],i)}},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,o=1e9,a=1e9,s=-1e9;for(var u in e)if(e.hasOwnProperty(u)){var c=t.body.nodes[u],h=t.hierarchical.levels[c.id],l=t.direction.getPosition(c),d=t._getSpaceAroundNode(c,e),f=(0,r["default"])(d,2),p=f[0],g=f[1];i=Math.min(p,i),o=Math.min(g,o),h<=n&&(a=Math.min(l,a),s=Math.max(l,s))}return[a,s,i,o]},c=function(e,n){var i=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(n.id);return Math.min(i,r)},h=function(e,n,i){for(var r=t.hierarchical,o=0;o<n.length;o++){var a=n[o],s=r.distributionOrdering[a];if(s.length>1)for(var u=0;u<s.length-1;u++){var c=s[u],h=s[u+1];r.hasSameParent(c,h)&&r.inSameSubNetwork(c,h)&&e(c,h,i)}}},l=function(n,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.direction.getPosition(n),a=t.direction.getPosition(i),h=Math.abs(a-o),l=t.options.hierarchical.nodeSpacing;if(h>l){var d={},f={};s(n,d),s(i,f);var p=c(n,i),g=u(d,p),v=u(f,p),m=g[1],y=v[0],b=v[2],x=Math.abs(m-y);if(x>l){var w=m-y+l;w<-b+l&&(w=-b+l),w<0&&(t._shiftBlock(i.id,w),e=!0,!0===r&&t._centerParent(i))}}},d=function(i,o){for(var a=o.id,c=o.edges,h=t.hierarchical.levels[o.id],l=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,d={},f=[],p=0;p<c.length;p++){var g=c[p];if(g.toId!=g.fromId){var v=g.toId==a?g.from:g.to;d[c[p].id]=v,t.hierarchical.levels[v.id]<h&&f.push(g)}}var m=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==d[n[r].id]){var o=t.direction.getPosition(d[n[r].id])-e;i+=o/Math.sqrt(o*o+l)}return i},y=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==d[n[r].id]){var o=t.direction.getPosition(d[n[r].id])-e;i-=l*Math.pow(o*o+l,-1.5)}return i},b=function(e,n){for(var i=t.direction.getPosition(o),r={},a=0;a<e;a++){var s=m(i,n),u=y(i,n),c=40,h=Math.max(-c,Math.min(c,Math.round(s/u)));if(i-=h,void 0!==r[i])break;r[i]=a}return i},x=function(i){var r=t.direction.getPosition(o);if(void 0===n[o.id]){var a={};s(o,a),n[o.id]=a}var c=u(n[o.id]),h=c[2],l=c[3],d=i-r,f=0;d>0?f=Math.min(d,l-t.options.hierarchical.nodeSpacing):d<0&&(f=-Math.min(-d,h-t.options.hierarchical.nodeSpacing)),0!=f&&(t._shiftBlock(o.id,f),e=!0)},w=function(n){var i=t.direction.getPosition(o),a=t._getSpaceAroundNode(o),s=(0,r["default"])(a,2),u=s[0],c=s[1],h=n-i,l=i;h>0?l=Math.min(i+(c-t.options.hierarchical.nodeSpacing),n):h<0&&(l=Math.max(i-(u-t.options.hierarchical.nodeSpacing),n)),l!==i&&(t.direction.setPosition(o,l),e=!0)},_=b(i,f);x(_),_=b(i,c),w(_)},f=function(n){var i=t.hierarchical.getLevels();i=i.reverse();for(var r=0;r<n;r++){e=!1;for(var o=0;o<i.length;o++)for(var a=i[o],s=t.hierarchical.distributionOrdering[a],u=0;u<s.length;u++)d(1e3,s[u]);if(!0!==e)break}},p=function(n){var i=t.hierarchical.getLevels();i=i.reverse();for(var r=0;r<n;r++)if(e=!1,h(l,i,!0),!0!==e)break},g=function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])},v=function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var n=0;n<e.length;n++)for(var i=e[n],r=t.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)t._centerParent(r[o])};!0===this.options.hierarchical.blockShifting&&(p(5),g()),!0===this.options.hierarchical.edgeMinimization&&f(20),!0===this.options.hierarchical.parentCentralization&&v(),i()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),a=this.hierarchical.distributionOrdering[i],s=1e9,u=1e9;if(0!==r){var c=a[r-1];if(!0===n&&void 0===e[c.id]||!1===n){var h=this.direction.getPosition(c);s=o-h}}if(r!=a.length-1){var l=a[r+1];if(!0===n&&void 0===e[l.id]||!1===n){var d=this.direction.getPosition(l);u=Math.min(u,d-o)}}return[s,u]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var i=e[n],o=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(void 0!==a){var s=this._getCenterPosition(a),u=this.direction.getPosition(o),c=this._getSpaceAroundNode(o),h=(0,r["default"])(c,2),l=h[0],d=h[1],f=u-s;(f<0&&Math.abs(f)<d-this.options.hierarchical.nodeSpacing||f>0&&Math.abs(f)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var n=(0,u["default"])(t[e]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var i=0,r=0;r<n.length;r++){var o=n[r];if(void 0===this.positionedNodes[o.id]){var a=this.options.hierarchical.nodeSpacing,s=a*i;i>0&&(s=this.direction.getPosition(n[r-1])+a),this.direction.setPosition(o,s,e),this._validatePositionAndContinue(o,e,s),i++}}}}},{key:"_placeBranchNodes",value:function(t,e){var n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var i=[],r=0;r<n.length;r++)i.push(this.body.nodes[n[r]]);this.direction.sort(i);for(var o=0;o<i.length;o++){var a=i[o],s=this.hierarchical.levels[a.id];if(!(s>e&&void 0===this.positionedNodes[a.id]))return;var u=this.options.hierarchical.nodeSpacing,c=void 0;c=0===o?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(i[o-1])+u,this.direction.setPosition(a,c,s),this._validatePositionAndContinue(a,s,c)}var h=this._getCenterPosition(i);this.direction.setPosition(this.body.nodes[t],h,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,n=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){n=this.body.nodes[e];var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(n,i),void 0===t[i]&&(t[i]={}),t[i][e]=n}return t}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return p.forEach(t.edges,(function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&n.push(t)})),n}},{key:"_getHubSizes",value:function(){var t=this,e={},n=this.body.nodeIndices;p.forEach(n,(function(n){var i=t.body.nodes[n],r=t._getActiveEdges(i).length;e[r]=!0}));var i=[];return p.forEach(e,(function(t){i.push(Number(t))})),i.sort((function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,n){t.hierarchical.levelDownstream(e,n)},n=this._getHubSizes(),i=function(i){var r=n[i];if(0===r)return"break";p.forEach(t.body.nodeIndices,(function(n){var i=t.body.nodes[n];r===t._getActiveEdges(i).length&&t._crawlNetwork(e,n)}))},r=0;r<n.length;++r){var o=i(r);if("break"===o)break}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=1e5,n=function(t,e,n){},i=function(i,r,o){var a=t.hierarchical.levels[i.id];void 0===a&&(a=t.hierarchical.levels[i.id]=e);var s=n(g.cloneOptions(i,"node"),g.cloneOptions(r,"node"),g.cloneOptions(o,"edge"));t.hierarchical.levels[r.id]=a+s};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this,e=1e4,n=function(e){return p.forEach(t.body.edges,(function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0})),!1},i=function(i,r,o){var a=t.hierarchical.levels[i.id],s=t.hierarchical.levels[r.id];n(o)&&void 0!==a&&void 0!==s||(void 0===a&&(a=t.hierarchical.levels[i.id]=e),o.toId==r.id?t.hierarchical.levels[r.id]=a+1:t.hierarchical.levels[r.id]=a-1)};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this,e=function(e,n){t.hierarchical.levels[n.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1],i={},r=function n(r,o){if(void 0===i[r.id]){t.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a=void 0,s=t._getActiveEdges(r),u=0;u<s.length;u++){var c=s[u];!0===c.connected&&(a=c.toId==r.id?c.from:c.to,r.id!=a.id&&(e(r,a,c),n(a,o)))}}};if(void 0===n)for(var o=0,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];if(void 0===i[s]){var u=this.body.nodes[s];r(u,o),o+=1}}else{var c=this.body.nodes[n];if(void 0===c)return void console.error("Node not found:",n);r(c)}}},{key:"_shiftBlock",value:function(t,e){var n=this,i={},r=function t(r){if(!i[r]){i[r]=!0,n.direction.shift(r,e);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var a=0;a<o.length;a++)t(o[a])}};r(t)}},{key:"_findCommonParent",value:function(t,e){var n=this,i={},r=function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var a=r[o];e[a]=!0,t(e,a)}},o=function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var a=r[o];if(void 0!==e[a])return{foundParent:a,withChild:i};var s=t(e,a);if(null!==s.foundParent)return s}return{foundParent:null,withChild:i}};return r(i,t),o(i,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new y(this):new m(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,n=-1e9,i=0;i<t.length;i++){var r=void 0;if(void 0!==t[i].id)r=t[i];else{var o=t[i];r=this.body.nodes[o]}var a=this.direction.getPosition(r);e=Math.min(e,a),n=Math.max(n,a)}return.5*(e+n)}}]),t}();e["default"]=x},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var i=n(3),r=f(i),o=n(4),a=f(o),s=n(5),u=f(s),c=n(0),h=f(c),l=n(1),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(){(0,h["default"])(this,t)}return(0,d["default"])(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),g=function(t){function e(t){(0,h["default"])(this,e);var n=(0,a["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this));return n.layout=t,n}return(0,u["default"])(e,t),(0,d["default"])(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort((function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(p),v=function(t){function e(t){(0,h["default"])(this,e);var n=(0,a["default"])(this,(e.__proto__||(0,r["default"])(e)).call(this));return n.layout=t,n}return(0,u["default"])(e,t),(0,d["default"])(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort((function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(p);e.HorizontalStrategy=v,e.VerticalStrategy=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=f(i),o=n(19),a=f(o),s=n(6),u=f(s),c=n(0),h=f(c),l=n(1),d=f(l);function f(t){return t&&t.__esModule?t:{default:t}}var p=n(2),g=n(10),v=n(37),m=function(){function t(e,n,i){var r=this;(0,h["default"])(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},p.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){r._clean()})),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,d["default"])(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=n.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=n.locales),void 0!==t&&("boolean"===typeof t?this.options.enabled=t:(this.options.enabled=!0,p.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),n=t+e,i=this.options.locales[this.options.locale],r=!1;!1!==this.options.addNode&&(this._createAddNodeButton(i),r=!0),!1!==this.options.addEdge&&(!0===r?this._createSeperator(1):r=!0,this._createAddEdgeButton(i)),1===t&&"function"===typeof this.options.editNode?(!0===r?this._createSeperator(2):r=!0,this._createEditNodeButton(i)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===r?this._createSeperator(3):r=!0,this._createEditEdgeButton(i)),0!==n&&(t>0&&!1!==this.options.deleteNode?(!0===r&&this._createSeperator(4),this._createDeleteButton(i)):0===t&&!1!==this.options.deleteEdge&&(!0===r&&this._createSeperator(4),this._createDeleteButton(i))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["addDescription"]||this.options.locales["en"]["addDescription"]),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!==typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var n=p.deepExtend({},e.options,!1);if(n.x=e.x,n.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["edgeDescription"]||this.options.locales["en"]["edgeDescription"]),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,u["default"])(this.options.editEdge)||"function"!==typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(e.from.x,e.from.y),i=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var r=e.edgeType.findBorderPositions(t);!1===n.selected&&(n.x=r.from.x,n.y=r.from.y),!1===i.selected&&(i.x=r.to.x,i.y=r.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var r=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(r.from,r.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),i=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);"function"===typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"===typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"===typeof i){var o={nodes:e,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,(function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=p.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+p.randomUUID(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},p.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(p.recursiveDOMDelete(this.editModeDiv),p.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),p.recursiveDOMDelete(this.manipulationDiv),p.recursiveDOMDelete(this.editModeDiv),p.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e;e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var n=this._createButton("delete",e,t["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerHTML=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,a["default"])((0,r["default"])(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var n=new g(t,{});v.onTouch(n,e),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=p.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,n=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=i.isOverlappingWith(n),s=r.isOverlappingWith(n);!0===a?(this.selectedControlNode=i,o.edgeType.from=i):!0===s&&(this.selectedControlNode=r,o.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var i=e.x-this.lastTouch.x,r=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+i,y:this.lastTouch.translation.y+r}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;a>=0;a--)if(r[a]!==this.selectedControlNode.id){o=this.body.nodes[r[a]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var s=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===s.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=p.extend({},this.body.view.translation);var e=this.lastTouch,n=this.selectionHandler.getNodeAt(e);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:"connectionEdge"+p.randomUUID(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var n=this.body.nodes[this.temporaryIds.nodes[0]];n.x=this.canvas._XconvertDOMtoCanvas(e.x),n.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var i=e.x-this.lastTouch.x,r=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+i,y:this.lastTouch.translation.y+r}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;a>=0;a--)if(-1===this.temporaryIds.nodes.indexOf(r[a])){o=this.body.nodes[r[a]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:p.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"===typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"===typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(t){null!==t&&void 0!==t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},r=this.options.editEdge;if("object"===("undefined"===typeof r?"undefined":(0,u["default"])(r))&&(r=r.editWithoutDrag),"function"===typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(t){null===t||void 0===t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e["default"]=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=l(i),o=n(0),a=l(o),s=n(1),u=l(s),c=n(239),h=l(c);function l(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e,n,i){(0,a["default"])(this,t),this.body=e,this.springLength=n,this.springConstant=i,this.distanceSolver=new h["default"]}return(0,u["default"])(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();var o=.01,a=1,s=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5,h=1e9,l=0,d=0,f=0,p=0,g=0;while(h>o&&s<u){s+=1;var v=this._getHighestEnergyNode(n),m=(0,r["default"])(v,4);l=m[0],h=m[1],d=m[2],f=m[3],p=h,g=0;while(p>a&&g<c){g+=1,this._moveNode(l,d,f);var y=this._getEnergy(l),b=(0,r["default"])(y,3);p=b[0],d=b[1],f=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=0,o=e[0],a=0,s=0,u=0;u<e.length;u++){var c=e[u];if(!1===n[c].predefinedPosition||!0===n[c].isCluster&&!0===t||!0===n[c].options.fixed.x||!0===n[c].options.fixed.y){var h=this._getEnergy(c),l=(0,r["default"])(h,3),d=l[0],f=l[1],p=l[2];i<d&&(i=d,o=c,a=f,s=p)}}return[o,i,a,s]}},{key:"_getEnergy",value:function(t){var e=(0,r["default"])(this.E_sums[t],2),n=e[0],i=e[1],o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));return[o,n,i]}},{key:"_moveNode",value:function(t,e,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,a=0,s=0,u=r[t].x,c=r[t].y,h=this.K_matrix[t],l=this.L_matrix[t],d=0;d<i.length;d++){var f=i[d];if(f!==t){var p=r[f].x,g=r[f].y,v=h[f],m=l[f],y=1/Math.pow(Math.pow(u-p,2)+Math.pow(c-g,2),1.5);o+=v*(1-m*Math.pow(c-g,2)*y),a+=v*(m*(u-p)*(c-g)*y),s+=v*(1-m*Math.pow(u-p,2)*y)}}var b=o,x=a,w=e,_=s,M=n,k=(w/b+M/x)/(x/b-_/x),S=-(x*k+w)/b;r[t].x+=S,r[t].y+=k,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[i]][e[r]]=n*t[e[i]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<e.length;i++){this.K_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[i]][e[r]]=n*Math.pow(t[e[i]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<t.length;n++)this.E_matrix[t[n]]=[];for(var i=0;i<t.length;i++){for(var r=t[i],o=e[r].x,a=e[r].y,s=0,u=0,c=i;c<t.length;c++){var h=t[c];if(h!==r){var l=e[h].x,d=e[h].y,f=1/Math.sqrt(Math.pow(o-l,2)+Math.pow(a-d,2));this.E_matrix[r][c]=[this.K_matrix[r][h]*(o-l-this.L_matrix[r][h]*(o-l)*f),this.K_matrix[r][h]*(a-d-this.L_matrix[r][h]*(a-d)*f)],this.E_matrix[h][i]=this.E_matrix[r][c],s+=this.E_matrix[r][c][0],u+=this.E_matrix[r][c][1]}}this.E_sums[r]=[s,u]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],a=n[t].x,s=n[t].y,u=0,c=0,h=0;h<e.length;h++){var l=e[h];if(l!==t){var d=i[h],f=d[0],p=d[1],g=n[l].x,v=n[l].y,m=1/Math.sqrt(Math.pow(a-g,2)+Math.pow(s-v,2)),y=r[l]*(a-g-o[l]*(a-g)*m),b=r[l]*(s-v-o[l]*(s-v)*m);i[h]=[y,b],u+=y,c+=b;var x=this.E_sums[l];x[0]+=y-f,x[1]+=b-p}}this.E_sums[t]=[u,c]}}]),t}();e["default"]=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(1),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,r["default"])(this,t)}return(0,a["default"])(t,[{key:"getDistances",value:function(t,e,n){for(var i={},r=t.edges,o=0;o<e.length;o++){var a=e[o],s={};i[a]=s;for(var u=0;u<e.length;u++)s[e[u]]=o==u?0:1e9}for(var c=0;c<n.length;c++){var h=r[n[c]];!0===h.connected&&void 0!==i[h.fromId]&&void 0!==i[h.toId]&&(i[h.fromId][h.toId]=1,i[h.toId][h.fromId]=1)}for(var l=e.length,d=0;d<l;d++)for(var f=e[d],p=i[f],g=0;g<l-1;g++)for(var v=e[g],m=i[v],y=g+1;y<l;y++){var b=e[y],x=i[b],w=Math.min(m[b],m[f]+p[b]);m[b]=w,x[v]=w}return i}}]),t}();e["default"]=u}])}))},"605d":function(t,e,n){t.exports=n.p+"img/clothes.2b623ebd.svg"},"662e":function(t,e,n){"use strict";var i=n("8c1f");n.d(e,"a",(function(){return i["a"]}))},"6ae8":function(t,e,n){},"6ecb":function(t,e,n){},7014:function(t,e,n){"use strict";var i=n("8b4e"),r=n.n(i);r.a},"704c":function(t,e,n){"use strict";var i=n("ee55"),r=n("0969")(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("94d9")("includes")},7397:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vis"},[n("div",{ref:"vis",staticClass:"graph"})])},r=[];n("ccaa"),n("6689");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var u=n("5bc0"),c=n.n(u),h=function(){function t(e,n,i){o(this,t),this.el=e,this.data=n,this.option=this._merge({edges:{color:"#909090",smooth:{enabled:!1}},interaction:{hover:!0,zoomView:!0}},i||{}),this.clusterDelta={},this._event=[],this._init()}return s(t,[{key:"_isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"_merge",value:function(t,e){if(this._isObject(t)&&this._isObject(e)){for(var n in e)this._isObject(e[n])&&this._isObject(t[n])?t[n]=this._merge(t[n],e[n]):t[n]=e[n];return t}console.error("target or source must be Object")}},{key:"_init",value:function(){this.graph=new c.a.Network(this.el,this.data,this.option)}},{key:"_destory",value:function(){var t=this;this._event.forEach((function(e){return t.graph.off(e.type,e.handler)})),this.clusterDelta={},this._event=[]}},{key:"_clusterClick",value:function(t){var e=this;if(t.nodes.length){var n=t.nodes[0];this.graph.isCluster(n)&&(this.clusterDelta[n]=this.clusterDelta[n]||{},this.graph.openCluster(n,{releaseFunction:function(t,i){var r={};for(var o in i)r[o]={x:i[o].x+(e.clusterDelta[n].x||0),y:i[o].y+(e.clusterDelta[n].y||0)};return r}}))}}},{key:"_clusterDragEnd",value:function(t){if(t.nodes.length){var e=t.nodes[0];this.graph.isCluster(e)&&(this.clusterDelta[e]=this.clusterDelta[e]||{x:0,y:0},this.clusterDelta[e].x+=t.event.deltaX,this.clusterDelta[e].y+=t.event.deltaY)}}},{key:"cluster",value:function(t){this.graph.cluster(t)}},{key:"setData",value:function(t){this.graph.setData(t)}},{key:"dataSet",value:function(t){return new c.a.DataSet(t)}}]),t}(),l=h,d=n("8e8a"),f=new c.a.DataSet(d["d"].filter((function(t){return"nodes"===t.group})).map((function(t){return t.data}))),p=new c.a.DataSet(d["d"].filter((function(t){return"edges"===t.group})).map((function(t){return t.data.from=t.data.source,t.data.to=t.data.target,t.data}))),g={nodes:f,edges:p},v={name:"vis",data:function(){return{progress:0,grapha:null}},methods:{},mounted:function(){console.log("visdata = ",g);new l(this.$refs.vis,g,{edges:{shadow:!0,smooth:!0,arrows:{to:!0}},nodes:{shape:"dot",size:30,font:{size:10},borderWidth:2,shadow:!0}})}},m=v,y=(n("3556"),n("7a3f")),b=Object(y["a"])(m,i,r,!1,null,"2407eecf",null);e["default"]=b.exports},"7a39":function(t,e,n){t.exports=n.p+"img/computer.5b459181.svg"},"7a9e":function(t,e,n){},"7c75":function(t,e,n){t.exports=n.p+"img/person.9cb95bf6.svg"},"8b4e":function(t,e,n){},"8e8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u}));n("910d"),n("ccaa"),n("c5f7"),n("3a03"),n("0ed8"),n("bed1"),n("6689");var i=["hospital","clothes","computer","person","flower","tree","desk","house","water","cup"],r=["has","goto","love"],o=["2017","2018","2019"];function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(t||"")+Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)}function s(t){for(var e=[],n=0;n<t;n++){var r=i[Math.floor(Math.random()*i.length)],o={id:a("node_"),group:r,parent:r};o.label=o.group+"-node"+n,e.push({group:"nodes",data:o,id:o.id})}return e}function u(t,e){for(var n=[],i=0;i<e-1;i++){var s=t[i+1].data.id,u=t[Math.floor(Math.sqrt(i))].data.id,c={target:s,source:u,id:a("edge_"),group:r[Math.floor(Math.random()*r.length)],time:o[Math.floor(Math.random()*o.length)]+"-"+Math.ceil(12*Math.random())+"-"+Math.ceil(30*Math.random())};c.label="edge"+i,c.name="edge"+i,n.push({data:c,group:"edges",id:c.id})}return n}function c(t,e){var n=t.map((function(t){return{group:"edges",data:{target:t.data.id,source:e,id:a("edge_"),group:r[Math.floor(Math.random()*r.length)],label:t.data.id+"-"+e,name:t.data.id+"-"+e}}}));return n}function h(t){var e=s(t),n=u(e,t);return e.concat(n)}function l(t,e){var n=s(e),i=c(n,t);return n.concat(i)}e["d"]=h(20)},a80d:function(module,exports,__webpack_require__){!function(t,e){module.exports=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=481)}([function(t,e,n){var i=n(111),r={};i.merge(r,i,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var i={};r.each(e,(function(e){r.augment(t,e);var o=e[n];o&&r.merge(i,o)})),t[n]=r.merge(i,t[n])}}}),t.exports=r},function(t,e,n){var i={},r=n(175),o=n(438),a=n(73),s=n(437),u=n(436),c=n(435);a.deepMix(i,a,s,o,r,u,c),t.exports=i},function(t,e,n){var i=n(15),r=n(3),o=5;function a(t,e,n,s){for(var u in n=n||0,s=s||o,e)if(e.hasOwnProperty(u)){var c=e[u];null!==c&&i(c)?(i(t[u])||(t[u]={}),n<s?a(t[u],c,n+1,s):t[u]=e[u]):r(c)?(t[u]=[],t[u]=t[u].concat(c)):void 0!==c&&(t[u]=c)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],r=1;r<e;r++)a(i,t[r]);return i}},function(t,e,n){var i=n(4),r=Array.isArray?Array.isArray:function(t){return i(t,"Array")};t.exports=r},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){var i;try{i={cloneDeep:n(294),constant:n(90),defaults:n(293),each:n(152),filter:n(149),find:n(292),flatten:n(122),forEach:n(151),forIn:n(287),has:n(138),isUndefined:n(137),last:n(286),map:n(136),mapValues:n(285),max:n(284),merge:n(282),min:n(276),minBy:n(275),now:n(274),pick:n(273),range:n(268),reduce:n(134),sortBy:n(265),uniqueId:n(260),values:n(129),zipObject:n(259)}}catch(t){}i||(i=window._),t.exports=i},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var i=n(12),r=n(3);t.exports=function(t,e){if(t)if(r(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(i(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},,function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports={version:"3.2.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultShapeFillColor:"#91d5ff",defaultShapeStrokeColor:"#91d5ff",defaultNode:{shape:"circle",style:{fill:"#fff"},size:40,color:"#333"},defaultEdge:{shape:"line",style:{},size:1,color:"#333"},nodeLabel:{style:{fill:"#595959",textAlign:"center",textBaseline:"middle"},offset:5},edgeLabel:{style:{fill:"#595959",textAlign:"center",textBaseline:"middle"}},nodeStateStyle:{active:{fillOpacity:.8},selected:{lineWidth:2}},edgeStateStyle:{active:{strokeOpacity:.8},selected:{lineWidth:2}},loopPosition:"top",delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}}},function(t,e,n){var i=n(0),r=n(458),o=n(192),a=n(106),s=["zIndex","capture","visible"],u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={},i.extend(u,o);var c={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};i.augment(u,r,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var r=e.fillOpacity;i.isNil(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var o=e.strokeOpacity;i.isNil(o)||1===o||(t.globalAlpha=o),t.stroke()}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var i=this.getBBox();if(i&&!a.box(i.minX,i.maxX,i.minY,i.maxY,n[0],n[1]))return!1}var r=this._attrs.clip;return r?(r.invert(n,this.get("canvas")),!!r.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=this,e=null,n=t._attrs,r={};return i.each(n,(function(t,e){c[e]&&i.isArray(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)i.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]})),e=new t.constructor({attrs:r}),i.each(s,(function(n){e._cfg[n]=t._cfg[n]})),e}}),t.exports=u},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";var i=n(5),r=n(23).Graph;function o(t,e,n,r){var o;do{o=i.uniqueId(r)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return i.max(i.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!i.isUndefined(n))return n})))}t.exports={addDummyNode:o,simplify:function(t){var e=(new r).setGraph(t.graph());return i.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),i.forEach(t.edges(),(function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},r=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})})),e},asNonCompoundGraph:function(t){var e=new r({multigraph:t.isMultigraph()}).setGraph(t.graph());return i.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),i.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=i.map(t.nodes(),(function(e){var n={};return i.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return i.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=i.map(t.nodes(),(function(e){var n={};return i.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return i.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,i,r=t.x,o=t.y,a=e.x-r,s=e.y-o,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,i=c):(a<0&&(u=-u),n=u,i=u*s/a),{x:r+n,y:o+i}},buildLayerMatrix:function(t){var e=i.map(i.range(a(t)+1),(function(){return[]}));return i.forEach(t.nodes(),(function(n){var r=t.node(n),o=r.rank;i.isUndefined(o)||(e[o][r.order]=n)})),e},normalizeRanks:function(t){var e=i.min(i.map(t.nodes(),(function(e){return t.node(e).rank})));i.forEach(t.nodes(),(function(n){var r=t.node(n);i.has(r,"rank")&&(r.rank-=e)}))},removeEmptyRanks:function(t){var e=i.min(i.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];i.forEach(t.nodes(),(function(i){var r=t.node(i).rank-e;n[r]||(n[r]=[]),n[r].push(i)}));var r=0,o=t.graph().nodeRankFactor;i.forEach(n,(function(e,n){i.isUndefined(e)&&n%o!=0?--r:r&&i.forEach(e,(function(e){t.node(e).rank+=r}))}))},addBorderNode:function(t,e,n,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=i),o(t,"border",r,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return i.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=i.now();try{return e()}finally{console.log(t+" time: "+(i.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var i=n(14),r=n(4);t.exports=function(t){if(!i(t)||!r(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var i=n(4);t.exports=function(t){return i(t,"String")}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var i;try{i={clone:n(406),constant:n(90),each:n(152),filter:n(149),has:n(138),isArray:n(6),isEmpty:n(330),isFunction:n(49),isUndefined:n(137),keys:n(29),map:n(136),reduce:n(134),size:n(327),transform:n(321),union:n(320),values:n(129)}}catch(t){}i||(i=window._),t.exports=i},function(t,e,n){var i=n(1);n(434);var r={},o={};function a(t){return o[t]||(o[t]=i.upperFirst(t)),o[t]}var s={defaultShapeType:null,getShape:function(t){return this[t]||this[this.defaultShapeType]},draw:function(t,e,n){var i=this.getShape(t),r=i.draw(e,n);return i.afterDraw(e,n,r),r},update:function(t,e,n){var i=this.getShape(t);i.update&&(i.update(e,n),i.afterUpdate(e,n))},setState:function(t,e,n,i){this.getShape(t).setState(e,n,i)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},u={options:{},getCustomConfig:function(){},draw:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.getCustomConfig(t)||{},n=this.options.anchorPoints,i=e.anchorPoints;return t.anchorPoints||i||n}};r.registerFactory=function(t,e){var n=a(t),o=i.mix({},s,e);return r[n]=o,o.className=n,function(t){var e="register"+t.className;r[e]=function(e,n,r){var o=r?t.getShape(r):u,a=i.mix({},o,n);return a.type=e,t[e]=a,a}}(o),o},r.getFactory=function(t){return this[t=a(t)]},t.exports=r},function(t,e){var n=document.createElement("table"),i=document.createElement("tr"),r=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:i,th:i,"*":document.createElement("div")};t.exports=function(t){var e=r.test(t)&&RegExp.$1;e in o||(e="*");var n=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var i=n.childNodes[0];return n.removeChild(i),i}},function(t,e,n){var i=n(169),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e,n){var i;try{i=n(408)}catch(t){}i||(i=window.graphlib),t.exports=i},function(t,e,n){var i=n(71),r={registerLayout:function(t,e){if(!e)throw new Error("please specify handler for this layout:"+t);var n=function(t){i.mix(this,this.getDefaultCfg(),t)};i.augment(n,{init:function(t){this.nodes=t.nodes,this.edges=t.edges},execute:function(){},layout:function(t){this.init(t),this.execute()},updateCfg:function(t){i.mix(this,t)},destroy:function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},getDefaultCfg:function(){}},e),r[t]=n}};t.exports=r},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e,n){var i=n(350),r=n(340),o=n(30),a=n(6),s=n(333);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?r(t[0],t[1]):i(t):s(t)}},function(t,e,n){var i=n(49),r=n(96);t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},function(t,e,n){var i=n(166),r=n(94),o=n(28);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var i=n(38),r=n(394),o=n(393),a="[object Null]",s="[object Undefined]",u=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?r(t):o(t)}},function(t,e,n){var i=n(395),r=n(390);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=62)}([function(t,e,n){var i=n(12),r={};i.merge(r,i,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var i={};r.each(e,(function(e){r.augment(t,e);var o=e[n];o&&r.merge(i,o)})),t[n]=r.merge(i,t[n])}}}),t.exports=r},function(t,e,n){var i=n(0),r=n(96),o=n(38),a=n(19),s=["zIndex","capture","visible"],u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={},i.extend(u,o);var c={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};i.augment(u,r,{isShape:!0,drawInner:function(t){var e=this._attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var r=e.fillOpacity;i.isNil(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var o=e.strokeOpacity;i.isNil(o)||1===o||(t.globalAlpha=o),t.stroke()}this.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var i=this.getBBox();if(i&&!a.box(i.minX,i.maxX,i.minY,i.maxY,n[0],n[1]))return!1}var r=this._attrs.clip;return r?(r.invert(n,this.get("canvas")),!!r.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=this,e=null,n=t._attrs,r={};return i.each(n,(function(t,e){c[e]&&i.isArray(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)i.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]})),e=new t.constructor({attrs:r}),i.each(s,(function(n){e._cfg[n]=t._cfg[n]})),e}}),t.exports=u},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";var i=n(25);n.d(e,"a",(function(){return i.e})),n.d(e,"f",(function(){return i.g})),n.d(e,"d",(function(){return i.f}));var r=n(113);n.d(e,"e",(function(){return r.a})),n.d(e,"c",(function(){return r.b}));var o=n(114);n.d(e,"b",(function(){return o.a}))},function(t,e,n){var i=n(0),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;t.exports={parseRadius:function(t){var e=0,n=0,r=0,o=0;return i.isArray(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t,{r1:e,r2:n,r3:r,r4:o}},parsePath:function(t){return t=t||[],i.isArray(t)?t:i.isString(t)?(t=t.match(r),i.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}i.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}}},function(t,e,n){"use strict";e.c=function(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(i.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Object(i.a)(isNaN(e)?n:e)}},e.a=o;var i=n(57);function r(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?r(t,n):Object(i.a)(isNaN(t)?e:t)}},function(t,e,n){var i=n(2),r=Array.isArray?Array.isArray:function(t){return i(t,"Array")};t.exports=r},function(t,e,n){var i=n(0).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,r,o,a){var s=[n-t,r-e];if(i.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];i.normalize(u,u);var c=[o-t,a-e];return Math.abs(i.dot(c,u))},box:function(t,e,n,i,r){var o=r/2,a=Math.min(t,n),s=Math.max(t,n);return{minX:a-o,minY:Math.min(e,i)-o,maxX:s+o,maxY:Math.max(e,i)+o}},len:function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}}},function(t,e,n){var i=n(0);function r(t,e,n,i){return{x:Math.cos(i)*n+t,y:Math.sin(i)*n+e}}function o(t,e,n,i){var r,o;return i?t<e?(r=e-t,o=2*Math.PI-n+t):t>n&&(r=2*Math.PI-t+e,o=t-n):(r=t-e,o=n-t),r>o?n:e}function a(t,e,n,r){var a=0;return n-e>=2*Math.PI&&(a=2*Math.PI),e=i.mod(e,2*Math.PI),n=i.mod(n,2*Math.PI)+a,t=i.mod(t,2*Math.PI),r?e>=n?t>n&&t<e?t:o(t,n,e,!0):t<e||t>n?t:o(t,e,n):e<=n?e<t&&t<n?t:o(t,e,n,!0):t>e||t<n?t:o(t,n,e)}function s(t,e,n,r,o,s,u,c,h){var l=[u,c],d=[t,e],f=i.vec2.subtract([],l,d),p=i.vec2.angleTo([1,0],f);p=a(p,r,o,s);var g=[n*Math.cos(p)+t,n*Math.sin(p)+e];return h&&(h.x=g[0],h.y=g[1]),i.vec2.distance(g,l)}t.exports={nearAngle:a,projectPoint:function(t,e,n,i,r,o,a,u){var c={};return s(t,e,n,i,r,o,a,u,c),c},pointDistance:s,box:function(t,e,n,o,s,u){var c=Math.PI/2,h=Math.PI,l=3*Math.PI/2,d=[],f=a(0,o,s,u);0===f&&d.push(r(t,e,n,0)),(f=a(c,o,s,u))===c&&d.push(r(t,e,n,c)),(f=a(h,o,s,u))===h&&d.push(r(t,e,n,h)),(f=a(l,o,s,u))===l&&d.push(r(t,e,n,l)),d.push(r(t,e,n,o)),d.push(r(t,e,n,s));var p=1/0,g=-1/0,v=1/0,m=-1/0;return i.each(d,(function(t){p>t.x&&(p=t.x),g<t.x&&(g=t.x),v>t.y&&(v=t.y),m<t.y&&(m=t.y)})),{minX:p,minY:v,maxX:g,maxY:m}}}},function(t,e,n){var i=n(4),r=n(10),o=Math.PI,a=Math.sin,s=Math.cos,u=Math.atan2,c=10,h=o/3;function l(t,e,n,i,r,l,d){var f,p,g,v,m,y,b;if(!e.fill){var x=e.arrowLength||c,w=e.arrowAngle?e.arrowAngle*o/180:h;b=u(i-l,n-r),m=Math.abs(e.lineWidth*s(b))/2,y=Math.abs(e.lineWidth*a(b))/2,d&&(m=-m,y=-y),f=r+x*s(b+w/2),p=l+x*a(b+w/2),g=r+x*s(b-w/2),v=l+x*a(b-w/2),t.beginPath(),t.moveTo(f-m,p-y),t.lineTo(r-m,l-y),t.lineTo(g-m,v-y),t.moveTo(r-m,l-y),t.lineTo(r+m,l+y),t.moveTo(r,l),t.stroke()}}function d(t,e,n,o,u,c,h){var l=h?e.startArrow:e.endArrow,d=l.d,f=u-n,p=c-o,g=Math.atan2(p,f),v=function(t){var e,n=[],o=i.parsePath(t.path);if(!Array.isArray(o)||0===o.length||"M"!==o[0][0]&&"m"!==o[0][0])return!1;for(var a=o.length,s=0;s<o.length;s++){var u=o[s];e=new r(u,e,s===a-1),n.push(e)}return n}(l);if(v){d&&(u-=s(g)*d,c-=a(g)*d),t.save(),t.beginPath(),t.translate(u,c),t.rotate(g);for(var m=0;m<v.length;m++)v[m].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,i,r,o){"object"==typeof e.startArrow?d(t,e,n,i,r,o,!0):e.startArrow&&l(t,e,n,i,r,o,!0)},addEndArrow:function(t,e,n,i,r,o){"object"==typeof e.endArrow?d(t,e,n,i,r,o,!1):e.endArrow&&l(t,e,n,i,r,o,!1)},getShortenOffset:function(t,e,n,i,r){var o=Math.atan2(i-e,n-t);return{dx:s(o)*r,dy:a(o)*r}}}},function(t,e,n){var i=n(0),r=n(19),o=n(20),a=n(40),s=n(41),u=i.vec3,c=i.mat3,h=["m","l","c","a","q","h","v","t","s","z"];function l(t,e,n){return{x:n.x+t,y:n.y+e}}function d(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function f(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function p(t,e){return(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e))}function g(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(p(t,e))}var v=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};i.augment(v,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var r,o,a,s,u=h.indexOf(n)>=0,c=u?n.toUpperCase():n,f=t,v=e.endPoint,m=f[1],y=f[2];switch(c){default:break;case"M":s=u?l(m,y,v):{x:m,y:y},this.command="M",this.params=[v,s],this.subStart=s,this.endPoint=s;break;case"L":s=u?l(m,y,v):{x:m,y:y},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"H":s=u?l(m,0,v):{x:m,y:v.y},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"V":s=u?l(0,m,v):{x:v.x,y:m},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"Q":u?(r=l(m,y,v),o=l(f[3],f[4],v)):(r={x:m,y:y},o={x:f[3],y:f[4]}),this.command="Q",this.params=[v,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]};break;case"T":o=u?l(m,y,v):{x:m,y:y},"Q"===e.command?(r=d(e.params[1],v),this.command="Q",this.params=[v,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]}):(this.command="TL",this.params=[v,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-v.x,o.y-v.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]});break;case"C":u?(r=l(m,y,v),o=l(f[3],f[4],v),a=l(f[5],f[6],v)):(r={x:m,y:y},o={x:f[3],y:f[4]},a={x:f[5],y:f[6]}),this.command="C",this.params=[v,r,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]};break;case"S":u?(o=l(m,y,v),a=l(f[3],f[4],v)):(o={x:m,y:y},a={x:f[3],y:f[4]}),"C"===e.command?(r=d(e.params[2],v),this.command="C",this.params=[v,r,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]}):(this.command="SQ",this.params=[v,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]});break;case"A":var b=m,x=y,w=f[3],_=f[4],M=f[5];s=u?l(f[6],f[7],v):{x:f[6],y:f[7]},this.command="A";var k=function(t,e,n,r,o,a,s){var u=i.mod(i.toRadian(s),2*Math.PI),c=t.x,h=t.y,l=e.x,d=e.y,f=Math.cos(u)*(c-l)/2+Math.sin(u)*(h-d)/2,v=-1*Math.sin(u)*(c-l)/2+Math.cos(u)*(h-d)/2,m=f*f/(o*o)+v*v/(a*a);m>1&&(o*=Math.sqrt(m),a*=Math.sqrt(m));var y=o*o*(v*v)+a*a*(f*f),b=Math.sqrt((o*o*(a*a)-y)/y);n===r&&(b*=-1),isNaN(b)&&(b=0);var x=b*o*v/a,w=b*-a*f/o,_=(c+l)/2+Math.cos(u)*x-Math.sin(u)*w,M=(h+d)/2+Math.sin(u)*x+Math.cos(u)*w,k=g([1,0],[(f-x)/o,(v-w)/a]),S=[(f-x)/o,(v-w)/a],E=[(-1*f-x)/o,(-1*v-w)/a],C=g(S,E);return p(S,E)<=-1&&(C=Math.PI),p(S,E)>=1&&(C=0),0===r&&C>0&&(C-=2*Math.PI),1===r&&C<0&&(C+=2*Math.PI),[t,_,M,o,a,k,C,u,r]}(v,s,_,M,b,x,w);this.params=k;var S=e.subStart;this.subStart=S,this.endPoint=s;var E=k[5]%(2*Math.PI);i.isNumberEqual(E,2*Math.PI)&&(E=0);var C=k[6]%(2*Math.PI);i.isNumberEqual(C,2*Math.PI)&&(C=0);var T=.001;this.startTangent=function(){0===M&&(T*=-1);var t=k[3]*Math.cos(E-T)+k[1],e=k[4]*Math.sin(E-T)+k[2];return[t-S.x,e-S.y]},this.endTangent=function(){var t=k[6];t-2*Math.PI<1e-4&&(t=0);var e=k[3]*Math.cos(E+t+T)+k[1],n=k[4]*Math.sin(E+t-T)+k[2];return[v.x-e,v.y-n]};break;case"Z":this.command="Z",this.params=[v,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var i=this.command,o=this.params,a=this.box;if(a&&!r.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(i){default:break;case"M":return!1;case"TL":case"L":case"Z":return r.line(o[0].x,o[0].y,o[1].x,o[1].y,n,t,e);case"SQ":case"Q":return r.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,n,t,e);case"C":return r.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,n,t,e);case"A":var s=o,h=s[1],l=s[2],d=s[3],f=s[4],p=s[5],g=s[6],v=s[7],m=s[8],y=d>f?d:f,b=d>f?1:d/f,x=d>f?f/d:1;s=[t,e,1];var w=[1,0,0,0,1,0,0,0,1];return c.translate(w,w,[-h,-l]),c.rotate(w,w,-v),c.scale(w,w,[1/b,1/x]),u.transformMat3(s,s,w),r.arcline(0,0,y,p,p+g,1-m,n,s[0],s[1])}return!1},draw:function(t){var e,n,i,r=this.command,o=this.params;switch(r){default:break;case"M":t.moveTo(o[1].x,o[1].y);break;case"TL":case"L":t.lineTo(o[1].x,o[1].y);break;case"SQ":case"Q":e=o[1],n=o[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=o[1],n=o[2],i=o[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,i.x,i.y);break;case"A":var a=o,s=a[1],u=a[2],c=a[3],h=a[4],l=a[5],d=a[6],f=a[7],p=a[8],g=c>h?c:h,v=c>h?1:c/h,m=c>h?h/c:1;t.translate(s,u),t.rotate(f),t.scale(v,m),t.arc(0,0,g,l,l+d,1-p),t.scale(1/v,1/m),t.rotate(-f),t.translate(-s,-u);break;case"Z":t.closePath()}},shortenDraw:function(t,e,n){var i,r,o,a=this.command,s=this.params;switch(a){default:break;case"M":t.moveTo(s[1].x-e,s[1].y-n);break;case"TL":case"L":t.lineTo(s[1].x-e,s[1].y-n);break;case"SQ":case"Q":i=s[1],r=s[2],t.quadraticCurveTo(i.x,i.y,r.x-e,r.y-n);break;case"C":i=s[1],r=s[2],o=s[3],t.bezierCurveTo(i.x,i.y,r.x,r.y,o.x-e,o.y-n);break;case"A":var u=s,c=u[1],h=u[2],l=u[3],d=u[4],f=u[5],p=u[6],g=u[7],v=u[8],m=l>d?l:d,y=l>d?1:l/d,b=l>d?d/l:1;t.translate(c,h),t.rotate(g),t.scale(y,b),t.arc(0,0,m,f,f+p,1-v),t.scale(1/y,1/b),t.rotate(-g),t.translate(-c,-h);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,i,r,u=t/2,c=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(c[0].x,c[1].x)-u,maxX:Math.max(c[0].x,c[1].x)+u,minY:Math.min(c[0].y,c[1].y)-u,maxY:Math.max(c[0].y,c[1].y)+u};break;case"SQ":case"Q":for(i=0,r=(n=a.extrema(c[0].x,c[1].x,c[2].x)).length;i<r;i++)n[i]=a.at(c[0].x,c[1].x,c[2].x,n[i]);for(n.push(c[0].x,c[2].x),i=0,r=(e=a.extrema(c[0].y,c[1].y,c[2].y)).length;i<r;i++)e[i]=a.at(c[0].y,c[1].y,c[2].y,e);e.push(c[0].y,c[2].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"C":for(i=0,r=(n=o.extrema(c[0].x,c[1].x,c[2].x,c[3].x)).length;i<r;i++)n[i]=o.at(c[0].x,c[1].x,c[2].x,c[3].x,n[i]);for(i=0,r=(e=o.extrema(c[0].y,c[1].y,c[2].y,c[3].y)).length;i<r;i++)e[i]=o.at(c[0].y,c[1].y,c[2].y,c[3].y,e[i]);n.push(c[0].x,c[3].x),e.push(c[0].y,c[3].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"A":var h=c,l=h[1],d=h[2],f=h[3],p=h[4],g=h[5],v=h[6],m=h[7],y=h[8],b=g,x=g+v,w=s.xExtrema(m,f,p),_=1/0,M=-1/0,k=[b,x];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var S=w+i;1===y?b<S&&S<x&&k.push(S):x<S&&S<b&&k.push(S)}for(i=0,r=k.length;i<r;i++){var E=s.xAt(m,f,p,l,k[i]);E<_&&(_=E),E>M&&(M=E)}var C=s.yExtrema(m,f,p),T=1/0,P=-1/0,A=[b,x];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var O=C+i;1===y?b<O&&O<x&&A.push(O):x<O&&O<b&&A.push(O)}for(i=0,r=A.length;i<r;i++){var D=s.yAt(m,f,p,d,A[i]);D<T&&(T=D),D>P&&(P=D)}this.box={minX:_-u,maxX:M+u,minY:T-u,maxY:P+u}}}}),t.exports=v},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){t.exports={isFunction:n(13),isObject:n(28),isBoolean:n(64),isNil:n(14),isString:n(29),isArray:n(6),isNumber:n(65),isEmpty:n(66),uniqueId:n(69),clone:n(30),deepMix:n(31),assign:n(16),merge:n(31),upperFirst:n(71),each:n(33),isEqual:n(73),toArray:n(34),extend:n(74),augment:n(75),remove:n(76),isNumberEqual:n(77),toRadian:n(78),toDegree:n(79),mod:n(80),clamp:n(35),createDom:n(81),modifyCSS:n(82),requestAnimationFrame:n(83),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(36),vec2:n(85),vec3:n(87),transform:n(89)}},function(t,e,n){var i=n(2);t.exports=function(t){return i(t,"Function")}},function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,i,r){return e&&n(t,e),i&&n(t,i),r&&n(t,r),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*r},e.equals=function(t,e){return Math.abs(t-e)<=i*Math.max(1,Math.abs(t),Math.abs(e))};var i=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var r=Math.PI/180},function(t,e,n){var i=n(0),r=function(t,e,n,i){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};i.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return i.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=r},function(t,e,n){var i=n(7),r=n(40),o=n(20),a=n(8);t.exports={line:function(t,e,n,r,o,a,s){var u=i.box(t,e,n,r,o);if(!this.box(u.minX,u.maxX,u.minY,u.maxY,a,s))return!1;var c=i.pointDistance(t,e,n,r,a,s);return!isNaN(c)&&c<=o/2},polyline:function(t,e,n,i){var r=t.length-1;if(r<1)return!1;for(var o=0;o<r;o++){var a=t[o][0],s=t[o][1],u=t[o+1][0],c=t[o+1][1];if(this.line(a,s,u,c,e,n,i))return!0}return!1},cubicline:function(t,e,n,i,r,a,s,u,c,h,l){return o.pointDistance(t,e,n,i,r,a,s,u,h,l)<=c/2},quadraticline:function(t,e,n,i,o,a,s,u,c){return r.pointDistance(t,e,n,i,o,a,u,c)<=s/2},arcline:function(t,e,n,i,r,o,s,u,c){return a.pointDistance(t,e,n,i,r,o,u,c)<=s/2},rect:function(t,e,n,i,r,o){return t<=r&&r<=t+n&&e<=o&&o<=e+i},circle:function(t,e,n,i,r){return Math.pow(i-t,2)+Math.pow(r-e,2)<=Math.pow(n,2)},box:function(t,e,n,i,r,o){return t<=r&&r<=e&&n<=o&&o<=i}}},function(t,e,n){var i=n(0),r=i.vec2;function o(t,e,n,i,r){var o=1-r;return o*o*(o*i+3*r*n)+r*r*(r*t+3*o*e)}function a(t,e,n,i,a,s,u,c,h,l,d){var f,p,g,v,m,y,b,x,w=.005,_=1/0,M=[h,l];for(p=0;p<1;p+=.05)g=[o(t,n,a,u,p),o(e,i,s,c,p)],(v=r.squaredDistance(M,g))<_&&(f=p,_=v);_=1/0;for(var k=0;k<32&&!(w<1e-4);k++)x=f+w,g=[o(t,n,a,u,b=f-w),o(e,i,s,c,b)],v=r.squaredDistance(M,g),b>=0&&v<_?(f=b,_=v):(y=[o(t,n,a,u,x),o(e,i,s,c,x)],m=r.squaredDistance(M,y),x<=1&&m<_?(f=x,_=m):w*=.5);return d&&(d.x=o(t,n,a,u,f),d.y=o(e,i,s,c,f)),Math.sqrt(_)}function s(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}t.exports={at:o,derivativeAt:function(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)},projectPoint:function(t,e,n,i,r,o,s,u,c,h){var l={};return a(t,e,n,i,r,o,s,u,c,h,l),l},pointDistance:a,extrema:function(t,e,n,r){var o,a,s,u=3*t-9*e+9*n-3*r,c=6*e-12*n+6*r,h=3*n-3*r,l=[];if(i.isNumberEqual(u,0))i.isNumberEqual(c,0)||(o=-h/c)>=0&&o<=1&&l.push(o);else{var d=c*c-4*u*h;i.isNumberEqual(d,0)?l.push(-c/(2*u)):d>0&&(a=(-c-(s=Math.sqrt(d)))/(2*u),(o=(-c+s)/(2*u))>=0&&o<=1&&l.push(o),a>=0&&a<=1&&l.push(a))}return l},len:function(t,e,n,r,o,a,u,c,h){i.isNil(h)&&(h=1);for(var l=(h=h>1?1:h<0?0:h)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<12;g++){var v=l*d[g]+l,m=s(v,t,n,o,u),y=s(v,e,r,a,c),b=m*m+y*y;p+=f[g]*Math.sqrt(b)}return l*p}}},function(t,e,n){var i=n(0),r=n(1),o=n(4),a=n(10),s=function t(e){t.superclass.constructor.call(this,e)};s.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["z"]]},"triangle-down":function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},s.ATTRS={path:null,lineWidth:1},i.extend(s,r),i.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.radius,r=this.getHitLineWidth()/2+i;return{minX:e-r,minY:n-r,maxX:e+r,maxY:n+r}},_getPath:function(){var t,e=this._attrs,n=e.x,r=e.y,o=e.radius||e.r,a=e.symbol||"circle";return(t=i.isFunction(a)?a:s.Symbols[a])?t(n,r,o):(console.warn(a+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,i=o.parsePath(this._getPath());t.beginPath(),e=[];for(var r=0;r<i.length;r++){var s=i[r];n=new a(s,n,r===i.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var u=0;u<e.length;u++)e[u].draw(t)}}}),t.exports=s},function(t,e,n){var i=n(12),r="\t\n\v\f\r \u2028\u2029",o=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),s=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(t,i,r){var o=[],s=i.toLowerCase();if(r.replace(a,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(n.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&n.push([i,o[0]]),"r"===s)n.push([i].concat(o));else for(;o.length>=e[s]&&(n.push([i].concat(o.splice(0,e[s]))),e[s]););})),n},u=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},c=function(t,e,n,i,r){var o=[];if(null===r&&null===i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!==r){var a=Math.PI/180,s=t+n*Math.cos(-i*a),u=t+n*Math.cos(-r*a);o=[["M",s,e+n*Math.sin(-i*a)],["A",n,n,0,+(r-i>180),0,u,e+n*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return o},h=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,i=[],r=0,o=0,a=0,h=0,l=0;"M"===t[0][0]&&(a=r=+t[0][1],h=o=+t[0][2],l++,i[0]=["M",r,o]);for(var d,f,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=l,v=t.length;g<v;g++){if(i.push(d=[]),(e=(f=t[g])[0])!==e.toUpperCase())switch(d[0]=e.toUpperCase(),d[0]){case"A":d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=+f[6]+r,d[7]=+f[7]+o;break;case"V":d[1]=+f[1]+o;break;case"H":d[1]=+f[1]+r;break;case"R":for(var m=2,y=(n=[r,o].concat(f.slice(1))).length;m<y;m++)n[m]=+n[m]+r,n[++m]=+n[m]+o;i.pop(),i=i.concat(u(n,p));break;case"O":i.pop(),(n=c(r,o,f[1],f[2])).push(n[0]),i=i.concat(n);break;case"U":i.pop(),i=i.concat(c(r,o,f[1],f[2],f[3])),d=["U"].concat(i[i.length-1].slice(-2));break;case"M":a=+f[1]+r,h=+f[2]+o;break;default:for(var b=1,x=f.length;b<x;b++)d[b]=+f[b]+(b%2?r:o)}else if("R"===e)n=[r,o].concat(f.slice(1)),i.pop(),i=i.concat(u(n,p)),d=["R"].concat(f.slice(-2));else if("O"===e)i.pop(),(n=c(r,o,f[1],f[2])).push(n[0]),i=i.concat(n);else if("U"===e)i.pop(),i=i.concat(c(r,o,f[1],f[2],f[3])),d=["U"].concat(i[i.length-1].slice(-2));else for(var w=0,_=f.length;w<_;w++)d[w]=f[w];if("O"!==(e=e.toUpperCase()))switch(d[0]){case"Z":r=+a,o=+h;break;case"H":r=d[1];break;case"V":o=d[1];break;case"M":a=d[d.length-2],h=d[d.length-1];break;default:r=d[d.length-2],o=d[d.length-1]}}return i},l=function(t,e,n,i){return[t,e,n,i,n,i]},d=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},f=function(t,e){var n,i=h(t),r=e&&h(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",f="",p=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,i,r,o,a,s,u,c,h){i===r&&(i+=1);var l,d,f,p,g,v=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(h)d=h[0],f=h[1],p=h[2],g=h[3];else{e=(l=b(e,n,-m)).x,n=l.y,u=(l=b(u,c,-m)).x,c=l.y,e===u&&n===c&&(u+=1,c+=1);var x=(e-u)/2,w=(n-c)/2,_=x*x/(i*i)+w*w/(r*r);_>1&&(i*=_=Math.sqrt(_),r*=_);var M=i*i,k=r*r,S=(a===s?-1:1)*Math.sqrt(Math.abs((M*k-M*w*w-k*x*x)/(M*w*w+k*x*x)));p=S*i*w/r+(e+u)/2,g=S*-r*x/i+(n+c)/2,d=Math.asin(((n-g)/r).toFixed(9)),f=Math.asin(((c-g)/r).toFixed(9)),d=e<p?Math.PI-d:d,f=u<p?Math.PI-f:f,d<0&&(d=2*Math.PI+d),f<0&&(f=2*Math.PI+f),s&&d>f&&(d-=2*Math.PI),!s&&f>d&&(f-=2*Math.PI)}var E=f-d;if(Math.abs(E)>v){var C=f,T=u,P=c;f=d+v*(s&&f>d?1:-1),y=t(u=p+i*Math.cos(f),c=g+r*Math.sin(f),i,r,o,0,s,T,P,[f,C,p,g])}E=f-d;var A=Math.cos(d),O=Math.sin(d),D=Math.cos(f),N=Math.sin(f),I=Math.tan(E/4),L=4/3*i*I,j=4/3*r*I,B=[e,n],R=[e+L*O,n-j*A],z=[u+L*N,c-j*D],F=[u,c];if(R[0]=2*B[0]-R[0],R[1]=2*B[1]-R[1],h)return[R,z,F].concat(y);for(var Y=[],H=0,W=(y=[R,z,F].concat(y).join().split(",")).length;H<W;H++)Y[H]=H%2?b(y[H-1],y[H],m).y:b(y[H],y[H+1],m).x;return Y}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(l(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(l(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(l(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(l(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",r&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(i.length,r&&r.length||0)}},v=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(i.length,r&&r.length||0))};n=Math.max(i.length,r&&r.length||0);for(var m=0;m<n;m++){i[m]&&(c=i[m][0]),"C"!==c&&(s[m]=c,m&&(f=s[m-1])),i[m]=p(i[m],o,f),"A"!==s[m]&&"C"===c&&(s[m]="C"),g(i,m),r&&(r[m]&&(c=r[m][0]),"C"!==c&&(u[m]=c,m&&(f=u[m-1])),r[m]=p(r[m],a,f),"A"!==u[m]&&"C"===c&&(u[m]="C"),g(r,m)),v(i,r,o,a,m),v(r,i,a,o,m);var y=i[m],b=r&&r[m],x=y.length,w=r&&b.length;o.x=y[x-2],o.y=y[x-1],o.bx=parseFloat(y[x-4])||o.x,o.by=parseFloat(y[x-3])||o.y,a.bx=r&&(parseFloat(b[w-4])||a.x),a.by=r&&(parseFloat(b[w-3])||a.y),a.x=r&&b[w-2],a.y=r&&b[w-1]}return r?[i,r]:i},p=/,?([a-z]),?/gi,g=function(t){return t.join(",").replace(p,"$1")},v=function(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n},m=function(t,e,n,i,r,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=c*h[f]+c,g=v(p,t,n,r,a),m=v(p,e,i,o,s),y=g*g+m*m;d+=l[f]*Math.sqrt(y)}return c*d},y=function(t,e,n,i,r,o,a,s){if(!(Math.max(t,n)<Math.min(r,a)||Math.min(t,n)>Math.max(r,a)||Math.max(e,i)<Math.min(o,s)||Math.min(e,i)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-i)*(r-a);if(u){var c=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/u,h=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/u,l=+c.toFixed(2),d=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(r,a).toFixed(2)||l>+Math.max(r,a).toFixed(2)||d<+Math.min(e,i).toFixed(2)||d>+Math.max(e,i).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},b=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},x=function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=g,o},w=function(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:x(t,e,n,i),vb:[t,e,n,i].join(" ")}},_=function(t,e,n,r,o,a,s,u){i.isArray(t)||(t=[t,e,n,r,o,a,s,u]);var c=function(t,e,n,i,r,o,a,s){for(var u,c,h,l,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(c=6*t-12*n+6*r,u=-3*t+9*n-9*r+3*a,h=3*n-3*t):(c=6*e-12*i+6*o,u=-3*e+9*i-9*o+3*s,h=3*i-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(l=-h/c)>0&&l<1&&d.push(l)}else{var g=c*c-4*h*u,v=Math.sqrt(g);if(!(g<0)){var m=(-c+v)/(2*u);m>0&&m<1&&d.push(m);var y=(-c-v)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(l=d[x]),f[0][x]=b*b*b*t+3*b*b*l*n+3*b*l*l*r+l*l*l*a,f[1][x]=b*b*b*e+3*b*b*l*i+3*b*l*l*o+l*l*l*s;return f[0][w]=t,f[1][w]=e,f[0][w+1]=a,f[1][w+1]=s,f[0].length=f[1].length=w+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return w(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},M=function(t,e,n,i,r,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),d=u*u,f=d*u,p=t+2*u*(n-t)+d*(r-2*n+t),g=e+2*u*(i-e)+d*(o-2*i+e),v=n+2*u*(r-n)+d*(a-2*r+n),m=i+2*u*(o-i)+d*(s-2*o+i);return{x:h*t+3*l*u*n+3*c*u*u*r+f*a,y:h*e+3*l*u*i+3*c*u*u*o+f*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:c*t+u*n,y:c*e+u*i},end:{x:c*r+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},k=function(t,e,n){if(!function(t,e){return t=w(t),e=w(e),b(e,t.x,t.y)||b(e,t.x2,t.y)||b(e,t.x,t.y2)||b(e,t.x2,t.y2)||b(t,e.x,e.y)||b(t,e.x2,e.y)||b(t,e.x,e.y2)||b(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(_(t),_(e)))return n?0:[];for(var i=~~(m.apply(0,t)/8),r=~~(m.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<i+1;c++){var h=M.apply(0,t.concat(c/i));o.push({x:h.x,y:h.y,t:c/i})}for(var l=0;l<r+1;l++){var d=M.apply(0,e.concat(l/r));a.push({x:d.x,y:d.y,t:l/r})}for(var f=0;f<i;f++)for(var p=0;p<r;p++){var g=o[f],v=o[f+1],x=a[p],k=a[p+1],S=Math.abs(v.x-g.x)<.001?"y":"x",E=Math.abs(k.x-x.x)<.001?"y":"x",C=y(g.x,g.y,v.x,v.y,x.x,x.y,k.x,k.y);if(C){if(s[C.x.toFixed(4)]===C.y.toFixed(4))continue;s[C.x.toFixed(4)]=C.y.toFixed(4);var T=g.t+Math.abs((C[S]-g[S])/(v[S]-g[S]))*(v.t-g.t),P=x.t+Math.abs((C[E]-x[E])/(k[E]-x[E]))*(k.t-x.t);T>=0&&T<=1&&P>=0&&P<=1&&(n?u++:u.push({x:C.x,y:C.y,t1:T,t2:P}))}}return u};function S(t,e){var n=[],i=[];return t.length&&function t(e,r){if(1===e.length)n.push(e[0]),i.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&i.push(e[a+1]),o[a]=[(1-r)*e[a][0]+r*e[a+1][0],(1-r)*e[a][1]+r*e[a+1][1]];t(o,r)}}(t,e),{left:n,right:i.reverse()}}var E=function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,a=1/n,s=0;s<n-1;s++){var u=S(o,a/(1-a*s));r.push(u.left),o=u.right}return r.push(o),r.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var o=0;o<=n-1;o++)i.push(r)}return i},C=function(t,e){if(t.length!==e.length)return!1;var n=!0;return i.each(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function T(t,e,n){var i=null,r=n;return e<r&&(r=e,i="add"),t<r&&(r=t,i="del"),{type:i,min:r}}function P(t,e,n){for(var i,r=[].concat(t),o=1/(n+1),a=A(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}function A(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:s,parsePathArray:g,pathTocurve:f,pathToAbsolute:h,catmullRomToBezier:u,rectPath:x,fillPath:function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,r=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<i-n;a++)t.push(t[0]);return t}for(var s=0;s<i;s++){var u=Math.floor(r*s);o[u]=(o[u]||0)+1}var c=o.reduce((function(e,i,r){return r===n?e.concat(t[n]):e.concat(E(t[r],t[r+1],i))}),[]);return c.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||c.push("Z"),c},fillPathByDiff:function(t,e){var n=function(t,e){var n,i,r=t.length,o=e.length,a=0;if(0===r||0===o)return null;for(var s=[],u=0;u<=r;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(var h=1;h<=r;h++){n=t[h-1];for(var l=1;l<=o;l++){i=e[l-1],a=C(n,i)?0:1;var d=s[h-1][l].min+1,f=s[h][l-1].min+1,p=s[h-1][l-1].min+a;s[h][l]=T(d,f,p)}}return s}(t,e),i=t.length,r=e.length,o=[],a=1,s=1;if(n[i][r]!==i){for(var u=1;u<=i;u++){var c=n[u][u].min;s=u;for(var h=a;h<=r;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var d=r-(i=t.length);if(i<r)for(var f=0;f<d;f++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]),i+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=A(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=P(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=P(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=P(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[i]=e[i]}return t},intersection:function(t,e){return function(t,e,n){var i,r,o,a,s,u,c,h,l,d;t=f(t),e=f(e);for(var p=n?0:[],g=0,v=t.length;g<v;g++){var m=t[g];if("M"===m[0])i=s=m[1],r=u=m[2];else{"C"===m[0]?(i=(l=[i,r].concat(m.slice(1)))[6],r=l[7]):(l=[i,r,i,r,s,u,s,u],i=s,r=u);for(var y=0,b=e.length;y<b;y++){var x=e[y];if("M"===x[0])o=c=x[1],a=h=x[2];else{"C"===x[0]?(o=(d=[o,a].concat(x.slice(1)))[6],a=d[7]):(d=[o,a,o,a,c,h,c,h],o=c,a=h);var w=k(l,d,n);if(n)p+=w;else{for(var _=0,M=w.length;_<M;_++)w[_].segment1=g,w[_].segment2=y,w[_].bez1=l,w[_].bez2=d;p=p.concat(w)}}}}}return p}(t,e)}}},function(t,e,n){"use strict";e.b=p,e.a=v,e.c=m,e.d=y;var i,r,o=0,a=0,s=0,u=1e3,c=0,h=0,l=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return h||(f(g),h=d.now()+l)}function g(){h=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var i=new v;return i.restart(t,e,n),i}function y(){p(),++o;for(var t,e=i;e;)(t=h-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function b(){h=(c=d.now())+l,o=a=0;try{y()}finally{o=0,function(){for(var t,e,n=i,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,w(o)}(),h=0}}function x(){var t=d.now(),e=t-c;e>u&&(l-=e,c=t)}function w(t){o||(a&&(a=clearTimeout(a)),t-h>24?(t<1/0&&(a=setTimeout(b,t-d.now()-l)),s&&(s=clearInterval(s))):(s||(c=d.now(),s=setInterval(x,u)),o=1,f(b)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},function(t,e,n){"use strict";var i=n(3),r=n(55),o=n(58),a=n(59),s=n(11),u=n(60),c=n(61),h=n(57);e.a=function(t,e){var n,l=typeof e;return null==e||"boolean"===l?Object(h.a)(e):("number"===l?s.a:"string"===l?(n=Object(i.a)(e))?(e=n,r.a):c.a:e instanceof i.a?r.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?u.a:s.a)(t,e)}},function(t,e,n){"use strict";e.a=r,n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return a})),e.e=b,e.h=_,e.g=M,e.b=k,e.f=C;var i=n(26);function r(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),f=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(t){var e;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?new k((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?x(parseInt(e[1],16)):(e=d.exec(t))?new k(e[1],e[2],e[3],1):(e=f.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?w(e[1],e[2],e[3],e[4]):(e=g.exec(t))?w(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?E(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?E(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?x(y[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function x(t){return new k(t>>16&255,t>>8&255,255&t,1)}function w(t,e,n,i){return i<=0&&(t=e=n=NaN),new k(t,e,n,i)}function _(t){return t instanceof r||(t=b(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function M(t,e,n,i){return 1===arguments.length?_(t):new k(t,e,n,null==i?1:i)}function k(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function S(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function E(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new T(t,e,n,i)}function C(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=b(t)),!t)return new T;if(t instanceof T)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-i)/u+6*(n<i):n===a?(i-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new T(s,u,c,t.opacity)}(t):new T(t,e,n,null==i?1:i)}function T(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function P(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(i.a)(r,b,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Object(i.a)(k,M,Object(i.b)(r,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+S(this.r)+S(this.g)+S(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(i.a)(T,C,Object(i.b)(r,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new T(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new k(P(t>=240?t-240:t+120,r,i),P(t,r,i),P(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function i(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}e.a=i,e.b=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,u=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,u)}}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){var i=n(2);t.exports=function(t){return i(t,"String")}},function(t,e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(6);t.exports=function t(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return e;var n=void 0;if(r(e)){n=[];for(var o=0,a=e.length;o<a;o++)"object"===i(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o]}else for(var s in n={},e)"object"===i(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n}},function(t,e,n){var i=n(70),r=n(6),o=5;function a(t,e,n,s){for(var u in n=n||0,s=s||o,e)if(e.hasOwnProperty(u)){var c=e[u];null!==c&&i(c)?(i(t[u])||(t[u]={}),n<s?a(t[u],c,n+1,s):t[u]=e[u]):r(c)?(t[u]=[],t[u]=t[u].concat(c)):void 0!==c&&(t[u]=c)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],r=1;r<e;r++)a(i,t[r]);return i}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var i=n(28),r=n(6);t.exports=function(t,e){if(t)if(r(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(i(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){var i=n(15);t.exports=function(t){return i(t)?Array.prototype.slice.call(t):[]}},function(t,e){t.exports=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var i=n(84);i.translate=function(t,e,n){var r=new Array(9);return i.fromTranslation(r,n),i.multiply(t,r,e)},i.rotate=function(t,e,n){var r=new Array(9);return i.fromRotation(r,n),i.multiply(t,r,e)},i.scale=function(t,e,n){var r=new Array(9);return i.fromScaling(r,n),i.multiply(t,r,e)},t.exports=i},function(t,e,n){var i=n(0),r=n(38),o=n(95),a={},s="_INDEX",u=["zIndex","capture","visible"];function c(t,e,n){for(var i,r=t.length-1;r>=0;r--){var o=t[r];if(o._cfg.visible&&o._cfg.capture&&(o.isGroup?i=o.getShape(e,n):o.isHit(e,n)&&(i=o)),i)break}return i}var h=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};i.extend(h,r),i.augment(h,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==h){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},i.merge(e._cfg,n._cfg),i.merge(e._cfg,e.CFG)}}(this.constructor),i.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var r=a[t];if(r||(r=i.upperFirst(t),a[t]=r),e.attrs&&n){var s=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(s.fontFamily=s.fontFamily?s.fontFamily:u)}}e.canvas=n,e.type=t;var c=new o[r](e);return this.add(c),c},addGroup:function(t,e){var n,r=this.get("canvas");if(e=i.merge({},e),i.isFunction(t))e?(e.canvas=r,e.parent=this,n=new t(e)):n=new t({canvas:r,parent:this}),this.add(n);else if(i.isObject(t))t.canvas=r,n=new h(t),this.add(n);else{if(void 0!==t)return!1;n=new h,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),r=this.getBBox();return i.merge(e,{x:r.minX-t[3],y:r.minY-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!i.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),h.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(i.isArray(t))i.each(t,(function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)})),e._cfg.children=n.concat(t);else{var r=t,o=r.get("parent");o&&o.removeChild(r,!1),e._setCfgProperty(r),n.push(r)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=this.get("children");o.length>0?i.each(o,(function(i){if(i.get("visible")){if(i.isGroup&&0===i.get("children").length)return;var o=i.getBBox();if(!o)return!0;var a=[o.minX,o.minY,1],s=[o.minX,o.maxY,1],u=[o.maxX,o.minY,1],c=[o.maxX,o.maxY,1];i.apply(a),i.apply(s),i.apply(u),i.apply(c);var h=Math.min(a[0],s[0],u[0],c[0]),l=Math.max(a[0],s[0],u[0],c[0]),d=Math.min(a[1],s[1],u[1],c[1]),f=Math.max(a[1],s[1],u[1],c[1]);h<t&&(t=h),l>e&&(e=l),d<n&&(n=d),f>r&&(r=f)}})):(t=0,e=0,n=0,r=0);var a={minX:t,minY:n,maxX:e,maxY:r};return a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return i.each(t,(function(t,e){return t[s]=e,t})),t.sort(function(t){return function(e,n){var i=t(e,n);return 0===i?e[s]-n[s]:i}}((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this},findById:function(t){return this.find((function(e){return e.get("id")===t}))},find:function(t){if(i.isString(t))return this.findById(t);var e=this.get("children"),n=null;return i.each(e,(function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1})),n},findAll:function(t){var e=this.get("children"),n=[],r=[];return i.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))})),n},findBy:function(t){var e=this.get("children"),n=null;return i.each(e,(function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1})),n},findAllBy:function(t){var e=this.get("children"),n=[],r=[];return i.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))})),n},getShape:function(t,e){var n,i=this._attrs.clip,r=this._cfg.children;if(i){var o=[t,e,1];i.invert(o,this.get("canvas")),i.isPointInPath(o[0],o[1])&&(n=c(r,t,e))}else n=c(r,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++)t[e].clearTotalMatrix()}},clear:function(t){if(!this.get("destroyed")){for(var e=this._cfg.children,n=e.length-1;n>=0;n--)e[n].remove(!0,t);return this._cfg.children=[],this}},destroy:function(){this.get("destroyed")||(this.clear(),h.superclass.destroy.call(this))},clone:function(){var t=this,e=t._cfg.children,n=t._attrs,r={};i.each(n,(function(t,e){r[e]="matrix"===e?function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}(n[e]):n[e]}));var o=new h({attrs:r,canvas:t.get("canvas")});return i.each(e,(function(t){o.add(t.clone())})),i.each(u,(function(e){o._cfg[e]=t._cfg[e]})),o}}),t.exports=h},function(t,e,n){var i=n(0),r=n(91),o=n(92),a=n(93),s=n(94),u=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},i.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},i.augment(u,r,o,s,a,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,r=n.parent,o=n.el;return r&&i.remove(r.get("children"),this),o&&(e?r&&r._cfg.tobeRemoved.push(o):o.parentNode.removeChild(o)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,i=t.el,r=n.indexOf(this);n.splice(r,1),n.push(this),i&&(i.parentNode.removeChild(i),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,i=t.el,r=n.indexOf(this);if(n.splice(r,1),n.unshift(this),i){var o=i.parentNode;o.removeChild(i),o.insertBefore(i,o.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,i.isNil(e)||e.sort();var n=this._cfg.el;if(n){var r=e._cfg.children,o=r.indexOf(this),a=n.parentNode;a.removeChild(n),o===r.length-1?a.appendChild(n):a.insertBefore(n,a.childNodes[o])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return i.clone(this)},getBBox:function(){}}),t.exports=u},function(t,e,n){var i=n(12),r=Array.prototype.slice,o=function(){};i.augment(o,{on:function(t,e,n){if(!i.isFunction(e))throw new TypeError("listener should be a function");return this._cfg._events||(this._cfg._events={}),this._cfg._events[t]||(this._cfg._events[t]=[]),this._cfg._events[t].push({callback:e,one:n}),this},one:function(t,e){return this.on(t,e,!0),this},emit:function(t){if(!this.get("destroyed")&&this._cfg._events&&!i.isEmpty(this._cfg._events)){var e=this._cfg._events[t];if(!i.isEmpty(e))for(var n=arguments,o=r.call(n,1),a=e.length,s=0;s<a;)e[s]&&(e[s].callback.apply(this,o),e[s]&&e[s].one?(e.splice(s,1),a--):s++)}},trigger:function(){this.emit.apply(this,arguments)},off:function(t,e){var n=this._cfg._events;if(n&&!i.isEmpty(n)){if(0===arguments.length)return this._cfg._events={},this;if(n[t]){var r=function(t,e){for(var n=t.length;n--;)if(t[n].callback===e)return n;return-1}(n[t],e);r>=0&&n[t].splice(r,1),0===n[t].length&&delete n[t]}}},removeEvent:function(t){return void 0===t?this._cfg._events={}:delete this._cfg._events[t],this},_getEvents:function(){return this._cfg._events||{}}}),t.exports=o},function(t,e,n){var i=n(0),r=i.vec2;function o(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function a(t,e,n,i,a,s,u,c,h){var l,d,f,p,g,v,m,y=.005,b=1/0,x=[u,c];for(g=0;g<1;g+=.05)f=[o(t,n,a,g),o(e,i,s,g)],(d=r.squaredDistance(x,f))<b&&(l=g,b=d);for(b=1/0,m=0;m<32&&!(y<1e-4);m++){var w=l-y,_=l+y;f=[o(t,n,a,w),o(e,i,s,w)],d=r.squaredDistance(x,f),w>=0&&d<b?(l=w,b=d):(p=[o(t,n,a,_),o(e,i,s,_)],v=r.squaredDistance(x,p),_<=1&&v<b?(l=_,b=v):y*=.5)}return h&&(h.x=o(t,n,a,l),h.y=o(e,i,s,l)),Math.sqrt(b)}t.exports={at:o,projectPoint:function(t,e,n,i,r,o,s,u){var c={};return a(t,e,n,i,r,o,s,u,c),c},pointDistance:a,extrema:function(t,e,n){var r=t+n-2*e;if(i.isNumberEqual(r,0))return[.5];var o=(t-e)/r;return o<=1&&o>=0?[o]:[]}}},function(t,e){t.exports={xAt:function(t,e,n,i,r){return e*Math.cos(t)*Math.cos(r)-n*Math.sin(t)*Math.sin(r)+i},yAt:function(t,e,n,i,r){return e*Math.sin(t)*Math.cos(r)+n*Math.cos(t)*Math.sin(r)+i},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var i=n(0),r=n(1),o=n(8),a=n(9);function s(t,e,n){return t+e*Math.cos(n)}function u(t,e,n){return t+e*Math.sin(n)}var c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(c,r),i.augment(c,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.r,r=t.startAngle,a=t.endAngle,s=t.clockwise,u=this.getHitLineWidth()/2,c=o.box(e,n,i,r,a,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,i=t.startAngle,r=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var c=[],h=s(e,r,i+a),l=u(n,r,i+a),d=s(e,r,i),f=u(n,r,i);return c.push([h,l]),c.push([d,f]),c},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,i=t.endAngle,r=t.r,o=t.clockwise,a=Math.PI/180,c=[];o&&(a*=-1);var h=s(e,r,i+a),l=u(n,r,i+a),d=s(e,r,i),f=u(n,r,i);return c.push([d,f]),c.push([h,l]),c},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,r=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,i,r,o,a,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();a.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var i=this.getEndTangent();a.addEndArrow(t,e,i[0][0],i[0][1],i[1][0],i[1][1])}}}),t.exports=c},function(t,e,n){var i=n(0),r=n(1),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,r:0,lineWidth:1},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.r,r=this.getHitLineWidth()/2+i;return{minX:e-r,minY:n-r,maxX:e+r,maxY:n+r}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,r=e.r;t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.closePath()}}),t.exports=o},function(t,e,n){var i=n(0),r=n(1),o=function t(e){t.superclass.constructor.call(this,e)};i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.width,r=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+i+o,maxY:n+r+o}}}),t.exports=o},function(t,e,n){var i=n(0),r=n(1),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.rx,r=t.ry,o=this.getHitLineWidth(),a=i+o/2,s=r+o/2;return{minX:e-a,minY:n-s,maxX:e+a,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.rx,a=e.ry;t=t||self.get("context");var s=o>a?o:a,u=o>a?1:o/a,c=o>a?a/o:1,h=[1,0,0,0,1,0,0,0,1];i.mat3.scale(h,h,[u,c]),i.mat3.translate(h,h,[n,r]),t.beginPath(),t.save(),t.transform(h[0],h[1],h[3],h[4],h[6],h[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=o},function(t,e,n){var i=n(0),r=n(1),o=n(8),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},i.extend(a,r),i.augment(a,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.rs,r=t.re,a=t.startAngle,s=t.endAngle,u=t.clockwise,c=this.getHitLineWidth(),h=o.box(e,n,i,a,s,u),l=o.box(e,n,r,a,s,u),d=c/2;return{minX:Math.min(h.minX,l.minX)-d,minY:Math.min(h.minY,l.minY)-d,maxX:Math.max(h.maxX,l.maxX)+d,maxY:Math.max(h.maxY,l.maxY)+d}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,r=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,u=e.clockwise,c={x:Math.cos(a)*r+n,y:Math.sin(a)*r+i},h={x:Math.cos(a)*o+n,y:Math.sin(a)*o+i},l={x:Math.cos(s)*r+n,y:Math.sin(s)*r+i};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(h.x,h.y),t.arc(n,i,o,a,s,u),t.lineTo(l.x,l.y),t.arc(n,i,r,s,a,!u),t.closePath()}}),t.exports=a},function(t,e,n){var i=n(0),r=n(1),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},i.extend(o,r),i.augment(o,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,n=e.img;if(!i.isString(n))return n instanceof Image?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):n instanceof HTMLElement&&i.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(e.width||t.attr("width",Number(n.getAttribute("width"))),e.height||t.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):null;var r=new Image;r.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",n),t.attr("img",r);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},r.src=n,r.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.img,a=e.width,s=e.height,u=e.sx,c=e.sy,h=e.swidth,l=e.sheight;this.set("toDraw",!1);var d=o;if(d instanceof ImageData&&((d=new Image).src=o),d instanceof Image||d instanceof HTMLElement&&i.isString(d.nodeName)&&"CANVAS"===d.nodeName.toUpperCase()){if(i.isNil(u)||i.isNil(c)||i.isNil(h)||i.isNil(l))return void t.drawImage(d,n,r,a,s);if(!(i.isNil(u)||i.isNil(c)||i.isNil(h)||i.isNil(l)))return void t.drawImage(d,u,c,h,l,n,r,a,s)}}}),t.exports=o},function(t,e,n){var i=n(0),r=n(1),o=n(9),a=n(7),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(s,r),i.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,i=t.x2,r=t.y2,o=this.getHitLineWidth();return a.box(e,n,i,r,o)},createPath:function(t){var e=this._attrs,n=e.x1,i=e.y1,r=e.x2,a=e.y2;if(e.startArrow&&e.startArrow.d){var s=o.getShortenOffset(n,i,r,a,e.startArrow.d);n+=s.dx,i+=s.dy}if(e.endArrow&&e.endArrow.d){var u=o.getShortenOffset(n,i,r,a,e.endArrow.d);r-=u.dx,a-=u.dy}(t=t||this.get("context")).beginPath(),t.moveTo(n,i),t.lineTo(r,a)},afterPath:function(t){var e=this._attrs,n=e.x1,i=e.y1,r=e.x2,a=e.y2;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,r,a,n,i),e.endArrow&&o.addEndArrow(t,e,n,i,r,a)},getPoint:function(t){var e=this._attrs;return{x:a.at(e.x1,e.x2,t),y:a.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e,n){var i=n(0),r=n(1),o=n(10),a=n(4),s=n(9),u=n(22),c=n(20),h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(h,r),i.augment(h,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(i.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=a.parsePath(t),r=[];if(i.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,u=0;u<n.length;u++){var c=n[u];e=new o(c,e,u===s-1),r.push(e)}this.setSilent("segments",r),this.setSilent("tCache",null),this.setSilent("totalLength",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,r=-1/0,o=1/0,a=-1/0;return i.each(t,(function(t){t.getBBox(e);var i=t.box;i&&(i.minX<n&&(n=i.minX),i.maxX>r&&(r=i.maxX),i.minY<o&&(o=i.minY),i.maxY>a&&(a=i.maxY))})),n===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:o,maxX:r,maxY:a}},_setTcache:function(){var t,e,n,r,o=0,a=0,s=[],u=this._cfg.curve;u&&(i.each(u,(function(t,e){n=u[e+1],r=t.length,n&&(o+=c.len(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6]))})),this._cfg.totalLength=o,0!==o?(i.each(u,(function(i,h){n=u[h+1],r=i.length,n&&((t=[])[0]=a/o,e=c.len(i[r-2],i[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),a+=e,t[1]=a/o,s.push(t))})),this._cfg.tCache=s):this._cfg.tCache=[])},getTotalLength:function(){var t=this.get("totalLength");return i.isNil(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=u.pathTocurve(t)},getStartTangent:function(){var t,e,n,r,o=this.get("segments");if(o.length>1)if(t=o[0].endPoint,e=o[1].endPoint,n=o[1].startTangent,r=[],i.isFunction(n)){var a=n();r.push([t.x-a[0],t.y-a[1]]),r.push([t.x,t.y])}else r.push([e.x,e.y]),r.push([t.x,t.y]);return r},getEndTangent:function(){var t,e,n,r,o=this.get("segments"),a=o.length;if(a>1)if(t=o[a-2].endPoint,e=o[a-1].endPoint,n=o[a-1].endTangent,r=[],i.isFunction(n)){var s=n();r.push([e.x-s[0],e.y-s[1]]),r.push([e.x,e.y])}else r.push([t.x,t.y]),r.push([e.x,e.y]);return r},getPoint:function(t){var e,n,r=this._cfg.tCache;r||(this._calculateCurve(),this._setTcache(),r=this._cfg.tCache);var o=this._cfg.curve;if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;i.each(r,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)}));var a=o[n];if(i.isNil(a)||i.isNil(n))return null;var s=a.length,u=o[n+1];return{x:c.at(a[s-2],u[1],u[3],u[5],1-e),y:c.at(a[s-1],u[2],u[4],u[6],1-e)}},createPath:function(t){var e=this._attrs,n=this.get("segments");if(i.isArray(n)){var r=n.length;if((t=t||this.get("context")).beginPath(),e.startArrow&&e.startArrow.d){var o=this.getStartTangent(),a=s.getShortenOffset(o[0][0],o[0][1],o[1][0],o[1][1],e.startArrow.d);n[0].shortenDraw(t,a.dx,a.dy)}else n[0].draw(t);for(var u=1;u<r-2;u++)n[u].draw(t);if(e.endArrow&&e.endArrow.d){var c=this.getEndTangent(),h=s.getShortenOffset(c[0][0],c[0][1],c[1][0],c[1][1],e.endArrow.d),l=n[r-1];"Z"===l.command.toUpperCase()?(n[r-2].shortenDraw(t,h.dx,h.dy),l.draw(t)):(r>2&&n[r-2].draw(t),l.shortenDraw(t,h.dx,h.dy))}else n[r-2].draw(t),n[r-1].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),r=e.path;if(t=t||this.get("context"),i.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==r[r.length-1]&&"Z"!==r[r.length-1]&&!e.fill){var o=this.getStartTangent();s.addStartArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1]);var a=this.getEndTangent();s.addEndArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1])}}}),t.exports=h},function(t,e,n){var i=n(0),r=n(1),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={points:null,lineWidth:1},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,r=1/0,o=-1/0,a=-1/0;i.each(t,(function(t){var e=t[0],i=t[1];e<n&&(n=e),e>o&&(o=e),i<r&&(r=i),i>a&&(a=i)}));var s=e/2;return{minX:n-s,minY:r-s,maxX:o+s,maxY:a+s}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),i.each(e,(function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.closePath())}}),t.exports=o},function(t,e,n){var i=n(0),r=n(1),o=n(9),a=n(7),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},i.extend(s,r),i.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var r=1/0,o=1/0,a=-1/0,s=-1/0;i.each(n,(function(t){var e=t[0],n=t[1];e<r&&(r=e),e>a&&(a=e),n<o&&(o=n),n>s&&(s=n)}));var u=e/2;return{minX:r-u,minY:o-u,maxX:a+u,maxY:s+u}},_setTcache:function(){var t,e,n=this._attrs.points,r=0,o=0,s=[];n&&0!==n.length&&(i.each(n,(function(t,e){n[e+1]&&(r+=a.len(t[0],t[1],n[e+1][0],n[e+1][1]))})),r<=0||(i.each(n,(function(i,u){n[u+1]&&((t=[])[0]=o/r,e=a.len(i[0],i[1],n[u+1][0],n[u+1][1]),o+=e,t[1]=o/r,s.push(t))})),this.tCache=s))},createPath:function(t){var e,n=this._attrs,i=n.points;if(!(i.length<2)){var r=i.length-1,a=i[0][0],s=i[0][1],u=i[r][0],c=i[r][1];if(n.startArrow&&n.startArrow.d){var h=o.getShortenOffset(i[0][0],i[0][1],i[1][0],i[1][1],n.startArrow.d);a+=h.dx,s+=h.dy}if(n.endArrow&&n.endArrow.d){var l=o.getShortenOffset(i[r-1][0],i[r-1][1],i[r][0],i[r][1],n.endArrow.d);u-=l.dx,c-=l.dy}for((t=t||this.get("context")).beginPath(),t.moveTo(a,s),e=1;e<r;e++)t.lineTo(i[e][0],i[e][1]);t.lineTo(u,c)}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,i=n.length-1;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&o.addEndArrow(t,e,n[i-1][0],n[i-1][1],n[i][0],n[i][1])},getPoint:function(t){var e,n,r=this._attrs.points,o=this.tCache;return o||(this._setTcache(),o=this.tCache),i.each(o,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)})),{x:a.at(r[n][0],r[n+1][0],e),y:a.at(r[n][1],r[n+1][1],e)}}}),t.exports=s},function(t,e,n){var i=n(0),r=n(4).parseRadius,o=n(1),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},i.extend(a,o),i.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.width,r=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+i+o,maxY:n+r+o}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,o=e.width,a=e.height,s=e.radius;if((t=t||this.get("context")).beginPath(),0===s)t.rect(n,i,o,a);else{var u=r(s);t.moveTo(n+u.r1,i),t.lineTo(n+o-u.r2,i),0!==u.r2&&t.arc(n+o-u.r2,i+u.r2,u.r2,-Math.PI/2,0),t.lineTo(n+o,i+a-u.r3),0!==u.r3&&t.arc(n+o-u.r3,i+a-u.r3,u.r3,0,Math.PI/2),t.lineTo(n+u.r4,i+a),0!==u.r4&&t.arc(n+u.r4,i+a-u.r4,u.r4,Math.PI/2,Math.PI),t.lineTo(n,i+u.r1),0!==u.r1&&t.arc(n+u.r1,i+u.r1,u.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=a},function(t,e,n){var i=n(0),r=n(1),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,i=t.fontWeight,r=t.fontStyle,o=t.fontVariant;t.font=[r,o,i,e+"px",n].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,n=null;if(i.isString(e)&&-1!==e.indexOf("\n")){var r=(n=e.split("\n")).length;t.lineCount=r}t.textArr=n},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,i=t.y,r=this.measureText();if(!r)return{minX:n,minY:i,maxX:n,maxY:i};var o=this._getTextHeight(),a=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),c={x:n,y:i-o};a&&("end"===a||"right"===a?c.x-=r:"center"===a&&(c.x-=r/2)),s&&("top"===s?c.y+=o:"middle"===s&&(c.y+=o/2)),this.set("startPoint",c);var h=u/2;return{minX:c.x-h,minY:c.y-h,maxX:c.x+r+h,maxY:c.y+o+h}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var r=e.text;if(r){var o=e.textArr,a=e.x,s=e.y;if(t.beginPath(),this.hasStroke()){var u=e.strokeOpacity;i.isNil(u)||1===u||(t.globalAlpha=u),o?this._drawTextArr(t,!1):t.strokeText(r,a,s),t.globalAlpha=1}if(this.hasFill()){var c=e.fillOpacity;i.isNil(c)||1===c||(t.globalAlpha=c),o?this._drawTextArr(t,!0):t.fillText(r,a,s)}n.hasUpdate=!1}},_drawTextArr:function(t,e){var n,r=this._attrs.textArr,o=this._attrs.textBaseline,a=1*this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,c=this._attrs.y,h=this.getBBox(),l=h.maxY-h.minY;i.each(r,(function(i,r){n=c+r*(s+a)-l+a,"middle"===o&&(n+=l-a-(l-a)/2),"top"===o&&(n+=l-a),e?t.fillText(i,u,n):t.strokeText(i,u,n)}))},measureText:function(){var t,e=this._attrs,n=e.text,r=e.font,o=e.textArr,a=0;if(!i.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=r,o?i.each(o,(function(e){t=s.measureText(e).width,a<t&&(a=t),s.restore()})):(a=s.measureText(n).width,s.restore()),a}}}),t.exports=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=Math.PI/180,r=180/Math.PI},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c}));var i=n(3),r=n(27),o=n(56),a=n(5);function s(t){return function(e){var n,r,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(e[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=t(a),s=t(s),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=s(t),r.b=u(t),r+""}}}e.a=function t(e){var n=Object(a.b)(e);function r(t,e){var r=n((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),u=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=s(e),t.opacity=u(e),t+""}}return r.gamma=t,r}(1);var u=s(r.b),c=s(o.a)},function(t,e,n){"use strict";var i=n(27);e.a=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return Object(i.a)((n-r/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var i=n(24);e.a=function(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,a=new Array(o),s=new Array(r);for(n=0;n<o;++n)a[n]=Object(i.a)(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}},function(t,e,n){"use strict";var i=n(24);e.a=function(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Object(i.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}},function(t,e,n){"use strict";var i=n(11),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(r.source,"g");e.a=function(t,e){var n,a,s,u=r.lastIndex=o.lastIndex=0,c=-1,h=[],l=[];for(t+="",e+="";(n=r.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),h[c]?h[c]+=s:h[++c]=s),(n=n[0])===(a=a[0])?h[c]?h[c]+=a:h[++c]=a:(h[++c]=null,l.push({i:c,x:Object(i.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),h[c]?h[c]+=s:h[++c]=s),h.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)h[(n=l[i]).i]=n.x(t);return h.join("")})}},function(t,e,n){t.exports={Canvas:n(63),Group:n(37),Shape:n(1),Arc:n(42),Circle:n(43),Dom:n(44),Ellipse:n(45),Fan:n(46),Image:n(47),Line:n(48),Marker:n(21),Path:n(49),Polygon:n(50),Polyline:n(51),Rect:n(52),Text:n(53),PathSegment:n(10),PathUtil:n(22),Event:n(18),EventEmitter:n(39),version:"3.4.5"}},function(t,e,n){var i=n(0),r=n(90),o=n(37),a=n(97),s=n(125),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},i.extend(u,o),i.augment(u,r,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this.registerEvent(this)},_scale:function(){if("svg"!==this._cfg.renderType){var t=this.get("pixelRatio");this.scale(t,t)}},_setGlobalParam:function(){var t=this.get("renderer")||"canvas";"svg"===t?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",i.getRatio()),this._cfg.renderType=t;var e=s[t];this._cfg.renderer=e,this._cfg.canvas=this;var n=new a(this);this._cfg.timeline=n},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),i.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),i=this.get("widthStyle"),r=this.get("heightStyle");t.style.width=i,t.style.height=r,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),i=t*n,r=e*n;this.set("widthCanvas",i),this.set("heightCanvas",r),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),i=this.get("pixelRatio")||1,r=n.getBoundingClientRect();return{x:(t-r.left)*i,y:(e-r.top)*i}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),i=this.get("pixelRatio")||1;return{clientX:t/i+n.left,clientY:e/i+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):u.superclass.getShape.call(this,t,e)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){var i=n(2);t.exports=function(t){return i(t,"Boolean")}},function(t,e,n){var i=n(2);t.exports=function(t){return i(t,"Number")}},function(t,e,n){var i=n(14),r=n(15),o=n(67),a=n(68),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(i(t))return!0;if(r(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){var n=function(){var t={};return function(e){return t[e=e||"g"]?t[e]+=1:t[e]=1,e+t[e]}}();t.exports=n},function(t,e,n){var i=n(32),r=n(2);t.exports=function(t){if(!i(t)||!r(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var i=n(72);t.exports=function(t){var e=i(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){var i=n(14);t.exports=function(t){return i(t)?"":t.toString()}},function(t,e,n){var i=n(32),r=n(15),o=n(29);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(o(e)||o(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var a=!0,s=0;s<e.length&&(a=t(e[s],n[s]));s++);return a}if(i(e)||i(n)){var u=Object.keys(e),c=Object.keys(n);if(u.length!==c.length)return!1;for(var h=!0,l=0;l<u.length&&(h=t(e[u[l]],n[u[l]]));l++);return h}return!1}},function(t,e,n){var i=n(13),r=n(16);t.exports=function(t,e,n,o){i(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},s=a(e.prototype,t);return t.prototype=r(s,t.prototype),t.superclass=a(e.prototype,e),r(s,n),r(t,o),t}},function(t,e,n){var i=n(13),r=n(34),o=n(16);t.exports=function(t){for(var e=r(arguments),n=1;n<e.length;n++){var a=e[n];i(a)&&(a=a.prototype),o(t.prototype,a)}}},function(t,e){var n=Array.prototype,i=n.splice,r=n.indexOf,o=n.slice;t.exports=function(t){for(var e=o.call(arguments,1),n=0;n<e.length;n++)for(var a=e[n],s=-1;(s=r.call(t,a))>-1;)i.call(t,s,1);return t}},function(t,e){t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<n}},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=document.createElement("table"),i=document.createElement("tr"),r=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:i,th:i,"*":document.createElement("div")};t.exports=function(t){var e=r.test(t)&&RegExp.$1;e in o||(e="*");var n=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var i=n.childNodes[0];return n.removeChild(i),i}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new i.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,o,a,s,u,c){var h=new i.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=o,h[5]=a,h[6]=s,h[7]=u,h[8]=c,h},e.set=function(t,e,n,i,r,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,d=-h*o+s*u,f=c*o-a*u,p=n*l+i*d+r*f;return p?(p=1/p,t[0]=l*p,t[1]=(-h*i+r*c)*p,t[2]=(s*i-r*a)*p,t[3]=d*p,t[4]=(h*n-r*u)*p,t[5]=(-s*n+r*o)*p,t[6]=f*p,t[7]=(-c*n+i*u)*p,t[8]=(a*n-i*o)*p,t):null},e.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=r*c-i*h,t[2]=i*s-r*a,t[3]=s*u-o*h,t[4]=n*h-r*u,t[5]=r*o-n*s,t[6]=o*c-a*u,t[7]=i*u-n*c,t[8]=n*a-i*o,t},e.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*r+a*s)+i*(u*r-o*s)},e.multiply=r,e.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=d*i+f*a+c,t[7]=d*r+f*s+h,t[8]=d*o+f*u+l,t},e.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*i+d*a,t[1]=f*r+d*s,t[2]=f*o+d*u,t[3]=f*a-d*i,t[4]=f*s-d*r,t[5]=f*u-d*o,t[6]=c,t[7]=h,t[8]=l,t},e.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,u=r+r,c=n*a,h=i*a,l=i*s,d=r*a,f=r*s,p=r*u,g=o*a,v=o*s,m=o*u;return t[0]=1-l-p,t[3]=h-m,t[6]=d+v,t[1]=h+m,t[4]=1-c-p,t[7]=f-g,t[2]=d-v,t[5]=f+g,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*s-i*a,b=n*u-r*a,x=n*c-o*a,w=i*u-r*s,_=i*c-o*s,M=r*c-o*u,k=h*g-l*p,S=h*v-d*p,E=h*m-f*p,C=l*v-d*g,T=l*m-f*g,P=d*m-f*v,A=y*P-b*T+x*C+w*E-_*S+M*k;return A?(A=1/A,t[0]=(s*P-u*T+c*C)*A,t[1]=(u*E-a*P-c*S)*A,t[2]=(a*T-s*E+c*k)*A,t[3]=(r*T-i*P-o*C)*A,t[4]=(n*P-r*E+o*S)*A,t[5]=(i*E-n*T-o*k)*A,t[6]=(g*M-v*_+m*w)*A,t[7]=(v*x-p*M-m*b)*A,t[8]=(p*_-g*x+m*y)*A,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],d=e[0],f=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=e[6],b=e[7],x=e[8];return Math.abs(n-d)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-p)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-b)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(l-x)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(17));function r(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=n[0],f=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return t[0]=d*i+f*a+p*c,t[1]=d*r+f*s+p*h,t[2]=d*o+f*u+p*l,t[3]=g*i+v*a+m*c,t[4]=g*r+v*s+m*h,t[5]=g*o+v*u+m*l,t[6]=y*i+b*a+x*c,t[7]=y*r+b*s+x*h,t[8]=y*o+b*u+x*l,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=r,e.sub=o},function(t,e,n){var i=n(86),r=n(35);i.angle=function(t,e){var n=i.dot(t,e)/(i.length(t)*i.length(e));return Math.acos(r(n,-1,1))},i.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},i.angleTo=function(t,e,n){var r=i.angle(t,e),o=i.direction(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r},i.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new i.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new i.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},e.lerp=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},e.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},e.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},e.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},e.rotate=function(t,e,n,i){var r=e[0]-n[0],o=e[1]-n[1],a=Math.sin(i),s=Math.cos(i);return t[0]=r*s-o*a+n[0],t[1]=r*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=n*n+i*i;a>0&&(a=1/Math.sqrt(a));var s=r*r+o*o;s>0&&(s=1/Math.sqrt(s));var u=(n*r+i*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(17));function r(){var t=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function c(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function h(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}e.len=h,e.sub=o,e.mul=a,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=l,e.forEach=function(){var t=r();return function(e,n,i,r,o,a){var s=void 0,u=void 0;for(n||(n=2),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,n){var i=n(88);t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new i.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=s,e.multiply=u,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},e.distance=h,e.squaredDistance=l,e.squaredLength=d,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=f,e.dot=p,e.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=r*u-o*s,t[1]=o*a-i*u,t[2]=i*s-r*a,t},e.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t},e.hermite=function(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+i[0]*c+r[0]*h,t[1]=e[1]*s+n[1]*u+i[1]*c+r[1]*h,t[2]=e[2]*s+n[2]*u+i[2]*c+r[2]*h,t},e.bezier=function(t,e,n,i,r,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,d=u*o;return t[0]=e[0]*c+n[0]*h+i[0]*l+r[0]*d,t[1]=e[1]*c+n[1]*h+i[1]*l+r[1]*d,t[2]=e[2]*c+n[2]*h+i[2]*l+r[2]*d,t},e.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI,r=2*i.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},e.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=r*c-o*u,l=o*s-i*c,d=i*u-r*s,f=r*d-o*l,p=o*h-i*d,g=i*l-r*h,v=2*a;return h*=v,l*=v,d*=v,f*=2,p*=2,g*=2,t[0]=s+h+f,t[1]=u+l+p,t[2]=c+d+g,t},e.rotateX=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=a(t[0],t[1],t[2]),i=a(e[0],e[1],e[2]);f(n,n),f(i,i);var r=p(n,i);return r>1?0:r<-1?Math.PI:Math.acos(r)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(17));function r(){var t=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function a(t,e,n){var r=new i.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function h(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function l(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function d(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function f(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=s,e.mul=u,e.div=c,e.dist=h,e.sqrDist=l,e.len=o,e.sqrLen=d,e.forEach=function(){var t=r();return function(e,n,i,r,o,a){var s=void 0,u=void 0;for(n||(n=3),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){var i=n(30),r=n(33),o=n(36);t.exports=function(t,e){return t=i(t),r(e,(function(e){switch(e[0]){case"t":o.translate(t,t,[e[1],e[2]]);break;case"s":o.scale(t,t,[e[1],e[2]]);break;case"r":o.rotate(t,t,e[1]);break;case"m":o.multiply(t,t,e[1]);break;default:return!1}})),t}},function(t,e,n){var i=n(0),r=n(18),o=["mousedown","mouseup","dblclick","mouseenter","mouseout","mouseover","mousemove","mouseleave"],a=function(){return(new Date).getTime()},s=null,u=null,c={},h=null,l=0;t.exports={registerEvent:function(){var t=this,e=this.get("el");i.each(o,(function(n){e.addEventListener(n,(function(e){t._triggerEvent(n,e)}),!1)})),e.addEventListener("touchstart",(function(e){i.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])}),!1),e.addEventListener("touchmove",(function(e){i.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])}),!1),e.addEventListener("touchend",(function(e){i.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])}),!1),e.addEventListener("contextmenu",(function(e){t._triggerEvent("contextmenu",e),e.preventDefault()}),!1)},_getEmitter:function(t,e){if(t){if(!i.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this._getEmitter(n,e)}},_getEventObj:function(t,e,n,i){var o=new r(t,e,!0,!0);return o.x=n.x,o.y=n.y,o.clientX=e.clientX,o.clientY=e.clientY,o.currentTarget=i,o.target=i,o},_triggerEvent:function(t,e){var n=this.getPointByClient(e.clientX,e.clientY),i=this.getShape(n.x,n.y,e),r=this.get("el");if(h&&"svg"===this.getRenderer()&&(i=this.getShape(n.x,n.y)),"mousemove"===t){if(s&&s!==i&&(this._emitEvent("mouseout",e,n,s),this._emitEvent("mouseleave",e,n,s),h&&this._emitEvent("dragleave",e,n,s),i&&!i.destroyed||(r.style.cursor="default")),h&&(this._emitEvent("drag",e,n,h),this._emitEvent("mousemove",e,n,i)),i){if(!h)if(u===i){var o=a()-l,d=c.x-e.clientX,f=c.y-e.clientY;o>120||d*d+f*f>40?(h=i,u=null,this._emitEvent("dragstart",e,n,i)):this._emitEvent("mousemove",e,n,i)}else this._emitEvent("mousemove",e,n,i);s!==i&&(this._emitEvent("mouseenter",e,n,i),this._emitEvent("mouseover",e,n,i),h&&this._emitEvent("dragenter",e,n,i))}else{var p=this._getEventObj("mousemove",e,n,this);this.emit("mousemove",p)}s=i}else if(this._emitEvent(t,e,n,i||this),h||"mousedown"!==t||0!==e.button||(u=i,c={x:e.clientX,y:e.clientY},l=a()),"mouseup"===t&&0===e.button){var g=c.x-e.clientX,v=c.y-e.clientY,m=g*g+v*v,y=a();(m<40||y-l<200)&&(l=0,this._emitEvent("click",e,n,u||this)),h&&(h._cfg.capture=!0,this._emitEvent("dragend",e,n,h),h=null,this._emitEvent("drop",e,n,i||this)),u=null}i&&!i.get("destroyed")&&(r.style.cursor=i.attr("cursor")||"default")},_emitEvent:function(t,e,n,i){var r=this._getEventObj(t,e,n,i),o=this._getEmitter(i,e);return o&&!o.get("destroyed")&&o.emit(t,r),o}}},function(t,e,n){var i=n(0);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(i.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(i.isObject(t)){for(var n in t)this._setAttr(n,t[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var i=n(0);function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function o(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){r(e)||(o(e)?(t[0]*=e[0],t[4]*=e[4]):i.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return i.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return i.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return i.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,i=this.get("y")||0;return this.translate(t-n,e-i),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return i.each(t,(function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",i.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}})),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),i.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var r=[1,0,0,0,1,0,0,0,1];return i.each(n,(function(t){i.mat3.multiply(r,t.attr("matrix"),r)})),r},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;e&&a(t,e.getTotalMatrix()),a(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(o(e))t[0]/=e[0],t[1]/=e[4];else{var n=i.mat3.invert([],e);n&&i.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(0),o={delay:"delay",repeat:"repeat",rotate:"rotate"},a={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,n,s,u){void 0===u&&(u=0),this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.setSilent("timeline",c));var h=this.get("animators")||[];c._timer||c.initTimer(),r.isNumber(s)&&(u=s,s=null),r.isFunction(n)?(s=n,n="easeLinear"):n=n||"easeLinear";var l={repeat:t.repeat,duration:e,easing:n,callback:s,delay:u,startTime:c.getTime(),id:r.uniqueId()};if(t.onFrame)l.onFrame=t.onFrame;else{var d=function(t,e){var n={matrix:null,attrs:{}},i=e._attrs;for(var s in t)if("transform"===s)n.matrix=r.transform(e.getMatrix(),t[s]);else if("matrix"===s)n.matrix=t[s];else{if(a[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[s]))continue;o[s]||i[s]===t[s]||("rotate"===s&&(e._attrs.rotate=e._attrs.rotate||0),n.attrs[s]=t[s])}return n}(t,this);l=i({fromAttrs:function(t,e){var n={},i=e._attrs;for(var r in t.attrs)n[r]=i[r];return n}(d,this),toAttrs:d.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:d.matrix},l)}h.length>0?h=function(t,e){if(e.onFrame)return t;var n=e.delay,i=Object.prototype.hasOwnProperty;return r.each(e.toAttrs,(function(e,o){r.each(t,(function(t){n<t.startTime+t.duration&&i.call(t.toAttrs,o)&&(delete t.toAttrs[o],delete t.fromAttrs[o])}))})),e.toMatrix&&r.each(t,(function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix})),t}(h,l):c.addAnimator(this),h.push(l),this.setSilent("animators",h),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,(function(e){t.attr(e.toAttrs||e.onFrame(1)),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null})),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var i=n(0),r=n(18),o=n(39),a=["click","mousedown","mouseup","dblclick","contextmenu","mouseout","mouseover","mousemove","dragstart","drag","dragend","dragenter","dragleave","drop"],s=function(){};i.augment(s,o,{emit:function(t,e){var n=arguments;if(o.prototype.emit.apply(this,n),!(n.length>=2&&n[1]instanceof r&&n[1].propagationStopped)&&a.indexOf(t)>=0&&e.target===this)for(var i=this._cfg.parent;i&&!i.get("destroyed");)i.emit.apply(i,n),i=i._cfg.parent}}),t.exports=s},function(t,e,n){var i=n(1);i.Arc=n(42),i.Circle=n(43),i.Dom=n(44),i.Ellipse=n(45),i.Fan=n(46),i.Image=n(47),i.Line=n(48),i.Marker=n(21),i.Path=n(49),i.Polygon=n(50),i.Polyline=n(51),i.Rect=n(52),i.Text=n(53),t.exports=i},function(t,e,n){var i=n(0),r=n(19),o={arc:n(8),ellipse:n(41),line:n(7)},a=i.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(t,e,n){return n.createPath(a),a.isPointInPath(t,e)}var u={arc:function(t,e){var n=this._attrs,i=n.x,o=n.y,a=n.r,s=n.startAngle,u=n.endAngle,c=n.clockwise,h=this.getHitLineWidth();return!!this.hasStroke()&&r.arcline(i,o,a,s,u,c,h,t,e)},circle:function(t,e){var n=this._attrs,i=n.x,o=n.y,a=n.r,s=this.getHitLineWidth(),u=this.hasFill(),c=this.hasStroke();return u&&c?r.circle(i,o,a,t,e)||r.arcline(i,o,a,0,2*Math.PI,!1,s,t,e):u?r.circle(i,o,a,t,e):!!c&&r.arcline(i,o,a,0,2*Math.PI,!1,s,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return r.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,o=this.hasFill(),a=this.hasStroke(),s=n.x,u=n.y,c=n.rx,h=n.ry,l=this.getHitLineWidth(),d=c>h?c:h,f=c>h?1:c/h,p=c>h?h/c:1,g=[t,e,1],v=[1,0,0,0,1,0,0,0,1];i.mat3.scale(v,v,[f,p]),i.mat3.translate(v,v,[s,u]);var m=i.mat3.invert([],v);return i.vec3.transformMat3(g,g,m),o&&a?r.circle(0,0,d,g[0],g[1])||r.arcline(0,0,d,0,2*Math.PI,!1,l,g[0],g[1]):o?r.circle(0,0,d,g[0],g[1]):!!a&&r.arcline(0,0,d,0,2*Math.PI,!1,l,g[0],g[1])},fan:function(t,e){var n=this,a=n.hasFill(),s=n.hasStroke(),u=n._attrs,c=u.x,h=u.y,l=u.rs,d=u.re,f=u.startAngle,p=u.endAngle,g=u.clockwise,v=[t-c,e-h],m=i.vec2.angleTo([1,0],v);function y(){var t=o.arc.nearAngle(m,f,p,g);if(i.isNumberEqual(m,t)){var e=i.vec2.squaredLength(v);if(l*l<=e&&e<=d*d)return!0}return!1}function b(){var i=n.getHitLineWidth(),o={x:Math.cos(f)*l+c,y:Math.sin(f)*l+h},a={x:Math.cos(f)*d+c,y:Math.sin(f)*d+h},s={x:Math.cos(p)*l+c,y:Math.sin(p)*l+h},u={x:Math.cos(p)*d+c,y:Math.sin(p)*d+h};return!!(r.line(o.x,o.y,a.x,a.y,i,t,e)||r.line(s.x,s.y,u.x,u.y,i,t,e)||r.arcline(c,h,l,f,p,g,i,t,e)||r.arcline(c,h,d,f,p,g,i,t,e))}return a&&s?y()||b():a?y():!!s&&b()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var i=n.x,o=n.y,a=n.width,s=n.height;return r.rect(i,o,a,s,t,e)},line:function(t,e){var n=this._attrs,i=n.x1,o=n.y1,a=n.x2,s=n.y2,u=this.getHitLineWidth();return!!this.hasStroke()&&r.line(i,o,a,s,u,t,e)},path:function(t,e){var n=this,r=n.get("segments"),o=n.hasFill(),a=n.hasStroke();function u(){if(!i.isEmpty(r)){for(var o=n.getHitLineWidth(),a=0,s=r.length;a<s;a++)if(r[a].isInside(t,e,o))return!0;return!1}}return o&&a?s(t,e,n)||u():o?s(t,e,n):!!a&&u()},marker:function(t,e){var n=this._attrs,i=n.x,o=n.y,a=n.radius||n.r,s=this.getHitLineWidth();return r.circle(i,o,a+s/2,t,e)},polygon:function(t,e){var n=this,i=n.hasFill(),o=n.hasStroke();function a(){var i=n._attrs.points;if(i.length<2)return!1;var o=n.getHitLineWidth(),a=i.slice(0);return i.length>=3&&a.push(i[0]),r.polyline(a,o,t,e)}return i&&o?s(t,e,n)||a():i?s(t,e,n):!!o&&a()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var i=n.points;if(i.length<2)return!1;var o=n.lineWidth;return r.polyline(i,o,t,e)}return!1},rect:function(t,e){var n=this,i=n.hasFill(),o=n.hasStroke();function a(){var i=n._attrs,o=i.x,a=i.y,s=i.width,u=i.height,c=i.radius,h=n.getHitLineWidth();if(0===c){var l=h/2;return r.line(o-l,a,o+s+l,a,h,t,e)||r.line(o+s,a-l,o+s,a+u+l,h,t,e)||r.line(o+s+l,a+u,o-l,a+u,h,t,e)||r.line(o,a+u+l,o,a-l,h,t,e)}return r.line(o+c,a,o+s-c,a,h,t,e)||r.line(o+s,a+c,o+s,a+u-c,h,t,e)||r.line(o+s-c,a+u,o+c,a+u,h,t,e)||r.line(o,a+u-c,o,a+c,h,t,e)||r.arcline(o+s-c,a+c,c,1.5*Math.PI,2*Math.PI,!1,h,t,e)||r.arcline(o+s-c,a+u-c,c,0,.5*Math.PI,!1,h,t,e)||r.arcline(o+c,a+u-c,c,.5*Math.PI,Math.PI,!1,h,t,e)||r.arcline(o+c,a+c,c,Math.PI,1.5*Math.PI,!1,h,t,e)}return i&&o?s(t,e,n)||a():i?s(t,e,n):!!o&&a()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return r.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=u[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){var i=n(0),r=n(22),o=n(98),a=n(101),s=n(112),u=s.interpolate,c=s.interpolateArray,h=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};function l(t,e,n){var o,s=e.startTime;if(n<s+e.delay||e.isPaused)return!1;var h=e.duration,l=e.easing;if(n=n-s-e.delay,e.repeat)o=n%h/h,o=a[l](o);else{if(!((o=n/h)<1)){var d=e.toAttrs||e.onFrame(1);return t.attr(d),e.toMatrix&&t.setMatrix(e.toMatrix),!0}o=a[l](o)}if(e.onFrame){var f=e.onFrame(o);t.attr(f)}else!function(t,e,n){var o={},a=e.toAttrs,s=e.fromAttrs,h=e.toMatrix;if(!t.get("destroyed")){var l;for(var d in a)if(!i.isEqual(s[d],a[d]))if("path"===d){var f=a[d],p=s[d];f.length>p.length?(f=r.parsePathString(a[d]),p=r.parsePathString(s[d]),p=r.fillPathByDiff(p,f),p=r.formatPath(p,f),e.fromAttrs.path=p,e.toAttrs.path=f):e.pathFormatted||(f=r.parsePathString(a[d]),p=r.parsePathString(s[d]),p=r.formatPath(p,f),e.fromAttrs.path=p,e.toAttrs.path=f,e.pathFormatted=!0),o[d]=[];for(var g=0;g<f.length;g++){for(var v=f[g],m=p[g],y=[],b=0;b<v.length;b++)i.isNumber(v[b])&&m&&i.isNumber(m[b])?(l=u(m[b],v[b]),y.push(l(n))):y.push(v[b]);o[d].push(y)}}else l=u(s[d],a[d]),o[d]=l(n);if(h){var x=c(e.fromMatrix,h)(n);t.setMatrix(x)}t.attr(o)}}(t,e,o);return!1}i.augment(h,{initTimer:function(){var t,e,n,i=this,r=this;r._timer=o.timer((function(o){if(r._current=o,i._animators.length>0){for(var a=i._animators.length-1;a>=0;a--)if((t=i._animators[a]).get("destroyed"))r.removeAnimator(a);else{if(!t.get("pause").isPaused)for(var s=(e=t.get("animators")).length-1;s>=0;s--)n=e[s],l(t,n,o)&&(e.splice(s,1),n.callback&&n.callback());0===e.length&&r.removeAnimator(a)}i.canvas.draw()}}))},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach((function(t){t.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(23);n.d(e,"now",(function(){return i.b})),n.d(e,"timer",(function(){return i.c})),n.d(e,"timerFlush",(function(){return i.d}));var r=n(99);n.d(e,"timeout",(function(){return r.a}));var o=n(100);n.d(e,"interval",(function(){return o.a}))},function(t,e,n){"use strict";var i=n(23);e.a=function(t,e,n){var r=new i.a;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}},function(t,e,n){"use strict";var i=n(23);e.a=function(t,e,n){var r=new i.a,o=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Object(i.b)():+n,r.restart((function i(a){a+=o,r.restart(i,o+=e,n),t(a)}),e,n),r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(102);n.d(e,"easeLinear",(function(){return i.a}));var r=n(103);n.d(e,"easeQuad",(function(){return r.b})),n.d(e,"easeQuadIn",(function(){return r.a})),n.d(e,"easeQuadOut",(function(){return r.c})),n.d(e,"easeQuadInOut",(function(){return r.b}));var o=n(104);n.d(e,"easeCubic",(function(){return o.b})),n.d(e,"easeCubicIn",(function(){return o.a})),n.d(e,"easeCubicOut",(function(){return o.c})),n.d(e,"easeCubicInOut",(function(){return o.b}));var a=n(105);n.d(e,"easePoly",(function(){return a.b})),n.d(e,"easePolyIn",(function(){return a.a})),n.d(e,"easePolyOut",(function(){return a.c})),n.d(e,"easePolyInOut",(function(){return a.b}));var s=n(106);n.d(e,"easeSin",(function(){return s.b})),n.d(e,"easeSinIn",(function(){return s.a})),n.d(e,"easeSinOut",(function(){return s.c})),n.d(e,"easeSinInOut",(function(){return s.b}));var u=n(107);n.d(e,"easeExp",(function(){return u.b})),n.d(e,"easeExpIn",(function(){return u.a})),n.d(e,"easeExpOut",(function(){return u.c})),n.d(e,"easeExpInOut",(function(){return u.b}));var c=n(108);n.d(e,"easeCircle",(function(){return c.b})),n.d(e,"easeCircleIn",(function(){return c.a})),n.d(e,"easeCircleOut",(function(){return c.c})),n.d(e,"easeCircleInOut",(function(){return c.b}));var h=n(109);n.d(e,"easeBounce",(function(){return h.c})),n.d(e,"easeBounceIn",(function(){return h.a})),n.d(e,"easeBounceOut",(function(){return h.c})),n.d(e,"easeBounceInOut",(function(){return h.b}));var l=n(110);n.d(e,"easeBack",(function(){return l.b})),n.d(e,"easeBackIn",(function(){return l.a})),n.d(e,"easeBackOut",(function(){return l.c})),n.d(e,"easeBackInOut",(function(){return l.b}));var d=n(111);n.d(e,"easeElastic",(function(){return d.c})),n.d(e,"easeElasticIn",(function(){return d.a})),n.d(e,"easeElasticOut",(function(){return d.c})),n.d(e,"easeElasticInOut",(function(){return d.b}))},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o}));var i=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),r=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*r)},e.c=function(t){return Math.sin(t*r)},e.b=function(t){return(1-Math.cos(i*t))/2};var i=Math.PI,r=i/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return 1-f(1-t)},e.c=f,e.b=function(t){return((t*=2)<=1?1-f(1-t):f(t-1)+1)/2};var i=4/11,r=6/11,o=8/11,a=.75,s=9/11,u=10/11,c=.9375,h=21/22,l=63/64,d=1/i/i;function f(t){return(t=+t)<i?d*t*t:t<o?d*(t-=r)*t+a:t<u?d*(t-=s)*t+c:d*(t-=h)*t+l}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o}));var i=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),r=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a}));var i=2*Math.PI,r=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=i);function o(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return o.amplitude=function(e){return t(e,n*i)},o.period=function(n){return t(e,n)},o}(1,.3),o=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=i);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return o.amplitude=function(e){return t(e,n*i)},o.period=function(n){return t(e,n)},o}(1,.3),a=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=i);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return o.amplitude=function(e){return t(e,n*i)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24);n.d(e,"interpolate",(function(){return i.a}));var r=n(58);n.d(e,"interpolateArray",(function(){return r.a}));var o=n(27);n.d(e,"interpolateBasis",(function(){return o.b}));var a=n(56);n.d(e,"interpolateBasisClosed",(function(){return a.a}));var s=n(59);n.d(e,"interpolateDate",(function(){return s.a}));var u=n(11);n.d(e,"interpolateNumber",(function(){return u.a}));var c=n(60);n.d(e,"interpolateObject",(function(){return c.a}));var h=n(115);n.d(e,"interpolateRound",(function(){return h.a}));var l=n(61);n.d(e,"interpolateString",(function(){return l.a}));var d=n(116);n.d(e,"interpolateTransformCss",(function(){return d.a})),n.d(e,"interpolateTransformSvg",(function(){return d.b}));var f=n(119);n.d(e,"interpolateZoom",(function(){return f.a}));var p=n(55);n.d(e,"interpolateRgb",(function(){return p.a})),n.d(e,"interpolateRgbBasis",(function(){return p.b})),n.d(e,"interpolateRgbBasisClosed",(function(){return p.c}));var g=n(120);n.d(e,"interpolateHsl",(function(){return g.a})),n.d(e,"interpolateHslLong",(function(){return g.b}));var v=n(121);n.d(e,"interpolateLab",(function(){return v.a}));var m=n(122);n.d(e,"interpolateHcl",(function(){return m.a})),n.d(e,"interpolateHclLong",(function(){return m.b}));var y=n(123);n.d(e,"interpolateCubehelix",(function(){return y.b})),n.d(e,"interpolateCubehelixLong",(function(){return y.a}));var b=n(124);n.d(e,"quantize",(function(){return b.a}))},function(t,e,n){"use strict";e.a=p,e.b=w;var i=n(26),r=n(25),o=n(54),a=.96422,s=1,u=.82521,c=4/29,h=6/29,l=3*h*h,d=h*h*h;function f(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof _){if(isNaN(t.h))return new g(t.l,0,0,t.opacity);var e=t.h*o.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof r.b||(t=Object(r.h)(t));var n,i,c=b(t.r),h=b(t.g),l=b(t.b),d=v((.2225045*c+.7168786*h+.0606169*l)/s);return c===h&&h===l?n=i=d:(n=v((.4360747*c+.3850649*h+.1430804*l)/a),i=v((.0139322*c+.0971045*h+.7141733*l)/u)),new g(116*d-16,500*(n-d),200*(d-i),t.opacity)}function p(t,e,n,i){return 1===arguments.length?f(t):new g(t,e,n,null==i?1:i)}function g(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function v(t){return t>d?Math.pow(t,1/3):t/l+c}function m(t){return t>h?t*t*t:l*(t-c)}function y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function b(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x(t){if(t instanceof _)return new _(t.h,t.c,t.l,t.opacity);if(t instanceof g||(t=f(t)),0===t.a&&0===t.b)return new _(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*o.b;return new _(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function w(t,e,n,i){return 1===arguments.length?x(t):new _(t,e,n,null==i?1:i)}function _(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}Object(i.a)(g,p,Object(i.b)(r.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=a*m(e),t=s*m(t),n=u*m(n),new r.b(y(3.1338561*e-1.6168667*t-.4906146*n),y(-.9787684*e+1.9161415*t+.033454*n),y(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(i.a)(_,w,Object(i.b)(r.a,{brighter:function(t){return new _(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new _(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return f(this).rgb()}}))},function(t,e,n){"use strict";e.a=p;var i=n(26),r=n(25),o=n(54),a=-.14861,s=1.78277,u=-.29227,c=-.90649,h=1.97294,l=h*c,d=h*s,f=s*u-c*a;function p(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof r.b||(t=Object(r.h)(t));var e=t.r/255,n=t.g/255,i=t.b/255,a=(f*i+l*e-d*n)/(f+l-d),s=i-a,p=(h*(n-a)-u*s)/c,v=Math.sqrt(p*p+s*s)/(h*a*(1-a)),m=v?Math.atan2(p,s)*o.b-120:NaN;return new g(m<0?m+360:m,v,a,t.opacity)}(t):new g(t,e,n,null==i?1:i)}function g(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Object(i.a)(g,p,Object(i.b)(r.a,{brighter:function(t){return t=null==t?r.c:Math.pow(r.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?r.d:Math.pow(r.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),l=Math.sin(t);return new r.b(255*(e+n*(a*i+s*l)),255*(e+n*(u*i+c*l)),255*(e+n*(h*i)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var i=n(11),r=n(117);function o(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],c=[];return a=t(a),s=t(s),function(t,r,o,a,s,u){if(t!==o||r!==a){var c=s.push("translate(",null,e,null,n);u.push({i:c-4,x:Object(i.a)(t,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(a.rotate,s.rotate,u,c),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(a.skewX,s.skewX,u,c),function(t,e,n,r,a,s){if(t!==n||e!==r){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(i.a)(t,n)},{i:u-2,x:Object(i.a)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,c),a=s=null,function(t){for(var e,n=-1,i=c.length;++n<i;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var a=o(r.a,"px, ","px)","deg)"),s=o(r.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){return"none"===t?s.b:(i||(i=document.createElement("DIV"),r=document.documentElement,o=document.defaultView),i.style.transform=t,t=o.getComputedStyle(r.appendChild(i),null).getPropertyValue("transform"),r.removeChild(i),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},e.b=function(t){return null==t?s.b:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b)};var i,r,o,a,s=n(118)},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,r,o,a){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*i,skewX:Math.atan(c)*i,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";var i=Math.SQRT2;function r(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],c=e[0],h=e[1],l=e[2],d=c-a,f=h-s,p=d*d+f*f;if(p<1e-12)o=Math.log(l/u)/i,n=function(t){return[a+t*d,s+t*f,u*Math.exp(i*t*o)]};else{var g=Math.sqrt(p),v=(l*l-u*u+4*p)/(2*u*2*g),m=(l*l-u*u-4*p)/(2*l*2*g),y=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(m*m+1)-m);o=(b-y)/i,n=function(t){var e=t*o,n=r(y),c=u/(2*g)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(i*e+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+c*d,s+c*f,u*n/r(i*e+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var i=n(3),r=n(5);function o(t){return function(e,n){var o=t((e=Object(i.d)(e)).h,(n=Object(i.d)(n)).h),a=Object(r.a)(e.s,n.s),s=Object(r.a)(e.l,n.l),u=Object(r.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(r.c);var a=o(r.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(r.a)((t=Object(i.e)(t)).l,(e=Object(i.e)(e)).l),o=Object(r.a)(t.a,e.a),a=Object(r.a)(t.b,e.b),s=Object(r.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=a(e),t.opacity=s(e),t+""}};var i=n(3),r=n(5)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var i=n(3),r=n(5);function o(t){return function(e,n){var o=t((e=Object(i.c)(e)).h,(n=Object(i.c)(n)).h),a=Object(r.a)(e.c,n.c),s=Object(r.a)(e.l,n.l),u=Object(r.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(r.c);var a=o(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(3),r=n(5);function o(t){return function e(n){function o(e,o){var a=t((e=Object(i.b)(e)).h,(o=Object(i.b)(o)).h),s=Object(r.a)(e.s,o.s),u=Object(r.a)(e.l,o.l),c=Object(r.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,o.gamma=e,o}(1)}e.b=o(r.c);var a=o(r.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}},function(t,e,n){t.exports={canvas:n(126),svg:n(129)}},function(t,e,n){t.exports={painter:n(127)}},function(t,e,n){var i=n(0),r=n(128),o=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],a=function(){function t(t){if(!t)return null;var e=i.uniqueId("canvas_"),n=i.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=i.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()})),e.beforeDraw();try{e._drawGroup(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{e.toDraw=!1}}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var i=0;i<e.length;i++)n=e[i],e[i].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var a in n)if(o.indexOf(a)>-1){var s=n[a];"fillStyle"===a&&(s=r.parseStyle(s,t,e)),"strokeStyle"===a&&(s=r.parseStyle(s,t,e)),"lineDash"===a&&e.setLineDash?i.isArray(s)?e.setLineDash(s):i.isString(s)&&e.setLineDash(s.split(" ")):e[a]=s}},t}();t.exports=a},function(t,e,n){var i=n(0),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t,e){var n=t.match(c);i.each(n,(function(t){t=t.split(":"),e.addColorStop(t[0],t[1])}))}t.exports={parsePath:function(t){return t=t||[],i.isArray(t)?t:i.isString(t)?(t=t.match(r),i.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}i.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0},parseStyle:function(t,e,n){if(i.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var r,o,s=a.exec(t),u=i.mod(i.toRadian(parseFloat(s[1])),2*Math.PI),c=s[2],l=e.getBBox();u>=0&&u<.5*Math.PI?(r={x:l.minX,y:l.minY},o={x:l.maxX,y:l.maxY}):.5*Math.PI<=u&&u<Math.PI?(r={x:l.maxX,y:l.minY},o={x:l.minX,y:l.maxY}):Math.PI<=u&&u<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},o={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},o={x:l.maxX,y:l.minY});var d=Math.tan(u),f=d*d,p=(o.x-r.x+d*(o.y-r.y))/(f+1)+r.x,g=d*(o.x-r.x+d*(o.y-r.y))/(f+1)+r.y,v=n.createLinearGradient(r.x,r.y,p,g);return h(c,v),v}(t,e,n);if("r"===t[0])return function(t,e,n){var i=s.exec(t),r=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3]),u=i[4];if(0===a){var l=u.match(c);return l[l.length-1].split(":")[1]}var d=e.getBBox(),f=d.maxX-d.minX,p=d.maxY-d.minY,g=Math.sqrt(f*f+p*p)/2,v=n.createRadialGradient(d.minX+f*r,d.minY+p*o,a*g,d.minX+f/2,d.minY+p/2,g);return h(u,v),v}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var i,r,o=u.exec(t),a=o[1],s=o[2];function c(){i=n.createPattern(r,a),e.setSilent("pattern",i),e.setSilent("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?c():(r.onload=c,r.src=r.src),i}(t,e,n)}return t}}}},function(t,e,n){t.exports={painter:n(130),getShape:n(137)}},function(t,e,n){var i=n(0),r=n(4).parseRadius,o=n(21),a=n(131),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},h={left:"left",start:"left",center:"middle",right:"end",end:"end"},l=function(){function t(t){if(!t)return null;var e=i.uniqueId("canvas_"),n=i.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new a(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=i.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()}));try{e._drawChildren(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{e.toDraw=!1}}()},e.drawSync=function(t){this._drawChildren(t)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(n.tobeRemoved&&(i.each(n.tobeRemoved,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&n.children.length>0&&this._drawChildren(t))},e._drawChildren=function(t){var e,n=t._cfg.children;if(n)for(var i=0;i<n.length;i++)(e=n[i]).isGroup?this._drawGroup(e,i):this._drawShape(e,i)},e._drawShape=function(t,e){var n=t._attrs,i=t._cfg,r=i.el;i.removed||i.destroyed?r&&r.parentNode.removeChild(i.el):(!r&&i.parent&&(this._createDom(t,e),this._updateShape(t)),r=i.el,!1!==i.visible?(i.visible&&r.hasAttribute("visibility")&&r.removeAttribute("visibility"),i.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):r.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var r in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[r]!==n[r]&&this._setAttribute(t,r,e[r]);t._cfg.attrs=i.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var r=t.type,o=t._attrs,a=t._cfg.el,s=this.context;if("marker"!==r&&"rect"!==r||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(r)&&~["x","y"].indexOf(e))a.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===r&&"points"===e)return n&&0!==n.length||(n=""),i.isArray(n)&&(n=(n=n.map((function(t){return t[0]+","+t[1]}))).join(" ")),void a.setAttribute("points",n);if("path"===e&&i.isArray(n))a.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=u[e],n){var c=null;c="boolean"==typeof n?s.getDefaultArrow(o,e):s.addArrow(o,e),a.setAttribute(e,"url(#"+c+")"),t._cfg[e]=c}else t._cfg[e]=null,a.removeAttribute(e);else"html"===e&&("string"==typeof n?a.innerHTML=n:(a.innerHTML="",a.appendChild(n))),u[e]&&a.setAttribute(u[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t,e){var n=s[t.type],i=t._attrs,r=t._cfg.parent;if(!n)throw new Error("the type"+t.type+"is not supported by svg");var o=document.createElementNS("http://www.w3.org/2000/svg",n);if(t._cfg.id&&(o.id=t._cfg.id),t._cfg.el=o,r){var a=r._cfg.el;if(void 0===e)a.appendChild(o);else{var u=r._cfg.el.childNodes;"svg"===a.tagName&&(e+=1),u.length<=e?a.appendChild(o):a.insertBefore(o,u[e])}}return t._cfg.attrs={},"text"===t.type?(o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(i.stroke||i.strokeStyle||o.setAttribute("stroke","none"),i.fill||i.fillStyle||o.setAttribute("fill","none")),o},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):o.Symbols[t.symbol||"circle"](t.x,t.y,e),i.isArray(n)&&(n=n.map((function(t){return t.join(" ")})).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,o=t.width,a=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+o+",0 l 0,"+a+" l"+-o+" 0 z";var u=r(s);return i.isArray(s)?1===s.length?u.r1=u.r2=u.r3=u.r4=s[0]:2===s.length?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):3===s.length?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s,[["M "+(e+u.r1)+","+n],["l "+(o-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(a-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-o)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-a)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map((function(t){return t.join(" ")})).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,i=[],r=0;r<9;r+=3)i.push(e[r]+","+e[r+1]);-1===(i=i.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var n=t._attrs,r=t._cfg.el;if(i.isString(e))r.setAttribute("href",e);else if(e instanceof Image)n.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",e.src);else if(e instanceof HTMLElement&&i.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())r.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var o=document.createElement("canvas");o.setAttribute("width",e.width),o.setAttribute("height",e.height),o.getContext("2d").putImageData(e,0,0),n.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",o.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,r=t._cfg,o={x:n.x,y:n.y},a=[],s=n.startAngle,u=n.endAngle;i.isNumberEqual(u-s,2*Math.PI)&&(u-=1e-5);var c=e(s,n.re,o),h=e(u,n.re,o),l=u>s?1:0,d=Math.abs(u-s)>Math.PI?1:0,f=n.rs,p=n.re,g=e(s,n.rs,o),v=e(u,n.rs,o);n.rs>0?(a.push("M "+h.x+","+h.y),a.push("L "+v.x+","+v.y),a.push("A "+f+","+f+",0,"+d+","+(1===l?0:1)+","+g.x+","+g.y),a.push("L "+c.x+" "+c.y)):(a.push("M "+o.x+","+o.y),a.push("L "+c.x+","+c.y)),a.push("A "+p+","+p+",0,"+d+","+l+","+h.x+","+h.y),n.rs>0?a.push("L "+v.x+","+v.y):a.push("Z"),r.el.setAttribute("d",a.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,i=t._cfg.el;for(var r in this._setFont(t),e)if(e[r]!==n[r]){if("text"===r){this._setText(t,""+e[r]);continue}if("fillStyle"===r||"strokeStyle"===r){this._setColor(t,r,e[r]);continue}if("matrix"===r){this._setTransform(t);continue}u[r]&&i.setAttribute(u[r],e[r])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,i=n.fontSize;e.setAttribute("alignment-baseline",c[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",h[n.textAlign]||"left"),i&&+i<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+i/12,+i/12],["t",n.x,n.y]]))},e._setText=function(t,e){var n=t._cfg.el,r=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var o=t._attrs.x,a=e.split("\n"),s=a.length-1,u="";i.each(a,(function(t,e){0===e?"alphabetic"===r?u+='<tspan x="'+o+'" dy="'+-s+'em">'+t+"</tspan>":"top"===r?u+='<tspan x="'+o+'" dy="0.9em">'+t+"</tspan>":"middle"===r?u+='<tspan x="'+o+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===r?u+='<tspan x="'+o+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===r&&(u+='<tspan x="'+o+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):u+='<tspan x="'+o+'" dy="1em">'+t+"</tspan>"})),n.innerHTML=u}else n.innerHTML=e;else n.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var i=this.context.addClip(e);n.setAttribute("clip-path","url(#"+i+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var i=t._cfg.el,r=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=r.find("gradient",n);o||(o=r.addGradient(n)),i.setAttribute(u[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var a=r.find("pattern",n);a||(a=r.addPattern(n)),i.setAttribute(u[e],"url(#"+a+")")}else i.setAttribute(u[e],n);else i.setAttribute(u[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(i.dx||i.dy||i.blur||i.color){var r=this.context.find("filter",i);r||(r=this.context.addShadow(i,this)),e.setAttribute("filter","url(#"+r+")")}else e.removeAttribute("filter")},t}();t.exports=l},function(t,e,n){var i=n(0),r=n(132),o=n(133),a=n(134),s=n(135),u=n(136),c=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=i.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,i=null,r=0;r<n.length;r++)if(n[r].match(t,e)){i=n[r].id;break}return i},e.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new a(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),i.id},e.addGradient=function(t){var e=new r(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new a(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var e=new o(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=c},function(t,e,n){var i=n(0),r=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(t){var e=t.match(a);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),i.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var u=function(){function t(t){var e=null,n=i.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,o,a=r.exec(t),u=i.mod(i.toRadian(parseFloat(a[1])),2*Math.PI),c=a[2];u>=0&&u<.5*Math.PI?(n={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=u&&u<Math.PI?(n={x:1,y:0},o={x:0,y:1}):Math.PI<=u&&u<1.5*Math.PI?(n={x:1,y:1},o={x:0,y:0}):(n={x:0,y:1},o={x:1,y:0});var h=Math.tan(u),l=h*h,d=(o.x-n.x+h*(o.y-n.y))/(l+1)+n.x,f=h*(o.x-n.x+h*(o.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",d),e.setAttribute("y2",f),e.innerHTML=s(c)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=o.exec(t),i=parseFloat(n[1]),r=parseFloat(n[2]),a=parseFloat(n[3]),u=n[4];e.setAttribute("cx",i),e.setAttribute("cy",r),e.setAttribute("r",a),e.innerHTML=s(u)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=u},function(t,e,n){var i=n(0),r={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},o={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return i.each(o,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=i.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return i.each(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},e.update=function(t,e){var n=this.cfg;return n[r[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();t.exports=a},function(t,e,n){var i=n(0),r=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=i.uniqueId("marker_");n.setAttribute("id",r);var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke","none"),o.setAttribute("fill",t.stroke||"#000"),n.appendChild(o),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=o,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,o):this._setMarker(t.lineWidth,o),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,r=this.cfg.path,o=this.cfg.d;i.isArray(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),o&&n.setAttribute("refX",o/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=r},function(t,e,n){var i=n(0),r=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=i.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=r},function(t,e,n){var i=n(0),r=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,o=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var o=i.uniqueId("pattern_");e.id=o,this.el=e,this.id=o,this.cfg=t;var a=r.exec(t)[2];n.setAttribute("href",a);var s=new Image;function u(){e.setAttribute("width",s.width),e.setAttribute("height",s.height)}return a.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=a,s.complete?u():(s.onload=u,s.src=s.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=o},function(t,e){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,i){var r=i.target||i.srcElement;if(!n[r.tagName]){for(var o=r.parentNode;o&&!n[o.tagName];)o=o.parentNode;r=o}return this._cfg.el===r?this:this.find((function(t){return t._cfg&&t._cfg.el===r}))}}])}))},function(t,e,n){var i=n(31),r=n(25),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&i(t)==o}},function(t,e,n){var i=n(365),r=n(99),o=n(364),a=n(157),s=n(363),u=n(31),c=n(168),h=c(i),l=c(r),d=c(o),f=c(a),p=c(s),g=u;(i&&"[object DataView]"!=g(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=g(new r)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,i=n?c(n):"";if(i)switch(i){case h:return"[object DataView]";case l:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var i=n(166),r=n(370),o=n(28);t.exports=function(t){return o(t)?i(t,!0):r(t)}},function(t,e,n){(function(t){var i=n(22),r=n(374),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=(s?s.isBuffer:void 0)||r;t.exports=u}).call(this,n(72)(t))},function(t,e,n){var i=n(22).Symbol;t.exports=i},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return v})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return y}));var i,r,o=0,a=0,s=0,u=1e3,c=0,h=0,l=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return h||(f(g),h=d.now()+l)}function g(){h=0}function v(){this._call=this._time=this._next=null}function m(t,e,n){var i=new v;return i.restart(t,e,n),i}function y(){p(),++o;for(var t,e=i;e;)(t=h-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function b(){h=(c=d.now())+l,o=a=0;try{y()}finally{o=0,function(){for(var t,e,n=i,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,w(o)}(),h=0}}function x(){var t=d.now(),e=t-c;e>u&&(l-=e,c=t)}function w(t){o||(a&&(a=clearTimeout(a)),t-h>24?(t<1/0&&(a=setTimeout(b,t-d.now()-l)),s&&(s=clearInterval(s))):(s||(c=d.now(),s=setInterval(x,u)),o=1,f(b)))}v.prototype=m.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}}},,,,,function(t,e,n){var i=n(34),r=1/0;t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},function(t,e,n){var i=n(373),r=n(62),o=n(95),a=o&&o.isTypedArray,s=a?r(a):i;t.exports=s},function(t,e,n){var i=n(375),r=n(25),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var i=n(65),r=n(64);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],h=o?o(n[c],t[c],c,n,t):void 0;void 0===h&&(h=t[c]),a?r(n,c,h):i(n,c,h)}return n}},function(t,e,n){var i=n(31),r=n(18),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=i(t);return e==a||e==s||e==o||e==u}},,function(t,e,n){var i=n(0),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;t.exports={parseRadius:function(t){var e=0,n=0,r=0,o=0;return i.isArray(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t,{r1:e,r2:n,r3:r,r4:o}},parsePath:function(t){return t=t||[],i.isArray(t)?t:i.isString(t)?(t=t.match(r),i.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}i.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0}}},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,i,r){return e&&n(t,e),i&&n(t,i),r&&n(t,r),t}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";var i=n(5);t.exports={longestPath:function(t){var e={};i.forEach(t.sources(),(function n(r){var o=t.node(r);if(i.has(e,r))return o.rank;e[r]=!0;var a=i.min(i.map(t.outEdges(r),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),o.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){var i=n(39),r=n(28),o=n(63),a=n(18);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?r(n)&&o(e,n.length):"string"==s&&e in n)&&i(n[e],t)}},function(t,e,n){var i=n(30),r=n(133),o=n(132);t.exports=function(t,e){return o(r(t,e,i),t+"")}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},function(t,e,n){var i=n(6),r=n(85),o=n(338),a=n(142);t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(a(t))}},function(t,e,n){var i=n(89),r=n(352)(i);t.exports=r},function(t,e,n){var i=n(165)(Object.getPrototypeOf,Object);t.exports=i},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?n:e)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var i=n(167);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var i=n(64),r=n(39),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&r(a,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var i=n(381);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var i=n(32)(Object,"create");t.exports=i},function(t,e,n){var i=n(39);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(405),r=n(404),o=n(403),a=n(402),s=n(401);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var i=n(69),r=n(400),o=n(399),a=n(398),s=n(397),u=n(396);function c(t){var e=this.__data__=new i(t);this.size=e.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var i={mix:n(52),augment:n(109),isString:n(16),getAdjMatrix:function(t,e){var n=t.nodes,i=t.edges,r=[],o=new Map;return n.forEach((function(t,e){o.set(t.id,e),r.push([])})),i.forEach((function(t){var n=t.source,i=t.target,a=o.get(n),s=o.get(i);r[a][s]=1,e||(r[s][a]=1)})),r},floydWarshall:function(t){for(var e=[],n=t.length,i=0;i<n;i+=1){e[i]=[];for(var r=0;r<n;r+=1)i===r?e[i][r]=0:0!==t[i][r]&&t[i][r]?e[i][r]=t[i][r]:e[i][r]=1/0}for(var o=0;o<n;o+=1)for(var a=0;a<n;a+=1)for(var s=0;s<n;s+=1)e[a][s]>e[a][o]+e[o][s]&&(e[a][s]=e[a][o]+e[o][s]);return e},getEDistance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},scaleMatrix:function(t,e){var n=[];return t.forEach((function(t){var i=[];t.forEach((function(t){i.push(t*e)})),n.push(i)})),n}};t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i=n(78),r={deepMix:n(2),mix:n(52),debounce:n(443),each:n(7),throttle:n(442),mat3:n(108),vec2:n(196),vec3:n(195),transform:n(194),clone:n(110),upperFirst:n(200),isNil:n(26),isArray:n(3),createDom:n(21),modifyCSS:n(9),isPlainObject:n(15),isNumber:n(79),isString:n(16),uniqueId:n(201),addEventListener:n(441),wrapBehavior:n(17),extend:n(198),augment:n(109),remove:n(440),formatPadding:function(t){var e=0,n=0,i=0,o=0;return r.isNumber(t)||r.isString(t)?e=n=i=o=t:r.isArray(t)&&(e=t[0],i=r.isNil(t[1])?t[0]:t[1],o=r.isNil(t[2])?t[0]:t[2],n=r.isNil(t[3])?i:t[3]),[e,i,o,n]},cloneEvent:function(t){var e=new i(t.type,t,!0,!0);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.item=t.item,e}};t.exports=r},function(t,e,n){var i=n(0),r=n(106),o=n(105),a=n(190),s=n(189),u=i.vec3,c=i.mat3,h=["m","l","c","a","q","h","v","t","s","z"];function l(t,e,n){return{x:n.x+t,y:n.y+e}}function d(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function f(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function p(t,e){return(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e))}function g(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(p(t,e))}var v=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};i.augment(v,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var r,o,a,s,u=h.indexOf(n)>=0,c=u?n.toUpperCase():n,f=t,v=e.endPoint,m=f[1],y=f[2];switch(c){default:break;case"M":s=u?l(m,y,v):{x:m,y:y},this.command="M",this.params=[v,s],this.subStart=s,this.endPoint=s;break;case"L":s=u?l(m,y,v):{x:m,y:y},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"H":s=u?l(m,0,v):{x:m,y:v.y},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"V":s=u?l(0,m,v):{x:v.x,y:m},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"Q":u?(r=l(m,y,v),o=l(f[3],f[4],v)):(r={x:m,y:y},o={x:f[3],y:f[4]}),this.command="Q",this.params=[v,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]};break;case"T":o=u?l(m,y,v):{x:m,y:y},"Q"===e.command?(r=d(e.params[1],v),this.command="Q",this.params=[v,r,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-r.x,o.y-r.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]}):(this.command="TL",this.params=[v,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-v.x,o.y-v.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]});break;case"C":u?(r=l(m,y,v),o=l(f[3],f[4],v),a=l(f[5],f[6],v)):(r={x:m,y:y},o={x:f[3],y:f[4]},a={x:f[5],y:f[6]}),this.command="C",this.params=[v,r,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]};break;case"S":u?(o=l(m,y,v),a=l(f[3],f[4],v)):(o={x:m,y:y},a={x:f[3],y:f[4]}),"C"===e.command?(r=d(e.params[2],v),this.command="C",this.params=[v,r,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[v.x-r.x,v.y-r.y]}):(this.command="SQ",this.params=[v,o,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-o.x,a.y-o.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]});break;case"A":var b=m,x=y,w=f[3],_=f[4],M=f[5];s=u?l(f[6],f[7],v):{x:f[6],y:f[7]},this.command="A";var k=function(t,e,n,r,o,a,s){var u=i.mod(i.toRadian(s),2*Math.PI),c=t.x,h=t.y,l=e.x,d=e.y,f=Math.cos(u)*(c-l)/2+Math.sin(u)*(h-d)/2,v=-1*Math.sin(u)*(c-l)/2+Math.cos(u)*(h-d)/2,m=f*f/(o*o)+v*v/(a*a);m>1&&(o*=Math.sqrt(m),a*=Math.sqrt(m));var y=o*o*(v*v)+a*a*(f*f),b=Math.sqrt((o*o*(a*a)-y)/y);n===r&&(b*=-1),isNaN(b)&&(b=0);var x=b*o*v/a,w=b*-a*f/o,_=(c+l)/2+Math.cos(u)*x-Math.sin(u)*w,M=(h+d)/2+Math.sin(u)*x+Math.cos(u)*w,k=g([1,0],[(f-x)/o,(v-w)/a]),S=[(f-x)/o,(v-w)/a],E=[(-1*f-x)/o,(-1*v-w)/a],C=g(S,E);return p(S,E)<=-1&&(C=Math.PI),p(S,E)>=1&&(C=0),0===r&&C>0&&(C-=2*Math.PI),1===r&&C<0&&(C+=2*Math.PI),[t,_,M,o,a,k,C,u,r]}(v,s,_,M,b,x,w);this.params=k;var S=e.subStart;this.subStart=S,this.endPoint=s;var E=k[5]%(2*Math.PI);i.isNumberEqual(E,2*Math.PI)&&(E=0);var C=k[6]%(2*Math.PI);i.isNumberEqual(C,2*Math.PI)&&(C=0);var T=.001;this.startTangent=function(){0===M&&(T*=-1);var t=k[3]*Math.cos(E-T)+k[1],e=k[4]*Math.sin(E-T)+k[2];return[t-S.x,e-S.y]},this.endTangent=function(){var t=k[6];t-2*Math.PI<1e-4&&(t=0);var e=k[3]*Math.cos(E+t+T)+k[1],n=k[4]*Math.sin(E+t-T)+k[2];return[v.x-e,v.y-n]};break;case"Z":this.command="Z",this.params=[v,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var i=this.command,o=this.params,a=this.box;if(a&&!r.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(i){default:break;case"M":return!1;case"TL":case"L":case"Z":return r.line(o[0].x,o[0].y,o[1].x,o[1].y,n,t,e);case"SQ":case"Q":return r.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,n,t,e);case"C":return r.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,n,t,e);case"A":var s=o,h=s[1],l=s[2],d=s[3],f=s[4],p=s[5],g=s[6],v=s[7],m=s[8],y=d>f?d:f,b=d>f?1:d/f,x=d>f?f/d:1;s=[t,e,1];var w=[1,0,0,0,1,0,0,0,1];return c.translate(w,w,[-h,-l]),c.rotate(w,w,-v),c.scale(w,w,[1/b,1/x]),u.transformMat3(s,s,w),r.arcline(0,0,y,p,p+g,1-m,n,s[0],s[1])}return!1},draw:function(t){var e,n,i,r=this.command,o=this.params;switch(r){default:break;case"M":t.moveTo(o[1].x,o[1].y);break;case"TL":case"L":t.lineTo(o[1].x,o[1].y);break;case"SQ":case"Q":e=o[1],n=o[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=o[1],n=o[2],i=o[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,i.x,i.y);break;case"A":var a=o,s=a[1],u=a[2],c=a[3],h=a[4],l=a[5],d=a[6],f=a[7],p=a[8],g=c>h?c:h,v=c>h?1:c/h,m=c>h?h/c:1;t.translate(s,u),t.rotate(f),t.scale(v,m),t.arc(0,0,g,l,l+d,1-p),t.scale(1/v,1/m),t.rotate(-f),t.translate(-s,-u);break;case"Z":t.closePath()}},shortenDraw:function(t,e,n){var i,r,o,a=this.command,s=this.params;switch(a){default:break;case"M":t.moveTo(s[1].x-e,s[1].y-n);break;case"TL":case"L":t.lineTo(s[1].x-e,s[1].y-n);break;case"SQ":case"Q":i=s[1],r=s[2],t.quadraticCurveTo(i.x,i.y,r.x-e,r.y-n);break;case"C":i=s[1],r=s[2],o=s[3],t.bezierCurveTo(i.x,i.y,r.x,r.y,o.x-e,o.y-n);break;case"A":var u=s,c=u[1],h=u[2],l=u[3],d=u[4],f=u[5],p=u[6],g=u[7],v=u[8],m=l>d?l:d,y=l>d?1:l/d,b=l>d?d/l:1;t.translate(c,h),t.rotate(g),t.scale(y,b),t.arc(0,0,m,f,f+p,1-v),t.scale(1/y,1/b),t.rotate(-g),t.translate(-c,-h);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,i,r,u=t/2,c=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(c[0].x,c[1].x)-u,maxX:Math.max(c[0].x,c[1].x)+u,minY:Math.min(c[0].y,c[1].y)-u,maxY:Math.max(c[0].y,c[1].y)+u};break;case"SQ":case"Q":for(i=0,r=(n=a.extrema(c[0].x,c[1].x,c[2].x)).length;i<r;i++)n[i]=a.at(c[0].x,c[1].x,c[2].x,n[i]);for(n.push(c[0].x,c[2].x),i=0,r=(e=a.extrema(c[0].y,c[1].y,c[2].y)).length;i<r;i++)e[i]=a.at(c[0].y,c[1].y,c[2].y,e);e.push(c[0].y,c[2].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"C":for(i=0,r=(n=o.extrema(c[0].x,c[1].x,c[2].x,c[3].x)).length;i<r;i++)n[i]=o.at(c[0].x,c[1].x,c[2].x,c[3].x,n[i]);for(i=0,r=(e=o.extrema(c[0].y,c[1].y,c[2].y,c[3].y)).length;i<r;i++)e[i]=o.at(c[0].y,c[1].y,c[2].y,c[3].y,e[i]);n.push(c[0].x,c[3].x),e.push(c[0].y,c[3].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"A":var h=c,l=h[1],d=h[2],f=h[3],p=h[4],g=h[5],v=h[6],m=h[7],y=h[8],b=g,x=g+v,w=s.xExtrema(m,f,p),_=1/0,M=-1/0,k=[b,x];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var S=w+i;1===y?b<S&&S<x&&k.push(S):x<S&&S<b&&k.push(S)}for(i=0,r=k.length;i<r;i++){var E=s.xAt(m,f,p,l,k[i]);E<_&&(_=E),E>M&&(M=E)}var C=s.yExtrema(m,f,p),T=1/0,P=-1/0,A=[b,x];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var O=C+i;1===y?b<O&&O<x&&A.push(O):x<O&&O<b&&A.push(O)}for(i=0,r=A.length;i<r;i++){var D=s.yAt(m,f,p,d,A[i]);D<T&&(T=D),D>P&&(P=D)}this.box={minX:_-u,maxX:M+u,minY:T-u,maxY:P+u}}}}),t.exports=v},function(t,e,n){var i=n(51),r=n(74),o=Math.PI,a=Math.sin,s=Math.cos,u=Math.atan2,c=10,h=o/3;function l(t,e,n,i,r,l,d){var f,p,g,v,m,y,b;if(!e.fill){var x=e.arrowLength||c,w=e.arrowAngle?e.arrowAngle*o/180:h;b=u(i-l,n-r),m=Math.abs(e.lineWidth*s(b))/2,y=Math.abs(e.lineWidth*a(b))/2,d&&(m=-m,y=-y),f=r+x*s(b+w/2),p=l+x*a(b+w/2),g=r+x*s(b-w/2),v=l+x*a(b-w/2),t.beginPath(),t.moveTo(f-m,p-y),t.lineTo(r-m,l-y),t.lineTo(g-m,v-y),t.moveTo(r-m,l-y),t.lineTo(r+m,l+y),t.moveTo(r,l),t.stroke()}}function d(t,e,n,o,u,c,h){var l=h?e.startArrow:e.endArrow,d=l.d,f=u-n,p=c-o,g=Math.atan2(p,f),v=function(t){var e,n=[],o=i.parsePath(t.path);if(!Array.isArray(o)||0===o.length||"M"!==o[0][0]&&"m"!==o[0][0])return!1;for(var a=o.length,s=0;s<o.length;s++){var u=o[s];e=new r(u,e,s===a-1),n.push(e)}return n}(l);if(v){d&&(u-=s(g)*d,c-=a(g)*d),t.save(),t.beginPath(),t.translate(u,c),t.rotate(g);for(var m=0;m<v.length;m++)v[m].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,i,r,o){"object"==typeof e.startArrow?d(t,e,n,i,r,o,!0):e.startArrow&&l(t,e,n,i,r,o,!0)},addEndArrow:function(t,e,n,i,r,o){"object"==typeof e.endArrow?d(t,e,n,i,r,o,!1):e.endArrow&&l(t,e,n,i,r,o,!1)},getShortenOffset:function(t,e,n,i,r){var o=Math.atan2(i-e,n-t);return{dx:s(o)*r,dy:a(o)*r}}}},function(t,e,n){var i=n(0);function r(t,e,n,i){return{x:Math.cos(i)*n+t,y:Math.sin(i)*n+e}}function o(t,e,n,i){var r,o;return i?t<e?(r=e-t,o=2*Math.PI-n+t):t>n&&(r=2*Math.PI-t+e,o=t-n):(r=t-e,o=n-t),r>o?n:e}function a(t,e,n,r){var a=0;return n-e>=2*Math.PI&&(a=2*Math.PI),e=i.mod(e,2*Math.PI),n=i.mod(n,2*Math.PI)+a,t=i.mod(t,2*Math.PI),r?e>=n?t>n&&t<e?t:o(t,n,e,!0):t<e||t>n?t:o(t,e,n):e<=n?e<t&&t<n?t:o(t,e,n,!0):t>e||t<n?t:o(t,n,e)}function s(t,e,n,r,o,s,u,c,h){var l=[u,c],d=[t,e],f=i.vec2.subtract([],l,d),p=i.vec2.angleTo([1,0],f);p=a(p,r,o,s);var g=[n*Math.cos(p)+t,n*Math.sin(p)+e];return h&&(h.x=g[0],h.y=g[1]),i.vec2.distance(g,l)}t.exports={nearAngle:a,projectPoint:function(t,e,n,i,r,o,a,u){var c={};return s(t,e,n,i,r,o,a,u,c),c},pointDistance:s,box:function(t,e,n,o,s,u){var c=Math.PI/2,h=Math.PI,l=3*Math.PI/2,d=[],f=a(0,o,s,u);0===f&&d.push(r(t,e,n,0)),(f=a(c,o,s,u))===c&&d.push(r(t,e,n,c)),(f=a(h,o,s,u))===h&&d.push(r(t,e,n,h)),(f=a(l,o,s,u))===l&&d.push(r(t,e,n,l)),d.push(r(t,e,n,o)),d.push(r(t,e,n,s));var p=1/0,g=-1/0,v=1/0,m=-1/0;return i.each(d,(function(t){p>t.x&&(p=t.x),g<t.x&&(g=t.x),v>t.y&&(v=t.y),m<t.y&&(m=t.y)})),{minX:p,minY:v,maxX:g,maxY:m}}}},function(t,e,n){var i=n(0).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,r,o,a){var s=[n-t,r-e];if(i.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];i.normalize(u,u);var c=[o-t,a-e];return Math.abs(i.dot(c,u))},box:function(t,e,n,i,r){var o=r/2,a=Math.min(t,n),s=Math.max(t,n);return{minX:a-o,minY:Math.min(e,i)-o,maxX:s+o,maxY:Math.max(e,i)+o}},len:function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}}},function(t,e,n){var i=n(0),r=function(t,e,n,i){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};i.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return i.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=r},function(t,e,n){var i=n(4);t.exports=function(t){return i(t,"Number")}},function(t,e,n){var i=n(4);t.exports=function(t){return i(t,"Function")}},function(t,e,n){t.exports={Canvas:n(480),Group:n(193),Shape:n(11),Arc:n(188),Circle:n(187),Dom:n(186),Ellipse:n(185),Fan:n(184),Image:n(183),Line:n(182),Marker:n(104),Path:n(181),Polygon:n(180),Polyline:n(179),Rect:n(178),Text:n(177),PathSegment:n(74),PathUtil:n(103),Event:n(78),EventEmitter:n(191),version:"3.4.5"}},,function(t,e,n){var i=n(34);t.exports=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===u?s==s&&!i(s):n(s,u)))var u=s,c=a}return c}},function(t,e,n){var i=n(92),r=n(319);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=r),s||(s=[]);++u<c;){var h=e[u];n>0&&o(h)?n>1?t(h,n-1,o,a,s):i(s,h):a||(s[s.length]=h)}return s}},function(t,e,n){var i=n(6),r=n(34),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var i=n(58),r=n(45);t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var i=n(353)();t.exports=i},function(t,e,n){var i=n(88),r=n(29);t.exports=function(t,e){return t&&i(t,e,r)}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var i=n(156);t.exports=function(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}},function(t,e){t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},function(t,e,n){var i=n(162),r=n(161),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),i(a(t),(function(e){return o.call(t,e)})))}:r;t.exports=s},function(t,e,n){var i=n(61),r=n(372),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){(function(t){var i=n(169),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(72)(t))},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},function(t,e,n){var i=n(389),r=n(382),o=n(380),a=n(379),s=n(378);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var i=n(32)(n(22),"Map");t.exports=i},function(t,e,n){"use strict";var i=n(19);t.exports=s;var r="\0",o="\0",a="";function s(t){this._isDirected=!i.has(t,"directed")||t.directed,this._isMultigraph=!!i.has(t,"multigraph")&&t.multigraph,this._isCompound=!!i.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(t,e){t[e]?t[e]++:t[e]=1}function c(t,e){--t[e]||delete t[e]}function h(t,e,n,o){var s=""+e,u=""+n;if(!t&&s>u){var c=s;s=u,u=c}return s+a+u+a+(i.isUndefined(o)?r:o)}function l(t,e){return h(t,e.v,e.w,e.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(t){return this._label=t,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(t){return i.isFunction(t)||(t=i.constant(t)),this._defaultNodeLabelFn=t,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return i.keys(this._nodes)},s.prototype.sources=function(){var t=this;return i.filter(this.nodes(),(function(e){return i.isEmpty(t._in[e])}))},s.prototype.sinks=function(){var t=this;return i.filter(this.nodes(),(function(e){return i.isEmpty(t._out[e])}))},s.prototype.setNodes=function(t,e){var n=arguments,r=this;return i.each(t,(function(t){n.length>1?r.setNode(t,e):r.setNode(t)})),this},s.prototype.setNode=function(t,e){return i.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=o,this._children[t]={},this._children[o][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},s.prototype.node=function(t){return this._nodes[t]},s.prototype.hasNode=function(t){return i.has(this._nodes,t)},s.prototype.removeNode=function(t){var e=this;if(i.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],i.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),i.each(i.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],i.each(i.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},s.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(e))e=o;else{for(var n=e+="";!i.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},s.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},s.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==o)return e}},s.prototype.children=function(t){if(i.isUndefined(t)&&(t=o),this._isCompound){var e=this._children[t];if(e)return i.keys(e)}else{if(t===o)return this.nodes();if(this.hasNode(t))return[]}},s.prototype.predecessors=function(t){var e=this._preds[t];if(e)return i.keys(e)},s.prototype.successors=function(t){var e=this._sucs[t];if(e)return i.keys(e)},s.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return i.union(e,this.successors(t))},s.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},s.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;i.each(this._nodes,(function(n,i){t(i)&&e.setNode(i,n)})),i.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var r={};return this._isCompound&&i.each(e.nodes(),(function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))})),e},s.prototype.setDefaultEdgeLabel=function(t){return i.isFunction(t)||(t=i.constant(t)),this._defaultEdgeLabelFn=t,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return i.values(this._edgeObjs)},s.prototype.setPath=function(t,e){var n=this,r=arguments;return i.reduce(t,(function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i})),this},s.prototype.setEdge=function(){var t,e,n,r,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,e=a.w,n=a.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,e=""+e,i.isUndefined(n)||(n=""+n);var s=h(this._isDirected,t,e,n);if(i.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=r),this;if(!i.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=o?r:this._defaultEdgeLabelFn(t,e,n);var c=function(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var a=r;r=o,o=a}var s={v:r,w:o};return i&&(s.name=i),s}(this._isDirected,t,e,n);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[s]=c,u(this._preds[e],t),u(this._sucs[t],e),this._in[e][s]=c,this._out[t][s]=c,this._edgeCount++,this},s.prototype.edge=function(t,e,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):h(this._isDirected,t,e,n);return this._edgeLabels[i]},s.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):h(this._isDirected,t,e,n);return i.has(this._edgeLabels,r)},s.prototype.removeEdge=function(t,e,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):h(this._isDirected,t,e,n),r=this._edgeObjs[i];return r&&(t=r.v,e=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],c(this._preds[e],t),c(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},s.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=i.values(n);return e?i.filter(r,(function(t){return t.v===e})):r}},s.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=i.values(n);return e?i.filter(r,(function(t){return t.w===e})):r}},s.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",h=500,l="__lodash_placeholder__",d=1,f=2,p=4,g=1,v=2,m=1,y=2,b=4,x=8,w=16,_=32,M=64,k=128,S=256,E=512,C=30,T="...",P=800,A=16,O=1,D=2,N=1/0,I=9007199254740991,L=17976931348623157e292,j=NaN,B=4294967295,R=B-1,z=B>>>1,F=[["ary",k],["bind",m],["bindKey",y],["curry",x],["curryRight",w],["flip",E],["partial",_],["partialRight",M],["rearg",S]],Y="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",G="[object Boolean]",q="[object Date]",U="[object DOMException]",V="[object Error]",X="[object Function]",Z="[object GeneratorFunction]",Q="[object Map]",$="[object Number]",K="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",it="[object String]",rt="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",st="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",ht="[object Float32Array]",lt="[object Float64Array]",dt="[object Int8Array]",ft="[object Int16Array]",pt="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",bt=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,kt=RegExp(_t.source),St=RegExp(Mt.source),Et=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(Dt.source),It=/^\s+|\s+$/g,Lt=/^\s+/,jt=/\s+$/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yt=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",ne="["+Kt+"]",ie="\\d+",re="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Jt+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",he="[\\ud800-\\udbff][\\udc00-\\udfff]",le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",de="(?:"+oe+"|"+ae+")",fe="(?:"+le+"|"+ae+")",pe="(?:"+ne+"|"+se+")?",ge="[\\ufe0e\\ufe0f]?"+pe+"(?:\\u200d(?:"+[ue,ce,he].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*",ve="(?:"+[re,ce,he].join("|")+")"+ge,me="(?:"+[ue+ne+"?",ne,ce,he,te].join("|")+")",ye=RegExp("[']","g"),be=RegExp(ne,"g"),xe=RegExp(se+"(?="+se+")|"+me+ge,"g"),we=RegExp([le+"?"+oe+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ee,le,"$"].join("|")+")",fe+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ee,le+de,"$"].join("|")+")",le+"?"+de+"+(?:['](?:d|ll|m|re|s|t|ve))?",le+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,ve].join("|"),"g"),_e=RegExp("[\\u200d\\ud800-\\udfff"+Kt+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ke=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Se=-1,Ee={};Ee[ht]=Ee[lt]=Ee[dt]=Ee[ft]=Ee[pt]=Ee[gt]=Ee[vt]=Ee[mt]=Ee[yt]=!0,Ee[Y]=Ee[H]=Ee[ut]=Ee[G]=Ee[ct]=Ee[q]=Ee[V]=Ee[X]=Ee[Q]=Ee[$]=Ee[J]=Ee[et]=Ee[nt]=Ee[it]=Ee[at]=!1;var Ce={};Ce[Y]=Ce[H]=Ce[ut]=Ce[ct]=Ce[G]=Ce[q]=Ce[ht]=Ce[lt]=Ce[dt]=Ce[ft]=Ce[pt]=Ce[Q]=Ce[$]=Ce[J]=Ce[et]=Ce[nt]=Ce[it]=Ce[rt]=Ce[gt]=Ce[vt]=Ce[mt]=Ce[yt]=!0,Ce[V]=Ce[X]=Ce[at]=!1;var Te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=parseFloat,Ae=parseInt,Oe="object"==typeof t&&t&&t.Object===Object&&t,De="object"==typeof self&&self&&self.Object===Object&&self,Ne=Oe||De||Function("return this")(),Ie="object"==typeof e&&e&&!e.nodeType&&e,Le=Ie&&"object"==typeof i&&i&&!i.nodeType&&i,je=Le&&Le.exports===Ie,Be=je&&Oe.process,Re=function(){try{var t=Le&&Le.require&&Le.require("util").types;return t||Be&&Be.binding&&Be.binding("util")}catch(t){}}(),ze=Re&&Re.isArrayBuffer,Fe=Re&&Re.isDate,Ye=Re&&Re.isMap,He=Re&&Re.isRegExp,We=Re&&Re.isSet,Ge=Re&&Re.isTypedArray;function qe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ue(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Ve(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Qe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function $e(t,e){return!(null==t||!t.length)&&un(t,e,0)>-1}function Ke(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Je(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function tn(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function en(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function nn(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function rn(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var on=dn("length");function an(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function sn(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):sn(t,hn,n)}function cn(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function hn(t){return t!=t}function ln(t,e){var n=null==t?0:t.length;return n?gn(t,e)/n:j}function dn(t){return function(e){return null==e?o:e[t]}}function fn(t){return function(e){return null==t?o:t[e]}}function pn(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function gn(t,e){for(var n,i=-1,r=t.length;++i<r;){var a=e(t[i]);a!==o&&(n=n===o?a:n+a)}return n}function vn(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function mn(t){return function(e){return t(e)}}function yn(t,e){return Je(e,(function(e){return t[e]}))}function bn(t,e){return t.has(e)}function xn(t,e){for(var n=-1,i=t.length;++n<i&&un(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var _n=fn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Mn=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kn(t){return"\\"+Te[t]}function Sn(t){return _e.test(t)}function En(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Cn(t,e){return function(n){return t(e(n))}}function Tn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==l||(t[n]=l,o[r++]=n)}return o}function Pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function An(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function On(t){return Sn(t)?function(t){for(var e=xe.lastIndex=0;xe.test(t);)++e;return e}(t):on(t)}function Dn(t){return Sn(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.split("")}(t)}var Nn=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),In=function t(e){var n=(e=null==e?Ne:In.defaults(Ne.Object(),e,In.pick(Ne,ke))).Array,i=e.Date,r=e.Error,Kt=e.Function,Jt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,ie=e.TypeError,re=n.prototype,oe=Kt.prototype,ae=te.prototype,se=e["__core-js_shared__"],ue=oe.toString,ce=ae.hasOwnProperty,he=0,le=function(){var t=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),de=ae.toString,fe=ue.call(te),pe=Ne._,ge=ee("^"+ue.call(ce).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=je?e.Buffer:o,me=e.Symbol,xe=e.Uint8Array,_e=ve?ve.allocUnsafe:o,Te=Cn(te.getPrototypeOf,te),Oe=te.create,De=ae.propertyIsEnumerable,Ie=re.splice,Le=me?me.isConcatSpreadable:o,Be=me?me.iterator:o,Re=me?me.toStringTag:o,on=function(){try{var t=Ro(te,"defineProperty");return t({},"",{}),t}catch(t){}}(),fn=e.clearTimeout!==Ne.clearTimeout&&e.clearTimeout,Ln=i&&i.now!==Ne.Date.now&&i.now,jn=e.setTimeout!==Ne.setTimeout&&e.setTimeout,Bn=Jt.ceil,Rn=Jt.floor,zn=te.getOwnPropertySymbols,Fn=ve?ve.isBuffer:o,Yn=e.isFinite,Hn=re.join,Wn=Cn(te.keys,te),Gn=Jt.max,qn=Jt.min,Un=i.now,Vn=e.parseInt,Xn=Jt.random,Zn=re.reverse,Qn=Ro(e,"DataView"),$n=Ro(e,"Map"),Kn=Ro(e,"Promise"),Jn=Ro(e,"Set"),ti=Ro(e,"WeakMap"),ei=Ro(te,"create"),ni=ti&&new ti,ii={},ri=ha(Qn),oi=ha($n),ai=ha(Kn),si=ha(Jn),ui=ha(ti),ci=me?me.prototype:o,hi=ci?ci.valueOf:o,li=ci?ci.toString:o;function di(t){if(Cs(t)&&!vs(t)&&!(t instanceof vi)){if(t instanceof gi)return t;if(ce.call(t,"__wrapped__"))return la(t)}return new gi(t)}var fi=function(){function t(){}return function(e){if(!Es(e))return{};if(Oe)return Oe(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function pi(){}function gi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function mi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function yi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function xi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bi;++e<n;)this.add(t[e])}function wi(t){var e=this.__data__=new yi(t);this.size=e.size}function _i(t,e){var n=vs(t),i=!n&&gs(t),r=!n&&!i&&xs(t),o=!n&&!i&&!r&&Ls(t),a=n||i||r||o,s=a?vn(t.length,ne):[],u=s.length;for(var c in t)!e&&!ce.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qo(c,u))||s.push(c);return s}function Mi(t){var e=t.length;return e?t[xr(0,e-1)]:o}function ki(t,e){return sa(eo(t),Ni(e,0,t.length))}function Si(t){return sa(eo(t))}function Ei(t,e,n){(n===o||ds(t[e],n))&&(n!==o||e in t)||Oi(t,e,n)}function Ci(t,e,n){var i=t[e];ce.call(t,e)&&ds(i,n)&&(n!==o||e in t)||Oi(t,e,n)}function Ti(t,e){for(var n=t.length;n--;)if(ds(t[n][0],e))return n;return-1}function Pi(t,e,n,i){return Ri(t,(function(t,r,o){e(i,t,n(t),o)})),i}function Ai(t,e){return t&&no(e,iu(e),t)}function Oi(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Di(t,e){for(var i=-1,r=e.length,a=n(r),s=null==t;++i<r;)a[i]=s?o:Ks(t,e[i]);return a}function Ni(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Ii(t,e,n,i,r,a){var s,u=e&d,c=e&f,h=e&p;if(n&&(s=r?n(t,i,r,a):n(t)),s!==o)return s;if(!Es(t))return t;var l=vs(t);if(l){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return eo(t,s)}else{var g=Yo(t),v=g==X||g==Z;if(xs(t))return Zr(t,u);if(g==J||g==Y||v&&!r){if(s=c||v?{}:Wo(t),!u)return c?function(t,e){return no(t,Fo(t),e)}(t,function(t,e){return t&&no(e,ru(e),t)}(s,t)):function(t,e){return no(t,zo(t),e)}(t,Ai(s,t))}else{if(!Ce[g])return r?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case ut:return Qr(t);case G:case q:return new i(+t);case ct:return function(t,e){var n=e?Qr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ht:case lt:case dt:case ft:case pt:case gt:case vt:case mt:case yt:return $r(t,n);case Q:return new i;case $:case it:return new i(t);case et:return function(t){var e=new t.constructor(t.source,Wt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new i;case rt:return function(t){return hi?te(hi.call(t)):{}}(t)}}(t,g,u)}}a||(a=new wi);var m=a.get(t);if(m)return m;a.set(t,s),Ds(t)?t.forEach((function(i){s.add(Ii(i,e,n,i,t,a))})):Ts(t)&&t.forEach((function(i,r){s.set(r,Ii(i,e,n,r,t,a))}));var y=l?o:(h?c?Oo:Ao:c?ru:iu)(t);return Ve(y||t,(function(i,r){y&&(i=t[r=i]),Ci(s,r,Ii(i,e,n,r,t,a))})),s}function Li(t,e,n){var i=n.length;if(null==t)return!i;for(t=te(t);i--;){var r=n[i],a=e[r],s=t[r];if(s===o&&!(r in t)||!a(s))return!1}return!0}function ji(t,e,n){if("function"!=typeof t)throw new ie(u);return ia((function(){t.apply(o,n)}),e)}function Bi(t,e,n,i){var r=-1,o=$e,s=!0,u=t.length,c=[],h=e.length;if(!u)return c;n&&(e=Je(e,mn(n))),i?(o=Ke,s=!1):e.length>=a&&(o=bn,s=!1,e=new xi(e));t:for(;++r<u;){var l=t[r],d=null==n?l:n(l);if(l=i||0!==l?l:0,s&&d==d){for(var f=h;f--;)if(e[f]===d)continue t;c.push(l)}else o(e,d,i)||c.push(l)}return c}di.templateSettings={escape:Et,evaluate:Ct,interpolate:Tt,variable:"",imports:{_:di}},di.prototype=pi.prototype,di.prototype.constructor=di,gi.prototype=fi(pi.prototype),gi.prototype.constructor=gi,vi.prototype=fi(pi.prototype),vi.prototype.constructor=vi,mi.prototype.clear=function(){this.__data__=ei?ei(null):{},this.size=0},mi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mi.prototype.get=function(t){var e=this.__data__;if(ei){var n=e[t];return n===c?o:n}return ce.call(e,t)?e[t]:o},mi.prototype.has=function(t){var e=this.__data__;return ei?e[t]!==o:ce.call(e,t)},mi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ei&&e===o?c:e,this},yi.prototype.clear=function(){this.__data__=[],this.size=0},yi.prototype.delete=function(t){var e=this.__data__,n=Ti(e,t);return!(n<0||(n==e.length-1?e.pop():Ie.call(e,n,1),--this.size,0))},yi.prototype.get=function(t){var e=this.__data__,n=Ti(e,t);return n<0?o:e[n][1]},yi.prototype.has=function(t){return Ti(this.__data__,t)>-1},yi.prototype.set=function(t,e){var n=this.__data__,i=Ti(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},bi.prototype.clear=function(){this.size=0,this.__data__={hash:new mi,map:new($n||yi),string:new mi}},bi.prototype.delete=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},bi.prototype.get=function(t){return jo(this,t).get(t)},bi.prototype.has=function(t){return jo(this,t).has(t)},bi.prototype.set=function(t,e){var n=jo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},xi.prototype.add=xi.prototype.push=function(t){return this.__data__.set(t,c),this},xi.prototype.has=function(t){return this.__data__.has(t)},wi.prototype.clear=function(){this.__data__=new yi,this.size=0},wi.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wi.prototype.get=function(t){return this.__data__.get(t)},wi.prototype.has=function(t){return this.__data__.has(t)},wi.prototype.set=function(t,e){var n=this.__data__;if(n instanceof yi){var i=n.__data__;if(!$n||i.length<a-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new bi(i)}return n.set(t,e),this.size=n.size,this};var Ri=oo(Ui),zi=oo(Vi,!0);function Fi(t,e){var n=!0;return Ri(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function Yi(t,e,n){for(var i=-1,r=t.length;++i<r;){var a=t[i],s=e(a);if(null!=s&&(u===o?s==s&&!Is(s):n(s,u)))var u=s,c=a}return c}function Hi(t,e){var n=[];return Ri(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Wi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Go),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Wi(s,e-1,n,i,r):tn(r,s):i||(r[r.length]=s)}return r}var Gi=ao(),qi=ao(!0);function Ui(t,e){return t&&Gi(t,e,iu)}function Vi(t,e){return t&&qi(t,e,iu)}function Xi(t,e){return Qe(e,(function(e){return Ms(t[e])}))}function Zi(t,e){for(var n=0,i=(e=qr(e,t)).length;null!=t&&n<i;)t=t[ca(e[n++])];return n&&n==i?t:o}function Qi(t,e,n){var i=e(t);return vs(t)?i:tn(i,n(t))}function $i(t){return null==t?t===o?ot:K:Re&&Re in te(t)?function(t){var e=ce.call(t,Re),n=t[Re];try{t[Re]=o;var i=!0}catch(t){}var r=de.call(t);return i&&(e?t[Re]=n:delete t[Re]),r}(t):function(t){return de.call(t)}(t)}function Ki(t,e){return t>e}function Ji(t,e){return null!=t&&ce.call(t,e)}function tr(t,e){return null!=t&&e in te(t)}function er(t,e,i){for(var r=i?Ke:$e,a=t[0].length,s=t.length,u=s,c=n(s),h=1/0,l=[];u--;){var d=t[u];u&&e&&(d=Je(d,mn(e))),h=qn(d.length,h),c[u]=!i&&(e||a>=120&&d.length>=120)?new xi(u&&d):o}d=t[0];var f=-1,p=c[0];t:for(;++f<a&&l.length<h;){var g=d[f],v=e?e(g):g;if(g=i||0!==g?g:0,!(p?bn(p,v):r(l,v,i))){for(u=s;--u;){var m=c[u];if(!(m?bn(m,v):r(t[u],v,i)))continue t}p&&p.push(v),l.push(g)}}return l}function nr(t,e,n){var i=null==(t=ta(t,e=qr(e,t)))?t:t[ca(_a(e))];return null==i?o:qe(i,t,n)}function ir(t){return Cs(t)&&$i(t)==Y}function rr(t,e,n,i,r){return t===e||(null==t||null==e||!Cs(t)&&!Cs(e)?t!=t&&e!=e:function(t,e,n,i,r,a){var s=vs(t),u=vs(e),c=s?H:Yo(t),h=u?H:Yo(e),l=(c=c==Y?J:c)==J,d=(h=h==Y?J:h)==J,f=c==h;if(f&&xs(t)){if(!xs(e))return!1;s=!0,l=!1}if(f&&!l)return a||(a=new wi),s||Ls(t)?To(t,e,n,i,r,a):function(t,e,n,i,r,o,a){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e)));case G:case q:case $:return ds(+t,+e);case V:return t.name==e.name&&t.message==e.message;case et:case it:return t==e+"";case Q:var s=En;case nt:var u=i&g;if(s||(s=Pn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;i|=v,a.set(t,e);var h=To(s(t),s(e),i,r,o,a);return a.delete(t),h;case rt:if(hi)return hi.call(t)==hi.call(e)}return!1}(t,e,c,n,i,r,a);if(!(n&g)){var p=l&&ce.call(t,"__wrapped__"),m=d&&ce.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,b=m?e.value():e;return a||(a=new wi),r(y,b,n,i,a)}}return!!f&&(a||(a=new wi),function(t,e,n,i,r,a){var s=n&g,u=Ao(t),c=u.length,h=Ao(e).length;if(c!=h&&!s)return!1;for(var l=c;l--;){var d=u[l];if(!(s?d in e:ce.call(e,d)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++l<c;){d=u[l];var m=t[d],y=e[d];if(i)var b=s?i(y,m,d,e,t,a):i(m,y,d,t,e,a);if(!(b===o?m===y||r(m,y,n,i,a):b)){p=!1;break}v||(v="constructor"==d)}if(p&&!v){var x=t.constructor,w=e.constructor;x!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,i,r,a))}(t,e,n,i,rr,r))}function or(t,e,n,i){var r=n.length,a=r,s=!i;if(null==t)return!a;for(t=te(t);r--;){var u=n[r];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<a;){var c=(u=n[r])[0],h=t[c],l=u[1];if(s&&u[2]){if(h===o&&!(c in t))return!1}else{var d=new wi;if(i)var f=i(h,l,c,t,e,d);if(!(f===o?rr(l,h,g|v,i,d):f))return!1}}return!0}function ar(t){return!(!Es(t)||function(t){return!!le&&le in t}(t))&&(Ms(t)?ge:Ut).test(ha(t))}function sr(t){return"function"==typeof t?t:null==t?Pu:"object"==typeof t?vs(t)?fr(t[0],t[1]):dr(t):Ru(t)}function ur(t){if(!Qo(t))return Wn(t);var e=[];for(var n in te(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function cr(t){if(!Es(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Qo(t),n=[];for(var i in t)("constructor"!=i||!e&&ce.call(t,i))&&n.push(i);return n}function hr(t,e){return t<e}function lr(t,e){var i=-1,r=ys(t)?n(t.length):[];return Ri(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function dr(t){var e=Bo(t);return 1==e.length&&e[0][2]?Ko(e[0][0],e[0][1]):function(n){return n===t||or(n,t,e)}}function fr(t,e){return Vo(t)&&$o(e)?Ko(ca(t),e):function(n){var i=Ks(n,t);return i===o&&i===e?Js(n,t):rr(e,i,g|v)}}function pr(t,e,n,i,r){t!==e&&Gi(e,(function(a,s){if(r||(r=new wi),Es(a))!function(t,e,n,i,r,a,s){var u=ea(t,n),c=ea(e,n),h=s.get(c);if(h)Ei(t,n,h);else{var l=a?a(u,c,n+"",t,e,s):o,d=l===o;if(d){var f=vs(c),p=!f&&xs(c),g=!f&&!p&&Ls(c);l=c,f||p||g?vs(u)?l=u:bs(u)?l=eo(u):p?(d=!1,l=Zr(c,!0)):g?(d=!1,l=$r(c,!0)):l=[]:As(c)||gs(c)?(l=u,gs(u)?l=Ws(u):Es(u)&&!Ms(u)||(l=Wo(c))):d=!1}d&&(s.set(c,l),r(l,c,i,a,s),s.delete(c)),Ei(t,n,l)}}(t,e,s,n,pr,i,r);else{var u=i?i(ea(t,s),a,s+"",t,e,r):o;u===o&&(u=a),Ei(t,s,u)}}),ru)}function gr(t,e){var n=t.length;if(n)return qo(e+=e<0?n:0,n)?t[e]:o}function vr(t,e,n){var i=-1;return e=Je(e.length?e:[Pu],mn(Lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(lr(t,(function(t,n,r){return{criteria:Je(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=Kr(r[i],o[i]);if(u){if(i>=s)return u;var c=n[i];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function mr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Zi(t,a);n(s,a)&&Sr(o,qr(a,t),s)}return o}function yr(t,e,n,i){var r=i?cn:un,o=-1,a=e.length,s=t;for(t===e&&(e=eo(e)),n&&(s=Je(t,mn(n)));++o<a;)for(var u=0,c=e[o],h=n?n(c):c;(u=r(s,h,u,i))>-1;)s!==t&&Ie.call(s,u,1),Ie.call(t,u,1);return t}function br(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;qo(r)?Ie.call(t,r,1):Br(t,r)}}return t}function xr(t,e){return t+Rn(Xn()*(e-t+1))}function wr(t,e){var n="";if(!t||e<1||e>I)return n;do{e%2&&(n+=t),(e=Rn(e/2))&&(t+=t)}while(e);return n}function _r(t,e){return ra(Jo(t,e,Pu),t+"")}function Mr(t){return Mi(du(t))}function kr(t,e){var n=du(t);return sa(n,Ni(e,0,n.length))}function Sr(t,e,n,i){if(!Es(t))return t;for(var r=-1,a=(e=qr(e,t)).length,s=a-1,u=t;null!=u&&++r<a;){var c=ca(e[r]),h=n;if(r!=s){var l=u[c];(h=i?i(l,c,u):o)===o&&(h=Es(l)?l:qo(e[r+1])?[]:{})}Ci(u,c,h),u=u[c]}return t}var Er=ni?function(t,e){return ni.set(t,e),t}:Pu,Cr=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:Eu(e),writable:!0})}:Pu;function Tr(t){return sa(du(t))}function Pr(t,e,i){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var a=n(o);++r<o;)a[r]=t[r+e];return a}function Ar(t,e){var n;return Ri(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Or(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=z){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Is(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return Dr(t,e,Pu,n)}function Dr(t,e,n,i){e=n(e);for(var r=0,a=null==t?0:t.length,s=e!=e,u=null===e,c=Is(e),h=e===o;r<a;){var l=Rn((r+a)/2),d=n(t[l]),f=d!==o,p=null===d,g=d==d,v=Is(d);if(s)var m=i||g;else m=h?g&&(i||f):u?g&&f&&(i||!p):c?g&&f&&!p&&(i||!v):!p&&!v&&(i?d<=e:d<e);m?r=l+1:a=l}return qn(a,R)}function Nr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!ds(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function Ir(t){return"number"==typeof t?t:Is(t)?j:+t}function Lr(t){if("string"==typeof t)return t;if(vs(t))return Je(t,Lr)+"";if(Is(t))return li?li.call(t):"";var e=t+"";return"0"==e&&1/t==-N?"-0":e}function jr(t,e,n){var i=-1,r=$e,o=t.length,s=!0,u=[],c=u;if(n)s=!1,r=Ke;else if(o>=a){var h=e?null:_o(t);if(h)return Pn(h);s=!1,r=bn,c=new xi}else c=e?[]:u;t:for(;++i<o;){var l=t[i],d=e?e(l):l;if(l=n||0!==l?l:0,s&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue t;e&&c.push(d),u.push(l)}else r(c,d,n)||(c!==u&&c.push(d),u.push(l))}return u}function Br(t,e){return null==(t=ta(t,e=qr(e,t)))||delete t[ca(_a(e))]}function Rr(t,e,n,i){return Sr(t,e,n(Zi(t,e)),i)}function zr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Pr(t,i?0:o,i?o+1:r):Pr(t,i?o+1:0,i?r:o)}function Fr(t,e){var n=t;return n instanceof vi&&(n=n.value()),en(e,(function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))}),n)}function Yr(t,e,i){var r=t.length;if(r<2)return r?jr(t[0]):[];for(var o=-1,a=n(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=Bi(a[o]||s,t[u],e,i));return jr(Wi(a,1),e,i)}function Hr(t,e,n){for(var i=-1,r=t.length,a=e.length,s={};++i<r;){var u=i<a?e[i]:o;n(s,t[i],u)}return s}function Wr(t){return bs(t)?t:[]}function Gr(t){return"function"==typeof t?t:Pu}function qr(t,e){return vs(t)?t:Vo(t,e)?[t]:ua(Gs(t))}var Ur=_r;function Vr(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:Pr(t,e,n)}var Xr=fn||function(t){return Ne.clearTimeout(t)};function Zr(t,e){if(e)return t.slice();var n=t.length,i=_e?_e(n):new t.constructor(n);return t.copy(i),i}function Qr(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function $r(t,e){var n=e?Qr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Kr(t,e){if(t!==e){var n=t!==o,i=null===t,r=t==t,a=Is(t),s=e!==o,u=null===e,c=e==e,h=Is(e);if(!u&&!h&&!a&&t>e||a&&s&&c&&!u&&!h||i&&s&&c||!n&&c||!r)return 1;if(!i&&!a&&!h&&t<e||h&&n&&r&&!i&&!a||u&&n&&r||!s&&r||!c)return-1}return 0}function Jr(t,e,i,r){for(var o=-1,a=t.length,s=i.length,u=-1,c=e.length,h=Gn(a-s,0),l=n(c+h),d=!r;++u<c;)l[u]=e[u];for(;++o<s;)(d||o<a)&&(l[i[o]]=t[o]);for(;h--;)l[u++]=t[o++];return l}function to(t,e,i,r){for(var o=-1,a=t.length,s=-1,u=i.length,c=-1,h=e.length,l=Gn(a-u,0),d=n(l+h),f=!r;++o<l;)d[o]=t[o];for(var p=o;++c<h;)d[p+c]=e[c];for(;++s<u;)(f||o<a)&&(d[p+i[s]]=t[o++]);return d}function eo(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function no(t,e,n,i){var r=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=i?i(n[u],t[u],u,n,t):o;c===o&&(c=t[u]),r?Oi(n,u,c):Ci(n,u,c)}return n}function io(t,e){return function(n,i){var r=vs(n)?Ue:Pi,o=e?e():{};return r(n,t,Lo(i,2),o)}}function ro(t){return _r((function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:o,s=r>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(r--,a):o,s&&Uo(n[0],n[1],s)&&(a=r<3?o:a,r=1),e=te(e);++i<r;){var u=n[i];u&&t(e,u,i,a)}return e}))}function oo(t,e){return function(n,i){if(null==n)return n;if(!ys(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=te(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function ao(t){return function(e,n,i){for(var r=-1,o=te(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function so(t){return function(e){var n=Sn(e=Gs(e))?Dn(e):o,i=n?n[0]:e.charAt(0),r=n?Vr(n,1).join(""):e.slice(1);return i[t]()+r}}function uo(t){return function(e){return en(Mu(gu(e).replace(ye,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=fi(t.prototype),i=t.apply(n,e);return Es(i)?i:n}}function ho(t){return function(e,n,i){var r=te(e);if(!ys(e)){var a=Lo(n,3);e=iu(e),n=function(t){return a(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[a?e[s]:s]:o}}function lo(t){return Po((function(e){var n=e.length,i=n,r=gi.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new ie(u);if(r&&!s&&"wrapper"==No(a))var s=new gi([],!0)}for(i=s?i:n;++i<n;){var c=No(a=e[i]),h="wrapper"==c?Do(a):o;s=h&&Xo(h[0])&&h[1]==(k|x|_|S)&&!h[4].length&&1==h[9]?s[No(h[0])].apply(s,h[3]):1==a.length&&Xo(a)?s[c]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&vs(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function fo(t,e,i,r,a,s,u,c,h,l){var d=e&k,f=e&m,p=e&y,g=e&(x|w),v=e&E,b=p?o:co(t);return function m(){for(var y=arguments.length,x=n(y),w=y;w--;)x[w]=arguments[w];if(g)var _=Io(m),M=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(x,_);if(r&&(x=Jr(x,r,a,g)),s&&(x=to(x,s,u,g)),y-=M,g&&y<l){var k=Tn(x,_);return xo(t,e,fo,m.placeholder,i,x,k,c,h,l-y)}var S=f?i:this,E=p?S[t]:t;return y=x.length,c?x=function(t,e){for(var n=t.length,i=qn(e.length,n),r=eo(t);i--;){var a=e[i];t[i]=qo(a,n)?r[a]:o}return t}(x,c):v&&y>1&&x.reverse(),d&&h<y&&(x.length=h),this&&this!==Ne&&this instanceof m&&(E=b||co(E)),E.apply(S,x)}}function po(t,e){return function(n,i){return function(t,e,n,i){return Ui(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function go(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=Lr(n),i=Lr(i)):(n=Ir(n),i=Ir(i)),r=t(n,i)}return r}}function vo(t){return Po((function(e){return e=Je(e,mn(Lo())),_r((function(n){var i=this;return t(e,(function(t){return qe(t,i,n)}))}))}))}function mo(t,e){var n=(e=e===o?" ":Lr(e)).length;if(n<2)return n?wr(e,t):e;var i=wr(e,Bn(t/On(e)));return Sn(e)?Vr(Dn(i),0,t).join(""):i.slice(0,t)}function yo(t){return function(e,i,r){return r&&"number"!=typeof r&&Uo(e,i,r)&&(i=r=o),e=zs(e),i===o?(i=e,e=0):i=zs(i),function(t,e,i,r){for(var o=-1,a=Gn(Bn((e-t)/(i||1)),0),s=n(a);a--;)s[r?a:++o]=t,t+=i;return s}(e,i,r=r===o?e<i?1:-1:zs(r),t)}}function bo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Hs(e),n=Hs(n)),t(e,n)}}function xo(t,e,n,i,r,a,s,u,c,h){var l=e&x;e|=l?_:M,(e&=~(l?M:_))&b||(e&=~(m|y));var d=[t,e,r,l?a:o,l?s:o,l?o:a,l?o:s,u,c,h],f=n.apply(o,d);return Xo(t)&&na(f,d),f.placeholder=i,oa(f,t,e)}function wo(t){var e=Jt[t];return function(t,n){if(t=Hs(t),(n=null==n?0:qn(Fs(n),292))&&Yn(t)){var i=(Gs(t)+"e").split("e");return+((i=(Gs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var _o=Jn&&1/Pn(new Jn([,-0]))[1]==N?function(t){return new Jn(t)}:Iu;function Mo(t){return function(e){var n=Yo(e);return n==Q?En(e):n==nt?An(e):function(t,e){return Je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function ko(t,e,i,r,a,s,c,h){var d=e&y;if(!d&&"function"!=typeof t)throw new ie(u);var f=r?r.length:0;if(f||(e&=~(_|M),r=a=o),c=c===o?c:Gn(Fs(c),0),h=h===o?h:Fs(h),f-=a?a.length:0,e&M){var p=r,g=a;r=a=o}var v=d?o:Do(t),E=[t,e,i,r,a,p,g,s,c,h];if(v&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<(m|y|k),a=i==k&&n==x||i==k&&n==S&&t[7].length<=e[8]||i==(k|S)&&e[7].length<=e[8]&&n==x;if(!o&&!a)return t;i&m&&(t[2]=e[2],r|=n&m?0:b);var s=e[3];if(s){var u=t[3];t[3]=u?Jr(u,s,e[4]):s,t[4]=u?Tn(t[3],l):e[4]}(s=e[5])&&(u=t[5],t[5]=u?to(u,s,e[6]):s,t[6]=u?Tn(t[5],l):e[6]),(s=e[7])&&(t[7]=s),i&k&&(t[8]=null==t[8]?e[8]:qn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(E,v),t=E[0],e=E[1],i=E[2],r=E[3],a=E[4],!(h=E[9]=E[9]===o?d?0:t.length:Gn(E[9]-f,0))&&e&(x|w)&&(e&=~(x|w)),e&&e!=m)C=e==x||e==w?function(t,e,i){var r=co(t);return function a(){for(var s=arguments.length,u=n(s),c=s,h=Io(a);c--;)u[c]=arguments[c];var l=s<3&&u[0]!==h&&u[s-1]!==h?[]:Tn(u,h);return(s-=l.length)<i?xo(t,e,fo,a.placeholder,o,u,l,o,o,i-s):qe(this&&this!==Ne&&this instanceof a?r:t,this,u)}}(t,e,h):e!=_&&e!=(m|_)||a.length?fo.apply(o,E):function(t,e,i,r){var o=e&m,a=co(t);return function e(){for(var s=-1,u=arguments.length,c=-1,h=r.length,l=n(h+u),d=this&&this!==Ne&&this instanceof e?a:t;++c<h;)l[c]=r[c];for(;u--;)l[c++]=arguments[++s];return qe(d,o?i:this,l)}}(t,e,i,r);else var C=function(t,e,n){var i=e&m,r=co(t);return function e(){return(this&&this!==Ne&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,i);return oa((v?Er:na)(C,E),t,e)}function So(t,e,n,i){return t===o||ds(t,ae[n])&&!ce.call(i,n)?e:t}function Eo(t,e,n,i,r,a){return Es(t)&&Es(e)&&(a.set(e,t),pr(t,e,o,Eo,a),a.delete(e)),t}function Co(t){return As(t)?o:t}function To(t,e,n,i,r,a){var s=n&g,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var l=-1,d=!0,f=n&v?new xi:o;for(a.set(t,e),a.set(e,t);++l<u;){var p=t[l],m=e[l];if(i)var y=s?i(m,p,l,e,t,a):i(p,m,l,t,e,a);if(y!==o){if(y)continue;d=!1;break}if(f){if(!rn(e,(function(t,e){if(!bn(f,e)&&(p===t||r(p,t,n,i,a)))return f.push(e)}))){d=!1;break}}else if(p!==m&&!r(p,m,n,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function Po(t){return ra(Jo(t,o,ma),t+"")}function Ao(t){return Qi(t,iu,zo)}function Oo(t){return Qi(t,ru,Fo)}var Do=ni?function(t){return ni.get(t)}:Iu;function No(t){for(var e=t.name+"",n=ii[e],i=ce.call(ii,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Io(t){return(ce.call(di,"placeholder")?di:t).placeholder}function Lo(){var t=di.iteratee||Au;return t=t===Au?sr:t,arguments.length?t(arguments[0],arguments[1]):t}function jo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Bo(t){for(var e=iu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,$o(r)]}return e}function Ro(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ar(n)?n:o}var zo=zn?function(t){return null==t?[]:(t=te(t),Qe(zn(t),(function(e){return De.call(t,e)})))}:Yu,Fo=zn?function(t){for(var e=[];t;)tn(e,zo(t)),t=Te(t);return e}:Yu,Yo=$i;function Ho(t,e,n){for(var i=-1,r=(e=qr(e,t)).length,o=!1;++i<r;){var a=ca(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ss(r)&&qo(a,r)&&(vs(t)||gs(t))}function Wo(t){return"function"!=typeof t.constructor||Qo(t)?{}:fi(Te(t))}function Go(t){return vs(t)||gs(t)||!!(Le&&t&&t[Le])}function qo(t,e){var n=typeof t;return!!(e=null==e?I:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Uo(t,e,n){if(!Es(n))return!1;var i=typeof e;return!!("number"==i?ys(n)&&qo(e,n.length):"string"==i&&e in n)&&ds(n[e],t)}function Vo(t,e){if(vs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Is(t))||At.test(t)||!Pt.test(t)||null!=e&&t in te(e)}function Xo(t){var e=No(t),n=di[e];if("function"!=typeof n||!(e in vi.prototype))return!1;if(t===n)return!0;var i=Do(n);return!!i&&t===i[0]}(Qn&&Yo(new Qn(new ArrayBuffer(1)))!=ct||$n&&Yo(new $n)!=Q||Kn&&"[object Promise]"!=Yo(Kn.resolve())||Jn&&Yo(new Jn)!=nt||ti&&Yo(new ti)!=at)&&(Yo=function(t){var e=$i(t),n=e==J?t.constructor:o,i=n?ha(n):"";if(i)switch(i){case ri:return ct;case oi:return Q;case ai:return"[object Promise]";case si:return nt;case ui:return at}return e});var Zo=se?Ms:Hu;function Qo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function $o(t){return t==t&&!Es(t)}function Ko(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function Jo(t,e,i){return e=Gn(e===o?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Gn(r.length-e,0),s=n(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=r[o];return u[e]=i(s),qe(t,this,u)}}function ta(t,e){return e.length<2?t:Zi(t,Pr(e,0,-1))}function ea(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var na=aa(Er),ia=jn||function(t,e){return Ne.setTimeout(t,e)},ra=aa(Cr);function oa(t,e,n){var i=e+"";return ra(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ve(F,(function(n){var i="_."+n[0];e&n[1]&&!$e(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(Rt);return e?e[1].split(zt):[]}(i),n)))}function aa(t){var e=0,n=0;return function(){var i=Un(),r=A-(i-n);if(n=i,r>0){if(++e>=P)return arguments[0]}else e=0;return t.apply(o,arguments)}}function sa(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var a=xr(n,r),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ua=function(t){var e=as(t,(function(t){return n.size===h&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ot,(function(t,n,i,r){e.push(i?r.replace(Yt,"$1"):n||t)})),e}));function ca(t){if("string"==typeof t||Is(t))return t;var e=t+"";return"0"==e&&1/t==-N?"-0":e}function ha(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function la(t){if(t instanceof vi)return t.clone();var e=new gi(t.__wrapped__,t.__chain__);return e.__actions__=eo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var da=_r((function(t,e){return bs(t)?Bi(t,Wi(e,1,bs,!0)):[]})),fa=_r((function(t,e){var n=_a(e);return bs(n)&&(n=o),bs(t)?Bi(t,Wi(e,1,bs,!0),Lo(n,2)):[]})),pa=_r((function(t,e){var n=_a(e);return bs(n)&&(n=o),bs(t)?Bi(t,Wi(e,1,bs,!0),o,n):[]}));function ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Fs(n);return r<0&&(r=Gn(i+r,0)),sn(t,Lo(e,3),r)}function va(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=Fs(n),r=n<0?Gn(i+r,0):qn(r,i-1)),sn(t,Lo(e,3),r,!0)}function ma(t){return null!=t&&t.length?Wi(t,1):[]}function ya(t){return t&&t.length?t[0]:o}var ba=_r((function(t){var e=Je(t,Wr);return e.length&&e[0]===t[0]?er(e):[]})),xa=_r((function(t){var e=_a(t),n=Je(t,Wr);return e===_a(n)?e=o:n.pop(),n.length&&n[0]===t[0]?er(n,Lo(e,2)):[]})),wa=_r((function(t){var e=_a(t),n=Je(t,Wr);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?er(n,o,e):[]}));function _a(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ma=_r(ka);function ka(t,e){return t&&t.length&&e&&e.length?yr(t,e):t}var Sa=Po((function(t,e){var n=null==t?0:t.length,i=Di(t,e);return br(t,Je(e,(function(t){return qo(t,n)?+t:t})).sort(Kr)),i}));function Ea(t){return null==t?t:Zn.call(t)}var Ca=_r((function(t){return jr(Wi(t,1,bs,!0))})),Ta=_r((function(t){var e=_a(t);return bs(e)&&(e=o),jr(Wi(t,1,bs,!0),Lo(e,2))})),Pa=_r((function(t){var e=_a(t);return e="function"==typeof e?e:o,jr(Wi(t,1,bs,!0),o,e)}));function Aa(t){if(!t||!t.length)return[];var e=0;return t=Qe(t,(function(t){if(bs(t))return e=Gn(t.length,e),!0})),vn(e,(function(e){return Je(t,dn(e))}))}function Oa(t,e){if(!t||!t.length)return[];var n=Aa(t);return null==e?n:Je(n,(function(t){return qe(e,o,t)}))}var Da=_r((function(t,e){return bs(t)?Bi(t,e):[]})),Na=_r((function(t){return Yr(Qe(t,bs))})),Ia=_r((function(t){var e=_a(t);return bs(e)&&(e=o),Yr(Qe(t,bs),Lo(e,2))})),La=_r((function(t){var e=_a(t);return e="function"==typeof e?e:o,Yr(Qe(t,bs),o,e)})),ja=_r(Aa),Ba=_r((function(t){var e=t.length,n=e>1?t[e-1]:o;return Oa(t,n="function"==typeof n?(t.pop(),n):o)}));function Ra(t){var e=di(t);return e.__chain__=!0,e}function za(t,e){return e(t)}var Fa=Po((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Di(e,t)};return!(e>1||this.__actions__.length)&&i instanceof vi&&qo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:za,args:[r],thisArg:o}),new gi(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(r)})),Ya=io((function(t,e,n){ce.call(t,n)?++t[n]:Oi(t,n,1)})),Ha=ho(ga),Wa=ho(va);function Ga(t,e){return(vs(t)?Ve:Ri)(t,Lo(e,3))}function qa(t,e){return(vs(t)?Xe:zi)(t,Lo(e,3))}var Ua=io((function(t,e,n){ce.call(t,n)?t[n].push(e):Oi(t,n,[e])})),Va=_r((function(t,e,i){var r=-1,o="function"==typeof e,a=ys(t)?n(t.length):[];return Ri(t,(function(t){a[++r]=o?qe(e,t,i):nr(t,e,i)})),a})),Xa=io((function(t,e,n){Oi(t,n,e)}));function Za(t,e){return(vs(t)?Je:lr)(t,Lo(e,3))}var Qa=io((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),$a=_r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Uo(t,e[0],e[1])?e=[]:n>2&&Uo(e[0],e[1],e[2])&&(e=[e[0]]),vr(t,Wi(e,1),[])})),Ka=Ln||function(){return Ne.Date.now()};function Ja(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,ko(t,k,o,o,o,o,e)}function ts(t,e){var n;if("function"!=typeof e)throw new ie(u);return t=Fs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var es=_r((function(t,e,n){var i=m;if(n.length){var r=Tn(n,Io(es));i|=_}return ko(t,i,e,n,r)})),ns=_r((function(t,e,n){var i=m|y;if(n.length){var r=Tn(n,Io(ns));i|=_}return ko(e,i,t,n,r)}));function is(t,e,n){var i,r,a,s,c,h,l=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new ie(u);function g(e){var n=i,a=r;return i=r=o,l=e,s=t.apply(a,n)}function v(t){var n=t-h;return h===o||n>=e||n<0||f&&t-l>=a}function m(){var t=Ka();if(v(t))return y(t);c=ia(m,function(t){var n=e-(t-h);return f?qn(n,a-(t-l)):n}(t))}function y(t){return c=o,p&&i?g(t):(i=r=o,s)}function b(){var t=Ka(),n=v(t);if(i=arguments,r=this,h=t,n){if(c===o)return function(t){return l=t,c=ia(m,e),d?g(t):s}(h);if(f)return Xr(c),c=ia(m,e),g(h)}return c===o&&(c=ia(m,e)),s}return e=Hs(e)||0,Es(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Gn(Hs(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==o&&Xr(c),l=0,i=h=r=c=o},b.flush=function(){return c===o?s:y(Ka())},b}var rs=_r((function(t,e){return ji(t,1,e)})),os=_r((function(t,e,n){return ji(t,Hs(e)||0,n)}));function as(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(u);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(as.Cache||bi),n}function ss(t){if("function"!=typeof t)throw new ie(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}as.Cache=bi;var us=Ur((function(t,e){var n=(e=1==e.length&&vs(e[0])?Je(e[0],mn(Lo())):Je(Wi(e,1),mn(Lo()))).length;return _r((function(i){for(var r=-1,o=qn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return qe(t,this,i)}))})),cs=_r((function(t,e){var n=Tn(e,Io(cs));return ko(t,_,o,e,n)})),hs=_r((function(t,e){var n=Tn(e,Io(hs));return ko(t,M,o,e,n)})),ls=Po((function(t,e){return ko(t,S,o,o,o,e)}));function ds(t,e){return t===e||t!=t&&e!=e}var fs=bo(Ki),ps=bo((function(t,e){return t>=e})),gs=ir(function(){return arguments}())?ir:function(t){return Cs(t)&&ce.call(t,"callee")&&!De.call(t,"callee")},vs=n.isArray,ms=ze?mn(ze):function(t){return Cs(t)&&$i(t)==ut};function ys(t){return null!=t&&Ss(t.length)&&!Ms(t)}function bs(t){return Cs(t)&&ys(t)}var xs=Fn||Hu,ws=Fe?mn(Fe):function(t){return Cs(t)&&$i(t)==q};function _s(t){if(!Cs(t))return!1;var e=$i(t);return e==V||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!As(t)}function Ms(t){if(!Es(t))return!1;var e=$i(t);return e==X||e==Z||e==W||e==tt}function ks(t){return"number"==typeof t&&t==Fs(t)}function Ss(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=I}function Es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cs(t){return null!=t&&"object"==typeof t}var Ts=Ye?mn(Ye):function(t){return Cs(t)&&Yo(t)==Q};function Ps(t){return"number"==typeof t||Cs(t)&&$i(t)==$}function As(t){if(!Cs(t)||$i(t)!=J)return!1;var e=Te(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==fe}var Os=He?mn(He):function(t){return Cs(t)&&$i(t)==et},Ds=We?mn(We):function(t){return Cs(t)&&Yo(t)==nt};function Ns(t){return"string"==typeof t||!vs(t)&&Cs(t)&&$i(t)==it}function Is(t){return"symbol"==typeof t||Cs(t)&&$i(t)==rt}var Ls=Ge?mn(Ge):function(t){return Cs(t)&&Ss(t.length)&&!!Ee[$i(t)]},js=bo(hr),Bs=bo((function(t,e){return t<=e}));function Rs(t){if(!t)return[];if(ys(t))return Ns(t)?Dn(t):eo(t);if(Be&&t[Be])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Be]());var e=Yo(t);return(e==Q?En:e==nt?Pn:du)(t)}function zs(t){return t?(t=Hs(t))===N||t===-N?(t<0?-1:1)*L:t==t?t:0:0===t?t:0}function Fs(t){var e=zs(t),n=e%1;return e==e?n?e-n:e:0}function Ys(t){return t?Ni(Fs(t),0,B):0}function Hs(t){if("number"==typeof t)return t;if(Is(t))return j;if(Es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(It,"");var n=qt.test(t);return n||Vt.test(t)?Ae(t.slice(2),n?2:8):Gt.test(t)?j:+t}function Ws(t){return no(t,ru(t))}function Gs(t){return null==t?"":Lr(t)}var qs=ro((function(t,e){if(Qo(e)||ys(e))no(e,iu(e),t);else for(var n in e)ce.call(e,n)&&Ci(t,n,e[n])})),Us=ro((function(t,e){no(e,ru(e),t)})),Vs=ro((function(t,e,n,i){no(e,ru(e),t,i)})),Xs=ro((function(t,e,n,i){no(e,iu(e),t,i)})),Zs=Po(Di),Qs=_r((function(t,e){t=te(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&Uo(e[0],e[1],r)&&(i=1);++n<i;)for(var a=e[n],s=ru(a),u=-1,c=s.length;++u<c;){var h=s[u],l=t[h];(l===o||ds(l,ae[h])&&!ce.call(t,h))&&(t[h]=a[h])}return t})),$s=_r((function(t){return t.push(o,Eo),qe(au,o,t)}));function Ks(t,e,n){var i=null==t?o:Zi(t,e);return i===o?n:i}function Js(t,e){return null!=t&&Ho(t,e,tr)}var tu=po((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=n}),Eu(Pu)),eu=po((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]}),Lo),nu=_r(nr);function iu(t){return ys(t)?_i(t):ur(t)}function ru(t){return ys(t)?_i(t,!0):cr(t)}var ou=ro((function(t,e,n){pr(t,e,n)})),au=ro((function(t,e,n,i){pr(t,e,n,i)})),su=Po((function(t,e){var n={};if(null==t)return n;var i=!1;e=Je(e,(function(e){return e=qr(e,t),i||(i=e.length>1),e})),no(t,Oo(t),n),i&&(n=Ii(n,d|f|p,Co));for(var r=e.length;r--;)Br(n,e[r]);return n})),uu=Po((function(t,e){return null==t?{}:function(t,e){return mr(t,e,(function(e,n){return Js(t,n)}))}(t,e)}));function cu(t,e){if(null==t)return{};var n=Je(Oo(t),(function(t){return[t]}));return e=Lo(e),mr(t,n,(function(t,n){return e(t,n[0])}))}var hu=Mo(iu),lu=Mo(ru);function du(t){return null==t?[]:yn(t,iu(t))}var fu=uo((function(t,e,n){return e=e.toLowerCase(),t+(n?pu(e):e)}));function pu(t){return _u(Gs(t).toLowerCase())}function gu(t){return(t=Gs(t))&&t.replace(Zt,_n).replace(be,"")}var vu=uo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),mu=uo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),yu=so("toLowerCase"),bu=uo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),xu=uo((function(t,e,n){return t+(n?" ":"")+_u(e)})),wu=uo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),_u=so("toUpperCase");function Mu(t,e,n){return t=Gs(t),(e=n?o:e)===o?function(t){return Me.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Ft)||[]}(t):t.match(e)||[]}var ku=_r((function(t,e){try{return qe(t,o,e)}catch(t){return _s(t)?t:new r(t)}})),Su=Po((function(t,e){return Ve(e,(function(e){e=ca(e),Oi(t,e,es(t[e],t))})),t}));function Eu(t){return function(){return t}}var Cu=lo(),Tu=lo(!0);function Pu(t){return t}function Au(t){return sr("function"==typeof t?t:Ii(t,d))}var Ou=_r((function(t,e){return function(n){return nr(n,t,e)}})),Du=_r((function(t,e){return function(n){return nr(t,n,e)}}));function Nu(t,e,n){var i=iu(e),r=Xi(e,i);null!=n||Es(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Xi(e,iu(e)));var o=!(Es(n)&&"chain"in n&&!n.chain),a=Ms(t);return Ve(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=eo(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,tn([this.value()],arguments))})})),t}function Iu(){}var Lu=vo(Je),ju=vo(Ze),Bu=vo(rn);function Ru(t){return Vo(t)?dn(ca(t)):function(t){return function(e){return Zi(e,t)}}(t)}var zu=yo(),Fu=yo(!0);function Yu(){return[]}function Hu(){return!1}var Wu=go((function(t,e){return t+e}),0),Gu=wo("ceil"),qu=go((function(t,e){return t/e}),1),Uu=wo("floor"),Vu=go((function(t,e){return t*e}),1),Xu=wo("round"),Zu=go((function(t,e){return t-e}),0);return di.after=function(t,e){if("function"!=typeof e)throw new ie(u);return t=Fs(t),function(){if(--t<1)return e.apply(this,arguments)}},di.ary=Ja,di.assign=qs,di.assignIn=Us,di.assignInWith=Vs,di.assignWith=Xs,di.at=Zs,di.before=ts,di.bind=es,di.bindAll=Su,di.bindKey=ns,di.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return vs(t)?t:[t]},di.chain=Ra,di.chunk=function(t,e,i){e=(i?Uo(t,e,i):e===o)?1:Gn(Fs(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var a=0,s=0,u=n(Bn(r/e));a<r;)u[s++]=Pr(t,a,a+=e);return u},di.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},di.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],r=t;r--;)e[r-1]=arguments[r];return tn(vs(i)?eo(i):[i],Wi(e,1))},di.cond=function(t){var e=null==t?0:t.length,n=Lo();return t=e?Je(t,(function(t){if("function"!=typeof t[1])throw new ie(u);return[n(t[0]),t[1]]})):[],_r((function(n){for(var i=-1;++i<e;){var r=t[i];if(qe(r[0],this,n))return qe(r[1],this,n)}}))},di.conforms=function(t){return function(t){var e=iu(t);return function(n){return Li(n,t,e)}}(Ii(t,d))},di.constant=Eu,di.countBy=Ya,di.create=function(t,e){var n=fi(t);return null==e?n:Ai(n,e)},di.curry=function t(e,n,i){var r=ko(e,x,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},di.curryRight=function t(e,n,i){var r=ko(e,w,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},di.debounce=is,di.defaults=Qs,di.defaultsDeep=$s,di.defer=rs,di.delay=os,di.difference=da,di.differenceBy=fa,di.differenceWith=pa,di.drop=function(t,e,n){var i=null==t?0:t.length;return i?Pr(t,(e=n||e===o?1:Fs(e))<0?0:e,i):[]},di.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Pr(t,0,(e=i-(e=n||e===o?1:Fs(e)))<0?0:e):[]},di.dropRightWhile=function(t,e){return t&&t.length?zr(t,Lo(e,3),!0,!0):[]},di.dropWhile=function(t,e){return t&&t.length?zr(t,Lo(e,3),!0):[]},di.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Uo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Fs(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:Fs(i))<0&&(i+=r),i=n>i?0:Ys(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},di.filter=function(t,e){return(vs(t)?Qe:Hi)(t,Lo(e,3))},di.flatMap=function(t,e){return Wi(Za(t,e),1)},di.flatMapDeep=function(t,e){return Wi(Za(t,e),N)},di.flatMapDepth=function(t,e,n){return n=n===o?1:Fs(n),Wi(Za(t,e),n)},di.flatten=ma,di.flattenDeep=function(t){return null!=t&&t.length?Wi(t,N):[]},di.flattenDepth=function(t,e){return null!=t&&t.length?Wi(t,e=e===o?1:Fs(e)):[]},di.flip=function(t){return ko(t,E)},di.flow=Cu,di.flowRight=Tu,di.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},di.functions=function(t){return null==t?[]:Xi(t,iu(t))},di.functionsIn=function(t){return null==t?[]:Xi(t,ru(t))},di.groupBy=Ua,di.initial=function(t){return null!=t&&t.length?Pr(t,0,-1):[]},di.intersection=ba,di.intersectionBy=xa,di.intersectionWith=wa,di.invert=tu,di.invertBy=eu,di.invokeMap=Va,di.iteratee=Au,di.keyBy=Xa,di.keys=iu,di.keysIn=ru,di.map=Za,di.mapKeys=function(t,e){var n={};return e=Lo(e,3),Ui(t,(function(t,i,r){Oi(n,e(t,i,r),t)})),n},di.mapValues=function(t,e){var n={};return e=Lo(e,3),Ui(t,(function(t,i,r){Oi(n,i,e(t,i,r))})),n},di.matches=function(t){return dr(Ii(t,d))},di.matchesProperty=function(t,e){return fr(t,Ii(e,d))},di.memoize=as,di.merge=ou,di.mergeWith=au,di.method=Ou,di.methodOf=Du,di.mixin=Nu,di.negate=ss,di.nthArg=function(t){return t=Fs(t),_r((function(e){return gr(e,t)}))},di.omit=su,di.omitBy=function(t,e){return cu(t,ss(Lo(e)))},di.once=function(t){return ts(2,t)},di.orderBy=function(t,e,n,i){return null==t?[]:(vs(e)||(e=null==e?[]:[e]),vs(n=i?o:n)||(n=null==n?[]:[n]),vr(t,e,n))},di.over=Lu,di.overArgs=us,di.overEvery=ju,di.overSome=Bu,di.partial=cs,di.partialRight=hs,di.partition=Qa,di.pick=uu,di.pickBy=cu,di.property=Ru,di.propertyOf=function(t){return function(e){return null==t?o:Zi(t,e)}},di.pull=Ma,di.pullAll=ka,di.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,Lo(n,2)):t},di.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?yr(t,e,o,n):t},di.pullAt=Sa,di.range=zu,di.rangeRight=Fu,di.rearg=ls,di.reject=function(t,e){return(vs(t)?Qe:Hi)(t,ss(Lo(e,3)))},di.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Lo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return br(t,r),n},di.rest=function(t,e){if("function"!=typeof t)throw new ie(u);return _r(t,e=e===o?e:Fs(e))},di.reverse=Ea,di.sampleSize=function(t,e,n){return e=(n?Uo(t,e,n):e===o)?1:Fs(e),(vs(t)?ki:kr)(t,e)},di.set=function(t,e,n){return null==t?t:Sr(t,e,n)},di.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Sr(t,e,n,i)},di.shuffle=function(t){return(vs(t)?Si:Tr)(t)},di.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Uo(t,e,n)?(e=0,n=i):(e=null==e?0:Fs(e),n=n===o?i:Fs(n)),Pr(t,e,n)):[]},di.sortBy=$a,di.sortedUniq=function(t){return t&&t.length?Nr(t):[]},di.sortedUniqBy=function(t,e){return t&&t.length?Nr(t,Lo(e,2)):[]},di.split=function(t,e,n){return n&&"number"!=typeof n&&Uo(t,e,n)&&(e=n=o),(n=n===o?B:n>>>0)?(t=Gs(t))&&("string"==typeof e||null!=e&&!Os(e))&&!(e=Lr(e))&&Sn(t)?Vr(Dn(t),0,n):t.split(e,n):[]},di.spread=function(t,e){if("function"!=typeof t)throw new ie(u);return e=null==e?0:Gn(Fs(e),0),_r((function(n){var i=n[e],r=Vr(n,0,e);return i&&tn(r,i),qe(t,this,r)}))},di.tail=function(t){var e=null==t?0:t.length;return e?Pr(t,1,e):[]},di.take=function(t,e,n){return t&&t.length?Pr(t,0,(e=n||e===o?1:Fs(e))<0?0:e):[]},di.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Pr(t,(e=i-(e=n||e===o?1:Fs(e)))<0?0:e,i):[]},di.takeRightWhile=function(t,e){return t&&t.length?zr(t,Lo(e,3),!1,!0):[]},di.takeWhile=function(t,e){return t&&t.length?zr(t,Lo(e,3)):[]},di.tap=function(t,e){return e(t),t},di.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new ie(u);return Es(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),is(t,e,{leading:i,maxWait:e,trailing:r})},di.thru=za,di.toArray=Rs,di.toPairs=hu,di.toPairsIn=lu,di.toPath=function(t){return vs(t)?Je(t,ca):Is(t)?[t]:eo(ua(Gs(t)))},di.toPlainObject=Ws,di.transform=function(t,e,n){var i=vs(t),r=i||xs(t)||Ls(t);if(e=Lo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Es(t)&&Ms(o)?fi(Te(t)):{}}return(r?Ve:Ui)(t,(function(t,i,r){return e(n,t,i,r)})),n},di.unary=function(t){return Ja(t,1)},di.union=Ca,di.unionBy=Ta,di.unionWith=Pa,di.uniq=function(t){return t&&t.length?jr(t):[]},di.uniqBy=function(t,e){return t&&t.length?jr(t,Lo(e,2)):[]},di.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?jr(t,o,e):[]},di.unset=function(t,e){return null==t||Br(t,e)},di.unzip=Aa,di.unzipWith=Oa,di.update=function(t,e,n){return null==t?t:Rr(t,e,Gr(n))},di.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Rr(t,e,Gr(n),i)},di.values=du,di.valuesIn=function(t){return null==t?[]:yn(t,ru(t))},di.without=Da,di.words=Mu,di.wrap=function(t,e){return cs(Gr(e),t)},di.xor=Na,di.xorBy=Ia,di.xorWith=La,di.zip=ja,di.zipObject=function(t,e){return Hr(t||[],e||[],Ci)},di.zipObjectDeep=function(t,e){return Hr(t||[],e||[],Sr)},di.zipWith=Ba,di.entries=hu,di.entriesIn=lu,di.extend=Us,di.extendWith=Vs,Nu(di,di),di.add=Wu,di.attempt=ku,di.camelCase=fu,di.capitalize=pu,di.ceil=Gu,di.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Hs(n))==n?n:0),e!==o&&(e=(e=Hs(e))==e?e:0),Ni(Hs(t),e,n)},di.clone=function(t){return Ii(t,p)},di.cloneDeep=function(t){return Ii(t,d|p)},di.cloneDeepWith=function(t,e){return Ii(t,d|p,e="function"==typeof e?e:o)},di.cloneWith=function(t,e){return Ii(t,p,e="function"==typeof e?e:o)},di.conformsTo=function(t,e){return null==e||Li(t,e,iu(e))},di.deburr=gu,di.defaultTo=function(t,e){return null==t||t!=t?e:t},di.divide=qu,di.endsWith=function(t,e,n){t=Gs(t),e=Lr(e);var i=t.length,r=n=n===o?i:Ni(Fs(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},di.eq=ds,di.escape=function(t){return(t=Gs(t))&&St.test(t)?t.replace(Mt,Mn):t},di.escapeRegExp=function(t){return(t=Gs(t))&&Nt.test(t)?t.replace(Dt,"\\$&"):t},di.every=function(t,e,n){var i=vs(t)?Ze:Fi;return n&&Uo(t,e,n)&&(e=o),i(t,Lo(e,3))},di.find=Ha,di.findIndex=ga,di.findKey=function(t,e){return an(t,Lo(e,3),Ui)},di.findLast=Wa,di.findLastIndex=va,di.findLastKey=function(t,e){return an(t,Lo(e,3),Vi)},di.floor=Uu,di.forEach=Ga,di.forEachRight=qa,di.forIn=function(t,e){return null==t?t:Gi(t,Lo(e,3),ru)},di.forInRight=function(t,e){return null==t?t:qi(t,Lo(e,3),ru)},di.forOwn=function(t,e){return t&&Ui(t,Lo(e,3))},di.forOwnRight=function(t,e){return t&&Vi(t,Lo(e,3))},di.get=Ks,di.gt=fs,di.gte=ps,di.has=function(t,e){return null!=t&&Ho(t,e,Ji)},di.hasIn=Js,di.head=ya,di.identity=Pu,di.includes=function(t,e,n,i){t=ys(t)?t:du(t),n=n&&!i?Fs(n):0;var r=t.length;return n<0&&(n=Gn(r+n,0)),Ns(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&un(t,e,n)>-1},di.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Fs(n);return r<0&&(r=Gn(i+r,0)),un(t,e,r)},di.inRange=function(t,e,n){return e=zs(e),n===o?(n=e,e=0):n=zs(n),function(t,e,n){return t>=qn(e,n)&&t<Gn(e,n)}(t=Hs(t),e,n)},di.invoke=nu,di.isArguments=gs,di.isArray=vs,di.isArrayBuffer=ms,di.isArrayLike=ys,di.isArrayLikeObject=bs,di.isBoolean=function(t){return!0===t||!1===t||Cs(t)&&$i(t)==G},di.isBuffer=xs,di.isDate=ws,di.isElement=function(t){return Cs(t)&&1===t.nodeType&&!As(t)},di.isEmpty=function(t){if(null==t)return!0;if(ys(t)&&(vs(t)||"string"==typeof t||"function"==typeof t.splice||xs(t)||Ls(t)||gs(t)))return!t.length;var e=Yo(t);if(e==Q||e==nt)return!t.size;if(Qo(t))return!ur(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},di.isEqual=function(t,e){return rr(t,e)},di.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?rr(t,e,o,n):!!i},di.isError=_s,di.isFinite=function(t){return"number"==typeof t&&Yn(t)},di.isFunction=Ms,di.isInteger=ks,di.isLength=Ss,di.isMap=Ts,di.isMatch=function(t,e){return t===e||or(t,e,Bo(e))},di.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,or(t,e,Bo(e),n)},di.isNaN=function(t){return Ps(t)&&t!=+t},di.isNative=function(t){if(Zo(t))throw new r(s);return ar(t)},di.isNil=function(t){return null==t},di.isNull=function(t){return null===t},di.isNumber=Ps,di.isObject=Es,di.isObjectLike=Cs,di.isPlainObject=As,di.isRegExp=Os,di.isSafeInteger=function(t){return ks(t)&&t>=-I&&t<=I},di.isSet=Ds,di.isString=Ns,di.isSymbol=Is,di.isTypedArray=Ls,di.isUndefined=function(t){return t===o},di.isWeakMap=function(t){return Cs(t)&&Yo(t)==at},di.isWeakSet=function(t){return Cs(t)&&$i(t)==st},di.join=function(t,e){return null==t?"":Hn.call(t,e)},di.kebabCase=vu,di.last=_a,di.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=Fs(n))<0?Gn(i+r,0):qn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):sn(t,hn,r,!0)},di.lowerCase=mu,di.lowerFirst=yu,di.lt=js,di.lte=Bs,di.max=function(t){return t&&t.length?Yi(t,Pu,Ki):o},di.maxBy=function(t,e){return t&&t.length?Yi(t,Lo(e,2),Ki):o},di.mean=function(t){return ln(t,Pu)},di.meanBy=function(t,e){return ln(t,Lo(e,2))},di.min=function(t){return t&&t.length?Yi(t,Pu,hr):o},di.minBy=function(t,e){return t&&t.length?Yi(t,Lo(e,2),hr):o},di.stubArray=Yu,di.stubFalse=Hu,di.stubObject=function(){return{}},di.stubString=function(){return""},di.stubTrue=function(){return!0},di.multiply=Vu,di.nth=function(t,e){return t&&t.length?gr(t,Fs(e)):o},di.noConflict=function(){return Ne._===this&&(Ne._=pe),this},di.noop=Iu,di.now=Ka,di.pad=function(t,e,n){t=Gs(t);var i=(e=Fs(e))?On(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return mo(Rn(r),n)+t+mo(Bn(r),n)},di.padEnd=function(t,e,n){t=Gs(t);var i=(e=Fs(e))?On(t):0;return e&&i<e?t+mo(e-i,n):t},di.padStart=function(t,e,n){t=Gs(t);var i=(e=Fs(e))?On(t):0;return e&&i<e?mo(e-i,n)+t:t},di.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Vn(Gs(t).replace(Lt,""),e||0)},di.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Uo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=zs(t),e===o?(e=t,t=0):e=zs(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Xn();return qn(t+r*(e-t+Pe("1e-"+((r+"").length-1))),e)}return xr(t,e)},di.reduce=function(t,e,n){var i=vs(t)?en:pn,r=arguments.length<3;return i(t,Lo(e,4),n,r,Ri)},di.reduceRight=function(t,e,n){var i=vs(t)?nn:pn,r=arguments.length<3;return i(t,Lo(e,4),n,r,zi)},di.repeat=function(t,e,n){return e=(n?Uo(t,e,n):e===o)?1:Fs(e),wr(Gs(t),e)},di.replace=function(){var t=arguments,e=Gs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},di.result=function(t,e,n){var i=-1,r=(e=qr(e,t)).length;for(r||(r=1,t=o);++i<r;){var a=null==t?o:t[ca(e[i])];a===o&&(i=r,a=n),t=Ms(a)?a.call(t):a}return t},di.round=Xu,di.runInContext=t,di.sample=function(t){return(vs(t)?Mi:Mr)(t)},di.size=function(t){if(null==t)return 0;if(ys(t))return Ns(t)?On(t):t.length;var e=Yo(t);return e==Q||e==nt?t.size:ur(t).length},di.snakeCase=bu,di.some=function(t,e,n){var i=vs(t)?rn:Ar;return n&&Uo(t,e,n)&&(e=o),i(t,Lo(e,3))},di.sortedIndex=function(t,e){return Or(t,e)},di.sortedIndexBy=function(t,e,n){return Dr(t,e,Lo(n,2))},di.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Or(t,e);if(i<n&&ds(t[i],e))return i}return-1},di.sortedLastIndex=function(t,e){return Or(t,e,!0)},di.sortedLastIndexBy=function(t,e,n){return Dr(t,e,Lo(n,2),!0)},di.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Or(t,e,!0)-1;if(ds(t[n],e))return n}return-1},di.startCase=xu,di.startsWith=function(t,e,n){return t=Gs(t),n=null==n?0:Ni(Fs(n),0,t.length),e=Lr(e),t.slice(n,n+e.length)==e},di.subtract=Zu,di.sum=function(t){return t&&t.length?gn(t,Pu):0},di.sumBy=function(t,e){return t&&t.length?gn(t,Lo(e,2)):0},di.template=function(t,e,n){var i=di.templateSettings;n&&Uo(t,e,n)&&(e=o),t=Gs(t),e=Vs({},e,i,So);var r,a,s=Vs({},e.imports,i.imports,So),u=iu(s),c=yn(s,u),h=0,l=e.interpolate||Qt,d="__p += '",f=ee((e.escape||Qt).source+"|"+l.source+"|"+(l===Tt?Ht:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),p="//# sourceURL="+(ce.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Se+"]")+"\n";t.replace(f,(function(e,n,i,o,s,u){return i||(i=o),d+=t.slice(h,u).replace($t,kn),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=u+e.length,e})),d+="';\n";var g=ce.call(e,"variable")&&e.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(bt,""):d).replace(xt,"$1").replace(wt,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=ku((function(){return Kt(u,p+"return "+d).apply(o,c)}));if(v.source=d,_s(v))throw v;return v},di.times=function(t,e){if((t=Fs(t))<1||t>I)return[];var n=B,i=qn(t,B);e=Lo(e),t-=B;for(var r=vn(i,e);++n<t;)e(n);return r},di.toFinite=zs,di.toInteger=Fs,di.toLength=Ys,di.toLower=function(t){return Gs(t).toLowerCase()},di.toNumber=Hs,di.toSafeInteger=function(t){return t?Ni(Fs(t),-I,I):0===t?t:0},di.toString=Gs,di.toUpper=function(t){return Gs(t).toUpperCase()},di.trim=function(t,e,n){if((t=Gs(t))&&(n||e===o))return t.replace(It,"");if(!t||!(e=Lr(e)))return t;var i=Dn(t),r=Dn(e);return Vr(i,xn(i,r),wn(i,r)+1).join("")},di.trimEnd=function(t,e,n){if((t=Gs(t))&&(n||e===o))return t.replace(jt,"");if(!t||!(e=Lr(e)))return t;var i=Dn(t);return Vr(i,0,wn(i,Dn(e))+1).join("")},di.trimStart=function(t,e,n){if((t=Gs(t))&&(n||e===o))return t.replace(Lt,"");if(!t||!(e=Lr(e)))return t;var i=Dn(t);return Vr(i,xn(i,Dn(e))).join("")},di.truncate=function(t,e){var n=C,i=T;if(Es(e)){var r="separator"in e?e.separator:r;n="length"in e?Fs(e.length):n,i="omission"in e?Lr(e.omission):i}var a=(t=Gs(t)).length;if(Sn(t)){var s=Dn(t);a=s.length}if(n>=a)return t;var u=n-On(i);if(u<1)return i;var c=s?Vr(s,0,u).join(""):t.slice(0,u);if(r===o)return c+i;if(s&&(u+=c.length-u),Os(r)){if(t.slice(u).search(r)){var h,l=c;for(r.global||(r=ee(r.source,Gs(Wt.exec(r))+"g")),r.lastIndex=0;h=r.exec(l);)var d=h.index;c=c.slice(0,d===o?u:d)}}else if(t.indexOf(Lr(r),u)!=u){var f=c.lastIndexOf(r);f>-1&&(c=c.slice(0,f))}return c+i},di.unescape=function(t){return(t=Gs(t))&&kt.test(t)?t.replace(_t,Nn):t},di.uniqueId=function(t){var e=++he;return Gs(t)+e},di.upperCase=wu,di.upperFirst=_u,di.each=Ga,di.eachRight=qa,di.first=ya,Nu(di,function(){var t={};return Ui(di,(function(e,n){ce.call(di.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),di.VERSION="4.17.15",Ve(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){di[t].placeholder=di})),Ve(["drop","take"],(function(t,e){vi.prototype[t]=function(n){n=n===o?1:Gn(Fs(n),0);var i=this.__filtered__&&!e?new vi(this):this.clone();return i.__filtered__?i.__takeCount__=qn(n,i.__takeCount__):i.__views__.push({size:qn(n,B),type:t+(i.__dir__<0?"Right":"")}),i},vi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ve(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=n==O||3==n;vi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Lo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Ve(["head","last"],(function(t,e){var n="take"+(e?"Right":"");vi.prototype[t]=function(){return this[n](1).value()[0]}})),Ve(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");vi.prototype[t]=function(){return this.__filtered__?new vi(this):this[n](1)}})),vi.prototype.compact=function(){return this.filter(Pu)},vi.prototype.find=function(t){return this.filter(t).head()},vi.prototype.findLast=function(t){return this.reverse().find(t)},vi.prototype.invokeMap=_r((function(t,e){return"function"==typeof t?new vi(this):this.map((function(n){return nr(n,t,e)}))})),vi.prototype.reject=function(t){return this.filter(ss(Lo(t)))},vi.prototype.slice=function(t,e){t=Fs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Fs(e))<0?n.dropRight(-e):n.take(e-t)),n)},vi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vi.prototype.toArray=function(){return this.take(B)},Ui(vi.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=di[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);r&&(di.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof vi,c=s[0],h=u||vs(e),l=function(t){var e=r.apply(di,tn([t],s));return i&&d?e[0]:e};h&&n&&"function"==typeof c&&1!=c.length&&(u=h=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,g=u&&!f;if(!a&&h){e=g?e:new vi(this);var v=t.apply(e,s);return v.__actions__.push({func:za,args:[l],thisArg:o}),new gi(v,d)}return p&&g?t.apply(this,s):(v=this.thru(l),p?i?v.value()[0]:v.value():v)})})),Ve(["pop","push","shift","sort","splice","unshift"],(function(t){var e=re[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);di.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(vs(r)?r:[],t)}return this[n]((function(n){return e.apply(vs(n)?n:[],t)}))}})),Ui(vi.prototype,(function(t,e){var n=di[e];if(n){var i=n.name+"";ce.call(ii,i)||(ii[i]=[]),ii[i].push({name:e,func:n})}})),ii[fo(o,y).name]=[{name:"wrapper",func:o}],vi.prototype.clone=function(){var t=new vi(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t},vi.prototype.reverse=function(){if(this.__filtered__){var t=new vi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=vs(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=qn(e,t+a);break;case"takeRight":t=Gn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,c=i?s:a-1,h=this.__iteratees__,l=h.length,d=0,f=qn(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return Fr(t,this.__actions__);var p=[];t:for(;u--&&d<f;){for(var g=-1,v=t[c+=e];++g<l;){var m=h[g],y=m.iteratee,b=m.type,x=y(v);if(b==D)v=x;else if(!x){if(b==O)continue t;break t}}p[d++]=v}return p},di.prototype.at=Fa,di.prototype.chain=function(){return Ra(this)},di.prototype.commit=function(){return new gi(this.value(),this.__chain__)},di.prototype.next=function(){this.__values__===o&&(this.__values__=Rs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},di.prototype.plant=function(t){for(var e,n=this;n instanceof pi;){var i=la(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},di.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vi){var e=t;return this.__actions__.length&&(e=new vi(this)),(e=e.reverse()).__actions__.push({func:za,args:[Ea],thisArg:o}),new gi(e,this.__chain__)}return this.thru(Ea)},di.prototype.toJSON=di.prototype.valueOf=di.prototype.value=function(){return Fr(this.__wrapped__,this.__actions__)},di.prototype.first=di.prototype.head,Be&&(di.prototype[Be]=function(){return this}),di}();Ne._=In,(r=function(){return In}.call(e,n,e,i))===o||(i.exports=r)}).call(this)}).call(this,n(101),n(72)(t))},function(t,e,n){var i=n(111),r="\t\n\v\f\r \u2028\u2029",o=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),s=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(t,i,r){var o=[],s=i.toLowerCase();if(r.replace(a,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(n.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&n.push([i,o[0]]),"r"===s)n.push([i].concat(o));else for(;o.length>=e[s]&&(n.push([i].concat(o.splice(0,e[s]))),e[s]););})),n},u=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},c=function(t,e,n,i,r){var o=[];if(null===r&&null===i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!==r){var a=Math.PI/180,s=t+n*Math.cos(-i*a),u=t+n*Math.cos(-r*a);o=[["M",s,e+n*Math.sin(-i*a)],["A",n,n,0,+(r-i>180),0,u,e+n*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return o},h=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,i=[],r=0,o=0,a=0,h=0,l=0;"M"===t[0][0]&&(a=r=+t[0][1],h=o=+t[0][2],l++,i[0]=["M",r,o]);for(var d,f,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=l,v=t.length;g<v;g++){if(i.push(d=[]),(e=(f=t[g])[0])!==e.toUpperCase())switch(d[0]=e.toUpperCase(),d[0]){case"A":d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=+f[6]+r,d[7]=+f[7]+o;break;case"V":d[1]=+f[1]+o;break;case"H":d[1]=+f[1]+r;break;case"R":for(var m=2,y=(n=[r,o].concat(f.slice(1))).length;m<y;m++)n[m]=+n[m]+r,n[++m]=+n[m]+o;i.pop(),i=i.concat(u(n,p));break;case"O":i.pop(),(n=c(r,o,f[1],f[2])).push(n[0]),i=i.concat(n);break;case"U":i.pop(),i=i.concat(c(r,o,f[1],f[2],f[3])),d=["U"].concat(i[i.length-1].slice(-2));break;case"M":a=+f[1]+r,h=+f[2]+o;break;default:for(var b=1,x=f.length;b<x;b++)d[b]=+f[b]+(b%2?r:o)}else if("R"===e)n=[r,o].concat(f.slice(1)),i.pop(),i=i.concat(u(n,p)),d=["R"].concat(f.slice(-2));else if("O"===e)i.pop(),(n=c(r,o,f[1],f[2])).push(n[0]),i=i.concat(n);else if("U"===e)i.pop(),i=i.concat(c(r,o,f[1],f[2],f[3])),d=["U"].concat(i[i.length-1].slice(-2));else for(var w=0,_=f.length;w<_;w++)d[w]=f[w];if("O"!==(e=e.toUpperCase()))switch(d[0]){case"Z":r=+a,o=+h;break;case"H":r=d[1];break;case"V":o=d[1];break;case"M":a=d[d.length-2],h=d[d.length-1];break;default:r=d[d.length-2],o=d[d.length-1]}}return i},l=function(t,e,n,i){return[t,e,n,i,n,i]},d=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},f=function(t,e){var n,i=h(t),r=e&&h(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",f="",p=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,i,r,o,a,s,u,c,h){i===r&&(i+=1);var l,d,f,p,g,v=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(h)d=h[0],f=h[1],p=h[2],g=h[3];else{e=(l=b(e,n,-m)).x,n=l.y,u=(l=b(u,c,-m)).x,c=l.y,e===u&&n===c&&(u+=1,c+=1);var x=(e-u)/2,w=(n-c)/2,_=x*x/(i*i)+w*w/(r*r);_>1&&(i*=_=Math.sqrt(_),r*=_);var M=i*i,k=r*r,S=(a===s?-1:1)*Math.sqrt(Math.abs((M*k-M*w*w-k*x*x)/(M*w*w+k*x*x)));p=S*i*w/r+(e+u)/2,g=S*-r*x/i+(n+c)/2,d=Math.asin(((n-g)/r).toFixed(9)),f=Math.asin(((c-g)/r).toFixed(9)),d=e<p?Math.PI-d:d,f=u<p?Math.PI-f:f,d<0&&(d=2*Math.PI+d),f<0&&(f=2*Math.PI+f),s&&d>f&&(d-=2*Math.PI),!s&&f>d&&(f-=2*Math.PI)}var E=f-d;if(Math.abs(E)>v){var C=f,T=u,P=c;f=d+v*(s&&f>d?1:-1),y=t(u=p+i*Math.cos(f),c=g+r*Math.sin(f),i,r,o,0,s,T,P,[f,C,p,g])}E=f-d;var A=Math.cos(d),O=Math.sin(d),D=Math.cos(f),N=Math.sin(f),I=Math.tan(E/4),L=4/3*i*I,j=4/3*r*I,B=[e,n],R=[e+L*O,n-j*A],z=[u+L*N,c-j*D],F=[u,c];if(R[0]=2*B[0]-R[0],R[1]=2*B[1]-R[1],h)return[R,z,F].concat(y);for(var Y=[],H=0,W=(y=[R,z,F].concat(y).join().split(",")).length;H<W;H++)Y[H]=H%2?b(y[H-1],y[H],m).y:b(y[H],y[H+1],m).x;return Y}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(l(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(l(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(l(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(l(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",r&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(i.length,r&&r.length||0)}},v=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(i.length,r&&r.length||0))};n=Math.max(i.length,r&&r.length||0);for(var m=0;m<n;m++){i[m]&&(c=i[m][0]),"C"!==c&&(s[m]=c,m&&(f=s[m-1])),i[m]=p(i[m],o,f),"A"!==s[m]&&"C"===c&&(s[m]="C"),g(i,m),r&&(r[m]&&(c=r[m][0]),"C"!==c&&(u[m]=c,m&&(f=u[m-1])),r[m]=p(r[m],a,f),"A"!==u[m]&&"C"===c&&(u[m]="C"),g(r,m)),v(i,r,o,a,m),v(r,i,a,o,m);var y=i[m],b=r&&r[m],x=y.length,w=r&&b.length;o.x=y[x-2],o.y=y[x-1],o.bx=parseFloat(y[x-4])||o.x,o.by=parseFloat(y[x-3])||o.y,a.bx=r&&(parseFloat(b[w-4])||a.x),a.by=r&&(parseFloat(b[w-3])||a.y),a.x=r&&b[w-2],a.y=r&&b[w-1]}return r?[i,r]:i},p=/,?([a-z]),?/gi,g=function(t){return t.join(",").replace(p,"$1")},v=function(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n},m=function(t,e,n,i,r,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=c*h[f]+c,g=v(p,t,n,r,a),m=v(p,e,i,o,s),y=g*g+m*m;d+=l[f]*Math.sqrt(y)}return c*d},y=function(t,e,n,i,r,o,a,s){if(!(Math.max(t,n)<Math.min(r,a)||Math.min(t,n)>Math.max(r,a)||Math.max(e,i)<Math.min(o,s)||Math.min(e,i)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-i)*(r-a);if(u){var c=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/u,h=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/u,l=+c.toFixed(2),d=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(r,a).toFixed(2)||l>+Math.max(r,a).toFixed(2)||d<+Math.min(e,i).toFixed(2)||d>+Math.max(e,i).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},b=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},x=function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=g,o},w=function(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:x(t,e,n,i),vb:[t,e,n,i].join(" ")}},_=function(t,e,n,r,o,a,s,u){i.isArray(t)||(t=[t,e,n,r,o,a,s,u]);var c=function(t,e,n,i,r,o,a,s){for(var u,c,h,l,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(c=6*t-12*n+6*r,u=-3*t+9*n-9*r+3*a,h=3*n-3*t):(c=6*e-12*i+6*o,u=-3*e+9*i-9*o+3*s,h=3*i-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(l=-h/c)>0&&l<1&&d.push(l)}else{var g=c*c-4*h*u,v=Math.sqrt(g);if(!(g<0)){var m=(-c+v)/(2*u);m>0&&m<1&&d.push(m);var y=(-c-v)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(l=d[x]),f[0][x]=b*b*b*t+3*b*b*l*n+3*b*l*l*r+l*l*l*a,f[1][x]=b*b*b*e+3*b*b*l*i+3*b*l*l*o+l*l*l*s;return f[0][w]=t,f[1][w]=e,f[0][w+1]=a,f[1][w+1]=s,f[0].length=f[1].length=w+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return w(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},M=function(t,e,n,i,r,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),d=u*u,f=d*u,p=t+2*u*(n-t)+d*(r-2*n+t),g=e+2*u*(i-e)+d*(o-2*i+e),v=n+2*u*(r-n)+d*(a-2*r+n),m=i+2*u*(o-i)+d*(s-2*o+i);return{x:h*t+3*l*u*n+3*c*u*u*r+f*a,y:h*e+3*l*u*i+3*c*u*u*o+f*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:c*t+u*n,y:c*e+u*i},end:{x:c*r+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},k=function(t,e,n){if(!function(t,e){return t=w(t),e=w(e),b(e,t.x,t.y)||b(e,t.x2,t.y)||b(e,t.x,t.y2)||b(e,t.x2,t.y2)||b(t,e.x,e.y)||b(t,e.x2,e.y)||b(t,e.x,e.y2)||b(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(_(t),_(e)))return n?0:[];for(var i=~~(m.apply(0,t)/8),r=~~(m.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<i+1;c++){var h=M.apply(0,t.concat(c/i));o.push({x:h.x,y:h.y,t:c/i})}for(var l=0;l<r+1;l++){var d=M.apply(0,e.concat(l/r));a.push({x:d.x,y:d.y,t:l/r})}for(var f=0;f<i;f++)for(var p=0;p<r;p++){var g=o[f],v=o[f+1],x=a[p],k=a[p+1],S=Math.abs(v.x-g.x)<.001?"y":"x",E=Math.abs(k.x-x.x)<.001?"y":"x",C=y(g.x,g.y,v.x,v.y,x.x,x.y,k.x,k.y);if(C){if(s[C.x.toFixed(4)]===C.y.toFixed(4))continue;s[C.x.toFixed(4)]=C.y.toFixed(4);var T=g.t+Math.abs((C[S]-g[S])/(v[S]-g[S]))*(v.t-g.t),P=x.t+Math.abs((C[E]-x[E])/(k[E]-x[E]))*(k.t-x.t);T>=0&&T<=1&&P>=0&&P<=1&&(n?u++:u.push({x:C.x,y:C.y,t1:T,t2:P}))}}return u};function S(t,e){var n=[],i=[];return t.length&&function t(e,r){if(1===e.length)n.push(e[0]),i.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&i.push(e[a+1]),o[a]=[(1-r)*e[a][0]+r*e[a+1][0],(1-r)*e[a][1]+r*e[a+1][1]];t(o,r)}}(t,e),{left:n,right:i.reverse()}}var E=function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,a=1/n,s=0;s<n-1;s++){var u=S(o,a/(1-a*s));r.push(u.left),o=u.right}return r.push(o),r.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var o=0;o<=n-1;o++)i.push(r)}return i},C=function(t,e){if(t.length!==e.length)return!1;var n=!0;return i.each(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function T(t,e,n){var i=null,r=n;return e<r&&(r=e,i="add"),t<r&&(r=t,i="del"),{type:i,min:r}}function P(t,e,n){for(var i,r=[].concat(t),o=1/(n+1),a=A(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}function A(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:s,parsePathArray:g,pathTocurve:f,pathToAbsolute:h,catmullRomToBezier:u,rectPath:x,fillPath:function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,r=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<i-n;a++)t.push(t[0]);return t}for(var s=0;s<i;s++){var u=Math.floor(r*s);o[u]=(o[u]||0)+1}var c=o.reduce((function(e,i,r){return r===n?e.concat(t[n]):e.concat(E(t[r],t[r+1],i))}),[]);return c.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||c.push("Z"),c},fillPathByDiff:function(t,e){var n=function(t,e){var n,i,r=t.length,o=e.length,a=0;if(0===r||0===o)return null;for(var s=[],u=0;u<=r;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(var h=1;h<=r;h++){n=t[h-1];for(var l=1;l<=o;l++){i=e[l-1],a=C(n,i)?0:1;var d=s[h-1][l].min+1,f=s[h][l-1].min+1,p=s[h-1][l-1].min+a;s[h][l]=T(d,f,p)}}return s}(t,e),i=t.length,r=e.length,o=[],a=1,s=1;if(n[i][r]!==i){for(var u=1;u<=i;u++){var c=n[u][u].min;s=u;for(var h=a;h<=r;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var d=r-(i=t.length);if(i<r)for(var f=0;f<d;f++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]),i+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=A(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=P(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=P(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=P(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[i]=e[i]}return t},intersection:function(t,e){return function(t,e,n){var i,r,o,a,s,u,c,h,l,d;t=f(t),e=f(e);for(var p=n?0:[],g=0,v=t.length;g<v;g++){var m=t[g];if("M"===m[0])i=s=m[1],r=u=m[2];else{"C"===m[0]?(i=(l=[i,r].concat(m.slice(1)))[6],r=l[7]):(l=[i,r,i,r,s,u,s,u],i=s,r=u);for(var y=0,b=e.length;y<b;y++){var x=e[y];if("M"===x[0])o=c=x[1],a=h=x[2];else{"C"===x[0]?(o=(d=[o,a].concat(x.slice(1)))[6],a=d[7]):(d=[o,a,o,a,c,h,c,h],o=c,a=h);var w=k(l,d,n);if(n)p+=w;else{for(var _=0,M=w.length;_<M;_++)w[_].segment1=g,w[_].segment2=y,w[_].bez1=l,w[_].bez2=d;p=p.concat(w)}}}}}return p}(t,e)}}},function(t,e,n){var i=n(0),r=n(11),o=n(51),a=n(74),s=function t(e){t.superclass.constructor.call(this,e)};s.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["z"]]},"triangle-down":function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},s.ATTRS={path:null,lineWidth:1},i.extend(s,r),i.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.radius,r=this.getHitLineWidth()/2+i;return{minX:e-r,minY:n-r,maxX:e+r,maxY:n+r}},_getPath:function(){var t,e=this._attrs,n=e.x,r=e.y,o=e.radius||e.r,a=e.symbol||"circle";return(t=i.isFunction(a)?a:s.Symbols[a])?t(n,r,o):(console.warn(a+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,i=o.parsePath(this._getPath());t.beginPath(),e=[];for(var r=0;r<i.length;r++){var s=i[r];n=new a(s,n,r===i.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var u=0;u<e.length;u++)e[u].draw(t)}}}),t.exports=s},function(t,e,n){var i=n(0),r=i.vec2;function o(t,e,n,i,r){var o=1-r;return o*o*(o*i+3*r*n)+r*r*(r*t+3*o*e)}function a(t,e,n,i,a,s,u,c,h,l,d){var f,p,g,v,m,y,b,x,w=.005,_=1/0,M=[h,l];for(p=0;p<1;p+=.05)g=[o(t,n,a,u,p),o(e,i,s,c,p)],(v=r.squaredDistance(M,g))<_&&(f=p,_=v);_=1/0;for(var k=0;k<32&&!(w<1e-4);k++)x=f+w,g=[o(t,n,a,u,b=f-w),o(e,i,s,c,b)],v=r.squaredDistance(M,g),b>=0&&v<_?(f=b,_=v):(y=[o(t,n,a,u,x),o(e,i,s,c,x)],m=r.squaredDistance(M,y),x<=1&&m<_?(f=x,_=m):w*=.5);return d&&(d.x=o(t,n,a,u,f),d.y=o(e,i,s,c,f)),Math.sqrt(_)}function s(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}t.exports={at:o,derivativeAt:function(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)},projectPoint:function(t,e,n,i,r,o,s,u,c,h){var l={};return a(t,e,n,i,r,o,s,u,c,h,l),l},pointDistance:a,extrema:function(t,e,n,r){var o,a,s,u=3*t-9*e+9*n-3*r,c=6*e-12*n+6*r,h=3*n-3*r,l=[];if(i.isNumberEqual(u,0))i.isNumberEqual(c,0)||(o=-h/c)>=0&&o<=1&&l.push(o);else{var d=c*c-4*u*h;i.isNumberEqual(d,0)?l.push(-c/(2*u)):d>0&&(a=(-c-(s=Math.sqrt(d)))/(2*u),(o=(-c+s)/(2*u))>=0&&o<=1&&l.push(o),a>=0&&a<=1&&l.push(a))}return l},len:function(t,e,n,r,o,a,u,c,h){i.isNil(h)&&(h=1);for(var l=(h=h>1?1:h<0?0:h)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<12;g++){var v=l*d[g]+l,m=s(v,t,n,o,u),y=s(v,e,r,a,c),b=m*m+y*y;p+=f[g]*Math.sqrt(b)}return l*p}}},function(t,e,n){var i=n(77),r=n(190),o=n(105),a=n(76);t.exports={line:function(t,e,n,r,o,a,s){var u=i.box(t,e,n,r,o);if(!this.box(u.minX,u.maxX,u.minY,u.maxY,a,s))return!1;var c=i.pointDistance(t,e,n,r,a,s);return!isNaN(c)&&c<=o/2},polyline:function(t,e,n,i){var r=t.length-1;if(r<1)return!1;for(var o=0;o<r;o++){var a=t[o][0],s=t[o][1],u=t[o+1][0],c=t[o+1][1];if(this.line(a,s,u,c,e,n,i))return!0}return!1},cubicline:function(t,e,n,i,r,a,s,u,c,h,l){return o.pointDistance(t,e,n,i,r,a,s,u,h,l)<=c/2},quadraticline:function(t,e,n,i,o,a,s,u,c){return r.pointDistance(t,e,n,i,o,a,u,c)<=s/2},arcline:function(t,e,n,i,r,o,s,u,c){return a.pointDistance(t,e,n,i,r,o,u,c)<=s/2},rect:function(t,e,n,i,r,o){return t<=r&&r<=t+n&&e<=o&&o<=e+i},circle:function(t,e,n,i,r){return Math.pow(i-t,2)+Math.pow(r-e,2)<=Math.pow(n,2)},box:function(t,e,n,i,r,o){return t<=r&&r<=e&&n<=o&&o<=i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*r},e.equals=function(t,e){return Math.abs(t-e)<=i*Math.max(1,Math.abs(t),Math.abs(e))};var i=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var r=Math.PI/180},function(t,e,n){var i=n(467);i.translate=function(t,e,n){var r=new Array(9);return i.fromTranslation(r,n),i.multiply(t,r,e)},i.rotate=function(t,e,n){var r=new Array(9);return i.fromRotation(r,n),i.multiply(t,r,e)},i.scale=function(t,e,n){var r=new Array(9);return i.fromScaling(r,n),i.multiply(t,r,e)},t.exports=i},function(t,e,n){var i=n(80),r=n(199),o=n(52);t.exports=function(t){for(var e=r(arguments),n=1;n<e.length;n++){var a=e[n];i(a)&&(a=a.prototype),o(t.prototype,a)}}},function(t,e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(3);t.exports=function t(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return e;var n=void 0;if(r(e)){n=[];for(var o=0,a=e.length;o<a;o++)"object"===i(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o]}else for(var s in n={},e)"object"===i(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n}},function(t,e,n){t.exports={isFunction:n(80),isObject:n(12),isBoolean:n(479),isNil:n(26),isString:n(16),isArray:n(3),isNumber:n(79),isEmpty:n(478),uniqueId:n(201),clone:n(110),deepMix:n(2),assign:n(52),merge:n(2),upperFirst:n(200),each:n(7),isEqual:n(474),toArray:n(199),extend:n(198),augment:n(109),remove:n(473),isNumberEqual:n(472),toRadian:n(471),toDegree:n(470),mod:n(469),clamp:n(197),createDom:n(21),modifyCSS:n(9),requestAnimationFrame:n(468),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(108),vec2:n(196),vec3:n(195),transform:n(194)}},function(t,e,n){"use strict";n.r(e);var i=n(40),r=function(t,e,n){var r=new i.a;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},o=function(t,e,n){var r=new i.a,o=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Object(i.b)():+n,r.restart((function i(a){a+=o,r.restart(i,o+=e,n),t(a)}),e,n),r)};n.d(e,"now",(function(){return i.b})),n.d(e,"timer",(function(){return i.c})),n.d(e,"timerFlush",(function(){return i.d})),n.d(e,"timeout",(function(){return r})),n.d(e,"interval",(function(){return o}))},function(t,e,n){"use strict";n.r(e);var i=function(t,e){var n;function i(){var i,r,o=n.length,a=0,s=0;for(i=0;i<o;++i)a+=(r=n[i]).x,s+=r.y;for(a=a/o-t,s=s/o-e,i=0;i<o;++i)(r=n[i]).x-=a,r.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i};function r(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,u,c,h,l,d,f=t._root,p={data:i},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(g+m)/2))?g=o:m=o,(h=n>=(a=(v+y)/2))?v=a:y=a,r=f,!(f=f[l=h<<1|c]))return r[l]=p,t;if(s=+t._x.call(null,f.data),u=+t._y.call(null,f.data),e===s&&n===u)return p.next=f,r?r[l]=p:t._root=p,t;do{r=r?r[l]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+m)/2))?g=o:m=o,(h=n>=(a=(v+y)/2))?v=a:y=a}while((l=h<<1|c)==(d=(u>=a)<<1|s>=o));return r[d]=f,r[l]=p,t}var o=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function a(t){return t[0]}function s(t){return t[1]}function u(t,e,n){var i=new c(null==e?a:e,null==n?s:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function c(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function h(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var l=u.prototype=c.prototype;l.copy=function(){var t,e,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=h(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=h(e));return n},l.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)},l.addAll=function(t){var e,n,i,o,a=t.length,s=new Array(a),u=new Array(a),c=1/0,h=1/0,l=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,u[n]=o,i<c&&(c=i),i>l&&(l=i),o<h&&(h=o),o>d&&(d=o));if(c>l||h>d)return this;for(this.cover(c,h).cover(l,d),n=0;n<a;++n)r(this,s[n],u[n],t[n]);return this},l.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,u=r-n,c=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:r=n+u,o=i+u;break;case 1:n=r-u,o=i+u;break;case 2:r=n+u,i=o-u;break;case 3:n=r-u,i=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},l.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},l.find=function(t,e,n){var i,r,a,s,u,c,h,l=this._x0,d=this._y0,f=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new o(v,l,d,f,p)),null==n?n=1/0:(l=t-n,d=e-n,f=t+n,p=e+n,n*=n);c=g.pop();)if(!(!(v=c.node)||(r=c.x0)>f||(a=c.y0)>p||(s=c.x1)<l||(u=c.y1)<d))if(v.length){var m=(r+s)/2,y=(a+u)/2;g.push(new o(v[3],m,y,s,u),new o(v[2],r,y,m,u),new o(v[1],m,a,s,y),new o(v[0],r,a,m,y)),(h=(e>=y)<<1|t>=m)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-h],g[g.length-1-h]=c)}else{var b=t-+this._x.call(null,v.data),x=e-+this._y.call(null,v.data),w=b*b+x*x;if(w<n){var _=Math.sqrt(n=w);l=t-_,d=e-_,f=t+_,p=e+_,i=v.data}}return i},l.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,u,c,h,l,d,f=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+v)/2))?p=s:v=s,(h=a>=(u=(g+m)/2))?g=u:m=u,e=f,!(f=f[l=h<<1|c]))return this;if(!f.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,d=l)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[l]=r:delete e[l],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},l.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},l.root=function(){return this._root},l.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},l.visit=function(t){var e,n,i,r,a,s,u=[],c=this._root;for(c&&u.push(new o(c,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(c=e.node,i=e.x0,r=e.y0,a=e.x1,s=e.y1)&&c.length){var h=(i+a)/2,l=(r+s)/2;(n=c[3])&&u.push(new o(n,h,l,a,s)),(n=c[2])&&u.push(new o(n,i,l,h,s)),(n=c[1])&&u.push(new o(n,h,r,a,l)),(n=c[0])&&u.push(new o(n,i,r,h,l))}return this},l.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,s=e.x0,u=e.y0,c=e.x1,h=e.y1,l=(s+c)/2,d=(u+h)/2;(a=r[0])&&n.push(new o(a,s,u,l,d)),(a=r[1])&&n.push(new o(a,l,u,c,d)),(a=r[2])&&n.push(new o(a,s,d,l,h)),(a=r[3])&&n.push(new o(a,l,d,c,h))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},l.x=function(t){return arguments.length?(this._x=t,this):this._x},l.y=function(t){return arguments.length?(this._y=t,this):this._y};var d=function(t){return function(){return t}},f=function(){return 1e-6*(Math.random()-.5)};function p(t){return t.x+t.vx}function g(t){return t.y+t.vy}var v=function(t){var e,n,i=1,r=1;function o(){for(var t,o,s,c,h,l,d,v=e.length,m=0;m<r;++m)for(o=u(e,p,g).visitAfter(a),t=0;t<v;++t)s=e[t],l=n[s.index],d=l*l,c=s.x+s.vx,h=s.y+s.vy,o.visit(y);function y(t,e,n,r,o){var a=t.data,u=t.r,p=l+u;if(!a)return e>c+p||r<c-p||n>h+p||o<h-p;if(a.index>s.index){var g=c-a.x-a.vx,v=h-a.y-a.vy,m=g*g+v*v;m<p*p&&(0===g&&(m+=(g=f())*g),0===v&&(m+=(v=f())*v),m=(p-(m=Math.sqrt(m)))/m*i,s.vx+=(g*=m)*(p=(u*=u)/(d+u)),s.vy+=(v*=m)*p,a.vx-=g*(p=1-p),a.vy-=v*p)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=d(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:d(+e),s(),o):t},o};function m(t){return t.index}function y(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var b=function(t){var e,n,i,r,o,a=m,s=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},u=d(30),c=1;function h(i){for(var r=0,a=t.length;r<c;++r)for(var s,u,h,l,d,p,g,v=0;v<a;++v)u=(s=t[v]).source,l=(h=s.target).x+h.vx-u.x-u.vx||f(),d=h.y+h.vy-u.y-u.vy||f(),l*=p=((p=Math.sqrt(l*l+d*d))-n[v])/p*i*e[v],d*=p,h.vx-=l*(g=o[v]),h.vy-=d*g,u.vx+=l*(g=1-g),u.vy+=d*g}function l(){if(i){var s,u,c=i.length,h=t.length,l=new Map(i.map((t,e)=>[a(t,e,i),t]));for(s=0,r=new Array(c);s<h;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=y(l,u.source)),"object"!=typeof u.target&&(u.target=y(l,u.target)),r[u.source.index]=(r[u.source.index]||0)+1,r[u.target.index]=(r[u.target.index]||0)+1;for(s=0,o=new Array(h);s<h;++s)u=t[s],o[s]=r[u.source.index]/(r[u.source.index]+r[u.target.index]);e=new Array(h),p(),n=new Array(h),g()}}function p(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+s(t[n],n,t)}function g(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t){i=t,l()},h.links=function(e){return arguments.length?(t=e,l(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(s="function"==typeof t?t:d(+t),p(),h):s},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:d(+t),g(),h):u},h},x={value:function(){}};function w(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new _(i)}function _(t){this._=t}function M(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function k(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=x,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}_.prototype=w.prototype={constructor:_,on:function(t,e){var n,i=this._,r=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=k(i[n],t.name,e);else if(null==e)for(n in i)i[n]=k(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=M(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var S=w,E=n(40);function C(t){return t.x}function T(t){return t.y}n(112);var P=10,A=Math.PI*(3-Math.sqrt(5)),O=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,u=Object(E.c)(h),c=S("tick","end");function h(){l(),c.call("tick",e),n<i&&(u.stop(),c.call("end",e))}function l(i){var u,c,h=t.length;void 0===i&&(i=1);for(var l=0;l<i;++l)for(n+=(o-n)*r,s.forEach((function(t){t(n)})),u=0;u<h;++u)null==(c=t[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=P*Math.sqrt(n),o=n*A;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:l,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,u,c=0,h=t.length;for(null==i?i=1/0:i*=i,c=0;c<h;++c)(a=(r=e-(s=t[c]).x)*r+(o=n-s.y)*o)<i&&(u=s,i=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},D=function(){var t,e,n,i,r=d(-30),o=1,a=1/0,s=.81;function c(i){var r,o=t.length,a=u(t,C,T).visitAfter(l);for(n=i,r=0;r<o;++r)e=t[r],a.visit(p)}function h(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function l(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function p(t,r,u,c){if(!t.value)return!0;var h=t.x-e.x,l=t.y-e.y,d=c-r,p=h*h+l*l;if(d*d/s<p)return p<a&&(0===h&&(p+=(h=f())*h),0===l&&(p+=(l=f())*l),p<o&&(p=Math.sqrt(o*p)),e.vx+=h*t.value*n/p,e.vy+=l*t.value*n/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===h&&(p+=(h=f())*h),0===l&&(p+=(l=f())*l),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(d=i[t.data.index]*n/p,e.vx+=h*d,e.vy+=l*d)}while(t=t.next)}}return c.initialize=function(e){t=e,h()},c.strength=function(t){return arguments.length?(r="function"==typeof t?t:d(+t),h(),c):r},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c},N=function(t,e,n){var i,r,o,a=d(.1);function s(t){for(var a=0,s=i.length;a<s;++a){var u=i[a],c=u.x-e||1e-6,h=u.y-n||1e-6,l=Math.sqrt(c*c+h*h),d=(o[a]-l)*r[a]*t/l;u.vx+=c*d,u.vy+=h*d}}function u(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+a(i[e],e,i)}}return"function"!=typeof t&&(t=d(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){i=t,u()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:d(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:d(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},I=function(t){var e,n,i,r=d(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=d(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:d(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:d(+e),a(),o):t},o},L=function(t){var e,n,i,r=d(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=d(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:d(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:d(+e),a(),o):t},o};n.d(e,"forceCenter",(function(){return i})),n.d(e,"forceCollide",(function(){return v})),n.d(e,"forceLink",(function(){return b})),n.d(e,"forceManyBody",(function(){return D})),n.d(e,"forceRadial",(function(){return N})),n.d(e,"forceSimulation",(function(){return O})),n.d(e,"forceX",(function(){return I})),n.d(e,"forceY",(function(){return L}))},function(t,e,n){var i=n(1),r=n(176),o=n(10),a=["fillStyle","strokeStyle","path","points","img","symbol"],s=function(){function t(t){this._cfg=i.mix({id:null,type:"item",model:{},group:null,animate:!1,visible:!0,locked:!1,event:!0,keyShape:null,states:[]},this.getDefaultCfg(),t);var e=t.group;e.set("item",this);var n=this.get("model").id;n&&""!==n||(n=i.uniqueId(this.get("type"))),this.set("id",n),e.set("id",n),this.init(),this.draw()}var e=t.prototype;return e.isItem=function(){return!0},e.get=function(t){return this._cfg[t]},e.set=function(t,e){i.isPlainObject(t)?this._cfg=i.mix({},this._cfg,t):this._cfg[t]=e},e.getDefaultCfg=function(){return{}},e.init=function(){var t=r.getFactory(this.get("type"));this.set("shapeFactory",t)},e._calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=i.getBBox(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e._drawInner=function(){var t=this.get("shapeFactory"),e=this.get("group"),n=this.get("model");if(e.clear(),t){this.updatePosition(n);var i=this.getShapeCfg(n),r=i.shape,o=t.draw(r,i,e);o&&(o.isKeyShape=!0,this.set("keyShape",o),this.set("originStyle",this.getKeyShapeStyle())),this.set("currentShape",r),this._resetStates(t,r)}},e.getKeyShapeStyle=function(){var t=this.getKeyShape();if(t){var e={};return i.each(t.attr(),(function(t,n){a.indexOf(n)<0&&(e[n]=t)})),e}},e._resetStates=function(t,e){var n=this,r=n.get("states");i.each(r,(function(i){t.setState(e,i,!0,n)}))},e.getStates=function(){return this.get("states")},e.hasState=function(t){return this.get("states").indexOf(t)>=0},e.getStateStyle=function(t){var e=o[this.getType()+"StateStyle"][t],n=this.get("styles"),r=n&&n[t],a=t+"Style";return i.mix({},e,r,this.get(a))},e.getOriginStyle=function(){return this.get("originStyle")},e.getCurrentStatesStyle=function(){var t=this,e=i.mix({},t.getOriginStyle());return i.each(t.getStates(),(function(n){i.mix(e,t.getStateStyle(n))})),e},e.setState=function(t,e){var n=this.get("states"),i=this.get("shapeFactory"),r=n.indexOf(t);if(e){if(r>-1)return;n.push(t)}else r>-1&&n.splice(r,1);if(i){var o=this.get("model");i.setState(o.shape,t,e,this)}},e.clearStates=function(t){var e=this,n=e.getStates(),r=e.get("shapeFactory"),o=e.get("model").shape;if(!t)return e.set("states",[]),void r.setState(o,n[0],!1,e);i.isString(t)&&(t=[t]);var a=n.filter((function(n){return r.setState(o,n,!1,e),!(t.indexOf(n)>=0)}));e.set("states",a)},e.getContainer=function(){return this.get("group")},e.getKeyShape=function(){return this.get("keyShape")},e.getModel=function(){return this.get("model")},e.getType=function(){return this.get("type")},e.beforeDraw=function(){},e.afterDraw=function(){},e.getShapeCfg=function(t){var e=this.get("styles");if(e&&e.default){var n=i.mix({},t);return n.style=i.mix({},e.default,t.style),n}return t},e.refresh=function(){var t=this.get("model");this.updatePosition(t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.update=function(t){var e=this.get("model"),n=e.x,r=e.y;i.mix(e,t),this._isOnlyMove(t)?this.updatePosition(e):(n===e.x&&r===e.y||this.updatePosition(e),this.updateShape()),this.afterUpdate(),this.clearCache()},e.updateShape=function(){var t=this.get("shapeFactory"),e=this.get("model"),n=e.shape;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var i=this.getShapeCfg(e);t.update(n,i,this)}else this.draw();this.set("originStyle",this.getKeyShapeStyle()),this._resetStates(t,n)},e.updatePosition=function(t){var e=this.get("model"),n=i.isNil(t.x)?e.x:t.x,r=i.isNil(t.y)?e.y:t.y,o=this.get("group");i.isNil(n)||i.isNil(r)||(o.resetMatrix(),o.translate(n,r),e.x=n,e.y=r,this.clearCache())},e.afterUpdate=function(){},e.clearCache=function(){this.set("bboxCache",null)},e.draw=function(){this.beforeDraw(),this._drawInner(),this.afterDraw()},e.getBBox=function(){var t=this.get("bboxCache");return t||(t=this._calculateBBox(),this.set("bboxCache",t)),t},e.toFront=function(){this.get("group").toFront()},e.toBack=function(){this.get("group").toBack()},e.show=function(){this.changeVisibility(!0)},e.hide=function(){this.changeVisibility(!1)},e.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},e.enableCapture=function(t){var e=this.get("group");e&&e.attr("capture",t)},e.isVisible=function(){return this.get("visible")},e.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.remove(),this._cfg=null,this.destroyed=!0}},t}();t.exports=s},function(t,e,n){var i=n(102),r=i.groupBy,o=i.isString,a=n(81),s=a.EventEmitter,u=n(1),c=n(10),h=n(218),l=function(t){!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(n,t);var e=n.prototype;function n(e){var n;return(n=t.call(this)||this)._cfg=u.deepMix(n.getDefaultCfg(),e),n._init(),n}return e.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",mode:[],plugins:[],data:null,fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:null,duration:500,easing:"easeLinear"},callback:null,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{}}},e._init=function(){this._initCanvas();var t=new h.Event(this),e=new h.View(this),n=new h.Mode(this),i=new h.Item(this),r=new h.State(this),o=new h.Layout(this),a=new h.CustomGroup(this);this.set({eventController:t,viewController:e,modeController:n,itemController:i,stateController:r,customGroupControll:a,layoutController:o}),this._initPlugins()},e._initCanvas=function(){var t=this.get("container");if(u.isString(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw Error("invalid container");var e=new a.Canvas({containerDOM:t,width:this.get("width"),height:this.get("height"),renderer:this.get("renderer"),pixelRatio:this.get("pixelRatio")});this.set("canvas",e),this._initGroups()},e._initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el").id,n=t.addGroup({id:e+"-root",className:c.rootContainerClassName});if(this.get("groupByTypes")){var i=n.addGroup({id:e+"-edge",className:c.edgeContainerClassName}),r=n.addGroup({id:e+"-node",className:c.nodeContainerClassName}),o=n.addGroup({id:e+"-delagate",className:c.delegateContainerClassName}),a=n.addGroup({id:e+"-group",className:c.customGroupContainerClassName});a.toBack(),this.set({nodeGroup:r,edgeGroup:i,customGroup:a,delegateGroup:o})}this.set("group",n)},e._initPlugins=function(){var t=this;u.each(t.get("plugins"),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.get=function(t){return this._cfg[t]},e.set=function(t,e){return u.isPlainObject(t)?this._cfg=u.mix({},this._cfg,t):this._cfg[t]=e,this},e.update=function(t,e){this.updateItem(t,e)},e.updateItem=function(t,e){this.get("itemController").updateItem(t,e)},e.setItemState=function(t,e,n){u.isString(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n),this.get("stateController").updateState(t,e,n)},e.clearItemStates=function(t,e){u.isString(t)&&(t=this.findById(t)),this.get("itemController").clearItemStates(t,e),e||(e=t.get("states")),this.get("stateController").updateStates(t,e,!1)},e.add=function(t,e){return this.addItem(t,e)},e.addItem=function(t,e){if("group"===t){var n=e.groupId,i=e.nodes,r=e.type,a=e.zIndex,s=e.title,u=s;return o(s)&&(u={text:s}),this.get("customGroupControll").create(n,i,r,a,!0,u)}return this.get("itemController").addItem(t,e)},e.remove=function(t){this.removeItem(t)},e.removeItem=function(t){var e=null;u.isString(t)&&(e=this.findById(t)),!e&&u.isString(t)?this.get("customGroupControll").remove(t):this.get("itemController").removeItem(t)},e.data=function(t){this.set("data",t)},e.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.refresh=function(){var t=this.get("autoPaint");if(this.setAutoPaint(!1),this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var e=this.get("nodes"),n=this.get("edges");u.each(e,(function(t){t.refresh()})),u.each(n,(function(t){t.refresh()}))}this.setAutoPaint(t),this.emit("aftergraphrefresh"),this.autoPaint()},e.refreshPositions=function(){this.emit("beforegraphrefreshposition");var t,e=this.get("nodes"),n=this.get("edges");u.each(e,(function(e){t=e.getModel(),e.updatePosition(t)})),u.each(n,(function(t){t.refresh()})),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.render=function(){var t=this,e=this.get("data");if(!e)throw new Error("data must be defined first");this.clear(),this.emit("beforerender");var n=this.get("autoPaint");function i(){t.get("fitView")&&t.get("viewController")._fitView(),t.paint(),t.setAutoPaint(n),t.emit("afterrender")}if(this.setAutoPaint(!1),u.each(e.nodes,(function(e){t.add("node",e)})),u.each(e.edges,(function(e){t.add("edge",e)})),this.get("groupByTypes")||(e.nodes.length<e.edges.length?this.getNodes().forEach((function(t){t.toFront()})):this.getEdges().forEach((function(t){t.toBack()}))),t.get("layoutController").layout(i)||i(),e.nodes&&e.nodes.filter((function(t){return t.groupId})).length>0){var r=t.get("groupType");this.renderCustomGroup(e,r)}},e.renderCustomGroup=function(t,e){var n=this,i=t.groups,o=t.nodes,a=10;if(i){this.set({groups:i});var s=u.getAllNodeInGroups(t);for(var c in s){var h=s[c];this.get("customGroupControll").create(c,h,e,a),a--}this.get("customGroup").sort()}else{var l=o.filter((function(t){return t.groupId})),d=[],f=r(l,"groupId"),p=function(t){var i=f[t].map((function(t){return t.id}));n.get("customGroupControll").create(t,i,e,a),a--,d.find((function(e){return e.id===t}))||d.push({id:t})};for(var g in f)p(g);this.set({groups:d})}},e.read=function(t){this.data(t),this.render()},e.changeData=function(t){var e=this;if(!t)return this;e.get("data")||(e.data(t),e.render());var n=this.get("autoPaint"),i=this.get("itemMap"),r={nodes:[],edges:[]};this.setAutoPaint(!1),this._diffItems("node",r,t.nodes),this._diffItems("edge",r,t.edges),u.each(i,(function(t,n){r.nodes.indexOf(t)<0&&r.edges.indexOf(t)<0&&(delete i[n],e.remove(t))})),this.set({nodes:r.nodes,edges:r.edges});var o=this.get("layoutController");return o.changeData(),e.get("animate")&&!o.getLayoutType()?e.positionsAnimate():e.paint(),e.setAutoPaint(n),this},e._diffItems=function(t,e,n){var i,r=this,o=this.get("itemMap");u.each(n,(function(n){if(i=o[n.id]){if(r.get("animate")&&"node"===t){var a=i.getContainer().getMatrix();i.set("originAttrs",{x:a[6],y:a[7]})}r.updateItem(i,n)}else i=r.addItem(t,n);e[t+"s"].push(i)}))},e.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.save=function(){var t=[],e=[];return u.each(this.get("nodes"),(function(e){t.push(e.getModel())})),u.each(this.get("edges"),(function(t){e.push(t.getModel())})),{nodes:t,edges:e,groups:this.get("groups")}},e.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this.autoPaint(),this},e.translate=function(t,e){var n=this.get("group");n.translate(t,e),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},e.moveTo=function(t,e){var n=this.get("group");n.move(t,e),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()}),this.autoPaint()},e.fitView=function(t){t&&this.set("fitViewPadding",t),this.get("viewController")._fitView(),this.paint()},e.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.setMode=function(t){return this.set("mode",t),this.get("modeController").setMode(t),this},e.getCurrentMode=function(){return this.get("mode")},e.getZoom=function(){return this.get("group").getMatrix()[0]},e.getNodes=function(){return this.get("nodes")},e.getEdges=function(){return this.get("edges")},e.zoom=function(t,e){var n=u.clone(this.get("group").getMatrix()),i=this.get("minZoom"),r=this.get("maxZoom");e?(u.mat3.translate(n,n,[-e.x,-e.y]),u.mat3.scale(n,n,[t,t]),u.mat3.translate(n,n,[e.x,e.y])):u.mat3.scale(n,n,[t,t]),i&&n[0]<i||r&&n[0]>r||(this.get("group").setMatrix(n),this.emit("viewportchange",{action:"zoom",matrix:n}),this.autoPaint())},e.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},e.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,i=t.getNodes(),r=i.map((function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate({onFrame:function(e){u.each(r,(function(i){var r=t.findById(i.id);if(r&&!r.destroyed){var o=r.get("originAttrs"),a=r.get("model");if(!o){var s=r.getContainer().getMatrix();o={x:s[6],y:s[7]},r.set("originAttrs",o)}if(n){var c=n(r,e,i,o);r.set("model",u.mix(a,c))}else a.x=o.x+(i.x-o.x)*e,a.y=o.y+(i.y-o.y)*e}})),t.refreshPositions()}},e.duration,e.easing,(function(){u.each(i,(function(t){t.set("originAttrs",null)})),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}))},e.stopAnimate=function(){this.get("canvas").stopAnimate()},e.isAnimating=function(){return this.animating},e.focusItem=function(t){this.get("viewController").focus(t),this.autoPaint()},e.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.showItem=function(t){this.get("itemController").changeItemVisibility(t,!0)},e.hideItem=function(t){this.get("itemController").changeItemVisibility(t,!1)},e.findById=function(t){return this.get("itemMap")[t]},e.find=function(t,e){var n,i=this.get(t+"s");return u.each(i,(function(t,i){if(e(t,i))return n=t,!1})),n},e.findAll=function(t,e){var n=[];return u.each(this.get(t+"s"),(function(t,i){e(t,i)&&n.push(t)})),n},e.findAllByState=function(t,e){return this.findAll(t,(function(t){return t.hasState(e)}))},e.setAutoPaint=function(t){this.set("autoPaint",t)},e.toDataURL=function(){var t=this.get("canvas"),e=t.getRenderer(),n=t.get("el"),i="";if("svg"===e){var r=n.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),a=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);a.replaceChild(r,a.documentElement);var s=(new XMLSerializer).serializeToString(a);i="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===e&&(i=n.toDataURL("image/png"));return i},e.downloadImage=function(t){var e=this;e.isAnimating()&&e.stopAnimate();var n=e.get("canvas").getRenderer(),i=(t||"graph")+("svg"===n?".svg":".png"),r=document.createElement("a");setTimeout((function(){var t=e.toDataURL();if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==n){for(var o=t.split(","),a=o[0].match(/:(.*?);/)[1],s=atob(o[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var h=new Blob([c],{type:a});window.navigator.msSaveBlob?window.navigator.msSaveBlob(h,i):r.addEventListener("click",(function(){r.download=i,r.href=window.URL.createObjectURL(h)}))}else r.addEventListener("click",(function(){r.download=i,r.href=t}));var l=document.createEvent("MouseEvents");l.initEvent("click",!1,!1),r.dispatchEvent(l)}),16)},e.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.updateLayout=function(t){var e,n=this.get("layoutController");u.isString(t)?t={type:e=t}:e=t.type;var i=this.get("layout"),r=i?i.type:void 0;if(e&&r!==e)this.set("layout",t),n.changeLayout(e);else{var o={};u.mix(o,i,t),o.type=r||"random",this.set("layout",o),n.updateLayoutCfg(o)}},e.layout=function(){var t=this.get("layoutController");this.get("layout").workerEnabled?t.layout():t.layoutMethod?t.relayout():t.layout()},e.clear=function(){return this.get("canvas").clear(),this._initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[]}),this},e.destroy=function(){this.clear(),u.each(this.get("plugins"),(function(t){t.destroyPlugin()})),this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this._cfg=null,this.destroyed=!0},e.collapseGroup=function(t){this.get("customGroupControll").collapseGroup(t)},e.expandGroup=function(t){this.get("customGroupControll").expandGroup(t)},n}(s);t.exports=l},function(t,e,n){var i=n(1);t.exports={onMouseEnter:function(t){if(this.shouldBegin(t)){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})}},onMouseMove:function(t){this.shouldUpdate(t)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){if(t.item){var e=this.container;e||(e=this._createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,this.updatePosition(t),i.modifyCSS(this.container,{visibility:"visible"})}},hideTooltip:function(){i.modifyCSS(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.width,n=this.height,r=this.container,o=t.canvasX,a=t.canvasY,s=r.getBoundingClientRect();o>e/2?o-=s.width:o+=12,a>n/2?a-=s.height:a+=12;var u=o+"px",c=a+"px";i.modifyCSS(this.container,{left:u,top:c,visibility:"visible"})},_createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=i.createDom('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return e.parentNode.appendChild(n),i.modifyCSS(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,n}}},function(t,e,n){var i=n(1),r=n(231),o={"drag-canvas":n(230),"zoom-canvas":n(229),"drag-node":n(228),"click-select":n(227),tooltip:n(226),"edge-tooltip":n(225),"collapse-expand":n(224),"activate-relations":n(223),"brush-select":n(222),"drag-group":n(221),"drag-node-with-group":n(220),"collapse-expand-group":n(219)};i.each(o,(function(t,e){r.registerBehavior(e,t)})),t.exports=r},function(t,e,n){"use strict";var i=n(5),r=n(23).Graph,o=n(54).slack;function a(t,e){return i.forEach(t.nodes(),(function n(r){i.forEach(e.nodeEdges(r),(function(i){var a=i.v,s=r===a?i.w:a;t.hasNode(s)||o(e,i)||(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return i.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)}))}function u(t,e,n){i.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,i=new r({directed:!1}),c=t.nodes()[0],h=t.nodeCount();for(i.setNode(c,{});a(i,t)<h;)e=s(i,t),n=i.hasNode(e.v)?o(t,e):-o(t,e),u(i,t,n);return i}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var i=n(64),r=n(39);t.exports=function(t,e,n){(void 0===n||r(t[e],n))&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var i=n(84);t.exports=function(t){return null!=t&&t.length?i(t,1):[]}},function(t,e,n){var i=n(288),r=1/0,o=17976931348623157e292;t.exports=function(t){return t?(t=i(t))===r||t===-r?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){i.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],a={};return i.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,o,a,s){i.has(o,n)||(o[n]=!0,r||s.push(n),i.each(a(n),(function(n){t(e,n,r,o,a,s)})),r&&s.push(n))}(t,e,"post"===n,a,r,o)})),o}},function(t,e,n){var i=n(19);function r(t){var e={},n={},r=[];if(i.each(t.sinks(),(function a(s){if(i.has(n,s))throw new o;i.has(e,s)||(n[s]=!0,e[s]=!0,i.each(t.predecessors(s),a),delete n[s],r.push(s))})),i.size(e)!==t.nodeCount())throw new o;return r}function o(){}t.exports=r,r.CycleException=o,o.prototype=new Error},function(t,e,n){var i=n(19);t.exports=function(t){var e=0,n=[],r={},o=[];return t.nodes().forEach((function(a){i.has(r,a)||function a(s){var u=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){i.has(r,t)?r[t].onStack&&(u.lowlink=Math.min(u.lowlink,r[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,r[t].lowlink))})),u.lowlink===u.index){var c,h=[];do{c=n.pop(),r[c].onStack=!1,h.push(c)}while(s!==c);o.push(h)}}(a)})),o}},function(t,e,n){var i=n(19);function r(){this._arr=[],this._keyIndices={}}t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!i.has(n,t)){var r=this._arr,o=r.length;return n[t]=o,r.push({key:t,priority:e}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,i=n+1,r=t;n<e.length&&(r=e[n].priority<e[r].priority?n:r,i<e.length&&(r=e[i].priority<e[r].priority?i:r),r!==t&&(this._swap(t,r),this._heapify(r)))},r.prototype._decrease=function(t){for(var e,n=this._arr,i=n[t].priority;0!==t&&!(n[e=t>>1].priority<i);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,i=this._keyIndices,r=n[t],o=n[e];n[t]=o,n[e]=r,i[o.key]=t,i[r.key]=e}},function(t,e,n){var i=n(19),r=n(127);t.exports=function(t,e,n,i){return function(t,e,n,i){var o,a,s={},u=new r,c=function(t){var e=t.v!==o?t.v:t.w,i=s[e],r=n(t),c=a.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);c<i.distance&&(i.distance=c,i.predecessor=o,u.decrease(e,c))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)}));u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)i(o).forEach(c);return s}(t,String(e),n||o,i||function(e){return t.outEdges(e)})};var o=i.constant(1)},function(t,e,n){var i=n(307),r=n(29);t.exports=function(t){return null==t?[]:i(t,r(t))}},function(t,e,n){var i=n(28),r=n(25);t.exports=function(t){return r(t)&&i(t)}},function(t,e){t.exports=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var i=n(317),r=n(316)(i);t.exports=r},function(t,e,n){var i=n(318),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=r(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),i(t,this,c)}}},function(t,e,n){var i=n(329),r=n(59),o=n(27),a=n(328),s=n(6);t.exports=function(t,e,n){var u=s(t)?i:a,c=arguments.length<3;return u(t,o(e,4),n,c,r)}},function(t,e,n){var i=n(59),r=n(28);t.exports=function(t,e){var n=-1,o=r(t)?Array(t.length):[];return i(t,(function(t,i,r){o[++n]=e(t,i,r)})),o}},function(t,e,n){var i=n(57),r=n(27),o=n(135),a=n(6);t.exports=function(t,e){return(a(t)?i:o)(t,r(e,3))}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var i=n(331),r=n(140);t.exports=function(t,e){return null!=t&&r(t,e,i)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var i=n(58),r=n(47),o=n(6),a=n(63),s=n(96),u=n(45);t.exports=function(t,e,n){for(var c=-1,h=(e=i(e,t)).length,l=!1;++c<h;){var d=u(e[c]);if(!(l=null!=t&&n(t,d)))break;t=t[d]}return l||++c!=h?l:!!(h=null==t?0:t.length)&&s(h)&&a(d,h)&&(o(t)||r(t))}},function(t,e,n){var i=n(334),r=n(140);t.exports=function(t,e){return null!=t&&r(t,e,i)}},function(t,e,n){var i=n(335);t.exports=function(t){return null==t?"":i(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var i=n(18);t.exports=function(t){return t==t&&!i(t)}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var i=n(98),r=n(347),o=n(346);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,t.exports=a},function(t,e,n){var i=n(146),r=n(345),o=n(145),a=1,s=2;t.exports=function(t,e,n,u,c,h){var l=n&a,d=t.length,f=e.length;if(d!=f&&!(l&&f>d))return!1;var p=h.get(t);if(p&&h.get(e))return p==e;var g=-1,v=!0,m=n&s?new i:void 0;for(h.set(t,e),h.set(e,t);++g<d;){var y=t[g],b=e[g];if(u)var x=l?u(b,y,g,e,t,h):u(y,b,g,t,e,h);if(void 0!==x){if(x)continue;v=!1;break}if(m){if(!r(e,(function(t,e){if(!o(m,e)&&(y===t||c(y,t,n,u,h)))return m.push(e)}))){v=!1;break}}else if(y!==b&&!c(y,b,n,u,h)){v=!1;break}}return h.delete(t),h.delete(e),v}},function(t,e,n){var i=n(348),r=n(25);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,a,t,s))}},function(t,e,n){var i=n(162),r=n(351),o=n(27),a=n(6);t.exports=function(t,e){return(a(t)?i:r)(t,o(e,3))}},function(t,e,n){var i=n(30);t.exports=function(t){return"function"==typeof t?t:i}},function(t,e,n){var i=n(97),r=n(59),o=n(150),a=n(6);t.exports=function(t,e){return(a(t)?i:r)(t,o(e))}},function(t,e,n){t.exports=n(151)},function(t,e,n){var i=n(18),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var i=n(153),r=n(60),o=n(61);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(r(t))}},function(t,e,n){var i=n(91);t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var i=n(22).Uint8Array;t.exports=i},function(t,e,n){var i=n(32)(n(22),"Set");t.exports=i},function(t,e,n){var i=n(92),r=n(6);t.exports=function(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}},function(t,e,n){var i=n(158),r=n(93),o=n(29);t.exports=function(t){return i(t,o,r)}},function(t,e,n){var i=n(92),r=n(60),o=n(93),a=n(161),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=r(t);return e}:a;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},function(t,e){t.exports=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},function(t,e,n){(function(t){var i=n(22),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(72)(t))},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var i=n(376),r=n(47),o=n(6),a=n(37),s=n(63),u=n(46),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),h=!n&&r(t),l=!n&&!h&&a(t),d=!n&&!h&&!l&&u(t),f=n||h||l||d,p=f?i(t.length,String):[],g=p.length;for(var v in t)!e&&!c.call(t,v)||f&&("length"==v||l&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(t,e,n){var i=n(32),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(101))},function(t,e,n){var i=n(70),r=n(97),o=n(65),a=n(377),s=n(371),u=n(164),c=n(163),h=n(368),l=n(367),d=n(159),f=n(366),p=n(35),g=n(362),v=n(361),m=n(154),y=n(6),b=n(37),x=n(357),w=n(18),_=n(355),M=n(29),k=1,S=2,E=4,C="[object Arguments]",T="[object Function]",P="[object GeneratorFunction]",A="[object Object]",O={};O[C]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[A]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[T]=O["[object WeakMap]"]=!1,t.exports=function t(e,n,D,N,I,L){var j,B=n&k,R=n&S,z=n&E;if(D&&(j=I?D(e,N,I,L):D(e)),void 0!==j)return j;if(!w(e))return e;var F=y(e);if(F){if(j=g(e),!B)return c(e,j)}else{var Y=p(e),H=Y==T||Y==P;if(b(e))return u(e,B);if(Y==A||Y==C||H&&!I){if(j=R||H?{}:m(e),!B)return R?l(e,s(j,e)):h(e,a(j,e))}else{if(!O[Y])return I?e:{};j=v(e,Y,B)}}L||(L=new i);var W=L.get(e);if(W)return W;L.set(e,j),_(e)?e.forEach((function(i){j.add(t(i,n,D,i,e,L))})):x(e)&&e.forEach((function(i,r){j.set(r,t(i,n,D,r,e,L))}));var G=z?R?f:d:R?keysIn:M,q=F?void 0:G(e);return r(q||e,(function(i,r){q&&(i=e[r=i]),o(j,r,t(i,n,D,r,e,L))})),j}},function(t,e){t.exports={LAYOUT_MESSAGE:{RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"}}},function(module,exports,__webpack_require__){"use strict";(function(global){var numeric=exports;void 0!==global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var n,i,r;for(void 0===e&&(e=15),i=.5,n=new Date;;){for(r=i*=2;r>3;r-=4)t(),t(),t(),t();for(;r>0;)t(),r--;if(new Date-n>e)break}for(r=i;r>3;r-=4)t(),t(),t(),t();for(;r>0;)t(),r--;return 1e3*(3*i-1)/(new Date-n)},numeric._myIndexOf=function(t){var e,n=this.length;for(e=0;e<n;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){var e=[];return function t(n){var i;if(void 0===n)return e.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof n)return e.push('"'+n+'"'),!1;if("boolean"==typeof n)return e.push(n.toString()),!1;if("number"==typeof n){var r=function t(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+t(-e);if(isFinite(e)){var n=Math.floor(Math.log(e)/Math.log(10)),i=e/Math.pow(10,n),r=i.toPrecision(numeric.precision);return 10===parseFloat(r)&&(n++,r=(i=1).toPrecision(numeric.precision)),parseFloat(r).toString()+"e"+n.toString()}return"Infinity"}(n),o=n.toPrecision(numeric.precision),a=parseFloat(n.toString()).toString(),s=[r,o,a,parseFloat(o).toString(),parseFloat(a).toString()];for(i=1;i<s.length;i++)s[i].length<r.length&&(r=s[i]);return e.push(Array(numeric.precision+8-r.length).join(" ")+r),!1}if(null===n)return e.push("null"),!1;if("function"==typeof n){e.push(n.toString());var u=!1;for(i in n)n.hasOwnProperty(i)&&(u?e.push(",\n"):e.push("\n{"),u=!0,e.push(i),e.push(": \n"),t(n[i]));return u&&e.push("}\n"),!0}if(n instanceof Array){if(n.length>numeric.largeArray)return e.push("...Large Array..."),!0;for(u=!1,e.push("["),i=0;i<n.length;i++)i>0&&(e.push(","),u&&e.push("\n ")),u=t(n[i]);return e.push("]"),!0}for(i in e.push("{"),u=!1,n)n.hasOwnProperty(i)&&(u&&e.push(",\n"),u=!0,e.push(i),e.push(": \n"),t(n[i]));return e.push("}"),!0}(t),e.join("")},numeric.parseDate=function(t){return function t(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(!(e instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,i=[];for(n=0;n<e.length;n++)i[n]=t(e[n]);return i}(t)},numeric.parseFloat=function(t){return function t(e){if("string"==typeof e)return parseFloat(e);if(!(e instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,i=[];for(n=0;n<e.length;n++)i[n]=t(e[n]);return i}(t)},numeric.parseCSV=function(t){var e,n,i=t.split("\n"),r=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(t){return t.substr(0,t.length-1)},u=0;for(n=0;n<i.length;n++){var c,h=(i[n]+",").match(o);if(h.length>0){for(r[u]=[],e=0;e<h.length;e++)c=s(h[e]),a.test(c)?r[u][e]=parseFloat(c):r[u][e]=c;u++}}return r},numeric.toCSV=function(t){var e,n,i,r,o,a=numeric.dim(t);for(i=a[0],a[1],o=[],e=0;e<i;e++){for(r=[],n=0;n<i;n++)r[n]=t[e][n].toString();o[e]=r.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var i,r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;for(t.length,i=e;i<n;i++)o=o>>>8^r[255&(o^t[i])];return-1^o}var n,i,r,o,a,s,u,c,h,l,d=t[0].length,f=t[0][0].length,p=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,f>>24&255,f>>16&255,f>>8&255,255&f,d>>24&255,d>>16&255,d>>8&255,255&d,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=e(p,12,29),p[29]=l>>24&255,p[30]=l>>16&255,p[31]=l>>8&255,p[32]=255&l,n=1,i=0,u=0;u<d;u++){for(u<d-1?p.push(0):p.push(1),a=3*f+1+(0===u)&255,s=3*f+1+(0===u)>>8&255,p.push(a),p.push(s),p.push(255&~a),p.push(255&~s),0===u&&p.push(0),c=0;c<f;c++)for(r=0;r<3;r++)i=(i+(n=(n+(a=(a=t[r][u][c])>255?255:a<0?0:Math.round(a)))%65521))%65521,p.push(a);p.push(0)}return h=(i<<16)+n,p.push(h>>24&255),p.push(h>>16&255),p.push(h>>8&255),p.push(255&h),o=p.length-41,p[33]=o>>24&255,p[34]=o>>16&255,p[35]=o>>8&255,p[36]=255&o,l=e(p,37),p.push(l>>24&255),p.push(l>>16&255),p.push(l>>8&255),p.push(255&l),p.push(0),p.push(0),p.push(0),p.push(0),p.push(73),p.push(69),p.push(78),p.push(68),p.push(174),p.push(66),p.push(96),p.push(130),"data:image/png;base64,"+function(t){var e,n,i,r,o,a,s,u=t.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="";for(e=0;e<u;e+=3)o=((3&(n=t[e]))<<4)+((i=t[e+1])>>4),a=((15&i)<<2)+((r=t[e+2])>>6),s=63&r,e+1>=u?a=s=64:e+2>=u&&(s=64),h+=c.charAt(n>>2)+c.charAt(o)+c.charAt(a)+c.charAt(s);return h}(p)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?numeric._dim(t):[t.length,e.length]:[t.length]:[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,n){var i,r;if(!(e instanceof Array&&n instanceof Array))return!1;if((r=e.length)!==n.length)return!1;for(i=0;i<r;i++)if(e[i]!==n[i]){if("object"!=typeof e[i])return!1;if(!t(e[i],n[i]))return!1}return!0},numeric.rep=function(t,e,n){void 0===n&&(n=0);var i,r=t[n],o=Array(r);if(n===t.length-1){for(i=r-2;i>=0;i-=2)o[i+1]=e,o[i]=e;return-1===i&&(o[0]=e),o}for(i=r-1;i>=0;i--)o[i]=numeric.rep(t,e,n+1);return o},numeric.dotMMsmall=function(t,e){var n,i,r,o,a,s,u,c,h,l,d;for(o=t.length,a=e.length,s=e[0].length,u=Array(o),n=o-1;n>=0;n--){for(c=Array(s),h=t[n],r=s-1;r>=0;r--){for(l=h[a-1]*e[a-1][r],i=a-2;i>=1;i-=2)d=i-1,l+=h[i]*e[i][r]+h[d]*e[d][r];0===i&&(l+=h[0]*e[0][r]),c[r]=l}u[n]=c}return u},numeric._getCol=function(t,e,n){var i;for(i=t.length-1;i>0;--i)n[i]=t[i][e],n[--i]=t[i][e];0===i&&(n[0]=t[0][e])},numeric.dotMMbig=function(t,e){var n,i,r,o=numeric._getCol,a=e.length,s=Array(a),u=t.length,c=e[0].length,h=new Array(u),l=numeric.dotVV;for(--a,i=--u;-1!==i;--i)h[i]=Array(c);for(i=--c;-1!==i;--i)for(o(e,i,s),r=u;-1!==r;--r)n=t[r],h[r][i]=l(n,s);return h},numeric.dotMV=function(t,e){var n,i=t.length,r=(e.length,Array(i)),o=numeric.dotVV;for(n=i-1;n>=0;n--)r[n]=o(t[n],e);return r},numeric.dotVM=function(t,e){var n,i,r,o,a,s,u;for(r=t.length,o=e[0].length,a=Array(o),i=o-1;i>=0;i--){for(s=t[r-1]*e[r-1][i],n=r-2;n>=1;n-=2)u=n-1,s+=t[n]*e[n][i]+t[u]*e[u][i];0===n&&(s+=t[0]*e[0][i]),a[i]=s}return a},numeric.dotVV=function(t,e){var n,i,r=t.length,o=t[r-1]*e[r-1];for(n=r-2;n>=1;n-=2)i=n-1,o+=t[n]*e[n]+t[i]*e[i];return 0===n&&(o+=t[0]*e[0]),o},numeric.dot=function(t,e){var n=numeric.dim;switch(1e3*n(t).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,n,i,r,o=t.length,a=Array(o);for(e=o-1;e>=0;e--){for(r=Array(o),n=e+2,i=o-1;i>=n;i-=2)r[i]=0,r[i-1]=0;for(i>e&&(r[i]=0),r[e]=t[e],i=e-1;i>=1;i-=2)r[i]=0,r[i-1]=0;0===i&&(r[0]=0),a[e]=r}return a},numeric.getDiag=function(t){var e,n=Math.min(t.length,t[0].length),i=Array(n);for(e=n-1;e>=1;--e)i[e]=t[e][e],i[--e]=t[e][e];return 0===e&&(i[0]=t[0][0]),i},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,n){void 0===n&&(n="");var i,r,o=[],a=/\[i\]$/,s="",u=!1;for(i=0;i<t.length;i++)a.test(t[i])?s=r=t[i].substring(0,t[i].length-3):r=t[i],"ret"===r&&(u=!0),o.push(r);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,e,n){void 0===n&&(n="");var i,r,o=[],a=/\[i\]$/,s="",u=!1;for(i=0;i<t.length;i++)a.test(t[i])?s=r=t[i].substring(0,t[i].length-3):r=t[i],"ret"===r&&(u=!0),o.push(r);return o[t.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function t(e,n,i,r,o){var a;if(r!==i.length-1)for(a=i[r]-1;a>=0;a--)t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,i,r+1,o);else o(e,n)},numeric._biforeach2=function t(e,n,i,r,o){if(r===i.length-1)return o(e,n);var a,s=i[r],u=Array(s);for(a=s-1;a>=0;--a)u[a]=t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,i,r+1,o);return u},numeric._foreach=function t(e,n,i,r){var o;if(i!==n.length-1)for(o=n[i]-1;o>=0;o--)t(e[o],n,i+1,r);else r(e)},numeric._foreach2=function t(e,n,i,r){if(i===n.length-1)return r(e);var o,a=n[i],s=Array(a);for(o=a-1;o>=0;o--)s[o]=t(e[o],n,i+1,r);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var n,i,r="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(r="var "+e+" = Math."+e+";\n",n=function(t,n,i){return t+" = "+e+"("+n+","+i+")"},i=function(t,n){return t+" = "+e+"("+t+","+n+")"}):(n=function(t,n,i){return t+" = "+n+" "+e+" "+i},i=numeric.opseq.hasOwnProperty(t+"eq")?function(t,n){return t+" "+e+"= "+n}:function(t,n){return t+" = "+t+" "+e+" "+n}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),r),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),r),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),r),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+i("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),r),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],i("ret[i]","x"),r),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(r="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(r="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",r),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",r),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,n,i,r,o,a,s,u=numeric.dim(t),c=Math.abs,h=u[0],l=u[1],d=numeric.clone(t),f=numeric.identity(h);for(a=0;a<l;++a){var p=-1,g=-1;for(o=a;o!==h;++o)(s=c(d[o][a]))>g&&(p=o,g=s);for(n=d[p],d[p]=d[a],d[a]=n,r=f[p],f[p]=f[a],f[a]=r,t=n[a],s=a;s!==l;++s)n[s]/=t;for(s=l-1;-1!==s;--s)r[s]/=t;for(o=h-1;-1!==o;--o)if(o!==a){for(e=d[o],i=f[o],t=e[a],s=a+1;s!==l;++s)e[s]-=n[s]*t;for(s=l-1;s>0;--s)i[s]-=r[s]*t,i[--s]-=r[s]*t;0===s&&(i[0]-=r[0]*t)}}return f},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,i,r,o,a,s,u,c,h=e[0],l=1,d=numeric.clone(t);for(i=0;i<h-1;i++){for(r=i,n=i+1;n<h;n++)Math.abs(d[n][i])>Math.abs(d[r][i])&&(r=n);for(r!==i&&(u=d[r],d[r]=d[i],d[i]=u,l*=-1),o=d[i],n=i+1;n<h;n++){for(s=(a=d[n])[i]/o[i],r=i+1;r<h-1;r+=2)c=r+1,a[r]-=o[r]*s,a[c]-=o[c]*s;r!==h&&(a[r]-=o[r]*s)}if(0===o[i])return 0;l*=o[i]}return l*d[i][i]},numeric.transpose=function(t){var e,n,i,r,o,a=t.length,s=t[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(e=a-1;e>=1;e-=2){for(r=t[e],i=t[e-1],n=s-1;n>=1;--n)(o=u[n])[e]=r[n],o[e-1]=i[n],(o=u[--n])[e]=r[n],o[e-1]=i[n];0===n&&((o=u[0])[e]=r[0],o[e-1]=i[0])}if(0===e){for(i=t[0],n=s-1;n>=1;--n)u[n][0]=i[n],u[--n][0]=i[n];0===n&&(u[0][0]=i[0])}return u},numeric.negtranspose=function(t){var e,n,i,r,o,a=t.length,s=t[0].length,u=Array(s);for(n=0;n<s;n++)u[n]=Array(a);for(e=a-1;e>=1;e-=2){for(r=t[e],i=t[e-1],n=s-1;n>=1;--n)(o=u[n])[e]=-r[n],o[e-1]=-i[n],(o=u[--n])[e]=-r[n],o[e-1]=-i[n];0===n&&((o=u[0])[e]=-r[0],o[e-1]=-i[0])}if(0===e){for(i=t[0],n=s-1;n>=1;--n)u[n][0]=-i[n],u[--n][0]=-i[n];0===n&&(u[0][0]=-i[0])}return u},numeric._random=function t(e,n){var i,r,o=e[n],a=Array(o);if(n===e.length-1){for(r=Math.random,i=o-1;i>=1;i-=2)a[i]=r(),a[i-1]=r();return 0===i&&(a[0]=r()),a}for(i=o-1;i>=0;i--)a[i]=t(e,n+1);return a},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,n){if(void 0===n&&(n=Math.max(Math.round(e-t)+1,1)),n<2)return 1===n?[t]:[];var i,r=Array(n);for(i=--n;i>=0;i--)r[i]=(i*e+(n-i)*t)/n;return r},numeric.getBlock=function(t,e,n){var i=numeric.dim(t);return function t(r,o){var a,s=e[o],u=n[o]-s,c=Array(u);if(o===i.length-1){for(a=u;a>=0;a--)c[a]=r[a+s];return c}for(a=u;a>=0;a--)c[a]=t(r[a+s],o+1);return c}(t,0)},numeric.setBlock=function(t,e,n,i){var r=numeric.dim(t);return function t(i,o,a){var s,u=e[a],c=n[a]-u;if(a===r.length-1)for(s=c;s>=0;s--)i[s+u]=o[s];for(s=c;s>=0;s--)t(i[s+u],o[s],a+1)}(t,i,0),t},numeric.getRange=function(t,e,n){var i,r,o,a,s=e.length,u=n.length,c=Array(s);for(i=s-1;-1!==i;--i)for(c[i]=Array(u),o=c[i],a=t[e[i]],r=u-1;-1!==r;--r)o[r]=a[n[r]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var n,i,r,o,a,s=e[0],u=e[1];for(n=0,i=0,r=0;r<s;++r)n+=t[r][0].length;for(o=0;o<u;++o)i+=t[0][o][0].length;var c=Array(n);for(r=0;r<n;++r)c[r]=Array(i);var h,l,d,f,p,g=0;for(r=0;r<s;++r){for(h=i,o=u-1;-1!==o;--o)for(h-=(a=t[r][o])[0].length,d=a.length-1;-1!==d;--d)for(p=a[d],l=c[g+d],f=p.length-1;-1!==f;--f)l[h+f]=p[f];g+=t[r][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var n=numeric.dim(t),i=numeric.dim(e);if(1!==n.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var r,o,a,s,u=n[0],c=i[0],h=Array(u);for(o=u-1;o>=0;o--){for(r=Array(c),s=t[o],a=c-1;a>=3;--a)r[a]=s*e[a],r[--a]=s*e[a],r[--a]=s*e[a],r[--a]=s*e[a];for(;a>=0;)r[a]=s*e[a],--a;h[o]=r}return h},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,n,i,r){var o;if(numeric.indexOf,"string"!=typeof r)for(o in r="",numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||e.indexOf(o)>=0||n.indexOf(o)>=0||i.indexOf(o)>=0)&&o.length>1&&(r+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+r+"\nif(x.y) {  if(y.y) {    return new numeric.T("+i+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),t(n)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),numeric.negtranspose(n)):new numeric.T(t(e))},numeric.Tunop=function(t,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(void 0===t.y)return new numeric.T(numeric.inv(t.x));var e,n,i,r,o,a,s,u,c,h,l,d,f,p,g,v,m,y,b=t.x.length,x=numeric.identity(b),w=numeric.rep([b,b],0),_=numeric.clone(t.x),M=numeric.clone(t.y);for(c=0;c<b;c++){for(d=(p=_[c][c])*p+(g=M[c][c])*g,l=c,h=c+1;h<b;h++)(f=(p=_[h][c])*p+(g=M[h][c])*g)>d&&(l=h,d=f);for(l!==c&&(y=_[c],_[c]=_[l],_[l]=y,y=M[c],M[c]=M[l],M[l]=y,y=x[c],x[c]=x[l],x[l]=y,y=w[c],w[c]=w[l],w[l]=y),e=_[c],n=M[c],o=x[c],a=w[c],p=e[c],g=n[c],h=c+1;h<b;h++)v=e[h],m=n[h],e[h]=(v*p+m*g)/d,n[h]=(m*p-v*g)/d;for(h=0;h<b;h++)v=o[h],m=a[h],o[h]=(v*p+m*g)/d,a[h]=(m*p-v*g)/d;for(h=c+1;h<b;h++){for(i=_[h],r=M[h],s=x[h],u=w[h],p=i[c],g=r[c],l=c+1;l<b;l++)v=e[l],m=n[l],i[l]-=v*p-m*g,r[l]-=m*p+v*g;for(l=0;l<b;l++)v=o[l],m=a[l],s[l]-=v*p-m*g,u[l]-=m*p+v*g}}for(c=b-1;c>0;c--)for(o=x[c],a=w[c],h=c-1;h>=0;h--)for(s=x[h],u=w[h],p=_[h][c],g=M[h][c],l=b-1;l>=0;l--)v=o[l],m=a[l],s[l]-=p*v-g*m,u[l]-=p*m+g*v;return new numeric.T(x,w)},numeric.T.prototype.get=function(t){var e,n=this.x,i=this.y,r=0,o=t.length;if(i){for(;r<o;)n=n[e=t[r]],i=i[e],r++;return new numeric.T(n,i)}for(;r<o;)n=n[e=t[r]],r++;return new numeric.T(n)},numeric.T.prototype.set=function(t,e){var n,i=this.x,r=this.y,o=0,a=t.length,s=e.x,u=e.y;if(0===a)return u?this.y=u:r&&(this.y=void 0),this.x=i,this;if(u){for(r||(r=numeric.rep(numeric.dim(i),0),this.y=r);o<a-1;)i=i[n=t[o]],r=r[n],o++;return i[n=t[o]]=s,r[n]=u,this}if(r){for(;o<a-1;)i=i[n=t[o]],r=r[n],o++;return i[n=t[o]]=s,r[n]=s instanceof Array?numeric.rep(numeric.dim(s),0):0,this}for(;o<a-1;)i=i[n=t[o]],o++;return i[n=t[o]]=s,this},numeric.T.prototype.getRows=function(t,e){var n,i,r=e-t+1,o=Array(r),a=this.x,s=this.y;for(n=t;n<=e;n++)o[n-t]=a[n];if(s){for(i=Array(r),n=t;n<=e;n++)i[n-t]=s[n];return new numeric.T(o,i)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,e,n){var i,r=this.x,o=this.y,a=n.x,s=n.y;for(i=t;i<=e;i++)r[i]=a[i-t];if(s)for(o||(o=numeric.rep(numeric.dim(r),0),this.y=o),i=t;i<=e;i++)o[i]=s[i-t];else if(o)for(i=t;i<=e;i++)o[i]=numeric.rep([a[i-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,n=this.y;return n?new numeric.T(e[t],n[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var n=this.x,i=this.y,r=e.x,o=e.y;return n[t]=r,o?(i||(i=numeric.rep(numeric.dim(n),0),this.y=i),i[t]=o):i&&(i=numeric.rep([r.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var n=this.x,i=this.y,r=numeric.getBlock;return i?new numeric.T(r(n,t,e),r(i,t,e)):new numeric.T(r(n,t,e))},numeric.T.prototype.setBlock=function(t,e,n){n instanceof numeric.T||(n=new numeric.T(n));var i=this.x,r=this.y,o=numeric.setBlock,a=n.x,s=n.y;if(s)return r||(this.y=numeric.rep(numeric.dim(this),0),r=this.y),o(i,t,e,a),o(r,t,e,s),this;o(i,t,e,a),r&&o(r,t,e,numeric.rep(numeric.dim(a),0))},numeric.T.rep=function(t,e){var n=numeric.T;e instanceof n||(e=new n(e));var i=e.x,r=e.y,o=numeric.rep;return r?new n(o(t,i),o(t,r)):new n(o(t,i))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,n=t.y,i=numeric.diag;return n?new numeric.T(i(e),i(n)):new numeric.T(i(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,n=this.y;return n?new t.T(t.getDiag(e),t.getDiag(n)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),n=(t[0]>=0?1:-1)*numeric.norm2(t);e[0]+=n;var i=numeric.norm2(e);if(0===i)throw new Error("eig: internal error");return numeric.div(e,i)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,i,r,o,a,s,u,c,h,l,d=e[0],f=numeric.clone(t),p=numeric.identity(d);for(i=0;i<d-2;i++){for(o=Array(d-i-1),n=i+1;n<d;n++)o[n-i-1]=f[n][i];if(numeric.norm2(o)>0){for(a=numeric.house(o),s=numeric.getBlock(f,[i+1,i],[d-1,d-1]),u=numeric.tensor(a,numeric.dot(a,s)),n=i+1;n<d;n++)for(c=f[n],h=u[n-i-1],r=i;r<d;r++)c[r]-=2*h[r-i];for(s=numeric.getBlock(f,[0,i+1],[d-1,d-1]),u=numeric.tensor(numeric.dot(s,a),a),n=0;n<d;n++)for(c=f[n],h=u[n],r=i+1;r<d;r++)c[r]-=2*h[r-i-1];for(s=Array(d-i-1),n=i+1;n<d;n++)s[n-i-1]=p[n];for(u=numeric.tensor(a,numeric.dot(a,s)),n=i+1;n<d;n++)for(l=p[n],h=u[n-i-1],r=0;r<d;r++)l[r]-=2*h[r]}}return{H:f,Q:p}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(t,e){void 0===e&&(e=1e4),t=numeric.clone(t),numeric.clone(t);var n,i,r,o,a,s,u,c,h,l,d,f,p,g,v,m,y,b,x=numeric.dim(t)[0],w=numeric.identity(x);if(x<3)return{Q:w,B:[[0,x-1]]};var _=numeric.epsilon;for(b=0;b<e;b++){for(m=0;m<x-1;m++)if(Math.abs(t[m+1][m])<_*(Math.abs(t[m][m])+Math.abs(t[m+1][m+1]))){var M=numeric.QRFrancis(numeric.getBlock(t,[0,0],[m,m]),e),k=numeric.QRFrancis(numeric.getBlock(t,[m+1,m+1],[x-1,x-1]),e);for(f=Array(m+1),v=0;v<=m;v++)f[v]=w[v];for(p=numeric.dot(M.Q,f),v=0;v<=m;v++)w[v]=p[v];for(f=Array(x-m-1),v=m+1;v<x;v++)f[v-m-1]=w[v];for(p=numeric.dot(k.Q,f),v=m+1;v<x;v++)w[v]=p[v-m-1];return{Q:w,B:M.B.concat(numeric.add(k.B,m+1))}}var S,E,C;for(r=t[x-2][x-2],o=t[x-2][x-1],a=t[x-1][x-2],c=r+(s=t[x-1][x-1]),u=r*s-o*a,h=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*u?(S=.5*(c+Math.sqrt(c*c-4*u)),E=.5*(c-Math.sqrt(c*c-4*u)),h=numeric.add(numeric.sub(numeric.dot(h,h),numeric.mul(h,S+E)),numeric.diag(numeric.rep([3],S*E)))):h=numeric.add(numeric.sub(numeric.dot(h,h),numeric.mul(h,c)),numeric.diag(numeric.rep([3],u))),n=[h[0][0],h[1][0],h[2][0]],i=numeric.house(n),f=[t[0],t[1],t[2]],p=numeric.tensor(i,numeric.dot(i,f)),v=0;v<3;v++)for(d=t[v],g=p[v],y=0;y<x;y++)d[y]-=2*g[y];for(f=numeric.getBlock(t,[0,0],[x-1,2]),p=numeric.tensor(numeric.dot(f,i),i),v=0;v<x;v++)for(d=t[v],g=p[v],y=0;y<3;y++)d[y]-=2*g[y];for(f=[w[0],w[1],w[2]],p=numeric.tensor(i,numeric.dot(i,f)),v=0;v<3;v++)for(l=w[v],g=p[v],y=0;y<x;y++)l[y]-=2*g[y];for(m=0;m<x-2;m++){for(y=m;y<=m+1;y++)if(Math.abs(t[y+1][y])<_*(Math.abs(t[y][y])+Math.abs(t[y+1][y+1]))){for(M=numeric.QRFrancis(numeric.getBlock(t,[0,0],[y,y]),e),k=numeric.QRFrancis(numeric.getBlock(t,[y+1,y+1],[x-1,x-1]),e),f=Array(y+1),v=0;v<=y;v++)f[v]=w[v];for(p=numeric.dot(M.Q,f),v=0;v<=y;v++)w[v]=p[v];for(f=Array(x-y-1),v=y+1;v<x;v++)f[v-y-1]=w[v];for(p=numeric.dot(k.Q,f),v=y+1;v<x;v++)w[v]=p[v-y-1];return{Q:w,B:M.B.concat(numeric.add(k.B,y+1))}}for(C=Math.min(x-1,m+3),n=Array(C-m),v=m+1;v<=C;v++)n[v-m-1]=t[v][m];for(i=numeric.house(n),f=numeric.getBlock(t,[m+1,m],[C,x-1]),p=numeric.tensor(i,numeric.dot(i,f)),v=m+1;v<=C;v++)for(d=t[v],g=p[v-m-1],y=m;y<x;y++)d[y]-=2*g[y-m];for(f=numeric.getBlock(t,[0,m+1],[x-1,C]),p=numeric.tensor(numeric.dot(f,i),i),v=0;v<x;v++)for(d=t[v],g=p[v],y=m+1;y<=C;y++)d[y]-=2*g[y-m-1];for(f=Array(C-m),v=m+1;v<=C;v++)f[v-m-1]=w[v];for(p=numeric.tensor(i,numeric.dot(i,f)),v=m+1;v<=C;v++)for(l=w[v],g=p[v-m-1],y=0;y<x;y++)l[y]-=2*g[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var n,i,r,o,a,s,u,c,h,l,d,f,p,g,v,m,y=numeric.toUpperHessenberg(t),b=numeric.QRFrancis(y.H,e),x=numeric.T,w=t.length,_=b.B,M=numeric.dot(b.Q,numeric.dot(y.H,numeric.transpose(b.Q))),k=new x(numeric.dot(b.Q,y.Q)),S=_.length,E=Math.sqrt;for(i=0;i<S;i++)if((n=_[i][0])===_[i][1]);else{if(o=n+1,a=M[n][n],s=M[n][o],u=M[o][n],c=M[o][o],0===s&&0===u)continue;(l=(h=-a-c)*h-4*(a*c-s*u))>=0?((v=(a-(d=h<0?-.5*(h-E(l)):-.5*(h+E(l))))*(a-d)+s*s)>(m=u*u+(c-d)*(c-d))?(p=(a-d)/(v=E(v)),g=s/v):(p=u/(m=E(m)),g=(c-d)/m),r=new x([[g,-p],[p,g]]),k.setRows(n,o,r.dot(k.getRows(n,o)))):(d=-.5*h,f=.5*E(-l),(v=(a-d)*(a-d)+s*s)>(m=u*u+(c-d)*(c-d))?(p=(a-d)/(v=E(v+f*f)),g=s/v,d=0,f/=v):(p=u/(m=E(m+f*f)),g=(c-d)/m,d=f/m,f=0),r=new x([[g,-p],[p,g]],[[d,f],[f,-d]]),k.setRows(n,o,r.dot(k.getRows(n,o))))}var C=k.dot(t).dot(k.transjugate()),T=(w=t.length,numeric.T.identity(w));for(o=0;o<w;o++)if(o>0)for(i=o-1;i>=0;i--){var P=C.get([i,i]),A=C.get([o,o]);numeric.neq(P.x,A.x)||numeric.neq(P.y,A.y)?(d=C.getRow(i).getBlock([i],[o-1]),f=T.getRow(o).getBlock([i],[o-1]),T.set([o,i],C.get([i,o]).neg().sub(d.dot(f)).div(P.sub(A)))):T.setRow(o,T.getRow(i))}for(o=0;o<w;o++)d=T.getRow(o),T.setRow(o,d.div(d.norm2()));return T=T.transpose(),T=k.transjugate().dot(T),{lambda:C.getDiag(),E:T}},numeric.ccsSparse=function(t){var e,n,i,r=t.length,o=[];for(n=r-1;-1!==n;--n)for(i in e=t[n]){for(i=parseInt(i);i>=o.length;)o[o.length]=0;0!==e[i]&&o[i]++}var a=o.length,s=Array(a+1);for(s[0]=0,n=0;n<a;++n)s[n+1]=s[n]+o[n];var u=Array(s[a]),c=Array(s[a]);for(n=r-1;-1!==n;--n)for(i in e=t[n])0!==e[i]&&(o[i]--,u[s[i]+o[i]]=n,c[s[i]+o[i]]=e[i]);return[s,u,c]},numeric.ccsFull=function(t){var e,n,i,r,o=t[0],a=t[1],s=t[2],u=numeric.ccsDim(t),c=u[0],h=u[1],l=numeric.rep([c,h],0);for(e=0;e<h;e++)for(i=o[e],r=o[e+1],n=i;n<r;++n)l[a[n]][e]=s[n];return l},numeric.ccsTSolve=function(t,e,n,i,r){var o,a,s,u,c,h,l,d=t[0],f=t[1],p=t[2],g=d.length-1,v=Math.max,m=0;function y(t){var e;if(0===n[t]){for(n[t]=1,e=d[t];e<d[t+1];++e)y(f[e]);r[m]=t,++m}}for(void 0===i&&(n=numeric.rep([g],0)),void 0===i&&(i=numeric.linspace(0,n.length-1)),void 0===r&&(r=[]),o=i.length-1;-1!==o;--o)y(i[o]);for(r.length=m,o=r.length-1;-1!==o;--o)n[r[o]]=0;for(o=i.length-1;-1!==o;--o)a=i[o],n[a]=e[a];for(o=r.length-1;-1!==o;--o){for(a=r[o],s=d[a],u=v(d[a+1],s),c=s;c!==u;++c)if(f[c]===a){n[a]/=p[c];break}for(l=n[a],c=s;c!==u;++c)(h=f[c])!==a&&(n[h]-=l*p[c])}return n},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,n,i,r,o){var a,s,u,c=0,h=r.length,l=this.k,d=this.k1,f=this.j;if(0===i[t])for(i[t]=1,f[0]=t,l[0]=s=e[t],d[0]=u=e[t+1];;)if(s>=u){if(r[h]=f[c],0===c)return;++h,s=l[--c],u=d[c]}else 0===i[a=o[n[s]]]?(i[a]=1,l[c]=s,f[++c]=a,s=e[a],d[c]=u=e[a+1]):++s},numeric.ccsLPSolve=function(t,e,n,i,r,o,a){var s,u,c,h,l,d,f,p,g,v=t[0],m=t[1],y=t[2],b=(v.length,e[0]),x=e[1],w=e[2];for(u=b[r],c=b[r+1],i.length=0,s=u;s<c;++s)a.dfs(o[x[s]],v,m,n,i,o);for(s=i.length-1;-1!==s;--s)n[i[s]]=0;for(s=u;s!==c;++s)n[h=o[x[s]]]=w[s];for(s=i.length-1;-1!==s;--s){for(l=v[h=i[s]],d=v[h+1],f=l;f<d;++f)if(o[m[f]]===h){n[h]/=y[f];break}for(g=n[h],f=l;f<d;++f)(p=o[m[f]])!==h&&(n[p]-=g*y[f])}return n},numeric.ccsLUP1=function(t,e){var n,i,r,o,a,s,u,c=t[0].length-1,h=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],d=h[0],f=h[1],p=h[2],g=l[0],v=l[1],m=l[2],y=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve,w=(Math.max,Math.abs),_=numeric.linspace(0,c-1),M=numeric.linspace(0,c-1),k=new numeric.ccsDFS(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(x(h,t,y,b,n,M,k),o=-1,a=-1,i=b.length-1;-1!==i;--i)(r=b[i])<=n||(s=w(y[r]))>o&&(a=r,o=s);for(w(y[n])<e*o&&(i=_[n],o=_[a],_[n]=o,M[o]=n,_[a]=i,M[i]=a,o=y[n],y[n]=y[a],y[a]=o),o=d[n],a=g[n],u=y[n],f[o]=_[n],p[o]=1,++o,i=b.length-1;-1!==i;--i)s=y[r=b[i]],b[i]=0,y[r]=0,r<=n?(v[a]=r,m[a]=s,++a):(f[o]=_[r],p[o]=s/u,++o);d[n+1]=o,g[n+1]=a}for(i=f.length-1;-1!==i;--i)f[i]=M[f[i]];return{L:h,U:l,P:_,Pinv:M}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,n,i,r,o,a){var s,u,c,h=0,l=r.length,d=this.k,f=this.k1,p=this.j;if(0===i[t])for(i[t]=1,p[0]=t,d[0]=u=e[o[t]],f[0]=c=e[o[t]+1];;){if(isNaN(u))throw new Error("Ow!");if(u>=c){if(r[l]=o[p[h]],0===h)return;++l,u=d[--h],c=f[h]}else 0===i[s=n[u]]?(i[s]=1,d[h]=u,p[++h]=s,u=e[s=o[s]],f[h]=c=e[s+1]):++u}},numeric.ccsLPSolve0=function(t,e,n,i,r,o,a,s){var u,c,h,l,d,f,p,g,v,m=t[0],y=t[1],b=t[2],x=(m.length,e[0]),w=e[1],_=e[2];for(c=x[r],h=x[r+1],i.length=0,u=c;u<h;++u)s.dfs(w[u],m,y,n,i,o,a);for(u=i.length-1;-1!==u;--u)n[a[l=i[u]]]=0;for(u=c;u!==h;++u)n[l=w[u]]=_[u];for(u=i.length-1;-1!==u;--u){for(g=a[l=i[u]],d=m[l],f=m[l+1],p=d;p<f;++p)if(y[p]===g){n[g]/=b[p];break}for(v=n[g],p=d;p<f;++p)n[y[p]]-=v*b[p];n[g]=v}},numeric.ccsLUP0=function(t,e){var n,i,r,o,a,s,u,c=t[0].length-1,h=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],d=h[0],f=h[1],p=h[2],g=l[0],v=l[1],m=l[2],y=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve0,w=(Math.max,Math.abs),_=numeric.linspace(0,c-1),M=numeric.linspace(0,c-1),k=new numeric.ccsDFS0(c);for(void 0===e&&(e=1),n=0;n<c;++n){for(x(h,t,y,b,n,M,_,k),o=-1,a=-1,i=b.length-1;-1!==i;--i)(r=b[i])<=n||(s=w(y[_[r]]))>o&&(a=r,o=s);for(w(y[_[n]])<e*o&&(i=_[n],o=_[a],_[n]=o,M[o]=n,_[a]=i,M[i]=a),o=d[n],a=g[n],u=y[_[n]],f[o]=_[n],p[o]=1,++o,i=b.length-1;-1!==i;--i)s=y[_[r=b[i]]],b[i]=0,y[_[r]]=0,r<=n?(v[a]=r,m[a]=s,++a):(f[o]=_[r],p[o]=s/u,++o);d[n+1]=o,g[n+1]=a}for(i=f.length-1;-1!==i;--i)f[i]=M[f[i]];return{L:h,U:l,P:_,Pinv:M}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,n){var i=numeric.ccsDim(t),r=i[0],o=i[1];void 0===e?e=numeric.linspace(0,r-1):"number"==typeof e&&(e=[e]),void 0===n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var a,s,u,c,h=e.length,l=n.length,d=numeric.rep([o],0),f=[],p=[],g=[d,f,p],v=t[0],m=t[1],y=t[2],b=numeric.rep([r],0),x=0,w=numeric.rep([r],0);for(s=0;s<l;++s){var _=v[c=n[s]],M=v[c+1];for(a=_;a<M;++a)w[u=m[a]]=1,b[u]=y[a];for(a=0;a<h;++a)w[e[a]]&&(f[x]=a,p[x]=b[e[a]],++x);for(a=_;a<M;++a)w[u=m[a]]=0;d[s+1]=x}return g},numeric.ccsDot=function(t,e){var n,i,r,o,a,s,u,c,h,l,d,f=t[0],p=t[1],g=t[2],v=e[0],m=e[1],y=e[2],b=numeric.ccsDim(t),x=numeric.ccsDim(e),w=b[0],_=(b[1],x[1]),M=numeric.rep([w],0),k=numeric.rep([w],0),S=Array(w),E=numeric.rep([_],0),C=[],T=[],P=[E,C,T];for(r=0;r!==_;++r){for(o=v[r],a=v[r+1],h=0,i=o;i<a;++i)for(l=m[i],d=y[i],s=f[l],u=f[l+1],n=s;n<u;++n)0===k[c=p[n]]&&(S[h]=c,k[c]=1,h+=1),M[c]=M[c]+g[n]*d;for(a=(o=E[r])+h,E[r+1]=a,i=h-1;-1!==i;--i)d=o+i,n=S[i],C[d]=n,T[d]=M[n],k[n]=0,M[n]=0;E[r+1]=E[r]+h}return P},numeric.ccsLUPSolve=function(t,e){var n=t.L,i=t.U,r=(t.P,e[0]),o=!1;"object"!=typeof r&&(r=(e=[[0,e.length],numeric.linspace(0,e.length-1),e])[0],o=!0);var a,s,u,c,h,l,d=e[1],f=e[2],p=n[0].length-1,g=r.length-1,v=numeric.rep([p],0),m=Array(p),y=numeric.rep([p],0),b=Array(p),x=numeric.rep([g+1],0),w=[],_=[],M=numeric.ccsTSolve,k=0;for(a=0;a<g;++a){for(h=0,u=r[a],c=r[a+1],s=u;s<c;++s)l=t.Pinv[d[s]],b[h]=l,y[l]=f[s],++h;for(b.length=h,M(n,y,v,b,m),s=b.length-1;-1!==s;--s)y[b[s]]=0;if(M(i,v,y,m,b),o)return y;for(s=m.length-1;-1!==s;--s)v[m[s]]=0;for(s=b.length-1;-1!==s;--s)l=b[s],w[k]=l,_[k]=y[l],y[l]=0,++k;x[a+1]=k}return[x,w,_]},numeric.ccsbinop=function(t,e){return void 0===e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,n=t[0],i=t[1],r=t[2],o=numeric.sup(i)+1,a=n.length,s=numeric.rep([o],0),u=Array(a),c=Array(a),h=numeric.rep([o],0);for(e=0;e<a;++e)h[i[e]]++;for(e=0;e<o;++e)s[e+1]=s[e]+h[e];var l,d,f=s.slice(0);for(e=0;e<a;++e)u[l=f[d=i[e]]]=n[e],c[l]=r[e],f[d]=f[d]+1;return[s,u,c]},numeric.ccsGather=function(t){var e,n,i,r,o,a=t[0],s=t[1],u=t[2],c=a.length-1,h=s.length,l=Array(h),d=Array(h),f=Array(h);for(o=0,e=0;e<c;++e)for(i=a[e],r=a[e+1],n=i;n!==r;++n)d[o]=e,l[o]=s[n],f[o]=u[n],++o;return[l,d,f]},numeric.sdim=function t(e,n,i){if(void 0===n&&(n=[]),"object"!=typeof e)return n;var r;for(r in void 0===i&&(i=0),i in n||(n[i]=0),e.length>n[i]&&(n[i]=e.length),e)e.hasOwnProperty(r)&&t(e[r],n,i+1);return n},numeric.sclone=function t(e,n,i){void 0===n&&(n=0),void 0===i&&(i=numeric.sdim(e).length);var r,o=Array(e.length);if(n===i-1){for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o}for(r in e)e.hasOwnProperty(r)&&(o[r]=t(e[r],n+1,i));return o},numeric.sdiag=function(t){var e,n,i=t.length,r=Array(i);for(e=i-1;e>=1;e-=2)n=e-1,r[e]=[],r[e][e]=t[e],r[n]=[],r[n][n]=t[n];return 0===e&&(r[0]=[],r[0][0]=t[e]),r},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,n,i,r=[];for(e in t.length,t)if(t.hasOwnProperty(e))for(n in i=t[e])i.hasOwnProperty(n)&&("object"!=typeof r[n]&&(r[n]=[]),r[n][e]=i[n]);return r},numeric.sLUP=function(t,e){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var n,i,r,o,a,s,u,c=t.length,h=(e.length,numeric.stranspose(e)),l=h.length,d=Array(c);for(r=c-1;r>=0;r--){for(u=[],n=t[r],a=l-1;a>=0;a--){for(o in s=0,i=h[a],n)n.hasOwnProperty(o)&&o in i&&(s+=n[o]*i[o]);s&&(u[a]=s)}d[r]=u}return d},numeric.sdotMV=function(t,e){var n,i,r,o,a=t.length,s=Array(a);for(i=a-1;i>=0;i--){for(r in o=0,n=t[i])n.hasOwnProperty(r)&&e[r]&&(o+=n[r]*e[r]);o&&(s[i]=o)}return s},numeric.sdotVM=function(t,e){var n,i,r,o,a=[];for(n in t)if(t.hasOwnProperty(n))for(i in r=e[n],o=t[n],r)r.hasOwnProperty(i)&&(a[i]||(a[i]=0),a[i]+=o*r[i]);return a},numeric.sdotVV=function(t,e){var n,i=0;for(n in t)t[n]&&e[n]&&(i+=t[n]*e[n]);return i},numeric.sdot=function(t,e){var n=numeric.sdim(t).length,i=numeric.sdim(e).length;switch(1e3*n+i){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+i)}},numeric.sscatter=function(t){var e,n,i,r,o=t[0].length,a=t.length,s=[];for(n=o-1;n>=0;--n)if(t[a-1][n]){for(r=s,i=0;i<a-2;i++)r[e=t[i][n]]||(r[e]=[]),r=r[e];r[t[i][n]]=t[i+1][n]}return s},numeric.sgather=function t(e,n,i){var r,o,a;for(o in void 0===n&&(n=[]),void 0===i&&(i=[]),r=i.length,e)if(e.hasOwnProperty(o))if(i[r]=parseInt(o),"number"==typeof(a=e[o])){if(a){if(0===n.length)for(o=r+1;o>=0;--o)n[o]=[];for(o=r;o>=0;--o)n[o].push(i[o]);n[r+1].push(a)}}else t(a,n,i);return i.length>r&&i.pop(),n},numeric.cLU=function(t){var e,n,i,r,o,a,s=t[0],u=t[1],c=t[2],h=s.length,l=0;for(e=0;e<h;e++)s[e]>l&&(l=s[e]);l++;var d,f=Array(l),p=Array(l),g=numeric.rep([l],1/0),v=numeric.rep([l],-1/0);for(i=0;i<h;i++)e=s[i],(n=u[i])<g[e]&&(g[e]=n),n>v[e]&&(v[e]=n);for(e=0;e<l-1;e++)v[e]>v[e+1]&&(v[e+1]=v[e]);for(e=l-1;e>=1;e--)g[e]<g[e-1]&&(g[e-1]=g[e]);for(e=0;e<l;e++)p[e]=numeric.rep([v[e]-g[e]+1],0),f[e]=numeric.rep([e-g[e]],0),g[e],v[e];for(i=0;i<h;i++)p[e=s[i]][u[i]-g[e]]=c[i];for(e=0;e<l-1;e++)for(r=e-g[e],b=p[e],n=e+1;g[n]<=e&&n<l;n++)if(o=e-g[n],a=v[e]-e,d=(x=p[n])[o]/b[r]){for(i=1;i<=a;i++)x[i+o]-=d*b[i+r];f[n][e-g[n]]=d}var m,y,b=[],x=[],w=[],_=[],M=[],k=[];for(h=0,m=0,e=0;e<l;e++){for(r=g[e],o=v[e],y=p[e],n=e;n<=o;n++)y[n-r]&&(b[h]=e,x[h]=n,w[h]=y[n-r],h++);for(y=f[e],n=r;n<e;n++)y[n-r]&&(_[m]=e,M[m]=n,k[m]=y[n-r],m++);_[m]=e,M[m]=e,k[m]=1,m++}return{U:[b,x,w],L:[_,M,k]}},numeric.cLUsolve=function(t,e){var n,i,r=t.L,o=t.U,a=numeric.clone(e),s=r[0],u=r[1],c=r[2],h=o[0],l=o[1],d=o[2],f=h.length,p=(s.length,a.length);for(i=0,n=0;n<p;n++){for(;u[i]<n;)a[n]-=c[i]*a[u[i]],i++;i++}for(i=f-1,n=p-1;n>=0;n--){for(;l[i]>n;)a[n]-=d[i]*a[l[i]],i--;a[n]/=d[i],i--}return a},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var n,i,r,o=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:e=function(t,e){return!0}}for(r=0,n=1;n<t[0]-1;n++)for(i=1;i<t[1]-1;i++)e(n,i)&&(o[n][i]=r,r++);return o},numeric.cdelsq=function(t){var e,n,i,r,o,a=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),u=s[0],c=s[1],h=[],l=[],d=[];for(e=1;e<u-1;e++)for(n=1;n<c-1;n++)if(!(t[e][n]<0)){for(i=0;i<4;i++)r=e+a[i][0],o=n+a[i][1],t[r][o]<0||(h.push(t[e][n]),l.push(t[r][o]),d.push(-1));h.push(t[e][n]),l.push(t[e][n]),d.push(4)}return[h,l,d]},numeric.cdotMV=function(t,e){var n,i,r,o=t[0],a=t[1],s=t[2],u=o.length;for(r=0,i=0;i<u;i++)o[i]>r&&(r=o[i]);for(r++,n=numeric.rep([r],0),i=0;i<u;i++)n[o[i]]+=s[i]*e[a[i]];return n},numeric.Spline=function(t,e,n,i,r){this.x=t,this.yl=e,this.yr=n,this.kl=i,this.kr=r},numeric.Spline.prototype._at=function(t,e){var n,i,r,o=this.x,a=this.yl,s=this.yr,u=this.kl,c=this.kr,h=numeric.add,l=numeric.sub,d=numeric.mul;n=l(d(u[e],o[e+1]-o[e]),l(s[e+1],a[e])),i=h(d(c[e+1],o[e]-o[e+1]),l(s[e+1],a[e]));var f=(r=(t-o[e])/(o[e+1]-o[e]))*(1-r);return h(h(h(d(1-r,a[e]),d(r,s[e+1])),d(n,f*(1-r))),d(i,f*r))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,n,i,r=this.x,o=r.length,a=Math.floor;for(e=0,n=o-1;n-e>1;)r[i=a((e+n)/2)]<=t?e=i:n=i;return this._at(t,e)}o=t.length;var s,u=Array(o);for(s=o-1;-1!==s;--s)u[s]=this.at(t[s]);return u},numeric.Spline.prototype.diff=function(){var t,e,n,i=this.x,r=this.yl,o=this.yr,a=this.kl,s=this.kr,u=r.length,c=a,h=s,l=Array(u),d=Array(u),f=numeric.add,p=numeric.mul,g=numeric.div,v=numeric.sub;for(t=u-1;-1!==t;--t)e=i[t+1]-i[t],n=v(o[t+1],r[t]),l[t]=g(f(p(n,6),p(a[t],-4*e),p(s[t+1],-2*e)),e*e),d[t+1]=g(f(p(n,-6),p(a[t],2*e),p(s[t+1],4*e)),e*e);return new numeric.Spline(i,c,h,l,d)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],n=this.x,i=this.yl,r=this.yr,o=this.kl,a=this.kr;"number"==typeof i[0]&&(i=[i],r=[r],o=[o],a=[a]);var s,u,c,h,l,d,f,p,g,v,m,y,b,x,w,_,M,k,S,E,C,T,P,A=i.length,O=n.length-1,D=(e=Array(A),Math.sqrt);for(s=0;s!==A;++s){for(h=i[s],l=r[s],d=o[s],f=a[s],p=[],u=0;u!==O;u++){for(u>0&&l[u]*h[u]<0&&p.push(n[u]),_=n[u+1]-n[u],n[u],m=h[u],y=l[u+1],g=d[u]/_,b=(v=f[u+1]/_)+3*m+2*g-3*y,x=3*(v+g+2*(m-y)),(w=t(g-v+3*(m-y))+12*v*m)<=0?M=(k=b/x)>n[u]&&k<n[u+1]?[n[u],k,n[u+1]]:[n[u],n[u+1]]:(k=(b-D(w))/x,S=(b+D(w))/x,M=[n[u]],k>n[u]&&k<n[u+1]&&M.push(k),S>n[u]&&S<n[u+1]&&M.push(S),M.push(n[u+1])),C=M[0],k=this._at(C,u),c=0;c<M.length-1;c++)if(T=M[c+1],S=this._at(T,u),0!==k)if(0===S||k*S>0)C=T,k=S;else{for(var N=0;!((P=(k*T-S*C)/(k-S))<=C||P>=T);)if((E=this._at(P,u))*S>0)T=P,S=E,-1===N&&(k*=.5),N=-1;else{if(!(E*k>0))break;C=P,k=E,1===N&&(S*=.5),N=1}p.push(P),C=M[c+1],k=this._at(C,u)}else p.push(C),C=T,k=S;0===S&&p.push(T)}e[s]=p}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,n,i){var r,o=t.length,a=[],s=[],u=[],c=numeric.sub,h=numeric.mul,l=numeric.add;for(r=o-2;r>=0;r--)s[r]=t[r+1]-t[r],u[r]=c(e[r+1],e[r]);"string"!=typeof n&&"string"!=typeof i||(n=i="periodic");var d=[[],[],[]];switch(typeof n){case"undefined":a[0]=h(3/(s[0]*s[0]),u[0]),d[0].push(0,0),d[1].push(0,1),d[2].push(2/s[0],1/s[0]);break;case"string":a[0]=l(h(3/(s[o-2]*s[o-2]),u[o-2]),h(3/(s[0]*s[0]),u[0])),d[0].push(0,0,0),d[1].push(o-2,0,1),d[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:a[0]=n,d[0].push(0),d[1].push(0),d[2].push(1)}for(r=1;r<o-1;r++)a[r]=l(h(3/(s[r-1]*s[r-1]),u[r-1]),h(3/(s[r]*s[r]),u[r])),d[0].push(r,r,r),d[1].push(r-1,r,r+1),d[2].push(1/s[r-1],2/s[r-1]+2/s[r],1/s[r]);switch(typeof i){case"undefined":a[o-1]=h(3/(s[o-2]*s[o-2]),u[o-2]),d[0].push(o-1,o-1),d[1].push(o-2,o-1),d[2].push(1/s[o-2],2/s[o-2]);break;case"string":d[1][d[1].length-1]=0;break;default:a[o-1]=i,d[0].push(o-1),d[1].push(o-1),d[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var f=Array(a.length);if("string"==typeof n)for(r=f.length-1;-1!==r;--r)f[r]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(d)),a[r]),f[r][o-1]=f[r][0];else for(r=f.length-1;-1!==r;--r)f[r]=numeric.cLUsolve(numeric.cLU(d),a[r]);return f="number"==typeof e[0]?f[0]:numeric.transpose(f),new numeric.Spline(t,e,e,f,f)},numeric.fftpow2=function t(e,n){var i=e.length;if(1!==i){var r,o,a=Math.cos,s=Math.sin,u=Array(i/2),c=Array(i/2),h=Array(i/2),l=Array(i/2);for(o=i/2,r=i-1;-1!==r;--r)h[--o]=e[r],l[o]=n[r],--r,u[o]=e[r],c[o]=n[r];t(u,c),t(h,l),o=i/2;var d,f,p,g=-6.283185307179586/i;for(r=i-1;-1!==r;--r)-1===--o&&(o=i/2-1),f=a(d=g*r),p=s(d),e[r]=u[o]+f*h[o]-p*l[o],n[r]=c[o]+f*l[o]+p*h[o]}},numeric._ifftpow2=function t(e,n){var i=e.length;if(1!==i){var r,o,a=Math.cos,s=Math.sin,u=Array(i/2),c=Array(i/2),h=Array(i/2),l=Array(i/2);for(o=i/2,r=i-1;-1!==r;--r)h[--o]=e[r],l[o]=n[r],--r,u[o]=e[r],c[o]=n[r];t(u,c),t(h,l),o=i/2;var d,f,p,g=6.283185307179586/i;for(r=i-1;-1!==r;--r)-1===--o&&(o=i/2-1),f=a(d=g*r),p=s(d),e[r]=u[o]+f*h[o]-p*l[o],n[r]=c[o]+f*l[o]+p*h[o]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,n,i){var r,o,a,s,u;for(numeric.fftpow2(t,e),numeric.fftpow2(n,i),r=t.length-1;-1!==r;--r)o=t[r],s=e[r],a=n[r],u=i[r],t[r]=o*a-s*u,e[r]=o*u+s*a;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,n=this.x,i=this.y,r=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*r-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),h=numeric.rep([u],0),l=Math.cos,d=Math.sin,f=-3.141592653589793/r,p=numeric.rep([u],0),g=numeric.rep([u],0);for(Math.floor(r/2),t=0;t<r;t++)p[t]=n[t];if(void 0!==i)for(t=0;t<r;t++)g[t]=i[t];for(c[0]=1,t=1;t<=u/2;t++)e=f*t*t,c[t]=l(e),h[t]=d(e),c[u-t]=l(e),h[u-t]=d(e);var v=new numeric.T(p,g),m=new numeric.T(c,h);return v=v.mul(m),numeric.convpow2(v.x,v.y,numeric.clone(m.x),numeric.neg(m.y)),(v=v.mul(m)).x.length=r,v.y.length=r,v},numeric.T.prototype.ifft=function(){var t,e,n=this.x,i=this.y,r=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*r-1)/a),u=Math.pow(2,s),c=numeric.rep([u],0),h=numeric.rep([u],0),l=Math.cos,d=Math.sin,f=3.141592653589793/r,p=numeric.rep([u],0),g=numeric.rep([u],0);for(Math.floor(r/2),t=0;t<r;t++)p[t]=n[t];if(void 0!==i)for(t=0;t<r;t++)g[t]=i[t];for(c[0]=1,t=1;t<=u/2;t++)e=f*t*t,c[t]=l(e),h[t]=d(e),c[u-t]=l(e),h[u-t]=d(e);var v=new numeric.T(p,g),m=new numeric.T(c,h);return v=v.mul(m),numeric.convpow2(v.x,v.y,numeric.clone(m.x),numeric.neg(m.y)),(v=v.mul(m)).x.length=r,v.y.length=r,v.div(r)},numeric.gradient=function(t,e){var n=e.length,i=t(e);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var r,o,a,s,u,c,h,l,d,f=Math.max,p=numeric.clone(e),g=Array(n),v=(numeric.div,numeric.sub,f=Math.max,Math.abs),m=Math.min,y=0;for(r=0;r<n;r++)for(var b=f(1e-6*i,1e-8);;){if(++y>20)throw new Error("Numerical gradient fails");if(p[r]=e[r]+b,o=t(p),p[r]=e[r]-b,a=t(p),p[r]=e[r],isNaN(o)||isNaN(a))b/=16;else{if(g[r]=(o-a)/(2*b),s=e[r]-b,u=e[r],c=e[r]+b,h=(o-i)/b,l=(i-a)/b,d=f(v(g[r]),v(i),v(o),v(a),v(s),v(u),v(c),1e-8),!(m(f(v(h-g[r]),v(l-g[r]),v(h-l))/d,b/d)>.001))break;b/=16}}return g},numeric.uncmin=function(t,e,n,i,r,o,a){var s=numeric.gradient;void 0===a&&(a={}),void 0===n&&(n=1e-8),void 0===i&&(i=function(e){return s(t,e)}),void 0===r&&(r=1e3);var u,c,h=(e=numeric.clone(e)).length,l=t(e);if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var d=Math.max,f=numeric.norm2;n=d(n,numeric.epsilon);var p,g,v,m,y,b,x,w,_,M,k=a.Hinv||numeric.identity(h),S=numeric.dot,E=(numeric.inv,numeric.sub),C=numeric.add,T=numeric.tensor,P=numeric.div,A=numeric.mul,O=numeric.all,D=numeric.isFinite,N=numeric.neg,I=0,L="";for(g=i(e);I<r;){if("function"==typeof o&&o(I,e,l,g,k)){L="Callback returned true";break}if(!O(D(g))){L="Gradient has Infinity or NaN";break}if(!O(D(p=N(S(k,g))))){L="Search direction has Infinity or NaN";break}if((M=f(p))<n){L="Newton step smaller than tol";break}for(_=1,c=S(g,p),y=e;I<r&&!(_*M<n)&&(y=C(e,m=A(p,_)),(u=t(y))-l>=.1*_*c||isNaN(u));)_*=.5,++I;if(_*M<n){L="Line search step size smaller than tol";break}if(I===r){L="maxit reached during line search";break}k=E(C(k,A(((w=S(b=E(v=i(y),g),m))+S(b,x=S(k,b)))/(w*w),T(m,m))),P(C(T(x,m),T(m,x)),w)),e=y,l=u,g=v,++I}return{solution:e,f:l,gradient:g,invHessian:k,iterations:I,message:L}},numeric.Dopri=function(t,e,n,i,r,o,a){this.x=t,this.y=e,this.f=n,this.ymid=i,this.iterations=r,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(t,e){function n(t){return t*t}var i,r,o,a,s,u,c,h,l,d=this.x,f=this.y,p=this.f,g=this.ymid,v=(d.length,Math.floor,numeric.add),m=numeric.mul,y=numeric.sub;return i=d[e],r=d[e+1],a=f[e],s=f[e+1],o=i+.5*(r-i),u=g[e],c=y(p[e],m(a,1/(i-o)+2/(i-r))),h=y(p[e+1],m(s,1/(r-o)+2/(r-i))),v(v(v(v(m(a,(l=[n(t-r)*(t-o)/n(i-r)/(i-o),n(t-i)*n(t-r)/n(i-o)/n(r-o),n(t-i)*(t-o)/n(r-i)/(r-o),(t-i)*n(t-r)*(t-o)/n(i-r)/(i-o),(t-r)*n(t-i)*(t-o)/n(i-r)/(r-o)])[0]),m(u,l[1])),m(s,l[2])),m(c,l[3])),m(h,l[4]))},numeric.Dopri.prototype.at=function(t){var e,n,i,r=Math.floor;if("number"!=typeof t){var o=t.length,a=Array(o);for(e=o-1;-1!==e;--e)a[e]=this.at(t[e]);return a}var s=this.x;for(e=0,n=s.length-1;n-e>1;)s[i=r(.5*(e+n))]<=t?e=i:n=i;return this._at(t,e)},numeric.dopri=function(t,e,n,i,r,o,a){void 0===r&&(r=1e-6),void 0===o&&(o=1e3);var s,u,c,h,l,d,f,p,g,v,m,y,b,x=[t],w=[n],_=[i(t,n)],M=[],k=[.075,.225],S=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],C=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],T=[35/384,0,500/1113,125/192,-2187/6784,11/84],P=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],A=[.2,.3,.8,8/9,1,1],O=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],D=0,N=(e-t)/10,I=0,L=numeric.add,j=numeric.mul,B=(Math.max,Math.min),R=Math.abs,z=numeric.norminf,F=Math.pow,Y=numeric.any,H=numeric.lt,W=numeric.and,G=(numeric.sub,new numeric.Dopri(x,w,_,M,-1,""));for("function"==typeof a&&(m=a(t,n));t<e&&I<o;)if(++I,t+N>e&&(N=e-t),s=i(t+A[0]*N,L(n,j(.2*N,_[D]))),u=i(t+A[1]*N,L(L(n,j(k[0]*N,_[D])),j(k[1]*N,s))),c=i(t+A[2]*N,L(L(L(n,j(S[0]*N,_[D])),j(S[1]*N,s)),j(S[2]*N,u))),h=i(t+A[3]*N,L(L(L(L(n,j(E[0]*N,_[D])),j(E[1]*N,s)),j(E[2]*N,u)),j(E[3]*N,c))),l=i(t+A[4]*N,L(L(L(L(L(n,j(C[0]*N,_[D])),j(C[1]*N,s)),j(C[2]*N,u)),j(C[3]*N,c)),j(C[4]*N,h))),d=i(t+N,g=L(L(L(L(L(n,j(_[D],N*T[0])),j(u,N*T[2])),j(c,N*T[3])),j(h,N*T[4])),j(l,N*T[5]))),(v="number"==typeof(f=L(L(L(L(L(j(_[D],N*O[0]),j(u,N*O[2])),j(c,N*O[3])),j(h,N*O[4])),j(l,N*O[5])),j(d,N*O[6])))?R(f):z(f))>r){if(t+(N=.2*N*F(r/v,.25))===t){G.msg="Step size became too small";break}}else{if(M[D]=L(L(L(L(L(L(n,j(_[D],N*P[0])),j(u,N*P[2])),j(c,N*P[3])),j(h,N*P[4])),j(l,N*P[5])),j(d,N*P[6])),x[++D]=t+N,w[D]=g,_[D]=d,"function"==typeof a){var q,U,V=t,X=t+.5*N;if(y=a(X,M[D-1]),Y(b=W(H(m,0),H(0,y)))||(V=X,m=y,y=a(X=t+N,g),b=W(H(m,0),H(0,y))),Y(b)){for(var Z,Q,$=0,K=1,J=1;;){if("number"==typeof m)U=(J*y*V-K*m*X)/(J*y-K*m);else for(U=X,p=m.length-1;-1!==p;--p)m[p]<0&&y[p]>0&&(U=B(U,(J*y[p]*V-K*m[p]*X)/(J*y[p]-K*m[p])));if(U<=V||U>=X)break;Q=a(U,q=G._at(U,D-1)),Y(Z=W(H(m,0),H(0,Q)))?(X=U,y=Q,b=Z,J=1,-1===$?K*=.5:K=1,$=-1):(V=U,m=Q,K=1,1===$?J*=.5:J=1,$=1)}return g=G._at(.5*(t+U),D-1),G.f[D]=i(U,q),G.x[D]=U,G.y[D]=q,G.ymid[D-1]=g,G.events=b,G.iterations=I,G}}t+=N,n=g,m=y,N=B(.8*N*F(r/v,.25),4*N)}return G.iterations=I,G},numeric.LU=function(t,e){e=e||!1;var n,i,r,o,a,s,u,c,h,l=Math.abs,d=t.length,f=d-1,p=new Array(d);for(e||(t=numeric.clone(t)),r=0;r<d;++r){for(u=r,h=l((s=t[r])[r]),i=r+1;i<d;++i)h<(o=l(t[i][r]))&&(h=o,u=i);for(p[r]=u,u!=r&&(t[r]=t[u],t[u]=s,s=t[r]),a=s[r],n=r+1;n<d;++n)t[n][r]/=a;for(n=r+1;n<d;++n){for(c=t[n],i=r+1;i<f;++i)c[i]-=c[r]*s[i],c[++i]-=c[r]*s[i];i===f&&(c[i]-=c[r]*s[i])}}return{LU:t,P:p}},numeric.LUsolve=function(t,e){var n,i,r,o,a,s=t.LU,u=s.length,c=numeric.clone(e),h=t.P;for(n=u-1;-1!==n;--n)c[n]=e[n];for(n=0;n<u;++n)for(r=h[n],h[n]!==n&&(a=c[n],c[n]=c[r],c[r]=a),o=s[n],i=0;i<n;++i)c[n]-=c[i]*o[i];for(n=u-1;n>=0;--n){for(o=s[n],i=n+1;i<u;++i)c[n]-=c[i]*o[i];c[n]/=o[n]}return c},numeric.solve=function(t,e,n){return numeric.LUsolve(numeric.LU(t,n),e)},numeric.echelonize=function(t){var e,n,i,r,o,a,s,u,c=numeric.dim(t),h=c[0],l=c[1],d=numeric.identity(h),f=Array(h),p=Math.abs,g=numeric.diveq;for(t=numeric.clone(t),e=0;e<h;++e){for(i=0,o=t[e],a=d[e],n=1;n<l;++n)p(o[i])<p(o[n])&&(i=n);for(f[e]=i,g(a,o[i]),g(o,o[i]),n=0;n<h;++n)if(n!==e){for(u=(s=t[n])[i],r=l-1;-1!==r;--r)s[r]-=o[r]*u;for(s=d[n],r=h-1;-1!==r;--r)s[r]-=a[r]*u}}return{I:d,A:t,P:f}},numeric.__solveLP=function(t,e,n,i,r,o,a){var s,u,c,h,l=numeric.sum,d=(numeric.log,numeric.mul),f=numeric.sub,p=numeric.dot,g=numeric.div,v=numeric.add,m=t.length,y=n.length,b=!1,x=1,w=(numeric.transpose(e),numeric.svd,numeric.transpose),_=(numeric.leq,Math.sqrt),M=Math.abs,k=(numeric.muleq,numeric.norminf,numeric.any,Math.min),S=numeric.all,E=numeric.gt,C=Array(m),T=Array(y),P=(numeric.rep([y],1),numeric.solve),A=f(n,p(e,o)),O=p(t,t);for(c=0;c<r;++c){var D,N;for(D=y-1;-1!==D;--D)T[D]=g(e[D],A[D]);var I=w(T);for(D=m-1;-1!==D;--D)C[D]=l(I[D]);x=.25*M(O/p(t,C));var L=100*_(O/p(C,C));for((!isFinite(x)||x>L)&&(x=L),h=v(t,d(x,C)),u=p(I,T),D=m-1;-1!==D;--D)u[D][D]+=1;var j=g(A,p(e,N=P(u,g(h,x),!0))),B=1;for(D=y-1;-1!==D;--D)j[D]<0&&(B=k(B,-.999*j[D]));if(!S(E(A=f(n,p(e,s=f(o,d(N,B)))),0)))return{solution:o,message:"",iterations:c};if(o=s,x<i)return{solution:s,message:"",iterations:c};if(a){var R=p(t,h),z=p(e,h);for(b=!0,D=y-1;-1!==D;--D)if(R*z[D]<0){b=!1;break}}else b=!(o[m-1]>=0);if(b)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,n,i,r){var o=t.length,a=n.length,s=(numeric.sum,numeric.log,numeric.mul,numeric.sub),u=numeric.dot,c=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),h=numeric.rep([a,1],-1),l=numeric.blockMatrix([[e,h]]),d=n,f=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),p=numeric.__solveLP(c,l,d,i,r,f,!1),g=numeric.clone(p.solution);if(g.length=o,numeric.inf(s(n,u(e,g)))<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var v=numeric.__solveLP(t,e,n,i,r-p.iterations,g,!0);return v.iterations+=p.iterations,v},numeric.solveLP=function(t,e,n,i,r,o,a){if(void 0===a&&(a=1e3),void 0===o&&(o=numeric.epsilon),void 0===i)return numeric._solveLP(t,e,n,o,a);var s,u=i.length,c=i[0].length,h=e.length,l=numeric.echelonize(i),d=numeric.rep([c],0),f=l.P,p=[];for(s=f.length-1;-1!==s;--s)d[f[s]]=1;for(s=c-1;-1!==s;--s)0===d[s]&&p.push(s);var g=numeric.getRange,v=numeric.linspace(0,u-1),m=numeric.linspace(0,h-1),y=g(i,v,p),b=g(e,m,f),x=g(e,m,p),w=numeric.dot,_=numeric.sub,M=w(b,l.I),k=_(x,w(M,y)),S=_(n,w(M,r)),E=Array(f.length),C=Array(p.length);for(s=f.length-1;-1!==s;--s)E[s]=t[f[s]];for(s=p.length-1;-1!==s;--s)C[s]=t[p[s]];var T=_(C,w(E,w(l.I,y))),P=numeric._solveLP(T,k,S,o,a),A=P.solution;if(A!=A)return P;var O=w(l.I,_(r,w(y,A))),D=Array(t.length);for(s=f.length-1;-1!==s;--s)D[f[s]]=O[s];for(s=p.length-1;-1!==s;--s)D[p[s]]=A[s];return{solution:D,message:P.message,iterations:P.iterations}},numeric.MPStoLP=function(t){t instanceof String&&t.split("\n");var e,n,i,r,o=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],s=t.length,u=0,c={},h=[],l=0,d={},f=0,p=[],g=[],v=[];function m(n){throw new Error("MPStoLP: "+n+"\nLine "+e+": "+t[e]+"\nCurrent state: "+a[o]+"\n")}for(e=0;e<s;++e){var y=(i=t[e]).match(/\S*/g),b=[];for(n=0;n<y.length;++n)""!==y[n]&&b.push(y[n]);if(0!==b.length){for(n=0;n<a.length&&i.substr(0,a[n].length)!==a[n];++n);if(n<a.length){if(o=n,1===n&&(r=b[1]),6===n)return{name:r,c:p,A:numeric.transpose(g),b:v,rows:c,vars:d}}else switch(o){case 0:case 1:m("Unexpected line");case 2:switch(b[0]){case"N":0===u?u=b[1]:m("Two or more N rows");break;case"L":c[b[1]]=l,h[l]=1,v[l]=0,++l;break;case"G":c[b[1]]=l,h[l]=-1,v[l]=0,++l;break;case"E":c[b[1]]=l,h[l]=0,v[l]=0,++l;break;default:m("Parse error "+numeric.prettyPrint(b))}break;case 3:d.hasOwnProperty(b[0])||(d[b[0]]=f,p[f]=0,g[f]=numeric.rep([l],0),++f);var x=d[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==u){var w=c[b[n]];g[x][w]=(h[w]<0?-1:1)*parseFloat(b[n+1])}else p[x]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)v[c[b[n]]]=(h[c[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:m("Internal error")}}}m("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,n,i,r,o,a){function s(t,e,n,i){for(t+="",n=0,i=0;i<t.length;i++)e[u(i)]=u((n^=19*e[u(i)])+t.charCodeAt(i));for(i in t="",e)t+=String.fromCharCode(e[i]);return t}function u(t){return t&n-1}e.seedrandom=function(i,c){var h,l=[];return i=s(function t(e,n,i,r,o){if(i=[],o=typeof e,n&&"object"==o)for(r in e)if(r.indexOf("S")<5)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:e+("string"!=o?"\0":"")}(c?[i,t]:arguments.length?i:[(new Date).getTime(),t,window],3),l),s((h=new function(t){var e,i,r=this,o=t.length,a=0,s=r.i=r.j=r.m=0;for(r.S=[],r.c=[],o||(t=[o++]);a<n;)r.S[a]=a++;for(a=0;a<n;a++)e=r.S[a],s=u(s+e+t[a%o]),i=r.S[s],r.S[a]=i,r.S[s]=e;r.g=function(t){var e=r.S,i=u(r.i+1),o=e[i],a=u(r.j+o),s=e[a];e[i]=s,e[a]=o;for(var c=e[u(o+s)];--t;)i=u(i+1),o=e[i],a=u(a+o),s=e[a],e[i]=s,e[a]=o,c=c*n+e[u(o+s)];return r.i=i,r.j=a,c},r.g(n)}(l)).S,t),e.random=function(){for(var t=h.g(6),e=a,i=0;t<r;)t=(t+i)*n,e*=n,i=h.g(1);for(;t>=o;)t/=2,e/=2,i>>>=1;return(t+i)/e},i},a=e.pow(n,6),r=e.pow(2,r),o=2*r,s(e.random(),t)}([],numeric.seedrandom,256,0,52),function(t){function e(t){if("object"!=typeof t)return t;var n,i=[],r=t.length;for(n=0;n<r;n++)i[n+1]=e(t[n]);return i}function n(t){if("object"!=typeof t)return t;var e,i=[],r=t.length;for(e=1;e<r;e++)i[e-1]=n(t[e]);return i}function i(t,e,n,i,r,o,a,s,u,c,h,l,d,f,p,g){var v,m,y,b,x,w,_,M,k,S,E,C,T,P,A,O,D,N,I,L,j,B,R,z,F,Y,H;T=Math.min(i,c),y=2*i+T*(T+5)/2+2*c+1,z=1e-60;do{F=1+.1*(z+=z),Y=1+.2*z}while(F<=1||Y<=1);for(v=1;v<=i;v+=1)p[v]=e[v];for(v=i+1;v<=y;v+=1)p[v]=0;for(v=1;v<=c;v+=1)l[v]=0;if(x=[],0===g[1]){if(function(t,e,n,i){var r,o,a,s,u,c;for(o=1;o<=n;o+=1){if(i[1]=o,c=0,(a=o-1)<1){if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}else{for(s=1;s<=a;s+=1){for(u=t[s][o],r=1;r<s;r+=1)u-=t[r][o]*t[r][s];u/=t[s][s],t[s][o]=u,c+=u*u}if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}i[1]=0}}(t,0,i,x),0!==x[1])return void(g[1]=2);!function(t,e,n,i){var r,o,a,s;for(o=1;o<=n;o+=1){for(s=0,r=1;r<o;r+=1)s+=t[r][o]*i[r];i[o]=(i[o]-s)/t[o][o]}for(a=1;a<=n;a+=1)for(i[o=n+1-a]=i[o]/t[o][o],s=-i[o],r=1;r<o;r+=1)i[r]=i[r]+s*t[r][o]}(t,0,i,e),function(t,e,n){var i,r,o,a,s;for(o=1;o<=n;o+=1){for(t[o][o]=1/t[o][o],s=-t[o][o],i=1;i<o;i+=1)t[i][o]=s*t[i][o];if(n<(a=o+1))break;for(r=a;r<=n;r+=1)for(s=t[o][r],t[o][r]=0,i=1;i<=o;i+=1)t[i][r]=t[i][r]+s*t[i][o]}}(t,0,i)}else{for(m=1;m<=i;m+=1)for(r[m]=0,v=1;v<=m;v+=1)r[m]=r[m]+t[v][m]*e[v];for(m=1;m<=i;m+=1)for(e[m]=0,v=m;v<=i;v+=1)e[m]=e[m]+t[m][v]*r[v]}for(o[1]=0,m=1;m<=i;m+=1)for(r[m]=e[m],o[1]=o[1]+p[m]*r[m],p[m]=0,v=m+1;v<=i;v+=1)t[v][m]=0;for(o[1]=-o[1]/2,g[1]=0,P=(S=(k=(E=(M=(_=i)+i)+T)+T+1)+T*(T+1)/2)+c,v=1;v<=c;v+=1){for(O=0,m=1;m<=i;m+=1)O+=a[m][v]*a[m][v];p[P+v]=Math.sqrt(O)}function W(){for(f[1]=f[1]+1,y=S,v=1;v<=c;v+=1){for(y+=1,O=-s[v],m=1;m<=i;m+=1)O+=a[m][v]*r[m];if(Math.abs(O)<z&&(O=0),v>h)p[y]=O;else if(p[y]=-Math.abs(O),O>0){for(m=1;m<=i;m+=1)a[m][v]=-a[m][v];s[v]=-s[v]}}for(v=1;v<=d;v+=1)p[S+l[v]]=0;for(C=0,A=0,v=1;v<=c;v+=1)p[S+v]<A*p[P+v]&&(C=v,A=p[S+v]/p[P+v]);return 0===C?999:0}function G(){for(v=1;v<=i;v+=1){for(O=0,m=1;m<=i;m+=1)O+=t[m][v]*a[m][C];p[v]=O}for(b=_,v=1;v<=i;v+=1)p[b+v]=0;for(m=d+1;m<=i;m+=1)for(v=1;v<=i;v+=1)p[b+v]=p[b+v]+t[v][m]*p[m];for(B=!0,v=d;v>=1;v-=1){for(O=p[v],b=(y=k+v*(v+3)/2)-v,m=v+1;m<=d;m+=1)O-=p[y]*p[M+m],y+=m;if(O/=p[b],p[M+v]=O,l[v]<h)break;if(O<0)break;B=!1,w=v}if(!B)for(D=p[E+w]/p[M+w],v=1;v<=d&&!(l[v]<h)&&!(p[M+v]<0);v+=1)(A=p[E+v]/p[M+v])<D&&(D=A,w=v);for(O=0,v=_+1;v<=_+i;v+=1)O+=p[v]*p[v];if(Math.abs(O)<=z){if(B)return g[1]=1,999;for(v=1;v<=d;v+=1)p[E+v]=p[E+v]-D*p[M+v];return p[E+d+1]=p[E+d+1]+D,700}for(O=0,v=1;v<=i;v+=1)O+=p[_+v]*a[v][C];for(N=-p[S+C]/O,R=!0,B||D<N&&(N=D,R=!1),v=1;v<=i;v+=1)r[v]=r[v]+N*p[_+v],Math.abs(r[v])<z&&(r[v]=0);for(o[1]=o[1]+N*O*(N/2+p[E+d+1]),v=1;v<=d;v+=1)p[E+v]=p[E+v]-N*p[M+v];if(p[E+d+1]=p[E+d+1]+N,!R){for(O=-s[C],m=1;m<=i;m+=1)O+=r[m]*a[m][C];if(C>h)p[S+C]=O;else if(p[S+C]=-Math.abs(O),O>0){for(m=1;m<=i;m+=1)a[m][C]=-a[m][C];s[C]=-s[C]}return 700}for(l[d+=1]=C,y=k+(d-1)*d/2+1,v=1;v<=d-1;v+=1)p[y]=p[v],y+=1;if(d===i)p[y]=p[i];else{for(v=i;v>=d+1&&0!==p[v]&&(I=Math.max(Math.abs(p[v-1]),Math.abs(p[v])),L=Math.min(Math.abs(p[v-1]),Math.abs(p[v])),A=p[v-1]>=0?Math.abs(I*Math.sqrt(1+L*L/(I*I))):-Math.abs(I*Math.sqrt(1+L*L/(I*I))),I=p[v-1]/A,L=p[v]/A,1!==I);v-=1)if(0===I)for(p[v-1]=L*A,m=1;m<=i;m+=1)A=t[m][v-1],t[m][v-1]=t[m][v],t[m][v]=A;else for(p[v-1]=A,j=L/(1+I),m=1;m<=i;m+=1)A=I*t[m][v-1]+L*t[m][v],t[m][v]=j*(t[m][v-1]+A)-t[m][v],t[m][v-1]=A;p[y]=p[d]}return 0}function q(){if(0===p[b=(y=k+w*(w+1)/2+1)+w])return 798;if(I=Math.max(Math.abs(p[b-1]),Math.abs(p[b])),L=Math.min(Math.abs(p[b-1]),Math.abs(p[b])),A=p[b-1]>=0?Math.abs(I*Math.sqrt(1+L*L/(I*I))):-Math.abs(I*Math.sqrt(1+L*L/(I*I))),I=p[b-1]/A,L=p[b]/A,1===I)return 798;if(0===I){for(v=w+1;v<=d;v+=1)A=p[b-1],p[b-1]=p[b],p[b]=A,b+=v;for(v=1;v<=i;v+=1)A=t[v][w],t[v][w]=t[v][w+1],t[v][w+1]=A}else{for(j=L/(1+I),v=w+1;v<=d;v+=1)A=I*p[b-1]+L*p[b],p[b]=j*(p[b-1]+A)-p[b],p[b-1]=A,b+=v;for(v=1;v<=i;v+=1)A=I*t[v][w]+L*t[v][w+1],t[v][w+1]=j*(t[v][w]+A)-t[v][w+1],t[v][w]=A}return 0}function U(){for(b=y-w,v=1;v<=w;v+=1)p[b]=p[y],y+=1,b+=1;return p[E+w]=p[E+w+1],l[w]=l[w+1],(w+=1)<d?797:0}function V(){return p[E+d]=p[E+d+1],p[E+d+1]=0,l[d]=0,d-=1,f[2]=f[2]+1,0}for(d=0,f[1]=0,f[2]=0,H=0;;){if(999===(H=W()))return;for(;0!==(H=G());){if(999===H)return;if(700===H)if(w===d)V();else{for(;q(),797===(H=U()););V()}}}}numeric.solveQP=function(t,r,o,a,s,u){t=e(t),r=e(r),o=e(o);var c,h,l,d,f,p=[],g=[],v=[],m=[],y=[];if(s=s||0,u=u?e(u):[void 0,0],a=a?e(a):[],h=t.length-1,l=o[1].length-1,!a)for(c=1;c<=l;c+=1)a[c]=0;for(c=1;c<=l;c+=1)g[c]=0;for(d=Math.min(h,l),c=1;c<=h;c+=1)v[c]=0;for(p[1]=0,c=1;c<=2*h+d*(d+5)/2+2*l+1;c+=1)m[c]=0;for(c=1;c<=2;c+=1)y[c]=0;return i(t,r,0,h,v,p,o,a,0,l,s,g,0,y,m,u),f="",1===u[1]&&(f="constraints are inconsistent, no solution!"),2===u[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:n(v),value:n(p),unconstrained_solution:n(r),iterations:n(y),iact:n(g),message:f}}}(),numeric.svd=function(t){var e,n=numeric.epsilon,i=1e-64/n,r=0,o=0,a=0,s=0,u=0,c=numeric.clone(t),h=c.length,l=c[0].length;if(h<l)throw"Need more rows than columns";var d=new Array(l),f=new Array(l);for(o=0;o<l;o++)d[o]=f[o]=0;var p=numeric.rep([l,l],0);function g(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var v=0,m=0,y=0,b=0,x=0,w=0,_=0;for(o=0;o<l;o++){for(d[o]=m,_=0,u=o+1,a=o;a<h;a++)_+=c[a][o]*c[a][o];if(_<=i)m=0;else for(v=c[o][o],m=Math.sqrt(_),v>=0&&(m=-m),y=v*m-_,c[o][o]=v-m,a=u;a<l;a++){for(_=0,s=o;s<h;s++)_+=c[s][o]*c[s][a];for(v=_/y,s=o;s<h;s++)c[s][a]+=v*c[s][o]}for(f[o]=m,_=0,a=u;a<l;a++)_+=c[o][a]*c[o][a];if(_<=i)m=0;else{for(v=c[o][o+1],m=Math.sqrt(_),v>=0&&(m=-m),y=v*m-_,c[o][o+1]=v-m,a=u;a<l;a++)d[a]=c[o][a]/y;for(a=u;a<h;a++){for(_=0,s=u;s<l;s++)_+=c[a][s]*c[o][s];for(s=u;s<l;s++)c[a][s]+=_*d[s]}}(x=Math.abs(f[o])+Math.abs(d[o]))>b&&(b=x)}for(o=l-1;-1!=o;o+=-1){if(0!=m){for(y=m*c[o][o+1],a=u;a<l;a++)p[a][o]=c[o][a]/y;for(a=u;a<l;a++){for(_=0,s=u;s<l;s++)_+=c[o][s]*p[s][a];for(s=u;s<l;s++)p[s][a]+=_*p[s][o]}}for(a=u;a<l;a++)p[o][a]=0,p[a][o]=0;p[o][o]=1,m=d[o],u=o}for(o=l-1;-1!=o;o+=-1){for(u=o+1,m=f[o],a=u;a<l;a++)c[o][a]=0;if(0!=m){for(y=c[o][o]*m,a=u;a<l;a++){for(_=0,s=u;s<h;s++)_+=c[s][o]*c[s][a];for(v=_/y,s=o;s<h;s++)c[s][a]+=v*c[s][o]}for(a=o;a<h;a++)c[a][o]=c[a][o]/m}else for(a=o;a<h;a++)c[a][o]=0;c[o][o]+=1}for(n*=b,s=l-1;-1!=s;s+=-1)for(var M=0;M<50;M++){var k=!1;for(u=s;-1!=u;u+=-1){if(Math.abs(d[u])<=n){k=!0;break}if(Math.abs(f[u-1])<=n)break}if(!k){r=0,_=1;var S=u-1;for(o=u;o<s+1&&(v=_*d[o],d[o]=r*d[o],!(Math.abs(v)<=n));o++)for(y=g(v,m=f[o]),f[o]=y,r=m/y,_=-v/y,a=0;a<h;a++)x=c[a][S],w=c[a][o],c[a][S]=x*r+w*_,c[a][o]=-x*_+w*r}if(w=f[s],u==s){if(w<0)for(f[s]=-w,a=0;a<l;a++)p[a][s]=-p[a][s];break}if(M>=49)throw"Error: no convergence.";for(b=f[u],m=g(v=(((x=f[s-1])-w)*(x+w)+((m=d[s-1])-(y=d[s]))*(m+y))/(2*y*x),1),v=v<0?((b-w)*(b+w)+y*(x/(v-m)-y))/b:((b-w)*(b+w)+y*(x/(v+m)-y))/b,r=1,_=1,o=u+1;o<s+1;o++){for(m=d[o],x=f[o],y=_*m,m*=r,w=g(v,y),d[o-1]=w,v=b*(r=v/w)+m*(_=y/w),m=-b*_+m*r,y=x*_,x*=r,a=0;a<l;a++)b=p[a][o-1],w=p[a][o],p[a][o-1]=b*r+w*_,p[a][o]=-b*_+w*r;for(w=g(v,y),f[o-1]=w,v=(r=v/w)*m+(_=y/w)*x,b=-_*m+r*x,a=0;a<h;a++)x=c[a][o-1],w=c[a][o],c[a][o-1]=x*r+w*_,c[a][o]=-x*_+w*r}d[u]=0,d[s]=v,f[s]=b}for(o=0;o<f.length;o++)f[o]<n&&(f[o]=0);for(o=0;o<l;o++)for(a=o-1;a>=0;a--)if(f[a]<f[o]){for(r=f[a],f[a]=f[o],f[o]=r,s=0;s<c.length;s++)e=c[s][o],c[s][o]=c[s][a],c[s][a]=e;for(s=0;s<p.length;s++)e=p[s][o],p[s][o]=p[s][a],p[s][a]=e;o=a}return{U:c,S:f,V:p}}}).call(this,__webpack_require__(101))},function(t,e,n){var i=n(24);t.exports={Random:n(419),Mds:n(418),Circular:n(417),Fruchterman:n(416),Radial:n(415),Force:n(412),Dagre:n(410),Concentric:n(234),Grid:n(233),FruchtermanGroup:n(232)},t.exports=i},function(t,e,n){var i=n(10),r=n(1),o=n(102),a=o.get,s=o.cloneDeep,u=o.merge,c={options:{},getCustomConfig:function(){},itemType:"",draw:function(t,e){var n=this.drawShape(t,e);return n.set("className",this.itemType+"-shape"),t.label&&this.drawLabel(t,e).set("className",this.itemType+"-label"),n},drawShape:function(){},drawLabel:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.labelCfg,r=n.labelCfg,o=u({},i,r,t.labelCfg),a=this.getLabelStyle(t,o,e);return e.addShape("text",{attrs:a})},getLabelStyleByPosition:function(){},getLabelStyle:function(t,e,n){var o=this.getLabelStyleByPosition(t,e,n);o.text=t.label;var a=this.itemType+"Label",s=i[a]?i[a].style:null;return r.mix({},s,o,e.style)},getShapeStyle:function(t){return t.style},update:function(t,e){var n=e.getContainer(),i=this.itemType+"-shape",r=n.findByClassName(i),o=this.getShapeStyle(t);r&&r.attr(o);var a=this.itemType+"-label",s=n.findByClassName(a);if(t.label)if(s){var u=t.labelCfg||{},c=this.getLabelStyle(t,u,n);s.resetMatrix(),s.attr(c)}else this.drawLabel(t,n).set("className",a);else s&&s.remove()},setState:function(t,e,n){var i=n.get("keyShape");if(i){var o=n.getStateStyle(t),a=this.getStateStyle(t,e,n),s=u({},a,o);if(e)i.attr(s);else{var c=n.getCurrentStatesStyle();r.each(s,(function(t,e){c[e]||(c[e]=null)})),i.attr(c)}}},getStateStyle:function(t,e,n){var i=n.getModel(),r=this.getCustomConfig(i)||{},o=this.options,c=o.style,h=o.stateStyles,l=r.style,d=r.stateStyles,f=u({},h,d),p=c;if(f[t]&&(p=f[t]),e)return u({},p,i.style);var g=n.getStates(),v=u({},c,l),m=s(v);return g.forEach((function(t){u(m,a(c,t,{}),a(l,t,{}),i.style)})),m}};t.exports=c},function(t,e,n){var i=n(73),r={isBetween:function(t,e,n){return t>=e&&t<=n},getLineIntersect:function(t,e,n,i){var o=n.x-t.x,a=n.y-t.y,s=e.x-t.x,u=e.y-t.y,c=i.x-n.x,h=i.y-n.y,l=s*h-u*c,d=null;if(l*l>.001*(s*s+u*u)*(c*c+h*h)){var f=(o*h-a*c)/l,p=(o*u-a*s)/l;r.isBetween(f,0,1)&&r.isBetween(p,0,1)&&(d={x:t.x+f*s,y:t.y+f*u})}return d},getRectIntersectByPoint:function(t,e){var n=t.x,i=t.y,o=t.width,a=t.height,s=[],u={x:n+o/2,y:i+a/2};s.push({x:n,y:i}),s.push({x:n+o,y:i}),s.push({x:n+o,y:i+a}),s.push({x:n,y:i+a}),s.push({x:n,y:i});for(var c=null,h=1;h<s.length&&!(c=r.getLineIntersect(s[h-1],s[h],u,e));h++);return c},getCircleIntersectByPoint:function(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y;if(Math.sqrt(Math.pow(o-n,2)+Math.pow(a-i,2))<r)return null;var s=o-n,u=a-i,c=Math.sign(s),h=Math.sign(u),l=Math.atan(u/s);return{x:n+Math.abs(r*Math.cos(l))*c,y:i+Math.abs(r*Math.sin(l))*h}},getEllispeIntersectByPoint:function(t,e){var n=t.rx,i=t.ry,r=t.x,o=t.y,a=e.x-r,s=e.y-o,u=Math.atan2(s/i,a/n);return u<0&&(u+=2*Math.PI),{x:r+n*Math.cos(u),y:o+i*Math.sin(u)}},applyMatrix:function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return i.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}},invertMatrix:function(t,e,n){void 0===n&&(n=1);var r=i.mat3.invert([],e),o=[t.x,t.y,n];return i.vec3.transformMat3(o,o,r),{x:o[0],y:o[1]}},isConnected:function(t){if(t.length>0)for(var e=0;e<t[0].length;e++)if(t[0][e]===1/0)return!1;return!0},randomInitPos:function(t,e,n){void 0===e&&(e=[0,1]),void 0===n&&(n=[0,1]);for(var i=[],r=0;r<t;r++){var o=Math.random()*(e[1]-e[0])+e[0],a=Math.random()*(n[1]-n[0])+n[0];i.push([o,a])}return i},getCircleCenterByPoints:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,c=r*o-i*a;return{x:-(a*s-r*u)/c,y:-(i*u-o*s)/c}},distance:function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}};t.exports=i.mix({},i,r)},function(t,e,n){var i=n(20);n(433),n(432),n(431),n(422),t.exports=i},function(t,e,n){var i=n(0),r=n(11),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,i=t.fontWeight,r=t.fontStyle,o=t.fontVariant;t.font=[r,o,i,e+"px",n].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,n=null;if(i.isString(e)&&-1!==e.indexOf("\n")){var r=(n=e.split("\n")).length;t.lineCount=r}t.textArr=n},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,i=t.y,r=this.measureText();if(!r)return{minX:n,minY:i,maxX:n,maxY:i};var o=this._getTextHeight(),a=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),c={x:n,y:i-o};a&&("end"===a||"right"===a?c.x-=r:"center"===a&&(c.x-=r/2)),s&&("top"===s?c.y+=o:"middle"===s&&(c.y+=o/2)),this.set("startPoint",c);var h=u/2;return{minX:c.x-h,minY:c.y-h,maxX:c.x+r+h,maxY:c.y+o+h}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var r=e.text;if(r){var o=e.textArr,a=e.x,s=e.y;if(t.beginPath(),this.hasStroke()){var u=e.strokeOpacity;i.isNil(u)||1===u||(t.globalAlpha=u),o?this._drawTextArr(t,!1):t.strokeText(r,a,s),t.globalAlpha=1}if(this.hasFill()){var c=e.fillOpacity;i.isNil(c)||1===c||(t.globalAlpha=c),o?this._drawTextArr(t,!0):t.fillText(r,a,s)}n.hasUpdate=!1}},_drawTextArr:function(t,e){var n,r=this._attrs.textArr,o=this._attrs.textBaseline,a=1*this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,c=this._attrs.y,h=this.getBBox(),l=h.maxY-h.minY;i.each(r,(function(i,r){n=c+r*(s+a)-l+a,"middle"===o&&(n+=l-a-(l-a)/2),"top"===o&&(n+=l-a),e?t.fillText(i,u,n):t.strokeText(i,u,n)}))},measureText:function(){var t,e=this._attrs,n=e.text,r=e.font,o=e.textArr,a=0;if(!i.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=r,o?i.each(o,(function(e){t=s.measureText(e).width,a<t&&(a=t),s.restore()})):(a=s.measureText(n).width,s.restore()),a}}}),t.exports=o},function(t,e,n){var i=n(0),r=n(51).parseRadius,o=n(11),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},i.extend(a,o),i.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.width,r=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+i+o,maxY:n+r+o}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,o=e.width,a=e.height,s=e.radius;if((t=t||this.get("context")).beginPath(),0===s)t.rect(n,i,o,a);else{var u=r(s);t.moveTo(n+u.r1,i),t.lineTo(n+o-u.r2,i),0!==u.r2&&t.arc(n+o-u.r2,i+u.r2,u.r2,-Math.PI/2,0),t.lineTo(n+o,i+a-u.r3),0!==u.r3&&t.arc(n+o-u.r3,i+a-u.r3,u.r3,0,Math.PI/2),t.lineTo(n+u.r4,i+a),0!==u.r4&&t.arc(n+u.r4,i+a-u.r4,u.r4,Math.PI/2,Math.PI),t.lineTo(n,i+u.r1),0!==u.r1&&t.arc(n+u.r1,i+u.r1,u.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=a},function(t,e,n){var i=n(0),r=n(11),o=n(75),a=n(77),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},i.extend(s,r),i.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var r=1/0,o=1/0,a=-1/0,s=-1/0;i.each(n,(function(t){var e=t[0],n=t[1];e<r&&(r=e),e>a&&(a=e),n<o&&(o=n),n>s&&(s=n)}));var u=e/2;return{minX:r-u,minY:o-u,maxX:a+u,maxY:s+u}},_setTcache:function(){var t,e,n=this._attrs.points,r=0,o=0,s=[];n&&0!==n.length&&(i.each(n,(function(t,e){n[e+1]&&(r+=a.len(t[0],t[1],n[e+1][0],n[e+1][1]))})),r<=0||(i.each(n,(function(i,u){n[u+1]&&((t=[])[0]=o/r,e=a.len(i[0],i[1],n[u+1][0],n[u+1][1]),o+=e,t[1]=o/r,s.push(t))})),this.tCache=s))},createPath:function(t){var e,n=this._attrs,i=n.points;if(!(i.length<2)){var r=i.length-1,a=i[0][0],s=i[0][1],u=i[r][0],c=i[r][1];if(n.startArrow&&n.startArrow.d){var h=o.getShortenOffset(i[0][0],i[0][1],i[1][0],i[1][1],n.startArrow.d);a+=h.dx,s+=h.dy}if(n.endArrow&&n.endArrow.d){var l=o.getShortenOffset(i[r-1][0],i[r-1][1],i[r][0],i[r][1],n.endArrow.d);u-=l.dx,c-=l.dy}for((t=t||this.get("context")).beginPath(),t.moveTo(a,s),e=1;e<r;e++)t.lineTo(i[e][0],i[e][1]);t.lineTo(u,c)}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,i=n.length-1;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&o.addEndArrow(t,e,n[i-1][0],n[i-1][1],n[i][0],n[i][1])},getPoint:function(t){var e,n,r=this._attrs.points,o=this.tCache;return o||(this._setTcache(),o=this.tCache),i.each(o,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)})),{x:a.at(r[n][0],r[n+1][0],e),y:a.at(r[n][1],r[n+1][1],e)}}}),t.exports=s},function(t,e,n){var i=n(0),r=n(11),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={points:null,lineWidth:1},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,r=1/0,o=-1/0,a=-1/0;i.each(t,(function(t){var e=t[0],i=t[1];e<n&&(n=e),e>o&&(o=e),i<r&&(r=i),i>a&&(a=i)}));var s=e/2;return{minX:n-s,minY:r-s,maxX:o+s,maxY:a+s}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),i.each(e,(function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.closePath())}}),t.exports=o},function(t,e,n){var i=n(0),r=n(11),o=n(74),a=n(51),s=n(75),u=n(103),c=n(105),h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(h,r),i.augment(h,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(i.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=a.parsePath(t),r=[];if(i.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,u=0;u<n.length;u++){var c=n[u];e=new o(c,e,u===s-1),r.push(e)}this.setSilent("segments",r),this.setSilent("tCache",null),this.setSilent("totalLength",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,r=-1/0,o=1/0,a=-1/0;return i.each(t,(function(t){t.getBBox(e);var i=t.box;i&&(i.minX<n&&(n=i.minX),i.maxX>r&&(r=i.maxX),i.minY<o&&(o=i.minY),i.maxY>a&&(a=i.maxY))})),n===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:o,maxX:r,maxY:a}},_setTcache:function(){var t,e,n,r,o=0,a=0,s=[],u=this._cfg.curve;u&&(i.each(u,(function(t,e){n=u[e+1],r=t.length,n&&(o+=c.len(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6]))})),this._cfg.totalLength=o,0!==o?(i.each(u,(function(i,h){n=u[h+1],r=i.length,n&&((t=[])[0]=a/o,e=c.len(i[r-2],i[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),a+=e,t[1]=a/o,s.push(t))})),this._cfg.tCache=s):this._cfg.tCache=[])},getTotalLength:function(){var t=this.get("totalLength");return i.isNil(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=u.pathTocurve(t)},getStartTangent:function(){var t,e,n,r,o=this.get("segments");if(o.length>1)if(t=o[0].endPoint,e=o[1].endPoint,n=o[1].startTangent,r=[],i.isFunction(n)){var a=n();r.push([t.x-a[0],t.y-a[1]]),r.push([t.x,t.y])}else r.push([e.x,e.y]),r.push([t.x,t.y]);return r},getEndTangent:function(){var t,e,n,r,o=this.get("segments"),a=o.length;if(a>1)if(t=o[a-2].endPoint,e=o[a-1].endPoint,n=o[a-1].endTangent,r=[],i.isFunction(n)){var s=n();r.push([e.x-s[0],e.y-s[1]]),r.push([e.x,e.y])}else r.push([t.x,t.y]),r.push([e.x,e.y]);return r},getPoint:function(t){var e,n,r=this._cfg.tCache;r||(this._calculateCurve(),this._setTcache(),r=this._cfg.tCache);var o=this._cfg.curve;if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;i.each(r,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)}));var a=o[n];if(i.isNil(a)||i.isNil(n))return null;var s=a.length,u=o[n+1];return{x:c.at(a[s-2],u[1],u[3],u[5],1-e),y:c.at(a[s-1],u[2],u[4],u[6],1-e)}},createPath:function(t){var e=this._attrs,n=this.get("segments");if(i.isArray(n)){var r=n.length;if((t=t||this.get("context")).beginPath(),e.startArrow&&e.startArrow.d){var o=this.getStartTangent(),a=s.getShortenOffset(o[0][0],o[0][1],o[1][0],o[1][1],e.startArrow.d);n[0].shortenDraw(t,a.dx,a.dy)}else n[0].draw(t);for(var u=1;u<r-2;u++)n[u].draw(t);if(e.endArrow&&e.endArrow.d){var c=this.getEndTangent(),h=s.getShortenOffset(c[0][0],c[0][1],c[1][0],c[1][1],e.endArrow.d),l=n[r-1];"Z"===l.command.toUpperCase()?(n[r-2].shortenDraw(t,h.dx,h.dy),l.draw(t)):(r>2&&n[r-2].draw(t),l.shortenDraw(t,h.dx,h.dy))}else n[r-2].draw(t),n[r-1].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),r=e.path;if(t=t||this.get("context"),i.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==r[r.length-1]&&"Z"!==r[r.length-1]&&!e.fill){var o=this.getStartTangent();s.addStartArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1]);var a=this.getEndTangent();s.addEndArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1])}}}),t.exports=h},function(t,e,n){var i=n(0),r=n(11),o=n(75),a=n(77),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(s,r),i.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,i=t.x2,r=t.y2,o=this.getHitLineWidth();return a.box(e,n,i,r,o)},createPath:function(t){var e=this._attrs,n=e.x1,i=e.y1,r=e.x2,a=e.y2;if(e.startArrow&&e.startArrow.d){var s=o.getShortenOffset(n,i,r,a,e.startArrow.d);n+=s.dx,i+=s.dy}if(e.endArrow&&e.endArrow.d){var u=o.getShortenOffset(n,i,r,a,e.endArrow.d);r-=u.dx,a-=u.dy}(t=t||this.get("context")).beginPath(),t.moveTo(n,i),t.lineTo(r,a)},afterPath:function(t){var e=this._attrs,n=e.x1,i=e.y1,r=e.x2,a=e.y2;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,r,a,n,i),e.endArrow&&o.addEndArrow(t,e,n,i,r,a)},getPoint:function(t){var e=this._attrs;return{x:a.at(e.x1,e.x2,t),y:a.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e,n){var i=n(0),r=n(11),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},i.extend(o,r),i.augment(o,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,n=e.img;if(!i.isString(n))return n instanceof Image?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):n instanceof HTMLElement&&i.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(e.width||t.attr("width",Number(n.getAttribute("width"))),e.height||t.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):null;var r=new Image;r.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",n),t.attr("img",r);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},r.src=n,r.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.img,a=e.width,s=e.height,u=e.sx,c=e.sy,h=e.swidth,l=e.sheight;this.set("toDraw",!1);var d=o;if(d instanceof ImageData&&((d=new Image).src=o),d instanceof Image||d instanceof HTMLElement&&i.isString(d.nodeName)&&"CANVAS"===d.nodeName.toUpperCase()){if(i.isNil(u)||i.isNil(c)||i.isNil(h)||i.isNil(l))return void t.drawImage(d,n,r,a,s);if(!(i.isNil(u)||i.isNil(c)||i.isNil(h)||i.isNil(l)))return void t.drawImage(d,u,c,h,l,n,r,a,s)}}}),t.exports=o},function(t,e,n){var i=n(0),r=n(11),o=n(76),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},i.extend(a,r),i.augment(a,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.rs,r=t.re,a=t.startAngle,s=t.endAngle,u=t.clockwise,c=this.getHitLineWidth(),h=o.box(e,n,i,a,s,u),l=o.box(e,n,r,a,s,u),d=c/2;return{minX:Math.min(h.minX,l.minX)-d,minY:Math.min(h.minY,l.minY)-d,maxX:Math.max(h.maxX,l.maxX)+d,maxY:Math.max(h.maxY,l.maxY)+d}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,r=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,u=e.clockwise,c={x:Math.cos(a)*r+n,y:Math.sin(a)*r+i},h={x:Math.cos(a)*o+n,y:Math.sin(a)*o+i},l={x:Math.cos(s)*r+n,y:Math.sin(s)*r+i};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(h.x,h.y),t.arc(n,i,o,a,s,u),t.lineTo(l.x,l.y),t.arc(n,i,r,s,a,!u),t.closePath()}}),t.exports=a},function(t,e,n){var i=n(0),r=n(11),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.rx,r=t.ry,o=this.getHitLineWidth(),a=i+o/2,s=r+o/2;return{minX:e-a,minY:n-s,maxX:e+a,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,o=e.rx,a=e.ry;t=t||self.get("context");var s=o>a?o:a,u=o>a?1:o/a,c=o>a?a/o:1,h=[1,0,0,0,1,0,0,0,1];i.mat3.scale(h,h,[u,c]),i.mat3.translate(h,h,[n,r]),t.beginPath(),t.save(),t.transform(h[0],h[1],h[3],h[4],h[6],h[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=o},function(t,e,n){var i=n(0),r=n(11),o=function t(e){t.superclass.constructor.call(this,e)};i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.width,r=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+i+o,maxY:n+r+o}}}),t.exports=o},function(t,e,n){var i=n(0),r=n(11),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,r:0,lineWidth:1},i.extend(o,r),i.augment(o,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.r,r=this.getHitLineWidth()/2+i;return{minX:e-r,minY:n-r,maxX:e+r,maxY:n+r}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,r=e.r;t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.closePath()}}),t.exports=o},function(t,e,n){var i=n(0),r=n(11),o=n(76),a=n(75);function s(t,e,n){return t+e*Math.cos(n)}function u(t,e,n){return t+e*Math.sin(n)}var c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(c,r),i.augment(c,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,i=t.r,r=t.startAngle,a=t.endAngle,s=t.clockwise,u=this.getHitLineWidth()/2,c=o.box(e,n,i,r,a,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,i=t.startAngle,r=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var c=[],h=s(e,r,i+a),l=u(n,r,i+a),d=s(e,r,i),f=u(n,r,i);return c.push([h,l]),c.push([d,f]),c},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,i=t.endAngle,r=t.r,o=t.clockwise,a=Math.PI/180,c=[];o&&(a*=-1);var h=s(e,r,i+a),l=u(n,r,i+a),d=s(e,r,i),f=u(n,r,i);return c.push([d,f]),c.push([h,l]),c},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,r=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,i,r,o,a,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();a.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var i=this.getEndTangent();a.addEndArrow(t,e,i[0][0],i[0][1],i[1][0],i[1][1])}}}),t.exports=c},function(t,e){t.exports={xAt:function(t,e,n,i,r){return e*Math.cos(t)*Math.cos(r)-n*Math.sin(t)*Math.sin(r)+i},yAt:function(t,e,n,i,r){return e*Math.sin(t)*Math.cos(r)+n*Math.cos(t)*Math.sin(r)+i},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var i=n(0),r=i.vec2;function o(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function a(t,e,n,i,a,s,u,c,h){var l,d,f,p,g,v,m,y=.005,b=1/0,x=[u,c];for(g=0;g<1;g+=.05)f=[o(t,n,a,g),o(e,i,s,g)],(d=r.squaredDistance(x,f))<b&&(l=g,b=d);for(b=1/0,m=0;m<32&&!(y<1e-4);m++){var w=l-y,_=l+y;f=[o(t,n,a,w),o(e,i,s,w)],d=r.squaredDistance(x,f),w>=0&&d<b?(l=w,b=d):(p=[o(t,n,a,_),o(e,i,s,_)],v=r.squaredDistance(x,p),_<=1&&v<b?(l=_,b=v):y*=.5)}return h&&(h.x=o(t,n,a,l),h.y=o(e,i,s,l)),Math.sqrt(b)}t.exports={at:o,projectPoint:function(t,e,n,i,r,o,s,u){var c={};return a(t,e,n,i,r,o,s,u,c),c},pointDistance:a,extrema:function(t,e,n){var r=t+n-2*e;if(i.isNumberEqual(r,0))return[.5];var o=(t-e)/r;return o<=1&&o>=0?[o]:[]}}},function(t,e,n){var i=n(111),r=Array.prototype.slice,o=function(){};i.augment(o,{on:function(t,e,n){if(!i.isFunction(e))throw new TypeError("listener should be a function");return this._cfg._events||(this._cfg._events={}),this._cfg._events[t]||(this._cfg._events[t]=[]),this._cfg._events[t].push({callback:e,one:n}),this},one:function(t,e){return this.on(t,e,!0),this},emit:function(t){if(!this.get("destroyed")&&this._cfg._events&&!i.isEmpty(this._cfg._events)){var e=this._cfg._events[t];if(!i.isEmpty(e))for(var n=arguments,o=r.call(n,1),a=e.length,s=0;s<a;)e[s]&&(e[s].callback.apply(this,o),e[s]&&e[s].one?(e.splice(s,1),a--):s++)}},trigger:function(){this.emit.apply(this,arguments)},off:function(t,e){var n=this._cfg._events;if(n&&!i.isEmpty(n)){if(0===arguments.length)return this._cfg._events={},this;if(n[t]){var r=function(t,e){for(var n=t.length;n--;)if(t[n].callback===e)return n;return-1}(n[t],e);r>=0&&n[t].splice(r,1),0===n[t].length&&delete n[t]}}},removeEvent:function(t){return void 0===t?this._cfg._events={}:delete this._cfg._events[t],this},_getEvents:function(){return this._cfg._events||{}}}),t.exports=o},function(t,e,n){var i=n(0),r=n(463),o=n(462),a=n(461),s=n(460),u=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},i.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},i.augment(u,r,o,s,a,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,r=n.parent,o=n.el;return r&&i.remove(r.get("children"),this),o&&(e?r&&r._cfg.tobeRemoved.push(o):o.parentNode.removeChild(o)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,i=t.el,r=n.indexOf(this);n.splice(r,1),n.push(this),i&&(i.parentNode.removeChild(i),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,i=t.el,r=n.indexOf(this);if(n.splice(r,1),n.unshift(this),i){var o=i.parentNode;o.removeChild(i),o.insertBefore(i,o.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,i.isNil(e)||e.sort();var n=this._cfg.el;if(n){var r=e._cfg.children,o=r.indexOf(this),a=n.parentNode;a.removeChild(n),o===r.length-1?a.appendChild(n):a.insertBefore(n,a.childNodes[o])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return i.clone(this)},getBBox:function(){}}),t.exports=u},function(t,e,n){var i=n(0),r=n(192),o=n(459),a={},s="_INDEX",u=["zIndex","capture","visible"];function c(t,e,n){for(var i,r=t.length-1;r>=0;r--){var o=t[r];if(o._cfg.visible&&o._cfg.capture&&(o.isGroup?i=o.getShape(e,n):o.isHit(e,n)&&(i=o)),i)break}return i}var h=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};i.extend(h,r),i.augment(h,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==h){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},i.merge(e._cfg,n._cfg),i.merge(e._cfg,e.CFG)}}(this.constructor),i.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var r=a[t];if(r||(r=i.upperFirst(t),a[t]=r),e.attrs&&n){var s=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(s.fontFamily=s.fontFamily?s.fontFamily:u)}}e.canvas=n,e.type=t;var c=new o[r](e);return this.add(c),c},addGroup:function(t,e){var n,r=this.get("canvas");if(e=i.merge({},e),i.isFunction(t))e?(e.canvas=r,e.parent=this,n=new t(e)):n=new t({canvas:r,parent:this}),this.add(n);else if(i.isObject(t))t.canvas=r,n=new h(t),this.add(n);else{if(void 0!==t)return!1;n=new h,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),r=this.getBBox();return i.merge(e,{x:r.minX-t[3],y:r.minY-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!i.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),h.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(i.isArray(t))i.each(t,(function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)})),e._cfg.children=n.concat(t);else{var r=t,o=r.get("parent");o&&o.removeChild(r,!1),e._setCfgProperty(r),n.push(r)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=this.get("children");o.length>0?i.each(o,(function(i){if(i.get("visible")){if(i.isGroup&&0===i.get("children").length)return;var o=i.getBBox();if(!o)return!0;var a=[o.minX,o.minY,1],s=[o.minX,o.maxY,1],u=[o.maxX,o.minY,1],c=[o.maxX,o.maxY,1];i.apply(a),i.apply(s),i.apply(u),i.apply(c);var h=Math.min(a[0],s[0],u[0],c[0]),l=Math.max(a[0],s[0],u[0],c[0]),d=Math.min(a[1],s[1],u[1],c[1]),f=Math.max(a[1],s[1],u[1],c[1]);h<t&&(t=h),l>e&&(e=l),d<n&&(n=d),f>r&&(r=f)}})):(t=0,e=0,n=0,r=0);var a={minX:t,minY:n,maxX:e,maxY:r};return a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return i.each(t,(function(t,e){return t[s]=e,t})),t.sort(function(t){return function(e,n){var i=t(e,n);return 0===i?e[s]-n[s]:i}}((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this},findById:function(t){return this.find((function(e){return e.get("id")===t}))},find:function(t){if(i.isString(t))return this.findById(t);var e=this.get("children"),n=null;return i.each(e,(function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1})),n},findAll:function(t){var e=this.get("children"),n=[],r=[];return i.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))})),n},findBy:function(t){var e=this.get("children"),n=null;return i.each(e,(function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1})),n},findAllBy:function(t){var e=this.get("children"),n=[],r=[];return i.each(e,(function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))})),n},getShape:function(t,e){var n,i=this._attrs.clip,r=this._cfg.children;if(i){var o=[t,e,1];i.invert(o,this.get("canvas")),i.isPointInPath(o[0],o[1])&&(n=c(r,t,e))}else n=c(r,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++)t[e].clearTotalMatrix()}},clear:function(t){if(!this.get("destroyed")){for(var e=this._cfg.children,n=e.length-1;n>=0;n--)e[n].remove(!0,t);return this._cfg.children=[],this}},destroy:function(){this.get("destroyed")||(this.clear(),h.superclass.destroy.call(this))},clone:function(){var t=this,e=t._cfg.children,n=t._attrs,r={};i.each(n,(function(t,e){r[e]="matrix"===e?function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}(n[e]):n[e]}));var o=new h({attrs:r,canvas:t.get("canvas")});return i.each(e,(function(t){o.add(t.clone())})),i.each(u,(function(e){o._cfg[e]=t._cfg[e]})),o}}),t.exports=h},function(t,e,n){var i=n(110),r=n(7),o=n(108);t.exports=function(t,e){return t=i(t),r(e,(function(e){switch(e[0]){case"t":o.translate(t,t,[e[1],e[2]]);break;case"s":o.scale(t,t,[e[1],e[2]]);break;case"r":o.rotate(t,t,e[1]);break;case"m":o.multiply(t,t,e[1]);break;default:return!1}})),t}},function(t,e,n){var i=n(465);t.exports=i},function(t,e,n){var i=n(466),r=n(197);i.angle=function(t,e){var n=i.dot(t,e)/(i.length(t)*i.length(e));return Math.acos(r(n,-1,1))},i.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},i.angleTo=function(t,e,n){var r=i.angle(t,e),o=i.direction(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r},i.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=i},function(t,e){t.exports=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var i=n(80),r=n(52);t.exports=function(t,e,n,o){i(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},s=a(e.prototype,t);return t.prototype=r(s,t.prototype),t.superclass=a(e.prototype,e),r(s,n),r(t,o),t}},function(t,e,n){var i=n(53);t.exports=function(t){return i(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){var i=n(475);t.exports=function(t){var e=i(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e){var n=function(){var t={};return function(e){return t[e=e||"g"]?t[e]+=1:t[e]=1,e+t[e]}}();t.exports=n},function(t,e,n){"use strict";function i(t){return+t}function r(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function s(t){return t*t*t}function u(t){return--t*t*t+1}function c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(e);var h=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),l=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),d=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),f=Math.PI,p=f/2;function g(t){return 1-Math.cos(t*p)}function v(t){return Math.sin(t*p)}function m(t){return(1-Math.cos(f*t))/2}function y(t){return Math.pow(2,10*t-10)}function b(t){return 1-Math.pow(2,-10*t)}function x(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function w(t){return 1-Math.sqrt(1-t*t)}function _(t){return Math.sqrt(1- --t*t)}function M(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var k=4/11,S=6/11,E=8/11,C=.75,T=9/11,P=10/11,A=.9375,O=21/22,D=63/64,N=1/k/k;function I(t){return 1-L(1-t)}function L(t){return(t=+t)<k?N*t*t:t<E?N*(t-=S)*t+C:t<P?N*(t-=T)*t+A:N*(t-=O)*t+D}function j(t){return((t*=2)<=1?1-L(1-t):L(t-1)+1)/2}var B=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),R=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),z=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),F=2*Math.PI,Y=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=F);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*F)},r.period=function(n){return t(e,n)},r}(1,.3),H=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=F);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*F)},r.period=function(n){return t(e,n)},r}(1,.3),W=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=F);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*F)},r.period=function(n){return t(e,n)},r}(1,.3);n.d(e,"easeLinear",(function(){return i})),n.d(e,"easeQuad",(function(){return a})),n.d(e,"easeQuadIn",(function(){return r})),n.d(e,"easeQuadOut",(function(){return o})),n.d(e,"easeQuadInOut",(function(){return a})),n.d(e,"easeCubic",(function(){return c})),n.d(e,"easeCubicIn",(function(){return s})),n.d(e,"easeCubicOut",(function(){return u})),n.d(e,"easeCubicInOut",(function(){return c})),n.d(e,"easePoly",(function(){return d})),n.d(e,"easePolyIn",(function(){return h})),n.d(e,"easePolyOut",(function(){return l})),n.d(e,"easePolyInOut",(function(){return d})),n.d(e,"easeSin",(function(){return m})),n.d(e,"easeSinIn",(function(){return g})),n.d(e,"easeSinOut",(function(){return v})),n.d(e,"easeSinInOut",(function(){return m})),n.d(e,"easeExp",(function(){return x})),n.d(e,"easeExpIn",(function(){return y})),n.d(e,"easeExpOut",(function(){return b})),n.d(e,"easeExpInOut",(function(){return x})),n.d(e,"easeCircle",(function(){return M})),n.d(e,"easeCircleIn",(function(){return w})),n.d(e,"easeCircleOut",(function(){return _})),n.d(e,"easeCircleInOut",(function(){return M})),n.d(e,"easeBounce",(function(){return L})),n.d(e,"easeBounceIn",(function(){return I})),n.d(e,"easeBounceOut",(function(){return L})),n.d(e,"easeBounceInOut",(function(){return j})),n.d(e,"easeBack",(function(){return z})),n.d(e,"easeBackIn",(function(){return B})),n.d(e,"easeBackOut",(function(){return R})),n.d(e,"easeBackInOut",(function(){return z})),n.d(e,"easeElastic",(function(){return H})),n.d(e,"easeElasticIn",(function(){return Y})),n.d(e,"easeElasticOut",(function(){return H})),n.d(e,"easeElasticInOut",(function(){return W}))},function(t,e,n){"use strict";n.r(e);var i=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function r(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),l=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),f=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),p=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?x(e):3===n?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new k(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new k(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=h.exec(t))?new k(e[1],e[2],e[3],1):(e=l.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?w(e[1],e[2],e[3],e[4]):(e=f.exec(t))?w(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?x(v[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function x(t){return new k(t>>16&255,t>>8&255,255&t,1)}function w(t,e,n,i){return i<=0&&(t=e=n=NaN),new k(t,e,n,i)}function _(t){return t instanceof o||(t=b(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function M(t,e,n,i){return 1===arguments.length?_(t):new k(t,e,n,null==i?1:i)}function k(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function S(){return"#"+C(this.r)+C(this.g)+C(this.b)}function E(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function C(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,i)}function P(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=b(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,u=a-r,c=(a+r)/2;return u?(s=e===a?(n-i)/u+6*(n<i):n===a?(i-e)/u+2:(e-n)/u+4,u/=c<.5?a+r:2-a-r,s*=60):u=c>0&&c<1?0:s,new O(s,u,c,t.opacity)}function A(t,e,n,i){return 1===arguments.length?P(t):new O(t,e,n,null==i?1:i)}function O(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function D(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function N(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}i(o,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return P(this).formatHsl()},formatRgb:y,toString:y}),i(k,M,r(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:E,toString:E})),i(O,A,r(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new k(D(t>=240?t-240:t+120,r,i),D(t,r,i),D(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var I=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return N((n-i/e)*e,a,r,o,s)}},L=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return N((n-i/e)*e,r,o,a,s)}},j=function(t){return function(){return t}};function B(t,e){return function(n){return t+n*e}}function R(t,e){var n=e-t;return n?B(t,n>180||n<-180?n-360*Math.round(n/360):n):j(isNaN(t)?e:t)}function z(t){return 1==(t=+t)?F:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):j(isNaN(e)?n:e)}}function F(t,e){var n=e-t;return n?B(t,n):j(isNaN(t)?e:t)}var Y=function t(e){var n=z(e);function i(t,e){var i=n((t=M(t)).r,(e=M(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=F(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function H(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=M(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}var W,G,q,U,V=H(I),X=H(L),Z=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=nt(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}},Q=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},$=function(t,e){return e-=t=+t,function(n){return t+e*n}},K=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=nt(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},J=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tt=new RegExp(J.source,"g"),et=function(t,e){var n,i,r,o=J.lastIndex=tt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=J.exec(t))&&(i=tt.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:$(n,i)})),o=tt.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})},nt=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?j(e):("number"===i?$:"string"===i?(n=b(e))?(e=n,Y):et:e instanceof b?Y:e instanceof Date?Q:Array.isArray(e)?Z:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?K:$)(t,e)},it=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},rt=180/Math.PI,ot={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},at=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*rt,skewX:Math.atan(u)*rt,scaleX:a,scaleY:s}};function st(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:$(t,r)},{i:u-2,x:$(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:$(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:$(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,u),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:$(t,n)},{i:s-2,x:$(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,i=u.length;++n<i;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var ut=st((function(t){return"none"===t?ot:(W||(W=document.createElement("DIV"),G=document.documentElement,q=document.defaultView),W.style.transform=t,t=q.getComputedStyle(G.appendChild(W),null).getPropertyValue("transform"),G.removeChild(W),t=t.slice(7,-1).split(","),at(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ct=st((function(t){return null==t?ot:(U||(U=document.createElementNS("http://www.w3.org/2000/svg","g")),U.setAttribute("transform",t),(t=U.transform.baseVal.consolidate())?(t=t.matrix,at(t.a,t.b,t.c,t.d,t.e,t.f)):ot)}),", ",")",")"),ht=Math.SQRT2;function lt(t){return((t=Math.exp(t))+1/t)/2}var dt=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],h=s-r,l=u-o,d=h*h+l*l;if(d<1e-12)i=Math.log(c/a)/ht,n=function(t){return[r+t*h,o+t*l,a*Math.exp(ht*t*i)]};else{var f=Math.sqrt(d),p=(c*c-a*a+4*d)/(2*a*2*f),g=(c*c-a*a-4*d)/(2*c*2*f),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);i=(m-v)/ht,n=function(t){var e=t*i,n=lt(v),s=a/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(ht*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[r+s*h,o+s*l,a*n/lt(ht*e+v)]}}return n.duration=1e3*i,n};function ft(t){return function(e,n){var i=t((e=A(e)).h,(n=A(n)).h),r=F(e.s,n.s),o=F(e.l,n.l),a=F(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var pt=ft(R),gt=ft(F),vt=Math.PI/180,mt=180/Math.PI,yt=.96422,bt=1,xt=.82521,wt=4/29,_t=6/29,Mt=3*_t*_t,kt=_t*_t*_t;function St(t){if(t instanceof Ct)return new Ct(t.l,t.a,t.b,t.opacity);if(t instanceof It)return Lt(t);t instanceof k||(t=_(t));var e,n,i=Ot(t.r),r=Ot(t.g),o=Ot(t.b),a=Tt((.2225045*i+.7168786*r+.0606169*o)/bt);return i===r&&r===o?e=n=a:(e=Tt((.4360747*i+.3850649*r+.1430804*o)/yt),n=Tt((.0139322*i+.0971045*r+.7141733*o)/xt)),new Ct(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Et(t,e,n,i){return 1===arguments.length?St(t):new Ct(t,e,n,null==i?1:i)}function Ct(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Tt(t){return t>kt?Math.pow(t,1/3):t/Mt+wt}function Pt(t){return t>_t?t*t*t:Mt*(t-wt)}function At(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ot(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Dt(t){if(t instanceof It)return new It(t.h,t.c,t.l,t.opacity);if(t instanceof Ct||(t=St(t)),0===t.a&&0===t.b)return new It(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*mt;return new It(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Nt(t,e,n,i){return 1===arguments.length?Dt(t):new It(t,e,n,null==i?1:i)}function It(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Lt(t){if(isNaN(t.h))return new Ct(t.l,0,0,t.opacity);var e=t.h*vt;return new Ct(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function jt(t,e){var n=F((t=Et(t)).l,(e=Et(e)).l),i=F(t.a,e.a),r=F(t.b,e.b),o=F(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function Bt(t){return function(e,n){var i=t((e=Nt(e)).h,(n=Nt(n)).h),r=F(e.c,n.c),o=F(e.l,n.l),a=F(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}i(Ct,Et,r(o,{brighter:function(t){return new Ct(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ct(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new k(At(3.1338561*(e=yt*Pt(e))-1.6168667*(t=bt*Pt(t))-.4906146*(n=xt*Pt(n))),At(-.9787684*e+1.9161415*t+.033454*n),At(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),i(It,Nt,r(o,{brighter:function(t){return new It(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new It(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Lt(this).rgb()}}));var Rt=Bt(R),zt=Bt(F),Ft=-.14861,Yt=1.78277,Ht=-.29227,Wt=-.90649,Gt=1.97294,qt=Gt*Wt,Ut=Gt*Yt,Vt=Yt*Ht-Wt*Ft;function Xt(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof k||(t=_(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Vt*i+qt*e-Ut*n)/(Vt+qt-Ut),o=i-r,a=(Gt*(n-r)-Ht*o)/Wt,s=Math.sqrt(a*a+o*o)/(Gt*r*(1-r)),u=s?Math.atan2(a,o)*mt-120:NaN;return new Zt(u<0?u+360:u,s,r,t.opacity)}(t):new Zt(t,e,n,null==i?1:i)}function Zt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t){return function e(n){function i(e,i){var r=t((e=Xt(e)).h,(i=Xt(i)).h),o=F(e.s,i.s),a=F(e.l,i.l),s=F(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}i(Zt,Xt,r(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*vt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new k(255*(e+n*(Ft*i+Yt*r)),255*(e+n*(Ht*i+Wt*r)),255*(e+n*(Gt*i)),this.opacity)}}));var $t=Qt(R),Kt=Qt(F),Jt=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n};n.d(e,"interpolate",(function(){return nt})),n.d(e,"interpolateArray",(function(){return Z})),n.d(e,"interpolateBasis",(function(){return I})),n.d(e,"interpolateBasisClosed",(function(){return L})),n.d(e,"interpolateDate",(function(){return Q})),n.d(e,"interpolateNumber",(function(){return $})),n.d(e,"interpolateObject",(function(){return K})),n.d(e,"interpolateRound",(function(){return it})),n.d(e,"interpolateString",(function(){return et})),n.d(e,"interpolateTransformCss",(function(){return ut})),n.d(e,"interpolateTransformSvg",(function(){return ct})),n.d(e,"interpolateZoom",(function(){return dt})),n.d(e,"interpolateRgb",(function(){return Y})),n.d(e,"interpolateRgbBasis",(function(){return V})),n.d(e,"interpolateRgbBasisClosed",(function(){return X})),n.d(e,"interpolateHsl",(function(){return pt})),n.d(e,"interpolateHslLong",(function(){return gt})),n.d(e,"interpolateLab",(function(){return jt})),n.d(e,"interpolateHcl",(function(){return Rt})),n.d(e,"interpolateHclLong",(function(){return zt})),n.d(e,"interpolateCubehelix",(function(){return $t})),n.d(e,"interpolateCubehelixLong",(function(){return Kt})),n.d(e,"quantize",(function(){return Jt}))},function(t,e,n){!function(e,n){t.exports=n()}("undefined"!=typeof self&&self,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){var i=n(7);t.exports={assign:i}},function(t,e,n){var i=n(3),r=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.rootNode=i(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=r},function(t,e,n){var i=n(4),r=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=r[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===r.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===r[0])n(t,e);else if(s===r[1])n(t,e),t.right2left();else if(s===r[2])n(t,e);else if(s===r[3])n(t,e),t.bottom2top();else if(s===r[4]||s===r[5]){var u=i(t,e),c=u.left,h=u.right;n(c,e),n(h,e),e.isHorizontal?c.right2left():c.bottom2top(),h.translate(c.x-h.x,c.y-h.y),t.x=c.x,t.y=h.y;var l=t.getBoundingBox();e.isHorizontal?l.top<0&&t.translate(0,-l.top):l.left<0&&t.translate(-l.left,0)}return e.fixedRoot||t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var i=n(0),r={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.name||" ";return t.width||18*e.split("").length}};function o(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof o)return t;n.data=t;var i=e.getHGap(t),r=e.getVGap(t);return n.width=e.getWidth(t),n.height=e.getHeight(t),n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(i,r),n}i.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.pop();)t(e),n=n.concat(e.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)})),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode((function(n){n.x+=t,n.y+=e}))},right2left:function(){var t=this.getBoundingBox();this.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),this.translate(0,t.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var a,s=new o(t,e=i.assign({},r,e)),u=[s];if(!n&&!t.collapsed)for(;a=u.pop();)if(!a.data.collapsed){var c=e.getChildren(a.data),h=c?c.length:0;if(a.children=new Array(h),c&&h)for(var l=0;l<h;l++){var d=new o(c[l],e);a.children[l]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(t,e,n){var i=n(3);t.exports=function(t,e){for(var n=i(t.data,e,!0),r=i(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},u=0;u<o;u++){var c=t.children[u];"right"===s(c,u)?r.children.push(c):n.children.push(c)}return n.eachNode((function(t){t.isRoot()||(t.side="left")})),r.eachNode((function(t){t.isRoot()||(t.side="right")})),{left:n,right:r}}},function(t,e,n){var i={compactBox:n(6),dendrogram:n(9),indented:n(11),mindmap:n(13)};t.exports=i},function(t,e,n){var i=n(1),r=n(8),o=n(2),a=n(0),s=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.execute=function(){return o(this.rootNode,this.options,r)},e}(i),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,i,r){return e&&n(t,e),i&&n(t,i),r&&n(t,r),t}},function(t,e){function n(t,e,n,i){void 0===i&&(i=[]);var r=this;r.w=t||0,r.h=e||0,r.y=n||0,r.x=0,r.c=i||[],r.cs=i.length,r.prelim=0,r.mod=0,r.shift=0,r.change=0,r.tl=null,r.tr=null,r.el=null,r.er=null,r.msel=0,r.mser=0}function i(t,e){!function t(e,n,i){i?e.y+=n:e.x+=n,e.children.forEach((function(e){t(e,n,i)}))}(t,-function t(e,n){var i=n?e.y:e.x;return e.children.forEach((function(e){i=Math.min(t(e,n),i)})),i}(t,e),e)}n.fromNode=function(t,e){if(!t)return null;var i=[];return t.children.forEach((function(t){i.push(n.fromNode(t,e))})),e?new n(t.height,t.width,t.x,i):new n(t.width,t.height,t.y,i)},t.exports=function(t,e){void 0===e&&(e={});var r=e.isHorizontal;function o(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function a(t,e,n){for(var i=t.c[e-1],r=i.mod,o=t.c[e],a=o.mod;null!==i&&null!==o;){h(i)>n.low&&(n=n.nxt);var l=r+i.prelim+i.w-(a+o.prelim);l>0&&(a+=l,s(t,e,n.index,l));var d=h(i),f=h(o);d<=f&&null!==(i=c(i))&&(r+=i.mod),d>=f&&null!==(o=u(o))&&(a+=o.mod)}!i&&o?function(t,e,n,i){var r=t.c[0].el;r.tl=n;var o=i-n.mod-t.c[0].msel;r.mod+=o,r.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):i&&!o&&function(t,e,n,i){var r=t.c[e].er;r.tr=n;var o=i-n.mod-t.c[e].mser;r.mod+=o,r.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,i,r)}function s(t,e,n,i){t.c[e].mod+=i,t.c[e].msel+=i,t.c[e].mser+=i,function(t,e,n,i){if(n!==e-1){var r=e-n;t.c[n+1].shift+=i/r,t.c[e].shift-=i/r,t.c[e].change-=i-i/r}}(t,e,n,i)}function u(t){return 0===t.cs?t.tl:t.c[0]}function c(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function h(t){return t.y+t.h}function l(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function t(e,n,i){void 0===i&&(i=0),n?(e.x=i,i+=e.width):(e.y=i,i+=e.height),e.children.forEach((function(e){t(e,n,i)}))}(t,r);var d=n.fromNode(t,r);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=l(h(e.c[0].el),0,null),i=1;i<e.cs;++i){t(e.c[i]);var r=h(e.c[i].er);a(e,i,n),n=l(r,i,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),o(e)}else o(e)}(d),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,i=0;i<t.cs;i++)e+=t.c[i].shift,n+=e+t.c[i].change,t.c[i].mod+=n}(e);for(var i=0;i<e.cs;i++)t(e.c[i],n)}(d,0),function t(e,n,i){i?n.y=e.x:n.x=e.x,e.c.forEach((function(e,r){t(e,n.children[r],i)}))}(d,t,r),i(t,r),t}},function(t,e,n){var i=n(1),r=n(10),o=n(2),a=n(0),s=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,r)},e}(i),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e,n){var i=n(0),r={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,e){void 0===e&&(e={}),e=i.assign({},r,e);var n,o=0,a=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>o&&(o=e.depth);var n=e.children,i=n.length,r=new function(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}(e.height,[]);return n.forEach((function(e,n){var o=t(e);r.children.push(o),0===n&&(r.leftChild=o),n===i-1&&(r.rightChild=o)})),r.originNode=e,r.isLeaf=e.isLeaf(),r}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=o;else{var n=e.children.map((function(e){return t(e)})),i=Math.min.apply(null,n);e.drawingDepth=i-1}return e.drawingDepth}(a),function t(i){i.x=i.drawingDepth*e.rankSep,i.isLeaf?(i.y=0,n&&(i.y=n.y+n.height+e.nodeSep,i.originNode.parent!==n.originNode.parent&&(i.y+=e.subTreeSep)),n=i):(i.children.forEach((function(e){t(e)})),i.y=(i.leftChild.y+i.rightChild.y)/2)}(a),function t(e,n,i){i?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach((function(e,r){t(e,n.children[r],i)}))}(a,t,e.isHorizontal),t}},function(t,e,n){var i=n(1),r=n(12),o=n(4),a=n(0),s=["LR","RL","H"],u=s[0],c=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,i=t.direction||u;if(i&&-1===s.indexOf(i))throw new TypeError("Invalid direction: "+i);if(i===s[0])r(e,n);else if(i===s[1])r(e,n),e.right2left();else if(i===s[2]){var a=o(e,t),c=a.left,h=a.right;r(c,n),c.right2left(),r(h,n);var l=c.getBoundingBox();h.translate(l.width,0),e.x=h.x-e.width/2}return e},e}(i),h={};t.exports=function(t,e){return e=a.assign({},h,e),new c(t,e).execute()}},function(t,e){t.exports=function(t,e){void 0===e&&(e=20);var n=null;t.eachNode((function(t){!function(t,e,n){t.x+=n*t.depth,t.y=e?e.y+e.height:0}(t,n,e),n=t}))}},function(t,e,n){var i=n(1),r=n(14),o=n(2),a=n(0),s=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t),e.prototype.execute=function(){return o(this.rootNode,this.options,r)},e}(i),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},function(t,e,n){var i=n(0),r={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=i.assign({},r,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse((function(t){t.x=t.parent.x+t.parent.width})),t.parent=null,function t(e,n){var i=0;return e.children.length?e.children.forEach((function(e){i+=t(e,n)})):i=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,i)+2*e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode((function(t){var e=t.children,n=e.length;if(n){var i=e[0];if(i.startY=t.startY+t._subTreeSep,1===n)i.y=t.y+t.height/2-i.height/2;else{i.y=i.startY+i.totalHeight/2-i.height/2;for(var r=1;r<n;r++){var o=e[r];o.startY=e[r-1].startY+e[r-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),function t(e){var n=e.children,i=n.length;if(i){n.forEach((function(e){t(e)}));var r=n[0],o=n[i-1],a=o.y-r.y+o.height,s=0;if(n.forEach((function(t){s+=t.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==n.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;n.forEach((function(t){t.translate(0,u)}))}else e.y=(r.y+r.height/2+o.y+o.height/2)/2-e.height/2}}(t)}}])}))},function(t,e,n){var i=n(204),r=n(1);function o(t,e){var n=-1;return r.each(t,(function(t,i){if(e.id===t.id)return n=i,!1})),n}var a=function(t){function e(e){var n;return(n=t.call(this,e)||this).set("removeList",[]),n.set("layoutMethod",n._getLayout()),n}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},n.render=function(){if(!this.get("data"))throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.refreshLayout(this.get("fitView")),this.emit("afterrender")},n.addChild=function(t,e){r.isString(e)||(e=e.get("id"));var n=this.findDataById(e);n.children||(n.children=[]),n.children.push(t),this.changeData()},n._addChild=function(t,e,n){var i=this,o=t.data;o.x=t.x,o.y=t.y,o.depth=t.depth;var a=i.addItem("node",o);if(e){if(a.set("parent",e),n){var s=e.get("origin");if(s)a.set("origin",s);else{var u=e.getModel();a.set("origin",{x:u.x,y:u.y})}}var c=e.get("children");c?c.push(a):e.set("children",[a]),i.addItem("edge",{source:e,target:a,id:e.get("id")+":"+a.get("id")})}return r.each(t.children,(function(t){i._addChild(t,a,n)})),a},n.changeData=function(t){t?(this.data(t),this.render()):this.refreshLayout(this.get("fitView"))},n.updateChild=function(t,e){if(e&&this.findById(e)){var n=this.findById(e).getModel(),i=this.findById(t.id);if(i){var r=o(n.children,t);n.children[r]=t}else n.children?n.children.push(t):n.children=[i];this.changeData()}else this.changeData(t)},n._updateChild=function(t,e,n){var i=this,a=i.findById(t.id);if(a){r.each(t.children,(function(t){i._updateChild(t,a,n)}));var s=a.get("children");if(s&&s.length>0)for(var u,c=s.length-1;c>=0;c--)u=s[c].getModel(),-1===o(t.children,u)&&(i._removeChild(u.id,{x:t.x,y:t.y},n),s.splice(c,1));var h=a.getModel();n&&a.set("origin",{x:h.x,y:h.y}),a.set("model",t.data),a.updatePosition({x:t.x,y:t.y})}else i._addChild(t,e,n)},n.removeChild=function(t){var e=this.findById(t);if(e){var n=e.get("parent");if(n&&!n.destroyed){var i=this.findDataById(n.get("id")).children,r=o(i,e.getModel());i.splice(r,1)}this.changeData()}},n._removeChild=function(t,e,n){var i=this,o=i.findById(t);if(o)if(r.each(o.get("children"),(function(t){i._removeChild(t.getModel().id,e,n)})),n){var a=o.getModel();o.set("to",e),o.set("origin",{x:a.x,y:a.y}),i.get("removeList").push(o)}else i.removeItem(o)},n.save=function(){return this.get("data")},n.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var i=null;return r.each(e.children,(function(e){return e.id===t?(i=e,!1):!(i=n.findDataById(t,e))&&void 0})),i},n.changeLayout=function(t){t?(this.set("layout",t),this.set("layoutMethod",this._getLayout()),this.refreshLayout()):console.warn("layout cannot be null")},n.refreshLayout=function(t){var e=this.get("data"),n=this.get("layoutMethod")(e,this.get("layout")),i=this.get("animate"),r=this.get("autoPaint");this.emit("beforerefreshlayout",{data:e,layoutData:n}),this.setAutoPaint(!1),this._updateChild(n,null,i),t&&this.get("viewController")._fitView(),i?this.layoutAnimate(n,null):(this.refresh(),this.paint()),this.setAutoPaint(r),this.emit("afterrefreshlayout",{data:e,layoutData:n})},n.layoutAnimate=function(t,e){var n=this,i=this;this.setAutoPaint(!1);var o=this.get("animateCfg");i.emit("beforeanimate",{data:t}),i.getEdges().forEach((function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))})),this.get("canvas").animate({onFrame:function(n){r.traverseTree(t,(function(o){var a=i.findById(o.id);if(a){var s=a.get("origin"),u=a.get("model");if(s||(s={x:u.x,y:u.y},a.set("origin",s)),e){var c=e(a,n,s,t);a.set("model",r.mix(u,c))}else u.x=s.x+(o.x-s.x)*n,u.y=s.y+(o.y-s.y)*n}})),r.each(i.get("removeList"),(function(t){var e=t.getModel(),i=t.get("origin"),r=t.get("to");e.x=i.x+(r.x-i.x)*n,e.y=i.y+(r.y-i.y)*n})),i.refreshPositions()}},o.duration,o.ease,(function(){r.each(i.getNodes(),(function(t){t.set("origin",null)})),r.each(i.get("removeList"),(function(t){i.removeItem(t)})),i.set("removeList",[]),o.callback&&o.callback(),i.paint(),n.setAutoPaint(!0),i.emit("afteranimate",{data:t})}),o.delay)},n.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},n.isLayoutAnimating=function(){return this.layoutAnimating},n._getLayout=function(){var t=this.get("layout");return t?"function"==typeof t?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=i[t.type](e,t);return r.radialLayout(n),n}:function(e){return i[t.type](e,t)}):null},e}(n(115));t.exports=a},function(t,e,n){function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var o=n(16),a=n(2),s=function(){var t=e.prototype;function e(t){this.graph=t;var e=t.get("groupStyle");this.styles=a({},this.getDefaultCfg(),e),this.customGroup={},this.delegateInGroup={},this.nodePoint=[]}return t.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:40,maxDis:100},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},t.create=function(t,e,n,o,a,s){void 0===n&&(n="circle"),void 0===o&&(o=0),void 0===a&&(a=!1),void 0===s&&(s={});var u=this.graph,c=u.get("customGroup");if(c.get("children").map((function(t){return t.get("id")})).indexOf(t)>-1)return console.warn("ID "+t+" ID");var h=c.addGroup({id:t,zIndex:o}),l=u.get("autoPaint");u.setAutoPaint(!1);var d=this.styles.default,f=this.calculationGroupPosition(e),p=f.x,g=f.y,v=f.width,m=f.height,y=f.maxX,b=this.getGroupPadding(t);u.get("groupBBoxs")[t]={x:p,y:g,width:v,height:m,maxX:y};var x=null;if(a){var w=u.get("groups");e.forEach((function(e){var n=u.findById(e).getModel();n.groupId||(n.groupId=t)})),w.find((function(e){return e.id===t}))||(w.push({id:t,title:s}),u.set({groups:w}))}var _=u.get("groups").filter((function(e){return e.id===t}));_&&_.length>0&&(x=_[0].title);var M=0,k=0,S=null;if("circle"===n){var E=(v+2*p)/2,C=(m+2*g)/2,T=(v>m?v/2:m/2)+b;S=h.addShape("circle",{attrs:r({},d,{x:E,y:C,r:T}),capture:!0,zIndex:o,groupId:t}),M=E,k=C-T,this.setDeletageGroupByStyle(t,h,{width:v,height:m,x:E,y:C,r:T})}else{var P=b*d.disCoefficient;S=h.addShape("rect",{attrs:r({},d,{x:p-P,y:g-P,width:v+2*P,height:m+2*P}),capture:!0,zIndex:o,groupId:t}),M=p-P+15,k=g-P+15,this.setDeletageGroupByStyle(t,h,{x:p-P,y:g-P,width:v+P,height:m+P,btnOffset:y-3})}if(x){var A=x,O=A.offsetX,D=void 0===O?0:O,N=A.offsetY,I=void 0===N?0:N,L=A.text,j=void 0===L?x:L,B=i(A,["offsetX","offsetY","text"]);h.addShape("text",{attrs:r({text:j,stroke:"#444",x:M+D,y:k+I},B),className:"group-title"}).set("capture",!1)}h.set("keyShape",S),u.get("groupNodes")[t]=e,u.setAutoPaint(l),u.paint()},t.setGroupStyle=function(t,e){if(t&&!t.get("destroyed")){var n={},i=this.styles,r=i.hover,s=i.default;for(var u in o(e)?"default"===e?n=a({},s):"hover"===e&&(n=a({},r)):n=a({},s,e),n)t.attr(u,n[u])}},t.calculationGroupPosition=function(t){var e=this.graph,n=1/0,i=-1/0,r=1/0,a=-1/0,s=t,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var h;if(u){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var l=h,d=(o(l)?e.findById(l):l).getBBox(),f=d.minX,p=d.minY,g=d.maxX,v=d.maxY;f<n&&(n=f),p<r&&(r=p),g>i&&(i=g),v>a&&(a=v)}var m=Math.floor(n),y=Math.floor(r);return{x:m,y:y,width:Math.ceil(i)-m,height:Math.ceil(a)-y,maxX:Math.ceil(i)}},t.getGroupPadding=function(t){var e=this.graph,n=this.styles.default;return!!e.get("groups").filter((function(e){return e.parentId===t})).length>0?n.maxDis:n.minDis},t.setDeletageGroupByStyle=function(t,e,n){var i=n.width,r=n.height,o=n.x,s=n.y,u=n.r,c=n.btnOffset,h=this.customGroup[t];if(h){var l=h.groupStyle,d=a({},l,n);this.customGroup[t]={nodeGroup:e,groupStyle:d}}else this.customGroup[t]={nodeGroup:e,groupStyle:{width:i,height:r,x:o,y:s,r:u,btnOffset:c}}},t.getDeletageGroupById=function(t){return this.customGroup[t]},t.collapseExpandGroup=function(t){var e=this.getDeletageGroupById(t).nodeGroup;e.get("hasHidden")?(e.set("hasHidden",!1),this.expandGroup(t)):(e.set("hasHidden",!0),this.collapseGroup(t))},t.setGroupTmpNode=function(t,e){var n=this.graph,i=n.get("groupNodes"),r=n.get("groups");i[t].indexOf(e)<0&&i[t].push(e);var o=r.filter((function(e){return e.id===t})),a=null;o.length>0&&(a=o[0].parentId),a&&this.setGroupTmpNode(a,e)},t.collapseGroup=function(t){var e=this,n=this.getDeletageGroupById(t).nodeGroup,r=this.styles.collapse,o=this.graph,a=o.get("groupType"),s=o.get("autoPaint");o.setAutoPaint(!1);var u=o.get("groupNodes")[t],c=this.calculationGroupPosition(u),h=c.width,l=c.height,d=n.get("keyShape"),f=r.r,p=r.width,g=r.height,v=r.offsetX,m=r.offsetY,y=i(r,["r","width","height","offsetX","offsetY"]);for(var b in y)d.attr(b,y[b]);var x={groupId:t,id:t+"-custom-node",x:d.attr("x"),y:d.attr("y"),style:{r:f},shape:"circle"},w=n.findByClassName("group-title");if("circle"===a){var _=d.attr("r");d.animate({onFrame:function(t){return{r:_-t*(_-f)}}},500,"easeCubic"),w&&w.attr({x:d.attr("x")+v,y:d.attr("y")+m})}else"rect"===a&&(d.animate({onFrame:function(t){return{width:h-t*(h-p),height:l-t*(l-g)}}},500,"easeCubic"),w&&w.attr({x:d.attr("x")+10,y:d.attr("y")+g/2+5}),x={groupId:t,id:t+"-custom-node",x:d.attr("x")+p/2,y:d.attr("y")+g/2,size:[p,g],shape:"rect"});var M=o.getEdges(),k=M.filter((function(t){var e=t.getModel();return!u.includes(e.source)&&u.includes(e.target)})),S=M.filter((function(t){var e=t.getModel();return u.includes(e.source)&&!u.includes(e.target)})),E=M.filter((function(t){var e=t.getModel();return u.includes(e.source)&&u.includes(e.target)}));if(u.forEach((function(n){var i=o.findById(n),r=i.getModel().groupId;r&&r!==t&&e.getDeletageGroupById(r).nodeGroup.hide(),i.hide()})),E.forEach((function(t){var e=t.getSource(),n=t.getTarget();e.isVisible()&&n.isVisible()?t.show():t.hide()})),k.length>0||S.length>0){var C=o.add("node",x);C.set("capture",!1),C.hide(),this.delegateInGroup[t]={delegateNode:C},this.setGroupTmpNode(t,t+"-custom-node"),this.updateEdgeInGroupLinks(t,k,S)}o.paint(),o.setAutoPaint(s)},t.updateEdgeInGroupLinks=function(t,e,n){var i=this.graph,r={};e.map((function(e){var n=e.getModel(),o=e.get("id"),a=n.target;return r[o]=a,i.updateItem(e,{target:t+"-custom-node"}),!0}));var o={};n.map((function(e){var n=e.getModel(),r=e.get("id"),a=n.source;return o[r]=a,i.updateItem(e,{source:t+"-custom-node"}),!0})),this.delegateInGroup[t]=a({sourceOutTargetInEdges:e,sourceInTargetOutEdges:n,edgesOuts:r,edgesIn:o},this.delegateInGroup[t])},t.expandGroup=function(t){var e=this,n=this.graph,i=n.get("groupType"),r=n.get("autoPaint");n.setAutoPaint(!1);var o=n.get("groupNodes")[t],a=o.filter((function(t){return-1===t.indexOf("custom-node")})),s=this.calculationGroupPosition(a),u=s.width,c=s.height,h=this.getDeletageGroupById(t).nodeGroup,l=h.get("keyShape"),d=this.styles,f=d.default,p=d.collapse;for(var g in f)l.attr(g,f[g]);var v=h.findByClassName("group-title"),m=this.getGroupPadding(t);if("circle"===i){var y=u>c?u/2:c/2;l.animate({onFrame:function(t){return{r:p.r+t*(y-p.r+m)}}},500,"easeCubic")}else if("rect"===i){var b=p.width,x=p.height;l.animate({onFrame:function(t){return{width:b+t*(u-b+m*f.disCoefficient*2),height:x+t*(c-x+m*f.disCoefficient*2)}}},500,"easeCubic")}if(v){var w=null,_=n.get("groups").filter((function(e){return e.id===t}));_&&_.length>0&&(w=_[0].title);var M=w,k=M.offsetX,S=void 0===k?0:k,E=M.offsetY,C=void 0===E?0:E;"circle"===i?v.animate({onFrame:function(t){return{x:l.attr("x")+S,y:l.attr("y")-t*l.attr("r")+C}}},600,"easeCubic"):"rect"===i&&v.animate({onFrame:function(t){return{x:l.attr("x")+t*(15+S),y:l.attr("y")+t*(15+C)}}},600,"easeCubic")}setTimeout((function(){o.forEach((function(i){var r=n.findById(i),o=r.getModel().groupId;if(o&&o!==t){var a=e.getDeletageGroupById(o).nodeGroup;a.show(),a.get("hasHidden")||r.show()}else r.show()})),n.getEdges().filter((function(t){var e=t.getModel();return o.includes(e.source)||o.includes(e.target)})).forEach((function(t){var e=t.getSource(),n=t.getTarget();e.isVisible()&&n.isVisible()&&t.show()}))}),300);var T=this.delegateInGroup[t];if(T){var P=T.sourceOutTargetInEdges,A=T.sourceInTargetOutEdges,O=T.edgesOuts,D=T.edgesIn,N=T.delegateNode;P.map((function(t){var e=t.get("id"),i=O[e];return n.updateItem(t,{target:i}),!0})),A.map((function(t){var e=t.get("id"),i=D[e];return n.updateItem(t,{source:i}),!0}));var I=N.getModel();this.deleteTmpNode(t,I.id),n.remove(N),delete this.delegateInGroup[t]}n.setAutoPaint(r),n.paint()},t.deleteTmpNode=function(t,e){var n=this.graph,i=n.get("groups"),r=n.get("groupNodes")[t],o=r.indexOf(e);r.splice(o,1);var a=i.filter((function(e){return e.id===t})),s=null;a.length>0&&(s=a[0].parentId),s&&this.deleteTmpNode(s,e)},t.remove=function(t){var e=this.graph,n=this.getDeletageGroupById(t);if(n){var i=n.nodeGroup,r=e.get("autoPaint");e.setAutoPaint(!1);var o=e.get("groupNodes"),a=o[t];a.forEach((function(n){var i=e.findById(n),r=i.getModel(),o=r.groupId;o&&t===o&&(delete r.groupId,e.updateItem(i,r))})),i.destroy(),delete this.customGroup[t];var s=e.get("groups");if(s.length>0){var u=s.filter((function(e){return e.id!==t}));e.set("groups",u)}var c=null,h=null,l=s,d=Array.isArray(l),f=0;for(l=d?l:l[Symbol.iterator]();;){var p;if(d){if(f>=l.length)break;p=l[f++]}else{if((f=l.next()).done)break;p=f.value}var g=p;if(t===g.id){c=g.parentId,h=g;break}}h&&delete h.parentId,delete o[t],c&&(o[c]=o[c].filter((function(t){return!a.includes(t)}))),e.setAutoPaint(r),e.paint()}else console.warn("groupId "+t+" ")},t.updateGroup=function(t,e){var n=this.graph,i=n.get("groupType");this.updateItemInGroup(t,e);var r=null,o=null,a=n.save().groups,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(u>=a.length)break;c=a[u++]}else{if((u=a.next()).done)break;c=u.value}var h=c;if(t===h.id){r=h.parentId,o=h;break}}if(r){var l=this.getDeletageGroupById(r).nodeGroup,d=l.get("keyShape");this.setGroupStyle(d,"default");var f=d.getBBox(),p=f.minX,g=f.minY,v=f.maxX,m=f.maxY,y=this.getDeletageGroupById(t).nodeGroup.get("keyShape").getBBox(),b=y.x,x=y.y;if(!(b<v&&b>p&&x<m&&x>g)){delete o.parentId;var w=n.get("groupNodes"),_=w[t],M=w[r];w[r]=M.filter((function(t){return-1===_.indexOf(t)}));var k=this.calculationGroupPosition(w[r]),S=k.x,E=k.y,C=k.width,T=k.height,P=this.getGroupPadding(r),A=l.findByClassName("group-title"),O=0,D=0;if("circle"===i){var N=C>T?C/2:T/2,I=(C+2*S)/2,L=(T+2*E)/2;d.attr({r:N+P,x:I,y:L}),O=I,D=L-d.attr("r")}else if("rect"===i){var j=P*this.styles.default.disCoefficient;d.attr({x:S-j,y:E-j}),O=S-j+15,D=E-j+15}if(A){var B=o.title,R=0,z=0;B&&(R=B.offsetX,z=B.offsetY),A.attr({x:O+R,y:D+z})}}}},t.updateItemInGroup=function(t,e){var n=this,i=this.graph,r=i.get("groupType"),o=i.get("groupNodes"),a=o[t],s=this.getDeletageGroupById(t).nodeGroup.getBBox(),u=[];a.forEach((function(t,r){var o=i.findById(t),a=o.getModel(),c=a.groupId;c&&!u.includes(c)&&u.push(c),n.nodePoint[r]||(n.nodePoint[r]={x:a.x,y:a.y});var h=e.x-s.x+n.nodePoint[r].x,l=e.y-s.y+n.nodePoint[r].y;n.nodePoint[r]={x:h,y:l},i.updateItem(o,{x:h,y:l})})),u.includes(t)||u.push(t),u.forEach((function(t){var e=n.getDeletageGroupById(t).nodeGroup,i=e.get("keyShape"),a=o[t].filter((function(t){return-1===t.indexOf("custom-node")})),s=n.calculationGroupPosition(a),u=s.x,c=s.y,h=s.width,l=s.height,d=0,f=0;if("circle"===r){var p=(h+2*u)/2,g=(l+2*c)/2;i.attr({x:p,y:g}),d=p,f=g-i.attr("r")}else if("rect"===r){var v=e.get("hasHidden"),m={},y=n.getGroupPadding(t)*n.styles.default.disCoefficient;d=u-y+15,f=c-y+15,v?(m={x:u-y,y:c-y},f+=10):m={x:u-y,y:c-y,width:h+2*y,height:l+2*y},i.attr(m)}n.updateGroupTitle(e,t,d,f)}))},t.updateGroupTitle=function(t,e,n,i){var r=this.graph,o=t.findByClassName("group-title");if(o){var a=null,s=r.get("groups").filter((function(t){return t.id===e}));s&&s.length>0&&(a=s[0].title);var u=0,c=0;a&&(u=a.offsetX||0,c=a.offsetY||0),o.attr({x:n+u,y:i+c})}},t.dynamicChangeGroupSize=function(t,e,n){var i=t.item.getModel().groupId,r=this.graph,o=r.get("groupType"),a=r.get("groupNodes"),s=a[i];if(0===s.length){delete a[i];var u=r.get("groups");r.set("groups",u.filter((function(t){return t.id!==i}))),e.remove()}else{var c=this.calculationGroupPosition(s),h=c.x,l=c.y,d=c.width,f=c.height,p=this.getGroupPadding(i),g=0,v=0;if("circle"===o){var m=d>f?d/2:f/2,y=(d+2*h)/2,b=(f+2*l)/2;n.attr({r:m+p,x:y,y:b}),g=y,v=b-n.attr("r")}else if("rect"===o){var x=p*this.styles.default.disCoefficient;n.attr({x:h-x,y:l-x,width:d+2*x,height:f+2*x}),g=h-x+15,v=l-x+15}this.updateGroupTitle(e,i,g,v)}this.setGroupStyle(n,"default")},t.resetNodePoint=function(){this.nodePoint.length=0},t.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint()},e}();t.exports=s},function(t,e,n){"use strict";var i=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(i.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e,n){t.exports=function(){return n(207)('!function(n){var r={};function e(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var i in n)e.d(t,i,function(r){return n[r]}.bind(null,i));return t},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=318)}([function(n,r,e){var t;try{t={cloneDeep:e(188),constant:e(53),defaults:e(187),each:e(101),filter:e(98),find:e(186),flatten:e(71),forEach:e(100),forIn:e(181),has:e(87),isUndefined:e(86),last:e(180),map:e(85),mapValues:e(179),max:e(178),merge:e(176),min:e(170),minBy:e(169),now:e(168),pick:e(167),range:e(162),reduce:e(83),sortBy:e(159),uniqueId:e(154),values:e(78),zipObject:e(153)}}catch(n){}t||(t=window._),n.exports=t},function(n,r){var e=Array.isArray;n.exports=e},function(n,r,e){"use strict";var t=e(0),i=e(6).Graph;function o(n,r,e,i){var o;do{o=t.uniqueId(i)}while(n.hasNode(o));return e.dummy=r,n.setNode(o,e),o}function u(n){return t.max(t.map(n.nodes(),function(r){var e=n.node(r).rank;if(!t.isUndefined(e))return e}))}n.exports={addDummyNode:o,simplify:function(n){var r=(new i).setGraph(n.graph());return t.forEach(n.nodes(),function(e){r.setNode(e,n.node(e))}),t.forEach(n.edges(),function(e){var t=r.edge(e.v,e.w)||{weight:0,minlen:1},i=n.edge(e);r.setEdge(e.v,e.w,{weight:t.weight+i.weight,minlen:Math.max(t.minlen,i.minlen)})}),r},asNonCompoundGraph:function(n){var r=new i({multigraph:n.isMultigraph()}).setGraph(n.graph());return t.forEach(n.nodes(),function(e){n.children(e).length||r.setNode(e,n.node(e))}),t.forEach(n.edges(),function(e){r.setEdge(e,n.edge(e))}),r},successorWeights:function(n){var r=t.map(n.nodes(),function(r){var e={};return t.forEach(n.outEdges(r),function(r){e[r.w]=(e[r.w]||0)+n.edge(r).weight}),e});return t.zipObject(n.nodes(),r)},predecessorWeights:function(n){var r=t.map(n.nodes(),function(r){var e={};return t.forEach(n.inEdges(r),function(r){e[r.v]=(e[r.v]||0)+n.edge(r).weight}),e});return t.zipObject(n.nodes(),r)},intersectRect:function(n,r){var e,t,i=n.x,o=n.y,u=r.x-i,a=r.y-o,c=n.width/2,s=n.height/2;if(!u&&!a)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(a)*c>Math.abs(u)*s?(a<0&&(s=-s),e=s*u/a,t=s):(u<0&&(c=-c),e=c,t=c*a/u);return{x:i+e,y:o+t}},buildLayerMatrix:function(n){var r=t.map(t.range(u(n)+1),function(){return[]});return t.forEach(n.nodes(),function(e){var i=n.node(e),o=i.rank;t.isUndefined(o)||(r[o][i.order]=e)}),r},normalizeRanks:function(n){var r=t.min(t.map(n.nodes(),function(r){return n.node(r).rank}));t.forEach(n.nodes(),function(e){var i=n.node(e);t.has(i,"rank")&&(i.rank-=r)})},removeEmptyRanks:function(n){var r=t.min(t.map(n.nodes(),function(r){return n.node(r).rank})),e=[];t.forEach(n.nodes(),function(t){var i=n.node(t).rank-r;e[i]||(e[i]=[]),e[i].push(t)});var i=0,o=n.graph().nodeRankFactor;t.forEach(e,function(r,e){t.isUndefined(r)&&e%o!=0?--i:i&&t.forEach(r,function(r){n.node(r).rank+=i})})},addBorderNode:function(n,r,e,t){var i={width:0,height:0};arguments.length>=4&&(i.rank=e,i.order=t);return o(n,"border",i,r)},maxRank:u,partition:function(n,r){var e={lhs:[],rhs:[]};return t.forEach(n,function(n){r(n)?e.lhs.push(n):e.rhs.push(n)}),e},time:function(n,r){var e=t.now();try{return r()}finally{console.log(n+" time: "+(t.now()-e)+"ms")}},notime:function(n,r){return r()}}},function(n,r){n.exports=function(n){var r=typeof n;return null!=n&&("object"==r||"function"==r)}},function(n,r,e){var t;try{t={clone:e(300),constant:e(53),each:e(101),filter:e(98),has:e(87),isArray:e(1),isEmpty:e(224),isFunction:e(25),isUndefined:e(86),keys:e(11),map:e(85),reduce:e(83),size:e(221),transform:e(215),union:e(214),values:e(78)}}catch(n){}t||(t=window._),n.exports=t},function(n,r,e){var t=e(118),i="object"==typeof self&&self&&self.Object===Object&&self,o=t||i||Function("return this")();n.exports=o},function(n,r,e){var t;try{t=e(302)}catch(n){}t||(t=window.graphlib),n.exports=t},function(n,r,e){var t=e(45),i={registerLayout:function(n,r){if(!r)throw new Error("please specify handler for this layout:"+n);var e=function(n){t.mix(this,this.getDefaultCfg(),n)};t.augment(e,{init:function(n){this.nodes=n.nodes,this.edges=n.edges},execute:function(){},layout:function(n){this.init(n),this.execute()},updateCfg:function(n){t.mix(this,n)},destroy:function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},getDefaultCfg:function(){}},r),i[n]=e}};n.exports=i},function(n,r){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,r,e){var t=e(244),i=e(234),o=e(12),u=e(1),a=e(227);n.exports=function(n){return"function"==typeof n?n:null==n?o:"object"==typeof n?u(n)?i(n[0],n[1]):t(n):a(n)}},function(n,r,e){var t=e(25),i=e(59);n.exports=function(n){return null!=n&&i(n.length)&&!t(n)}},function(n,r,e){var t=e(115),i=e(57),o=e(10);n.exports=function(n){return o(n)?t(n):i(n)}},function(n,r){n.exports=function(n){return n}},function(n,r,e){var t=e(19),i=e(288),o=e(287),u="[object Null]",a="[object Undefined]",c=t?t.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?a:u:c&&c in Object(n)?i(n):o(n)}},function(n,r,e){var t=e(289),i=e(284);n.exports=function(n,r){var e=i(n,r);return t(e)?e:void 0}},function(n,r,e){var t=e(13),i=e(8),o="[object Symbol]";n.exports=function(n){return"symbol"==typeof n||i(n)&&t(n)==o}},function(n,r,e){var t=e(259),i=e(63),o=e(258),u=e(106),a=e(257),c=e(13),s=e(117),f=s(t),h=s(i),l=s(o),d=s(u),p=s(a),v=c;(t&&"[object DataView]"!=v(new t(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||u&&"[object Set]"!=v(new u)||a&&"[object WeakMap]"!=v(new a))&&(v=function(n){var r=c(n),e="[object Object]"==r?n.constructor:void 0,t=e?s(e):"";if(t)switch(t){case f:return"[object DataView]";case h:return"[object Map]";case l:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return r}),n.exports=v},function(n,r,e){var t=e(115),i=e(264),o=e(10);n.exports=function(n){return o(n)?t(n,!0):i(n)}},function(n,r,e){(function(n){var t=e(5),i=e(268),o="object"==typeof r&&r&&!r.nodeType&&r,u=o&&"object"==typeof n&&n&&!n.nodeType&&n,a=u&&u.exports===o?t.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;n.exports=c}).call(this,e(60)(n))},function(n,r,e){var t=e(5).Symbol;n.exports=t},function(n,r){n.exports=function(n,r){return n===r||n!=n&&r!=r}},function(n,r,e){var t=e(15),i=1/0;n.exports=function(n){if("string"==typeof n||t(n))return n;var r=n+"";return"0"==r&&1/n==-i?"-0":r}},function(n,r,e){var t=e(267),i=e(34),o=e(58),u=o&&o.isTypedArray,a=u?i(u):t;n.exports=a},function(n,r,e){var t=e(269),i=e(8),o=Object.prototype,u=o.hasOwnProperty,a=o.propertyIsEnumerable,c=t(function(){return arguments}())?t:function(n){return i(n)&&u.call(n,"callee")&&!a.call(n,"callee")};n.exports=c},function(n,r,e){var t=e(37),i=e(36);n.exports=function(n,r,e,o){var u=!e;e||(e={});for(var a=-1,c=r.length;++a<c;){var s=r[a],f=o?o(e[s],n[s],s,e,n):void 0;void 0===f&&(f=n[s]),u?i(e,s,f):t(e,s,f)}return e}},function(n,r,e){var t=e(13),i=e(3),o="[object AsyncFunction]",u="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";n.exports=function(n){if(!i(n))return!1;var r=t(n);return r==u||r==a||r==o||r==c}},function(n,r,e){"use strict";var t=e(0);n.exports={longestPath:function(n){var r={};t.forEach(n.sources(),function e(i){var o=n.node(i);if(t.has(r,i))return o.rank;r[i]=!0;var u=t.min(t.map(n.outEdges(i),function(r){return e(r.w)-n.edge(r).minlen}));u!==Number.POSITIVE_INFINITY&&void 0!==u&&null!==u||(u=0);return o.rank=u})},slack:function(n,r){return n.node(r.w).rank-n.node(r.v).rank-n.edge(r).minlen}}},function(n,r,e){var t=e(20),i=e(10),o=e(35),u=e(3);n.exports=function(n,r,e){if(!u(e))return!1;var a=typeof r;return!!("number"==a?i(e)&&o(r,e.length):"string"==a&&r in e)&&t(e[r],n)}},function(n,r,e){var t=e(12),i=e(82),o=e(81);n.exports=function(n,r){return o(i(n,r,t),n+"")}},function(n,r){n.exports=function(n,r){for(var e=-1,t=null==n?0:n.length,i=Array(t);++e<t;)i[e]=r(n[e],e,n);return i}},function(n,r,e){var t=e(1),i=e(48),o=e(232),u=e(91);n.exports=function(n,r){return t(n)?n:i(n,r)?[n]:o(u(n))}},function(n,r,e){var t=e(52),i=e(246)(t);n.exports=i},function(n,r,e){var t=e(114)(Object.getPrototypeOf,Object);n.exports=t},function(n,r){var e=Object.prototype;n.exports=function(n){var r=n&&n.constructor;return n===("function"==typeof r&&r.prototype||e)}},function(n,r){n.exports=function(n){return function(r){return n(r)}}},function(n,r){var e=9007199254740991,t=/^(?:0|[1-9]\\d*)$/;n.exports=function(n,r){var i=typeof n;return!!(r=null==r?e:r)&&("number"==i||"symbol"!=i&&t.test(n))&&n>-1&&n%1==0&&n<r}},function(n,r,e){var t=e(116);n.exports=function(n,r,e){"__proto__"==r&&t?t(n,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[r]=e}},function(n,r,e){var t=e(36),i=e(20),o=Object.prototype.hasOwnProperty;n.exports=function(n,r,e){var u=n[r];o.call(n,r)&&i(u,e)&&(void 0!==e||r in n)||t(n,r,e)}},function(n,r,e){var t=e(275);n.exports=function(n,r){var e=n.__data__;return t(r)?e["string"==typeof r?"string":"hash"]:e.map}},function(n,r,e){var t=e(14)(Object,"create");n.exports=t},function(n,r,e){var t=e(20);n.exports=function(n,r){for(var e=n.length;e--;)if(t(n[e][0],r))return e;return-1}},function(n,r,e){var t=e(299),i=e(298),o=e(297),u=e(296),a=e(295);function c(n){var r=-1,e=null==n?0:n.length;for(this.clear();++r<e;){var t=n[r];this.set(t[0],t[1])}}c.prototype.clear=t,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=u,c.prototype.set=a,n.exports=c},function(n,r,e){var t=e(41),i=e(294),o=e(293),u=e(292),a=e(291),c=e(290);function s(n){var r=this.__data__=new t(n);this.size=r.size}s.prototype.clear=i,s.prototype.delete=o,s.prototype.get=u,s.prototype.has=a,s.prototype.set=c,n.exports=s},function(n,r,e){var t=e(44),i=Array.isArray?Array.isArray:function(n){return t(n,"Array")};n.exports=i},function(n,r){var e={}.toString;n.exports=function(n,r){return e.call(n)==="[object "+r+"]"}},function(n,r,e){var t={mix:e(125),augment:e(316),isString:e(65),getAdjMatrix:function(n,r){var e=n.nodes,t=n.edges,i=[],o=new Map;return e.forEach(function(n,r){o.set(n.id,r);i.push([])}),t.forEach(function(n){var e=n.source,t=n.target,u=o.get(e),a=o.get(t);i[u][a]=1,r||(i[a][u]=1)}),i},floydWarshall:function(n){for(var r=[],e=n.length,t=0;t<e;t+=1){r[t]=[];for(var i=0;i<e;i+=1)t===i?r[t][i]=0:0!==n[t][i]&&n[t][i]?r[t][i]=n[t][i]:r[t][i]=1/0}for(var o=0;o<e;o+=1)for(var u=0;u<e;u+=1)for(var a=0;a<e;a+=1)r[u][a]>r[u][o]+r[o][a]&&(r[u][a]=r[u][o]+r[o][a]);return r},getEDistance:function(n,r){return Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))},scaleMatrix:function(n,r){var e=[];return n.forEach(function(n){var t=[];n.forEach(function(n){t.push(n*r)}),e.push(t)}),e}};n.exports=t},function(n,r,e){var t=e(15);n.exports=function(n,r,e){for(var i=-1,o=n.length;++i<o;){var u=n[i],a=r(u);if(null!=a&&(void 0===c?a==a&&!t(a):e(a,c)))var c=a,s=u}return s}},function(n,r,e){var t=e(55),i=e(213);n.exports=function n(r,e,o,u,a){var c=-1,s=r.length;for(o||(o=i),a||(a=[]);++c<s;){var f=r[c];e>0&&o(f)?e>1?n(f,e-1,o,u,a):t(a,f):u||(a[a.length]=f)}return a}},function(n,r,e){var t=e(1),i=e(15),o=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,u=/^\\w*$/;n.exports=function(n,r){if(t(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!i(n))||u.test(n)||!o.test(n)||null!=r&&n in Object(r)}},function(n,r,e){var t=e(30),i=e(21);n.exports=function(n,r){for(var e=0,o=(r=t(r,n)).length;null!=n&&e<o;)n=n[i(r[e++])];return e&&e==o?n:void 0}},function(n,r){n.exports=function(n){var r=-1,e=Array(n.size);return n.forEach(function(n){e[++r]=n}),e}},function(n,r,e){var t=e(247)();n.exports=t},function(n,r,e){var t=e(51),i=e(11);n.exports=function(n,r){return n&&t(n,r,i)}},function(n,r){n.exports=function(n){return function(){return n}}},function(n,r,e){var t=e(105);n.exports=function(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}},function(n,r){n.exports=function(n,r){for(var e=-1,t=r.length,i=n.length;++e<t;)n[i+e]=r[e];return n}},function(n,r,e){var t=e(111),i=e(110),o=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,a=u?function(n){return null==n?[]:(n=Object(n),t(u(n),function(r){return o.call(n,r)}))}:i;n.exports=a},function(n,r,e){var t=e(33),i=e(266),o=Object.prototype.hasOwnProperty;n.exports=function(n){if(!t(n))return i(n);var r=[];for(var e in Object(n))o.call(n,e)&&"constructor"!=e&&r.push(e);return r}},function(n,r,e){(function(n){var t=e(118),i="object"==typeof r&&r&&!r.nodeType&&r,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,u=o&&o.exports===i&&t.process,a=function(){try{var n=o&&o.require&&o.require("util").types;return n||u&&u.binding&&u.binding("util")}catch(n){}}();n.exports=a}).call(this,e(60)(n))},function(n,r){var e=9007199254740991;n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=e}},function(n,r){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,r){n.exports=function(n,r){for(var e=-1,t=null==n?0:n.length;++e<t&&!1!==r(n[e],e,n););return n}},function(n,r,e){var t=e(283),i=e(276),o=e(274),u=e(273),a=e(272);function c(n){var r=-1,e=null==n?0:n.length;for(this.clear();++r<e;){var t=n[r];this.set(t[0],t[1])}}c.prototype.clear=t,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=u,c.prototype.set=a,n.exports=c},function(n,r,e){var t=e(14)(e(5),"Map");n.exports=t},function(n,r,e){"use strict";var t=e(4);n.exports=a;var i="\\0",o="\\0",u="";function a(n){this._isDirected=!t.has(n,"directed")||n.directed,this._isMultigraph=!!t.has(n,"multigraph")&&n.multigraph,this._isCompound=!!t.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(n,r){n[r]?n[r]++:n[r]=1}function s(n,r){--n[r]||delete n[r]}function f(n,r,e,o){var a=""+r,c=""+e;if(!n&&a>c){var s=a;a=c,c=s}return a+u+c+u+(t.isUndefined(o)?i:o)}function h(n,r){return f(n,r.v,r.w,r.name)}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(n){return this._label=n,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(n){return t.isFunction(n)||(n=t.constant(n)),this._defaultNodeLabelFn=n,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return t.keys(this._nodes)},a.prototype.sources=function(){var n=this;return t.filter(this.nodes(),function(r){return t.isEmpty(n._in[r])})},a.prototype.sinks=function(){var n=this;return t.filter(this.nodes(),function(r){return t.isEmpty(n._out[r])})},a.prototype.setNodes=function(n,r){var e=arguments,i=this;return t.each(n,function(n){e.length>1?i.setNode(n,r):i.setNode(n)}),this},a.prototype.setNode=function(n,r){return t.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=r),this):(this._nodes[n]=arguments.length>1?r:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=o,this._children[n]={},this._children[o][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},a.prototype.node=function(n){return this._nodes[n]},a.prototype.hasNode=function(n){return t.has(this._nodes,n)},a.prototype.removeNode=function(n){var r=this;if(t.has(this._nodes,n)){var e=function(n){r.removeEdge(r._edgeObjs[n])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],t.each(this.children(n),function(n){r.setParent(n)}),delete this._children[n]),t.each(t.keys(this._in[n]),e),delete this._in[n],delete this._preds[n],t.each(t.keys(this._out[n]),e),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this},a.prototype.setParent=function(n,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(r))r=o;else{for(var e=r+="";!t.isUndefined(e);e=this.parent(e))if(e===n)throw new Error("Setting "+r+" as parent of "+n+" would create a cycle");this.setNode(r)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=r,this._children[r][n]=!0,this},a.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]},a.prototype.parent=function(n){if(this._isCompound){var r=this._parent[n];if(r!==o)return r}},a.prototype.children=function(n){if(t.isUndefined(n)&&(n=o),this._isCompound){var r=this._children[n];if(r)return t.keys(r)}else{if(n===o)return this.nodes();if(this.hasNode(n))return[]}},a.prototype.predecessors=function(n){var r=this._preds[n];if(r)return t.keys(r)},a.prototype.successors=function(n){var r=this._sucs[n];if(r)return t.keys(r)},a.prototype.neighbors=function(n){var r=this.predecessors(n);if(r)return t.union(r,this.successors(n))},a.prototype.isLeaf=function(n){return 0===(this.isDirected()?this.successors(n):this.neighbors(n)).length},a.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var e=this;t.each(this._nodes,function(e,t){n(t)&&r.setNode(t,e)}),t.each(this._edgeObjs,function(n){r.hasNode(n.v)&&r.hasNode(n.w)&&r.setEdge(n,e.edge(n))});var i={};return this._isCompound&&t.each(r.nodes(),function(n){r.setParent(n,function n(t){var o=e.parent(t);return void 0===o||r.hasNode(o)?(i[t]=o,o):o in i?i[o]:n(o)}(n))}),r},a.prototype.setDefaultEdgeLabel=function(n){return t.isFunction(n)||(n=t.constant(n)),this._defaultEdgeLabelFn=n,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return t.values(this._edgeObjs)},a.prototype.setPath=function(n,r){var e=this,i=arguments;return t.reduce(n,function(n,t){return i.length>1?e.setEdge(n,t,r):e.setEdge(n,t),t}),this},a.prototype.setEdge=function(){var n,r,e,i,o=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(n=u.v,r=u.w,e=u.name,2===arguments.length&&(i=arguments[1],o=!0)):(n=u,r=arguments[1],e=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),n=""+n,r=""+r,t.isUndefined(e)||(e=""+e);var a=f(this._isDirected,n,r,e);if(t.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=i),this;if(!t.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(r),this._edgeLabels[a]=o?i:this._defaultEdgeLabelFn(n,r,e);var s=function(n,r,e,t){var i=""+r,o=""+e;if(!n&&i>o){var u=i;i=o,o=u}var a={v:i,w:o};t&&(a.name=t);return a}(this._isDirected,n,r,e);return n=s.v,r=s.w,Object.freeze(s),this._edgeObjs[a]=s,c(this._preds[r],n),c(this._sucs[n],r),this._in[r][a]=s,this._out[n][a]=s,this._edgeCount++,this},a.prototype.edge=function(n,r,e){var t=1===arguments.length?h(this._isDirected,arguments[0]):f(this._isDirected,n,r,e);return this._edgeLabels[t]},a.prototype.hasEdge=function(n,r,e){var i=1===arguments.length?h(this._isDirected,arguments[0]):f(this._isDirected,n,r,e);return t.has(this._edgeLabels,i)},a.prototype.removeEdge=function(n,r,e){var t=1===arguments.length?h(this._isDirected,arguments[0]):f(this._isDirected,n,r,e),i=this._edgeObjs[t];return i&&(n=i.v,r=i.w,delete this._edgeLabels[t],delete this._edgeObjs[t],s(this._preds[r],n),s(this._sucs[n],r),delete this._in[r][t],delete this._out[n][t],this._edgeCount--),this},a.prototype.inEdges=function(n,r){var e=this._in[n];if(e){var i=t.values(e);return r?t.filter(i,function(n){return n.v===r}):i}},a.prototype.outEdges=function(n,r){var e=this._out[n];if(e){var i=t.values(e);return r?t.filter(i,function(n){return n.w===r}):i}},a.prototype.nodeEdges=function(n,r){var e=this.inEdges(n,r);if(e)return e.concat(this.outEdges(n,r))}},function(n,r,e){var t=e(44);n.exports=function(n){return t(n,"String")}},function(n,r,e){"use strict";e.r(r);var t=function(n,r){var e;function t(){var t,i,o=e.length,u=0,a=0;for(t=0;t<o;++t)u+=(i=e[t]).x,a+=i.y;for(u=u/o-n,a=a/o-r,t=0;t<o;++t)(i=e[t]).x-=u,i.y-=a}return null==n&&(n=0),null==r&&(r=0),t.initialize=function(n){e=n},t.x=function(r){return arguments.length?(n=+r,t):n},t.y=function(n){return arguments.length?(r=+n,t):r},t};function i(n,r,e,t){if(isNaN(r)||isNaN(e))return n;var i,o,u,a,c,s,f,h,l,d=n._root,p={data:t},v=n._x0,g=n._y0,m=n._x1,y=n._y1;if(!d)return n._root=p,n;for(;d.length;)if((s=r>=(o=(v+m)/2))?v=o:m=o,(f=e>=(u=(g+y)/2))?g=u:y=u,i=d,!(d=d[h=f<<1|s]))return i[h]=p,n;if(a=+n._x.call(null,d.data),c=+n._y.call(null,d.data),r===a&&e===c)return p.next=d,i?i[h]=p:n._root=p,n;do{i=i?i[h]=new Array(4):n._root=new Array(4),(s=r>=(o=(v+m)/2))?v=o:m=o,(f=e>=(u=(g+y)/2))?g=u:y=u}while((h=f<<1|s)==(l=(c>=u)<<1|a>=o));return i[l]=d,i[h]=p,n}var o=function(n,r,e,t,i){this.node=n,this.x0=r,this.y0=e,this.x1=t,this.y1=i};function u(n){return n[0]}function a(n){return n[1]}function c(n,r,e){var t=new s(null==r?u:r,null==e?a:e,NaN,NaN,NaN,NaN);return null==n?t:t.addAll(n)}function s(n,r,e,t,i,o){this._x=n,this._y=r,this._x0=e,this._y0=t,this._x1=i,this._y1=o,this._root=void 0}function f(n){for(var r={data:n.data},e=r;n=n.next;)e=e.next={data:n.data};return r}var h=c.prototype=s.prototype;h.copy=function(){var n,r,e=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=f(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=f(r));return e},h.add=function(n){var r=+this._x.call(null,n),e=+this._y.call(null,n);return i(this.cover(r,e),r,e,n)},h.addAll=function(n){var r,e,t,o,u=n.length,a=new Array(u),c=new Array(u),s=1/0,f=1/0,h=-1/0,l=-1/0;for(e=0;e<u;++e)isNaN(t=+this._x.call(null,r=n[e]))||isNaN(o=+this._y.call(null,r))||(a[e]=t,c[e]=o,t<s&&(s=t),t>h&&(h=t),o<f&&(f=o),o>l&&(l=o));if(s>h||f>l)return this;for(this.cover(s,f).cover(h,l),e=0;e<u;++e)i(this,a[e],c[e],n[e]);return this},h.cover=function(n,r){if(isNaN(n=+n)||isNaN(r=+r))return this;var e=this._x0,t=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(n))+1,o=(t=Math.floor(r))+1;else{for(var u,a,c=i-e,s=this._root;e>n||n>=i||t>r||r>=o;)switch(a=(r<t)<<1|n<e,(u=new Array(4))[a]=s,s=u,c*=2,a){case 0:i=e+c,o=t+c;break;case 1:e=i-c,o=t+c;break;case 2:i=e+c,t=o-c;break;case 3:e=i-c,t=o-c}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=t,this._x1=i,this._y1=o,this},h.data=function(){var n=[];return this.visit(function(r){if(!r.length)do{n.push(r.data)}while(r=r.next)}),n},h.extent=function(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},h.find=function(n,r,e){var t,i,u,a,c,s,f,h=this._x0,l=this._y0,d=this._x1,p=this._y1,v=[],g=this._root;for(g&&v.push(new o(g,h,l,d,p)),null==e?e=1/0:(h=n-e,l=r-e,d=n+e,p=r+e,e*=e);s=v.pop();)if(!(!(g=s.node)||(i=s.x0)>d||(u=s.y0)>p||(a=s.x1)<h||(c=s.y1)<l))if(g.length){var m=(i+a)/2,y=(u+c)/2;v.push(new o(g[3],m,y,a,c),new o(g[2],i,y,m,c),new o(g[1],m,u,a,y),new o(g[0],i,u,m,y)),(f=(r>=y)<<1|n>=m)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-f],v[v.length-1-f]=s)}else{var x=n-+this._x.call(null,g.data),w=r-+this._y.call(null,g.data),b=x*x+w*w;if(b<e){var _=Math.sqrt(e=b);h=n-_,l=r-_,d=n+_,p=r+_,t=g.data}}return t},h.remove=function(n){if(isNaN(o=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n)))return this;var r,e,t,i,o,u,a,c,s,f,h,l,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(a=(p+g)/2))?p=a:g=a,(f=u>=(c=(v+m)/2))?v=c:m=c,r=d,!(d=d[h=f<<1|s]))return this;if(!d.length)break;(r[h+1&3]||r[h+2&3]||r[h+3&3])&&(e=r,l=h)}for(;d.data!==n;)if(t=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,t?(i?t.next=i:delete t.next,this):r?(i?r[h]=i:delete r[h],(d=r[0]||r[1]||r[2]||r[3])&&d===(r[3]||r[2]||r[1]||r[0])&&!d.length&&(e?e[l]=d:this._root=d),this):(this._root=i,this)},h.removeAll=function(n){for(var r=0,e=n.length;r<e;++r)this.remove(n[r]);return this},h.root=function(){return this._root},h.size=function(){var n=0;return this.visit(function(r){if(!r.length)do{++n}while(r=r.next)}),n},h.visit=function(n){var r,e,t,i,u,a,c=[],s=this._root;for(s&&c.push(new o(s,this._x0,this._y0,this._x1,this._y1));r=c.pop();)if(!n(s=r.node,t=r.x0,i=r.y0,u=r.x1,a=r.y1)&&s.length){var f=(t+u)/2,h=(i+a)/2;(e=s[3])&&c.push(new o(e,f,h,u,a)),(e=s[2])&&c.push(new o(e,t,h,f,a)),(e=s[1])&&c.push(new o(e,f,i,u,h)),(e=s[0])&&c.push(new o(e,t,i,f,h))}return this},h.visitAfter=function(n){var r,e=[],t=[];for(this._root&&e.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var u,a=r.x0,c=r.y0,s=r.x1,f=r.y1,h=(a+s)/2,l=(c+f)/2;(u=i[0])&&e.push(new o(u,a,c,h,l)),(u=i[1])&&e.push(new o(u,h,c,s,l)),(u=i[2])&&e.push(new o(u,a,l,h,f)),(u=i[3])&&e.push(new o(u,h,l,s,f))}t.push(r)}for(;r=t.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this},h.x=function(n){return arguments.length?(this._x=n,this):this._x},h.y=function(n){return arguments.length?(this._y=n,this):this._y};var l=function(n){return function(){return n}},d=function(){return 1e-6*(Math.random()-.5)};function p(n){return n.x+n.vx}function v(n){return n.y+n.vy}var g=function(n){var r,e,t=1,i=1;function o(){for(var n,o,a,s,f,h,l,g=r.length,m=0;m<i;++m)for(o=c(r,p,v).visitAfter(u),n=0;n<g;++n)a=r[n],h=e[a.index],l=h*h,s=a.x+a.vx,f=a.y+a.vy,o.visit(y);function y(n,r,e,i,o){var u=n.data,c=n.r,p=h+c;if(!u)return r>s+p||i<s-p||e>f+p||o<f-p;if(u.index>a.index){var v=s-u.x-u.vx,g=f-u.y-u.vy,m=v*v+g*g;m<p*p&&(0===v&&(m+=(v=d())*v),0===g&&(m+=(g=d())*g),m=(p-(m=Math.sqrt(m)))/m*t,a.vx+=(v*=m)*(p=(c*=c)/(l+c)),a.vy+=(g*=m)*p,u.vx-=v*(p=1-p),u.vy-=g*p)}}}function u(n){if(n.data)return n.r=e[n.data.index];for(var r=n.r=0;r<4;++r)n[r]&&n[r].r>n.r&&(n.r=n[r].r)}function a(){if(r){var t,i,o=r.length;for(e=new Array(o),t=0;t<o;++t)i=r[t],e[i.index]=+n(i,t,r)}}return"function"!=typeof n&&(n=l(null==n?1:+n)),o.initialize=function(n){r=n,a()},o.iterations=function(n){return arguments.length?(i=+n,o):i},o.strength=function(n){return arguments.length?(t=+n,o):t},o.radius=function(r){return arguments.length?(n="function"==typeof r?r:l(+r),a(),o):n},o};function m(n){return n.index}function y(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}var x=function(n){var r,e,t,i,o,u=m,a=function(n){return 1/Math.min(i[n.source.index],i[n.target.index])},c=l(30),s=1;function f(t){for(var i=0,u=n.length;i<s;++i)for(var a,c,f,h,l,p,v,g=0;g<u;++g)c=(a=n[g]).source,h=(f=a.target).x+f.vx-c.x-c.vx||d(),l=f.y+f.vy-c.y-c.vy||d(),h*=p=((p=Math.sqrt(h*h+l*l))-e[g])/p*t*r[g],l*=p,f.vx-=h*(v=o[g]),f.vy-=l*v,c.vx+=h*(v=1-v),c.vy+=l*v}function h(){if(t){var a,c,s=t.length,f=n.length,h=new Map(t.map((n,r)=>[u(n,r,t),n]));for(a=0,i=new Array(s);a<f;++a)(c=n[a]).index=a,"object"!=typeof c.source&&(c.source=y(h,c.source)),"object"!=typeof c.target&&(c.target=y(h,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(f);a<f;++a)c=n[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);r=new Array(f),p(),e=new Array(f),v()}}function p(){if(t)for(var e=0,i=n.length;e<i;++e)r[e]=+a(n[e],e,n)}function v(){if(t)for(var r=0,i=n.length;r<i;++r)e[r]=+c(n[r],r,n)}return null==n&&(n=[]),f.initialize=function(n){t=n,h()},f.links=function(r){return arguments.length?(n=r,h(),f):n},f.id=function(n){return arguments.length?(u=n,f):u},f.iterations=function(n){return arguments.length?(s=+n,f):s},f.strength=function(n){return arguments.length?(a="function"==typeof n?n:l(+n),p(),f):a},f.distance=function(n){return arguments.length?(c="function"==typeof n?n:l(+n),v(),f):c},f},w={value:function(){}};function b(){for(var n,r=0,e=arguments.length,t={};r<e;++r){if(!(n=arguments[r]+"")||n in t||/[\\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new _(t)}function _(n){this._=n}function E(n,r){for(var e,t=0,i=n.length;t<i;++t)if((e=n[t]).name===r)return e.value}function M(n,r,e){for(var t=0,i=n.length;t<i;++t)if(n[t].name===r){n[t]=w,n=n.slice(0,t).concat(n.slice(t+1));break}return null!=e&&n.push({name:r,value:e}),n}_.prototype=b.prototype={constructor:_,on:function(n,r){var e,t=this._,i=function(n,r){return n.trim().split(/^|\\s+/).map(function(n){var e="",t=n.indexOf(".");if(t>=0&&(e=n.slice(t+1),n=n.slice(0,t)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}})}(n+"",t),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++o<u;)if(e=(n=i[o]).type)t[e]=M(t[e],n.name,r);else if(null==r)for(e in t)t[e]=M(t[e],n.name,null);return this}for(;++o<u;)if((e=(n=i[o]).type)&&(e=E(t[e],n.name)))return e},copy:function(){var n={},r=this._;for(var e in r)n[e]=r[e].slice();return new _(n)},call:function(n,r){if((e=arguments.length-2)>0)for(var e,t,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=0,e=(t=this._[n]).length;o<e;++o)t[o].value.apply(r,i)},apply:function(n,r,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var t=this._[n],i=0,o=t.length;i<o;++i)t[i].value.apply(r,e)}};var k,j,N=b,A=0,S=0,O=0,T=1e3,I=0,P=0,D=0,L="object"==typeof performance&&performance.now?performance:Date,C="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function F(){return P||(C(R),P=L.now()+D)}function R(){P=0}function z(){this._call=this._time=this._next=null}function q(n,r,e){var t=new z;return t.restart(n,r,e),t}function V(){P=(I=L.now())+D,A=S=0;try{!function(){F(),++A;for(var n,r=k;r;)(n=P-r._time)>=0&&r._call.call(null,n),r=r._next;--A}()}finally{A=0,function(){var n,r,e=k,t=1/0;for(;e;)e._call?(t>e._time&&(t=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:k=r);j=n,U(t)}(),P=0}}function B(){var n=L.now(),r=n-I;r>T&&(D-=r,I=n)}function U(n){A||(S&&(S=clearTimeout(S)),n-P>24?(n<1/0&&(S=setTimeout(V,n-L.now()-D)),O&&(O=clearInterval(O))):(O||(I=L.now(),O=setInterval(B,T)),A=1,C(V)))}function G(n){return n.x}function Y(n){return n.y}z.prototype=q.prototype={constructor:z,restart:function(n,r,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?F():+e)+(null==r?0:+r),this._next||j===this||(j?j._next=this:k=this,j=this),this._call=n,this._time=e,U()},stop:function(){this._call&&(this._call=null,this._time=1/0,U())}};var X=10,W=Math.PI*(3-Math.sqrt(5)),H=function(n){var r,e=1,t=.001,i=1-Math.pow(t,1/300),o=0,u=.6,a=new Map,c=q(f),s=N("tick","end");function f(){h(),s.call("tick",r),e<t&&(c.stop(),s.call("end",r))}function h(t){var c,s,f=n.length;void 0===t&&(t=1);for(var h=0;h<t;++h)for(e+=(o-e)*i,a.forEach(function(n){n(e)}),c=0;c<f;++c)null==(s=n[c]).fx?s.x+=s.vx*=u:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=u:(s.y=s.fy,s.vy=0);return r}function l(){for(var r,e=0,t=n.length;e<t;++e){if((r=n[e]).index=e,null!=r.fx&&(r.x=r.fx),null!=r.fy&&(r.y=r.fy),isNaN(r.x)||isNaN(r.y)){var i=X*Math.sqrt(e),o=e*W;r.x=i*Math.cos(o),r.y=i*Math.sin(o)}(isNaN(r.vx)||isNaN(r.vy))&&(r.vx=r.vy=0)}}function d(r){return r.initialize&&r.initialize(n),r}return null==n&&(n=[]),l(),r={tick:h,restart:function(){return c.restart(f),r},stop:function(){return c.stop(),r},nodes:function(e){return arguments.length?(n=e,l(),a.forEach(d),r):n},alpha:function(n){return arguments.length?(e=+n,r):e},alphaMin:function(n){return arguments.length?(t=+n,r):t},alphaDecay:function(n){return arguments.length?(i=+n,r):+i},alphaTarget:function(n){return arguments.length?(o=+n,r):o},velocityDecay:function(n){return arguments.length?(u=1-n,r):1-u},force:function(n,e){return arguments.length>1?(null==e?a.delete(n):a.set(n,d(e)),r):a.get(n)},find:function(r,e,t){var i,o,u,a,c,s=0,f=n.length;for(null==t?t=1/0:t*=t,s=0;s<f;++s)(u=(i=r-(a=n[s]).x)*i+(o=e-a.y)*o)<t&&(c=a,t=u);return c},on:function(n,e){return arguments.length>1?(s.on(n,e),r):s.on(n)}}},Q=function(){var n,r,e,t,i=l(-30),o=1,u=1/0,a=.81;function s(t){var i,o=n.length,u=c(n,G,Y).visitAfter(h);for(e=t,i=0;i<o;++i)r=n[i],u.visit(p)}function f(){if(n){var r,e,o=n.length;for(t=new Array(o),r=0;r<o;++r)e=n[r],t[e.index]=+i(e,r,n)}}function h(n){var r,e,i,o,u,a=0,c=0;if(n.length){for(i=o=u=0;u<4;++u)(r=n[u])&&(e=Math.abs(r.value))&&(a+=r.value,c+=e,i+=e*r.x,o+=e*r.y);n.x=i/c,n.y=o/c}else{(r=n).x=r.data.x,r.y=r.data.y;do{a+=t[r.data.index]}while(r=r.next)}n.value=a}function p(n,i,c,s){if(!n.value)return!0;var f=n.x-r.x,h=n.y-r.y,l=s-i,p=f*f+h*h;if(l*l/a<p)return p<u&&(0===f&&(p+=(f=d())*f),0===h&&(p+=(h=d())*h),p<o&&(p=Math.sqrt(o*p)),r.vx+=f*n.value*e/p,r.vy+=h*n.value*e/p),!0;if(!(n.length||p>=u)){(n.data!==r||n.next)&&(0===f&&(p+=(f=d())*f),0===h&&(p+=(h=d())*h),p<o&&(p=Math.sqrt(o*p)));do{n.data!==r&&(l=t[n.data.index]*e/p,r.vx+=f*l,r.vy+=h*l)}while(n=n.next)}}return s.initialize=function(r){n=r,f()},s.strength=function(n){return arguments.length?(i="function"==typeof n?n:l(+n),f(),s):i},s.distanceMin=function(n){return arguments.length?(o=n*n,s):Math.sqrt(o)},s.distanceMax=function(n){return arguments.length?(u=n*n,s):Math.sqrt(u)},s.theta=function(n){return arguments.length?(a=n*n,s):Math.sqrt(a)},s},$=function(n,r,e){var t,i,o,u=l(.1);function a(n){for(var u=0,a=t.length;u<a;++u){var c=t[u],s=c.x-r||1e-6,f=c.y-e||1e-6,h=Math.sqrt(s*s+f*f),l=(o[u]-h)*i[u]*n/h;c.vx+=s*l,c.vy+=f*l}}function c(){if(t){var r,e=t.length;for(i=new Array(e),o=new Array(e),r=0;r<e;++r)o[r]=+n(t[r],r,t),i[r]=isNaN(o[r])?0:+u(t[r],r,t)}}return"function"!=typeof n&&(n=l(+n)),null==r&&(r=0),null==e&&(e=0),a.initialize=function(n){t=n,c()},a.strength=function(n){return arguments.length?(u="function"==typeof n?n:l(+n),c(),a):u},a.radius=function(r){return arguments.length?(n="function"==typeof r?r:l(+r),c(),a):n},a.x=function(n){return arguments.length?(r=+n,a):r},a.y=function(n){return arguments.length?(e=+n,a):e},a},Z=function(n){var r,e,t,i=l(.1);function o(n){for(var i,o=0,u=r.length;o<u;++o)(i=r[o]).vx+=(t[o]-i.x)*e[o]*n}function u(){if(r){var o,u=r.length;for(e=new Array(u),t=new Array(u),o=0;o<u;++o)e[o]=isNaN(t[o]=+n(r[o],o,r))?0:+i(r[o],o,r)}}return"function"!=typeof n&&(n=l(null==n?0:+n)),o.initialize=function(n){r=n,u()},o.strength=function(n){return arguments.length?(i="function"==typeof n?n:l(+n),u(),o):i},o.x=function(r){return arguments.length?(n="function"==typeof r?r:l(+r),u(),o):n},o},K=function(n){var r,e,t,i=l(.1);function o(n){for(var i,o=0,u=r.length;o<u;++o)(i=r[o]).vy+=(t[o]-i.y)*e[o]*n}function u(){if(r){var o,u=r.length;for(e=new Array(u),t=new Array(u),o=0;o<u;++o)e[o]=isNaN(t[o]=+n(r[o],o,r))?0:+i(r[o],o,r)}}return"function"!=typeof n&&(n=l(null==n?0:+n)),o.initialize=function(n){r=n,u()},o.strength=function(n){return arguments.length?(i="function"==typeof n?n:l(+n),u(),o):i},o.y=function(r){return arguments.length?(n="function"==typeof r?r:l(+r),u(),o):n},o};e.d(r,"forceCenter",function(){return t}),e.d(r,"forceCollide",function(){return g}),e.d(r,"forceLink",function(){return x}),e.d(r,"forceManyBody",function(){return Q}),e.d(r,"forceRadial",function(){return $}),e.d(r,"forceSimulation",function(){return H}),e.d(r,"forceX",function(){return Z}),e.d(r,"forceY",function(){return K})},function(n,r,e){"use strict";var t=e(0),i=e(6).Graph,o=e(26).slack;function u(n,r){return t.forEach(n.nodes(),function e(i){t.forEach(r.nodeEdges(i),function(t){var u=t.v,a=i===u?t.w:u;n.hasNode(a)||o(r,t)||(n.setNode(a,{}),n.setEdge(i,a,{}),e(a))})}),n.nodeCount()}function a(n,r){return t.minBy(r.edges(),function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return o(r,e)})}function c(n,r,e){t.forEach(n.nodes(),function(n){r.node(n).rank+=e})}n.exports=function(n){var r,e,t=new i({directed:!1}),s=n.nodes()[0],f=n.nodeCount();t.setNode(s,{});for(;u(t,n)<f;)r=a(t,n),e=t.hasNode(r.v)?o(n,r):-o(n,r),c(t,n,e);return t}},function(n,r){n.exports=function(n,r){return n<r}},function(n,r){n.exports=function(n,r){if(("constructor"!==r||"function"!=typeof n[r])&&"__proto__"!=r)return n[r]}},function(n,r,e){var t=e(36),i=e(20);n.exports=function(n,r,e){(void 0===e||i(n[r],e))&&(void 0!==e||r in n)||t(n,r,e)}},function(n,r,e){var t=e(47);n.exports=function(n){return null!=n&&n.length?t(n,1):[]}},function(n,r,e){var t=e(182),i=1/0,o=1.7976931348623157e308;n.exports=function(n){return n?(n=t(n))===i||n===-i?(n<0?-1:1)*o:n==n?n:0:0===n?n:0}},function(n,r,e){var t=e(4);n.exports=function(n,r,e){t.isArray(r)||(r=[r]);var i=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],u={};return t.each(r,function(r){if(!n.hasNode(r))throw new Error("Graph does not have node: "+r);!function n(r,e,i,o,u,a){t.has(o,e)||(o[e]=!0,i||a.push(e),t.each(u(e),function(e){n(r,e,i,o,u,a)}),i&&a.push(e))}(n,r,"post"===e,u,i,o)}),o}},function(n,r,e){var t=e(4);function i(n){var r={},e={},i=[];if(t.each(n.sinks(),function u(a){if(t.has(e,a))throw new o;t.has(r,a)||(e[a]=!0,r[a]=!0,t.each(n.predecessors(a),u),delete e[a],i.push(a))}),t.size(r)!==n.nodeCount())throw new o;return i}function o(){}n.exports=i,i.CycleException=o,o.prototype=new Error},function(n,r,e){var t=e(4);n.exports=function(n){var r=0,e=[],i={},o=[];return n.nodes().forEach(function(u){t.has(i,u)||function u(a){var c=i[a]={onStack:!0,lowlink:r,index:r++};if(e.push(a),n.successors(a).forEach(function(n){t.has(i,n)?i[n].onStack&&(c.lowlink=Math.min(c.lowlink,i[n].index)):(u(n),c.lowlink=Math.min(c.lowlink,i[n].lowlink))}),c.lowlink===c.index){var s,f=[];do{s=e.pop(),i[s].onStack=!1,f.push(s)}while(a!==s);o.push(f)}}(u)}),o}},function(n,r,e){var t=e(4);function i(){this._arr=[],this._keyIndices={}}n.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(n){return n.key})},i.prototype.has=function(n){return t.has(this._keyIndices,n)},i.prototype.priority=function(n){var r=this._keyIndices[n];if(void 0!==r)return this._arr[r].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(n,r){var e=this._keyIndices;if(n=String(n),!t.has(e,n)){var i=this._arr,o=i.length;return e[n]=o,i.push({key:n,priority:r}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},i.prototype.decrease=function(n,r){var e=this._keyIndices[n];if(r>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[e].priority+" New: "+r);this._arr[e].priority=r,this._decrease(e)},i.prototype._heapify=function(n){var r=this._arr,e=2*n,t=e+1,i=n;e<r.length&&(i=r[e].priority<r[i].priority?e:i,t<r.length&&(i=r[t].priority<r[i].priority?t:i),i!==n&&(this._swap(n,i),this._heapify(i)))},i.prototype._decrease=function(n){for(var r,e=this._arr,t=e[n].priority;0!==n&&!(e[r=n>>1].priority<t);)this._swap(n,r),n=r},i.prototype._swap=function(n,r){var e=this._arr,t=this._keyIndices,i=e[n],o=e[r];e[n]=o,e[r]=i,t[o.key]=n,t[i.key]=r}},function(n,r,e){var t=e(4),i=e(76);n.exports=function(n,r,e,t){return function(n,r,e,t){var o,u,a={},c=new i,s=function(n){var r=n.v!==o?n.v:n.w,t=a[r],i=e(n),s=u.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+n+" Weight: "+i);s<t.distance&&(t.distance=s,t.predecessor=o,c.decrease(r,s))};n.nodes().forEach(function(n){var e=n===r?0:Number.POSITIVE_INFINITY;a[n]={distance:e},c.add(n,e)});for(;c.size()>0&&(o=c.removeMin(),(u=a[o]).distance!==Number.POSITIVE_INFINITY);)t(o).forEach(s);return a}(n,String(r),e||o,t||function(r){return n.outEdges(r)})};var o=t.constant(1)},function(n,r,e){var t=e(201),i=e(11);n.exports=function(n){return null==n?[]:t(n,i(n))}},function(n,r,e){var t=e(10),i=e(8);n.exports=function(n){return i(n)&&t(n)}},function(n,r){n.exports=function(n,r,e,t){for(var i=n.length,o=e+(t?1:-1);t?o--:++o<i;)if(r(n[o],o,n))return o;return-1}},function(n,r,e){var t=e(211),i=e(210)(t);n.exports=i},function(n,r,e){var t=e(212),i=Math.max;n.exports=function(n,r,e){return r=i(void 0===r?n.length-1:r,0),function(){for(var o=arguments,u=-1,a=i(o.length-r,0),c=Array(a);++u<a;)c[u]=o[r+u];u=-1;for(var s=Array(r+1);++u<r;)s[u]=o[u];return s[r]=e(c),t(n,this,s)}}},function(n,r,e){var t=e(223),i=e(31),o=e(9),u=e(222),a=e(1);n.exports=function(n,r,e){var c=a(n)?t:u,s=arguments.length<3;return c(n,o(r,4),e,s,i)}},function(n,r,e){var t=e(31),i=e(10);n.exports=function(n,r){var e=-1,o=i(n)?Array(n.length):[];return t(n,function(n,t,i){o[++e]=r(n,t,i)}),o}},function(n,r,e){var t=e(29),i=e(9),o=e(84),u=e(1);n.exports=function(n,r){return(u(n)?t:o)(n,i(r,3))}},function(n,r){n.exports=function(n){return void 0===n}},function(n,r,e){var t=e(225),i=e(89);n.exports=function(n,r){return null!=n&&i(n,r,t)}},function(n,r){n.exports=function(n){return function(r){return null==r?void 0:r[n]}}},function(n,r,e){var t=e(30),i=e(23),o=e(1),u=e(35),a=e(59),c=e(21);n.exports=function(n,r,e){for(var s=-1,f=(r=t(r,n)).length,h=!1;++s<f;){var l=c(r[s]);if(!(h=null!=n&&e(n,l)))break;n=n[l]}return h||++s!=f?h:!!(f=null==n?0:n.length)&&a(f)&&u(l,f)&&(o(n)||i(n))}},function(n,r,e){var t=e(228),i=e(89);n.exports=function(n,r){return null!=n&&i(n,r,t)}},function(n,r,e){var t=e(229);n.exports=function(n){return null==n?"":t(n)}},function(n,r){n.exports=function(n,r){return function(e){return null!=e&&e[n]===r&&(void 0!==r||n in Object(e))}}},function(n,r,e){var t=e(3);n.exports=function(n){return n==n&&!t(n)}},function(n,r){n.exports=function(n,r){return n.has(r)}},function(n,r,e){var t=e(62),i=e(241),o=e(240);function u(n){var r=-1,e=null==n?0:n.length;for(this.__data__=new t;++r<e;)this.add(n[r])}u.prototype.add=u.prototype.push=i,u.prototype.has=o,n.exports=u},function(n,r,e){var t=e(95),i=e(239),o=e(94),u=1,a=2;n.exports=function(n,r,e,c,s,f){var h=e&u,l=n.length,d=r.length;if(l!=d&&!(h&&d>l))return!1;var p=f.get(n);if(p&&f.get(r))return p==r;var v=-1,g=!0,m=e&a?new t:void 0;for(f.set(n,r),f.set(r,n);++v<l;){var y=n[v],x=r[v];if(c)var w=h?c(x,y,v,r,n,f):c(y,x,v,n,r,f);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!i(r,function(n,r){if(!o(m,r)&&(y===n||s(y,n,e,c,f)))return m.push(r)})){g=!1;break}}else if(y!==x&&!s(y,x,e,c,f)){g=!1;break}}return f.delete(n),f.delete(r),g}},function(n,r,e){var t=e(242),i=e(8);n.exports=function n(r,e,o,u,a){return r===e||(null==r||null==e||!i(r)&&!i(e)?r!=r&&e!=e:t(r,e,o,u,n,a))}},function(n,r,e){var t=e(111),i=e(245),o=e(9),u=e(1);n.exports=function(n,r){return(u(n)?t:i)(n,o(r,3))}},function(n,r,e){var t=e(12);n.exports=function(n){return"function"==typeof n?n:t}},function(n,r,e){var t=e(61),i=e(31),o=e(99),u=e(1);n.exports=function(n,r){return(u(n)?t:i)(n,o(r))}},function(n,r,e){n.exports=e(100)},function(n,r,e){var t=e(3),i=Object.create,o=function(){function n(){}return function(r){if(!t(r))return{};if(i)return i(r);n.prototype=r;var e=new n;return n.prototype=void 0,e}}();n.exports=o},function(n,r,e){var t=e(102),i=e(32),o=e(33);n.exports=function(n){return"function"!=typeof n.constructor||o(n)?{}:t(i(n))}},function(n,r,e){var t=e(54);n.exports=function(n,r){var e=r?t(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}},function(n,r,e){var t=e(5).Uint8Array;n.exports=t},function(n,r,e){var t=e(14)(e(5),"Set");n.exports=t},function(n,r,e){var t=e(55),i=e(1);n.exports=function(n,r,e){var o=r(n);return i(n)?o:t(o,e(n))}},function(n,r,e){var t=e(107),i=e(56),o=e(11);n.exports=function(n){return t(n,o,i)}},function(n,r,e){var t=e(55),i=e(32),o=e(56),u=e(110),a=Object.getOwnPropertySymbols?function(n){for(var r=[];n;)t(r,o(n)),n=i(n);return r}:u;n.exports=a},function(n,r){n.exports=function(){return[]}},function(n,r){n.exports=function(n,r){for(var e=-1,t=null==n?0:n.length,i=0,o=[];++e<t;){var u=n[e];r(u,e,n)&&(o[i++]=u)}return o}},function(n,r){n.exports=function(n,r){var e=-1,t=n.length;for(r||(r=Array(t));++e<t;)r[e]=n[e];return r}},function(n,r,e){(function(n){var t=e(5),i="object"==typeof r&&r&&!r.nodeType&&r,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,u=o&&o.exports===i?t.Buffer:void 0,a=u?u.allocUnsafe:void 0;n.exports=function(n,r){if(r)return n.slice();var e=n.length,t=a?a(e):new n.constructor(e);return n.copy(t),t}}).call(this,e(60)(n))},function(n,r){n.exports=function(n,r){return function(e){return n(r(e))}}},function(n,r,e){var t=e(270),i=e(23),o=e(1),u=e(18),a=e(35),c=e(22),s=Object.prototype.hasOwnProperty;n.exports=function(n,r){var e=o(n),f=!e&&i(n),h=!e&&!f&&u(n),l=!e&&!f&&!h&&c(n),d=e||f||h||l,p=d?t(n.length,String):[],v=p.length;for(var g in n)!r&&!s.call(n,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||l&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,v))||p.push(g);return p}},function(n,r,e){var t=e(14),i=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,r){var e=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return e.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,r,e){(function(r){var e="object"==typeof r&&r&&r.Object===Object&&r;n.exports=e}).call(this,e(122))},function(n,r,e){var t=e(42),i=e(61),o=e(37),u=e(271),a=e(265),c=e(113),s=e(112),f=e(262),h=e(261),l=e(108),d=e(260),p=e(16),v=e(256),g=e(255),m=e(103),y=e(1),x=e(18),w=e(251),b=e(3),_=e(249),E=e(11),M=1,k=2,j=4,N="[object Arguments]",A="[object Function]",S="[object GeneratorFunction]",O="[object Object]",T={};T[N]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[O]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[A]=T["[object WeakMap]"]=!1,n.exports=function n(r,e,I,P,D,L){var C,F=e&M,R=e&k,z=e&j;if(I&&(C=D?I(r,P,D,L):I(r)),void 0!==C)return C;if(!b(r))return r;var q=y(r);if(q){if(C=v(r),!F)return s(r,C)}else{var V=p(r),B=V==A||V==S;if(x(r))return c(r,F);if(V==O||V==N||B&&!D){if(C=R||B?{}:m(r),!F)return R?h(r,a(C,r)):f(r,u(C,r))}else{if(!T[V])return D?r:{};C=g(r,V,F)}}L||(L=new t);var U=L.get(r);if(U)return U;L.set(r,C),_(r)?r.forEach(function(t){C.add(n(t,e,I,t,r,L))}):w(r)&&r.forEach(function(t,i){C.set(i,n(t,e,I,i,r,L))});var G=z?R?d:l:R?keysIn:E,Y=q?void 0:G(r);return i(Y||r,function(t,i){Y&&(t=r[i=t]),o(C,i,n(t,e,I,i,r,L))}),C}},function(n,r){n.exports={LAYOUT_MESSAGE:{RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"}}},function(n,r,e){var t=e(44);n.exports=function(n){return t(n,"Number")}},function(n,r){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(module,exports,__webpack_require__){"use strict";(function(global){var numeric=exports;void 0!==global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(n,r){var e,t,i;for(void 0===r&&(r=15),t=.5,e=new Date;;){for(i=t*=2;i>3;i-=4)n(),n(),n(),n();for(;i>0;)n(),i--;if(new Date-e>r)break}for(i=t;i>3;i-=4)n(),n(),n(),n();for(;i>0;)n(),i--;return 1e3*(3*t-1)/(new Date-e)},numeric._myIndexOf=function(n){var r,e=this.length;for(r=0;r<e;++r)if(this[r]===n)return r;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(n){var r=[];return function n(e){var t;if(void 0===e)return r.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof e)return r.push(\'"\'+e+\'"\'),!1;if("boolean"==typeof e)return r.push(e.toString()),!1;if("number"==typeof e){var i=function n(r){if(0===r)return"0";if(isNaN(r))return"NaN";if(r<0)return"-"+n(-r);if(isFinite(r)){var e=Math.floor(Math.log(r)/Math.log(10)),t=r/Math.pow(10,e),i=t.toPrecision(numeric.precision);return 10===parseFloat(i)&&(e++,i=(t=1).toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+e.toString()}return"Infinity"}(e),o=e.toPrecision(numeric.precision),u=parseFloat(e.toString()).toString(),a=[i,o,u,parseFloat(o).toString(),parseFloat(u).toString()];for(t=1;t<a.length;t++)a[t].length<i.length&&(i=a[t]);return r.push(Array(numeric.precision+8-i.length).join(" ")+i),!1}if(null===e)return r.push("null"),!1;if("function"==typeof e){r.push(e.toString());var c=!1;for(t in e)e.hasOwnProperty(t)&&(c?r.push(",\\n"):r.push("\\n{"),c=!0,r.push(t),r.push(": \\n"),n(e[t]));return c&&r.push("}\\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return r.push("...Large Array..."),!0;for(c=!1,r.push("["),t=0;t<e.length;t++)t>0&&(r.push(","),c&&r.push("\\n ")),c=n(e[t]);return r.push("]"),!0}r.push("{");c=!1;for(t in e)e.hasOwnProperty(t)&&(c&&r.push(",\\n"),c=!0,r.push(t),r.push(": \\n"),n(e[t]));return r.push("}"),!0}(n),r.join("")},numeric.parseDate=function(n){return function n(r){if("string"==typeof r)return Date.parse(r.replace(/-/g,"/"));if(!(r instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var e,t=[];for(e=0;e<r.length;e++)t[e]=n(r[e]);return t}(n)},numeric.parseFloat=function(n){return function n(r){if("string"==typeof r)return parseFloat(r);if(!(r instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var e,t=[];for(e=0;e<r.length;e++)t[e]=n(r[e]);return t}(n)},numeric.parseCSV=function(n){var r,e,t=n.split("\\n"),i=[],o=/(([^\'",]*)|(\'[^\']*\')|("[^"]*")),/g,u=/^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/,a=function(n){return n.substr(0,n.length-1)},c=0;for(e=0;e<t.length;e++){var s,f=(t[e]+",").match(o);if(f.length>0){for(i[c]=[],r=0;r<f.length;r++)s=a(f[r]),u.test(s)?i[c][r]=parseFloat(s):i[c][r]=s;c++}}return i},numeric.toCSV=function(n){var r,e,t,i,o,u=numeric.dim(n);for(t=u[0],u[1],o=[],r=0;r<t;r++){for(i=[],e=0;e<t;e++)i[e]=n[r][e].toString();o[r]=i.join(", ")}return o.join("\\n")+"\\n"},numeric.getURL=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.send(),r},numeric.imageURL=function(n){function r(n,r,e){void 0===r&&(r=0),void 0===e&&(e=n.length);var t,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;n.length;for(t=r;t<e;t++)o=o>>>8^i[255&(o^n[t])];return-1^o}var e,t,i,o,u,a,c,s,f,h,l=n[0].length,d=n[0][0].length,p=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,d>>24&255,d>>16&255,d>>8&255,255&d,l>>24&255,l>>16&255,l>>8&255,255&l,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=r(p,12,29),p[29]=h>>24&255,p[30]=h>>16&255,p[31]=h>>8&255,p[32]=255&h,e=1,t=0,c=0;c<l;c++){for(c<l-1?p.push(0):p.push(1),u=3*d+1+(0===c)&255,a=3*d+1+(0===c)>>8&255,p.push(u),p.push(a),p.push(255&~u),p.push(255&~a),0===c&&p.push(0),s=0;s<d;s++)for(i=0;i<3;i++)t=(t+(e=(e+(u=(u=n[i][c][s])>255?255:u<0?0:Math.round(u)))%65521))%65521,p.push(u);p.push(0)}return f=(t<<16)+e,p.push(f>>24&255),p.push(f>>16&255),p.push(f>>8&255),p.push(255&f),o=p.length-41,p[33]=o>>24&255,p[34]=o>>16&255,p[35]=o>>8&255,p[36]=255&o,h=r(p,37),p.push(h>>24&255),p.push(h>>16&255),p.push(h>>8&255),p.push(255&h),p.push(0),p.push(0),p.push(0),p.push(0),p.push(73),p.push(69),p.push(78),p.push(68),p.push(174),p.push(66),p.push(96),p.push(130),"data:image/png;base64,"+function(n){var r,e,t,i,o,u,a,c=n.length,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";for(r=0;r<c;r+=3)o=((3&(e=n[r]))<<4)+((t=n[r+1])>>4),u=((15&t)<<2)+((i=n[r+2])>>6),a=63&i,r+1>=c?u=a=64:r+2>=c&&(a=64),f+=s.charAt(e>>2)+s.charAt(o)+s.charAt(u)+s.charAt(a);return f}(p)},numeric._dim=function(n){for(var r=[];"object"==typeof n;)r.push(n.length),n=n[0];return r},numeric.dim=function(n){var r;return"object"==typeof n?"object"==typeof(r=n[0])?"object"==typeof r[0]?numeric._dim(n):[n.length,r.length]:[n.length]:[]},numeric.mapreduce=function(n,r){return Function("x","accum","_s","_k",\'if(typeof accum === "undefined") accum = \'+r+\';\\nif(typeof x === "number") { var xi = x; \'+n+\'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    \'+n+";\\n    xi = x[i-1];\\n    "+n+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+n+"\\n}\\nreturn accum;")},numeric.mapreduce2=function(n,r){return Function("x","var n = x.length;\\nvar i,xi;\\n"+r+";\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+n+";\\n}\\nreturn accum;")},numeric.same=function n(r,e){var t,i;if(!(r instanceof Array&&e instanceof Array))return!1;if((i=r.length)!==e.length)return!1;for(t=0;t<i;t++)if(r[t]!==e[t]){if("object"!=typeof r[t])return!1;if(!n(r[t],e[t]))return!1}return!0},numeric.rep=function(n,r,e){void 0===e&&(e=0);var t,i=n[e],o=Array(i);if(e===n.length-1){for(t=i-2;t>=0;t-=2)o[t+1]=r,o[t]=r;return-1===t&&(o[0]=r),o}for(t=i-1;t>=0;t--)o[t]=numeric.rep(n,r,e+1);return o},numeric.dotMMsmall=function(n,r){var e,t,i,o,u,a,c,s,f,h,l;for(o=n.length,u=r.length,a=r[0].length,c=Array(o),e=o-1;e>=0;e--){for(s=Array(a),f=n[e],i=a-1;i>=0;i--){for(h=f[u-1]*r[u-1][i],t=u-2;t>=1;t-=2)l=t-1,h+=f[t]*r[t][i]+f[l]*r[l][i];0===t&&(h+=f[0]*r[0][i]),s[i]=h}c[e]=s}return c},numeric._getCol=function(n,r,e){var t;for(t=n.length-1;t>0;--t)e[t]=n[t][r],e[--t]=n[t][r];0===t&&(e[0]=n[0][r])},numeric.dotMMbig=function(n,r){var e,t,i,o=numeric._getCol,u=r.length,a=Array(u),c=n.length,s=r[0].length,f=new Array(c),h=numeric.dotVV;for(--u,t=--c;-1!==t;--t)f[t]=Array(s);for(t=--s;-1!==t;--t)for(o(r,t,a),i=c;-1!==i;--i)0,e=n[i],f[i][t]=h(e,a);return f},numeric.dotMV=function(n,r){var e,t=n.length,i=(r.length,Array(t)),o=numeric.dotVV;for(e=t-1;e>=0;e--)i[e]=o(n[e],r);return i},numeric.dotVM=function(n,r){var e,t,i,o,u,a,c;for(i=n.length,o=r[0].length,u=Array(o),t=o-1;t>=0;t--){for(a=n[i-1]*r[i-1][t],e=i-2;e>=1;e-=2)c=e-1,a+=n[e]*r[e][t]+n[c]*r[c][t];0===e&&(a+=n[0]*r[0][t]),u[t]=a}return u},numeric.dotVV=function(n,r){var e,t,i=n.length,o=n[i-1]*r[i-1];for(e=i-2;e>=1;e-=2)t=e-1,o+=n[e]*r[e]+n[t]*r[t];return 0===e&&(o+=n[0]*r[0]),o},numeric.dot=function(n,r){var e=numeric.dim;switch(1e3*e(n).length+e(r).length){case 2002:return r.length<10?numeric.dotMMsmall(n,r):numeric.dotMMbig(n,r);case 2001:return numeric.dotMV(n,r);case 1002:return numeric.dotVM(n,r);case 1001:return numeric.dotVV(n,r);case 1e3:return numeric.mulVS(n,r);case 1:return numeric.mulSV(n,r);case 0:return n*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(n){var r,e,t,i,o=n.length,u=Array(o);for(r=o-1;r>=0;r--){for(i=Array(o),e=r+2,t=o-1;t>=e;t-=2)i[t]=0,i[t-1]=0;for(t>r&&(i[t]=0),i[r]=n[r],t=r-1;t>=1;t-=2)i[t]=0,i[t-1]=0;0===t&&(i[0]=0),u[r]=i}return u},numeric.getDiag=function(n){var r,e=Math.min(n.length,n[0].length),t=Array(e);for(r=e-1;r>=1;--r)t[r]=n[r][r],t[--r]=n[r][r];return 0===r&&(t[0]=n[0][0]),t},numeric.identity=function(n){return numeric.diag(numeric.rep([n],1))},numeric.pointwise=function(n,r,e){void 0===e&&(e="");var t,i,o=[],u=/\\[i\\]$/,a="",c=!1;for(t=0;t<n.length;t++)u.test(n[t])?a=i=n[t].substring(0,n[t].length-3):i=n[t],"ret"===i&&(c=!0),o.push(i);return o[n.length]="_s",o[n.length+1]="_k",o[n.length+2]=\'if(typeof _s === "undefined") _s = numeric.dim(\'+a+\');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i\'+(c?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+n.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+e+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+r+"\\n}\\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(n,r,e){void 0===e&&(e="");var t,i,o=[],u=/\\[i\\]$/,a="",c=!1;for(t=0;t<n.length;t++)u.test(n[t])?a=i=n[t].substring(0,n[t].length-3):i=n[t],"ret"===i&&(c=!0),o.push(i);return o[n.length]="var _n = "+a+".length;\\nvar i"+(c?"":", ret = Array(_n)")+";\\n"+e+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+r+"\\n}\\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function n(r,e,t,i,o){var u;if(i!==t.length-1)for(u=t[i]-1;u>=0;u--)n("object"==typeof r?r[u]:r,"object"==typeof e?e[u]:e,t,i+1,o);else o(r,e)},numeric._biforeach2=function n(r,e,t,i,o){if(i===t.length-1)return o(r,e);var u,a=t[i],c=Array(a);for(u=a-1;u>=0;--u)c[u]=n("object"==typeof r?r[u]:r,"object"==typeof e?e[u]:e,t,i+1,o);return c},numeric._foreach=function n(r,e,t,i){var o;if(t!==e.length-1)for(o=e[t]-1;o>=0;o--)n(r[o],e,t+1,i);else i(r)},numeric._foreach2=function n(r,e,t,i){if(t===e.length-1)return i(r);var o,u=e[t],a=Array(u);for(o=u-1;o>=0;o--)a[o]=n(r[o],e,t+1,i);return a},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var n,r;for(n=0;n<numeric.mathfuns2.length;++n)r=numeric.mathfuns2[n],numeric.ops2[r]=r;for(n in numeric.ops2)if(numeric.ops2.hasOwnProperty(n)){r=numeric.ops2[n];var e,t,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,n)?(i="var "+r+" = Math."+r+";\\n",e=function(n,e,t){return n+" = "+r+"("+e+","+t+")"},t=function(n,e){return n+" = "+r+"("+n+","+e+")"}):(e=function(n,e,t){return n+" = "+e+" "+r+" "+t},t=numeric.opseq.hasOwnProperty(n+"eq")?function(n,e){return n+" "+r+"= "+e}:function(n,e){return n+" = "+n+" "+r+" "+e}),numeric[n+"VV"]=numeric.pointwise2(["x[i]","y[i]"],e("ret[i]","x[i]","y[i]"),i),numeric[n+"SV"]=numeric.pointwise2(["x","y[i]"],e("ret[i]","x","y[i]"),i),numeric[n+"VS"]=numeric.pointwise2(["x[i]","y"],e("ret[i]","x[i]","y"),i),numeric[n]=Function("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+n+"VV, VS = numeric."+n+"VS, SV = numeric."+n+\'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else \'+t("x","y")+"\\n}\\nreturn x;\\n"),numeric[r]=numeric[n],numeric[n+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],t("ret[i]","x[i]"),i),numeric[n+"eqS"]=numeric.pointwise2(["ret[i]","x"],t("ret[i]","x"),i),numeric[n+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+n+"eqV, S = numeric."+n+\'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n\')}for(n=0;n<numeric.mathfuns2.length;++n)r=numeric.mathfuns2[n],delete numeric.ops2[r];for(n=0;n<numeric.mathfuns.length;++n)r=numeric.mathfuns[n],numeric.ops1[r]=r;for(n in numeric.ops1)numeric.ops1.hasOwnProperty(n)&&(i="",r=numeric.ops1[n],-1!==numeric.myIndexOf.call(numeric.mathfuns,n)&&Math.hasOwnProperty(r)&&(i="var "+r+" = Math."+r+";\\n"),numeric[n+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",i),numeric[n+"eq"]=Function("x",\'if(typeof x !== "object") return \'+r+"x\\nvar i;\\nvar V = numeric."+n+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),numeric[n+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",i),numeric[n]=Function("x",\'if(typeof x !== "object") return \'+r+"(x)\\nvar i;\\nvar V = numeric."+n+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(n=0;n<numeric.mathfuns.length;++n)r=numeric.mathfuns[n],delete numeric.ops1[r];for(n in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(n)&&(r=numeric.mapreducers[n],numeric[n+"V"]=numeric.mapreduce2(r[0],r[1]),numeric[n]=Function("x","s","k",r[1]+\'if(typeof x !== "object") {    xi = x;\\n\'+r[0]+\';\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.\'+n+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+r[0]+";\\n}\\nreturn accum;\\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(n,r){return"object"==typeof n?"object"==typeof r?numeric.truncVV(n,r):numeric.truncVS(n,r):"object"==typeof r?numeric.truncSV(n,r):Math.round(n/r)*r},numeric.inv=function(n){var r,e,t,i,o,u,a,c=numeric.dim(n),s=Math.abs,f=c[0],h=c[1],l=numeric.clone(n),d=numeric.identity(f);for(u=0;u<h;++u){var p=-1,v=-1;for(o=u;o!==f;++o)(a=s(l[o][u]))>v&&(p=o,v=a);for(e=l[p],l[p]=l[u],l[u]=e,i=d[p],d[p]=d[u],d[u]=i,n=e[u],a=u;a!==h;++a)e[a]/=n;for(a=h-1;-1!==a;--a)i[a]/=n;for(o=f-1;-1!==o;--o)if(o!==u){for(r=l[o],t=d[o],n=r[u],a=u+1;a!==h;++a)r[a]-=e[a]*n;for(a=h-1;a>0;--a)t[a]-=i[a]*n,t[--a]-=i[a]*n;0===a&&(t[0]-=i[0]*n)}}return d},numeric.det=function(n){var r=numeric.dim(n);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var e,t,i,o,u,a,c,s,f=r[0],h=1,l=numeric.clone(n);for(t=0;t<f-1;t++){for(i=t,e=t+1;e<f;e++)Math.abs(l[e][t])>Math.abs(l[i][t])&&(i=e);for(i!==t&&(c=l[i],l[i]=l[t],l[t]=c,h*=-1),o=l[t],e=t+1;e<f;e++){for(a=(u=l[e])[t]/o[t],i=t+1;i<f-1;i+=2)s=i+1,u[i]-=o[i]*a,u[s]-=o[s]*a;i!==f&&(u[i]-=o[i]*a)}if(0===o[t])return 0;h*=o[t]}return h*l[t][t]},numeric.transpose=function(n){var r,e,t,i,o,u=n.length,a=n[0].length,c=Array(a);for(e=0;e<a;e++)c[e]=Array(u);for(r=u-1;r>=1;r-=2){for(i=n[r],t=n[r-1],e=a-1;e>=1;--e)(o=c[e])[r]=i[e],o[r-1]=t[e],(o=c[--e])[r]=i[e],o[r-1]=t[e];0===e&&((o=c[0])[r]=i[0],o[r-1]=t[0])}if(0===r){for(t=n[0],e=a-1;e>=1;--e)c[e][0]=t[e],c[--e][0]=t[e];0===e&&(c[0][0]=t[0])}return c},numeric.negtranspose=function(n){var r,e,t,i,o,u=n.length,a=n[0].length,c=Array(a);for(e=0;e<a;e++)c[e]=Array(u);for(r=u-1;r>=1;r-=2){for(i=n[r],t=n[r-1],e=a-1;e>=1;--e)(o=c[e])[r]=-i[e],o[r-1]=-t[e],(o=c[--e])[r]=-i[e],o[r-1]=-t[e];0===e&&((o=c[0])[r]=-i[0],o[r-1]=-t[0])}if(0===r){for(t=n[0],e=a-1;e>=1;--e)c[e][0]=-t[e],c[--e][0]=-t[e];0===e&&(c[0][0]=-t[0])}return c},numeric._random=function n(r,e){var t,i,o=r[e],u=Array(o);if(e===r.length-1){for(i=Math.random,t=o-1;t>=1;t-=2)u[t]=i(),u[t-1]=i();return 0===t&&(u[0]=i()),u}for(t=o-1;t>=0;t--)u[t]=n(r,e+1);return u},numeric.random=function(n){return numeric._random(n,0)},numeric.norm2=function(n){return Math.sqrt(numeric.norm2Squared(n))},numeric.linspace=function(n,r,e){if(void 0===e&&(e=Math.max(Math.round(r-n)+1,1)),e<2)return 1===e?[n]:[];var t,i=Array(e);for(t=--e;t>=0;t--)i[t]=(t*r+(e-t)*n)/e;return i},numeric.getBlock=function(n,r,e){var t=numeric.dim(n);return function n(i,o){var u,a=r[o],c=e[o]-a,s=Array(c);if(o===t.length-1){for(u=c;u>=0;u--)s[u]=i[u+a];return s}for(u=c;u>=0;u--)s[u]=n(i[u+a],o+1);return s}(n,0)},numeric.setBlock=function(n,r,e,t){var i=numeric.dim(n);return function n(t,o,u){var a,c=r[u],s=e[u]-c;if(u===i.length-1)for(a=s;a>=0;a--)t[a+c]=o[a];for(a=s;a>=0;a--)n(t[a+c],o[a],u+1)}(n,t,0),n},numeric.getRange=function(n,r,e){var t,i,o,u,a=r.length,c=e.length,s=Array(a);for(t=a-1;-1!==t;--t)for(s[t]=Array(c),o=s[t],u=n[r[t]],i=c-1;-1!==i;--i)o[i]=u[e[i]];return s},numeric.blockMatrix=function(n){var r=numeric.dim(n);if(r.length<4)return numeric.blockMatrix([n]);var e,t,i,o,u,a=r[0],c=r[1];for(e=0,t=0,i=0;i<a;++i)e+=n[i][0].length;for(o=0;o<c;++o)t+=n[0][o][0].length;var s=Array(e);for(i=0;i<e;++i)s[i]=Array(t);var f,h,l,d,p,v=0;for(i=0;i<a;++i){for(f=t,o=c-1;-1!==o;--o)for(f-=(u=n[i][o])[0].length,l=u.length-1;-1!==l;--l)for(p=u[l],h=s[v+l],d=p.length-1;-1!==d;--d)h[f+d]=p[d];v+=n[i][0].length}return s},numeric.tensor=function(n,r){if("number"==typeof n||"number"==typeof r)return numeric.mul(n,r);var e=numeric.dim(n),t=numeric.dim(r);if(1!==e.length||1!==t.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,u,a,c=e[0],s=t[0],f=Array(c);for(o=c-1;o>=0;o--){for(i=Array(s),a=n[o],u=s-1;u>=3;--u)i[u]=a*r[u],i[--u]=a*r[u],i[--u]=a*r[u],i[--u]=a*r[u];for(;u>=0;)i[u]=a*r[u],--u;f[o]=i}return f},numeric.T=function(n,r){this.x=n,this.y=r},numeric.t=function(n,r){return new numeric.T(n,r)},numeric.Tbinop=function(n,r,e,t,i){var o;numeric.indexOf;if("string"!=typeof i)for(o in i="",numeric)numeric.hasOwnProperty(o)&&(n.indexOf(o)>=0||r.indexOf(o)>=0||e.indexOf(o)>=0||t.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\\n");return Function(["y"],"var x = this;\\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n"+i+"\\nif(x.y) {  if(y.y) {    return new numeric.T("+t+");\\n  }\\n  return new numeric.T("+e+");\\n}\\nif(y.y) {\\n  return new numeric.T("+r+");\\n}\\nreturn new numeric.T("+n+");\\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var n=numeric.mul,r=numeric.div;if(this.y){var e=numeric.add(n(this.x,this.x),n(this.y,this.y));return new numeric.T(r(this.x,e),r(numeric.neg(this.y),e))}return new T(r(1,this.x))},numeric.T.prototype.div=function(n){if(n instanceof numeric.T||(n=new numeric.T(n)),n.y)return this.mul(n.reciprocal());var r=numeric.div;return this.y?new numeric.T(r(this.x,n.x),r(this.y,n.x)):new numeric.T(r(this.x,n.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var n=numeric.transpose,r=this.x,e=this.y;return e?new numeric.T(n(r),n(e)):new numeric.T(n(r))},numeric.T.prototype.transjugate=function(){var n=numeric.transpose,r=this.x,e=this.y;return e?new numeric.T(n(r),numeric.negtranspose(e)):new numeric.T(n(r))},numeric.Tunop=function(n,r,e){return"string"!=typeof e&&(e=""),Function("var x = this;\\n"+e+"\\nif(x.y) {  "+r+";\\n}\\n"+n+";\\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var n=this;if(void 0===n.y)return new numeric.T(numeric.inv(n.x));var r,e,t,i,o,u,a,c,s,f,h,l,d,p,v,g,m,y,x=n.x.length,w=numeric.identity(x),b=numeric.rep([x,x],0),_=numeric.clone(n.x),E=numeric.clone(n.y);for(s=0;s<x;s++){for(l=(p=_[s][s])*p+(v=E[s][s])*v,h=s,f=s+1;f<x;f++)(d=(p=_[f][s])*p+(v=E[f][s])*v)>l&&(h=f,l=d);for(h!==s&&(y=_[s],_[s]=_[h],_[h]=y,y=E[s],E[s]=E[h],E[h]=y,y=w[s],w[s]=w[h],w[h]=y,y=b[s],b[s]=b[h],b[h]=y),r=_[s],e=E[s],o=w[s],u=b[s],p=r[s],v=e[s],f=s+1;f<x;f++)g=r[f],m=e[f],r[f]=(g*p+m*v)/l,e[f]=(m*p-g*v)/l;for(f=0;f<x;f++)g=o[f],m=u[f],o[f]=(g*p+m*v)/l,u[f]=(m*p-g*v)/l;for(f=s+1;f<x;f++){for(t=_[f],i=E[f],a=w[f],c=b[f],p=t[s],v=i[s],h=s+1;h<x;h++)g=r[h],m=e[h],t[h]-=g*p-m*v,i[h]-=m*p+g*v;for(h=0;h<x;h++)g=o[h],m=u[h],a[h]-=g*p-m*v,c[h]-=m*p+g*v}}for(s=x-1;s>0;s--)for(o=w[s],u=b[s],f=s-1;f>=0;f--)for(a=w[f],c=b[f],p=_[f][s],v=E[f][s],h=x-1;h>=0;h--)g=o[h],m=u[h],a[h]-=p*g-v*m,c[h]-=p*m+v*g;return new numeric.T(w,b)},numeric.T.prototype.get=function(n){var r,e=this.x,t=this.y,i=0,o=n.length;if(t){for(;i<o;)e=e[r=n[i]],t=t[r],i++;return new numeric.T(e,t)}for(;i<o;)e=e[r=n[i]],i++;return new numeric.T(e)},numeric.T.prototype.set=function(n,r){var e,t=this.x,i=this.y,o=0,u=n.length,a=r.x,c=r.y;if(0===u)return c?this.y=c:i&&(this.y=void 0),this.x=t,this;if(c){for(i||(i=numeric.rep(numeric.dim(t),0),this.y=i);o<u-1;)t=t[e=n[o]],i=i[e],o++;return t[e=n[o]]=a,i[e]=c,this}if(i){for(;o<u-1;)t=t[e=n[o]],i=i[e],o++;return t[e=n[o]]=a,a instanceof Array?i[e]=numeric.rep(numeric.dim(a),0):i[e]=0,this}for(;o<u-1;)t=t[e=n[o]],o++;return t[e=n[o]]=a,this},numeric.T.prototype.getRows=function(n,r){var e,t,i=r-n+1,o=Array(i),u=this.x,a=this.y;for(e=n;e<=r;e++)o[e-n]=u[e];if(a){for(t=Array(i),e=n;e<=r;e++)t[e-n]=a[e];return new numeric.T(o,t)}return new numeric.T(o)},numeric.T.prototype.setRows=function(n,r,e){var t,i=this.x,o=this.y,u=e.x,a=e.y;for(t=n;t<=r;t++)i[t]=u[t-n];if(a)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),t=n;t<=r;t++)o[t]=a[t-n];else if(o)for(t=n;t<=r;t++)o[t]=numeric.rep([u[t-n].length],0);return this},numeric.T.prototype.getRow=function(n){var r=this.x,e=this.y;return e?new numeric.T(r[n],e[n]):new numeric.T(r[n])},numeric.T.prototype.setRow=function(n,r){var e=this.x,t=this.y,i=r.x,o=r.y;return e[n]=i,o?(t||(t=numeric.rep(numeric.dim(e),0),this.y=t),t[n]=o):t&&(t=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(n,r){var e=this.x,t=this.y,i=numeric.getBlock;return t?new numeric.T(i(e,n,r),i(t,n,r)):new numeric.T(i(e,n,r))},numeric.T.prototype.setBlock=function(n,r,e){e instanceof numeric.T||(e=new numeric.T(e));var t=this.x,i=this.y,o=numeric.setBlock,u=e.x,a=e.y;if(a)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(t,n,r,u),o(i,n,r,a),this;o(t,n,r,u),i&&o(i,n,r,numeric.rep(numeric.dim(u),0))},numeric.T.rep=function(n,r){var e=numeric.T;r instanceof e||(r=new e(r));var t=r.x,i=r.y,o=numeric.rep;return i?new e(o(n,t),o(n,i)):new e(o(n,t))},numeric.T.diag=function(n){n instanceof numeric.T||(n=new numeric.T(n));var r=n.x,e=n.y,t=numeric.diag;return e?new numeric.T(t(r),t(e)):new numeric.T(t(r))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(n){return new numeric.T(numeric.identity(n))},numeric.T.prototype.getDiag=function(){var n=numeric,r=this.x,e=this.y;return e?new n.T(n.getDiag(r),n.getDiag(e)):new n.T(n.getDiag(r))},numeric.house=function(n){var r=numeric.clone(n),e=(n[0]>=0?1:-1)*numeric.norm2(n);r[0]+=e;var t=numeric.norm2(r);if(0===t)throw new Error("eig: internal error");return numeric.div(r,t)},numeric.toUpperHessenberg=function(n){var r=numeric.dim(n);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var e,t,i,o,u,a,c,s,f,h,l=r[0],d=numeric.clone(n),p=numeric.identity(l);for(t=0;t<l-2;t++){for(o=Array(l-t-1),e=t+1;e<l;e++)o[e-t-1]=d[e][t];if(numeric.norm2(o)>0){for(u=numeric.house(o),a=numeric.getBlock(d,[t+1,t],[l-1,l-1]),c=numeric.tensor(u,numeric.dot(u,a)),e=t+1;e<l;e++)for(s=d[e],f=c[e-t-1],i=t;i<l;i++)s[i]-=2*f[i-t];for(a=numeric.getBlock(d,[0,t+1],[l-1,l-1]),c=numeric.tensor(numeric.dot(a,u),u),e=0;e<l;e++)for(s=d[e],f=c[e],i=t+1;i<l;i++)s[i]-=2*f[i-t-1];for(a=Array(l-t-1),e=t+1;e<l;e++)a[e-t-1]=p[e];for(c=numeric.tensor(u,numeric.dot(u,a)),e=t+1;e<l;e++)for(h=p[e],f=c[e-t-1],i=0;i<l;i++)h[i]-=2*f[i]}}return{H:d,Q:p}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(n,r){void 0===r&&(r=1e4),n=numeric.clone(n);numeric.clone(n);var e,t,i,o,u,a,c,s,f,h,l,d,p,v,g,m,y,x,w=numeric.dim(n)[0],b=numeric.identity(w);if(w<3)return{Q:b,B:[[0,w-1]]};var _=numeric.epsilon;for(x=0;x<r;x++){for(m=0;m<w-1;m++)if(Math.abs(n[m+1][m])<_*(Math.abs(n[m][m])+Math.abs(n[m+1][m+1]))){var E=numeric.QRFrancis(numeric.getBlock(n,[0,0],[m,m]),r),M=numeric.QRFrancis(numeric.getBlock(n,[m+1,m+1],[w-1,w-1]),r);for(d=Array(m+1),g=0;g<=m;g++)d[g]=b[g];for(p=numeric.dot(E.Q,d),g=0;g<=m;g++)b[g]=p[g];for(d=Array(w-m-1),g=m+1;g<w;g++)d[g-m-1]=b[g];for(p=numeric.dot(M.Q,d),g=m+1;g<w;g++)b[g]=p[g-m-1];return{Q:b,B:E.B.concat(numeric.add(M.B,m+1))}}var k,j,N;if(i=n[w-2][w-2],o=n[w-2][w-1],u=n[w-1][w-2],s=i+(a=n[w-1][w-1]),c=i*a-o*u,f=numeric.getBlock(n,[0,0],[2,2]),s*s>=4*c)k=.5*(s+Math.sqrt(s*s-4*c)),j=.5*(s-Math.sqrt(s*s-4*c)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,k+j)),numeric.diag(numeric.rep([3],k*j)));else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,s)),numeric.diag(numeric.rep([3],c)));for(e=[f[0][0],f[1][0],f[2][0]],t=numeric.house(e),d=[n[0],n[1],n[2]],p=numeric.tensor(t,numeric.dot(t,d)),g=0;g<3;g++)for(l=n[g],v=p[g],y=0;y<w;y++)l[y]-=2*v[y];for(d=numeric.getBlock(n,[0,0],[w-1,2]),p=numeric.tensor(numeric.dot(d,t),t),g=0;g<w;g++)for(l=n[g],v=p[g],y=0;y<3;y++)l[y]-=2*v[y];for(d=[b[0],b[1],b[2]],p=numeric.tensor(t,numeric.dot(t,d)),g=0;g<3;g++)for(h=b[g],v=p[g],y=0;y<w;y++)h[y]-=2*v[y];for(m=0;m<w-2;m++){for(y=m;y<=m+1;y++)if(Math.abs(n[y+1][y])<_*(Math.abs(n[y][y])+Math.abs(n[y+1][y+1]))){E=numeric.QRFrancis(numeric.getBlock(n,[0,0],[y,y]),r),M=numeric.QRFrancis(numeric.getBlock(n,[y+1,y+1],[w-1,w-1]),r);for(d=Array(y+1),g=0;g<=y;g++)d[g]=b[g];for(p=numeric.dot(E.Q,d),g=0;g<=y;g++)b[g]=p[g];for(d=Array(w-y-1),g=y+1;g<w;g++)d[g-y-1]=b[g];for(p=numeric.dot(M.Q,d),g=y+1;g<w;g++)b[g]=p[g-y-1];return{Q:b,B:E.B.concat(numeric.add(M.B,y+1))}}for(N=Math.min(w-1,m+3),e=Array(N-m),g=m+1;g<=N;g++)e[g-m-1]=n[g][m];for(t=numeric.house(e),d=numeric.getBlock(n,[m+1,m],[N,w-1]),p=numeric.tensor(t,numeric.dot(t,d)),g=m+1;g<=N;g++)for(l=n[g],v=p[g-m-1],y=m;y<w;y++)l[y]-=2*v[y-m];for(d=numeric.getBlock(n,[0,m+1],[w-1,N]),p=numeric.tensor(numeric.dot(d,t),t),g=0;g<w;g++)for(l=n[g],v=p[g],y=m+1;y<=N;y++)l[y]-=2*v[y-m-1];for(d=Array(N-m),g=m+1;g<=N;g++)d[g-m-1]=b[g];for(p=numeric.tensor(t,numeric.dot(t,d)),g=m+1;g<=N;g++)for(h=b[g],v=p[g-m-1],y=0;y<w;y++)h[y]-=2*v[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(n,r){var e,t,i,o,u,a,c,s,f,h,l,d,p,v,g,m,y=numeric.toUpperHessenberg(n),x=numeric.QRFrancis(y.H,r),w=numeric.T,b=n.length,_=x.B,E=numeric.dot(x.Q,numeric.dot(y.H,numeric.transpose(x.Q))),M=new w(numeric.dot(x.Q,y.Q)),k=_.length,j=Math.sqrt;for(t=0;t<k;t++)if((e=_[t][0])===_[t][1]);else{if(o=e+1,u=E[e][e],a=E[e][o],c=E[o][e],s=E[o][o],0===a&&0===c)continue;(h=(f=-u-s)*f-4*(u*s-a*c))>=0?((g=(u-(l=f<0?-.5*(f-j(h)):-.5*(f+j(h))))*(u-l)+a*a)>(m=c*c+(s-l)*(s-l))?(p=(u-l)/(g=j(g)),v=a/g):(p=c/(m=j(m)),v=(s-l)/m),i=new w([[v,-p],[p,v]]),M.setRows(e,o,i.dot(M.getRows(e,o)))):(l=-.5*f,d=.5*j(-h),(g=(u-l)*(u-l)+a*a)>(m=c*c+(s-l)*(s-l))?(p=(u-l)/(g=j(g+d*d)),v=a/g,l=0,d/=g):(p=c/(m=j(m+d*d)),v=(s-l)/m,l=d/m,d=0),i=new w([[v,-p],[p,v]],[[l,d],[d,-l]]),M.setRows(e,o,i.dot(M.getRows(e,o))))}var N=M.dot(n).dot(M.transjugate()),A=(b=n.length,numeric.T.identity(b));for(o=0;o<b;o++)if(o>0)for(t=o-1;t>=0;t--){var S=N.get([t,t]),O=N.get([o,o]);numeric.neq(S.x,O.x)||numeric.neq(S.y,O.y)?(l=N.getRow(t).getBlock([t],[o-1]),d=A.getRow(o).getBlock([t],[o-1]),A.set([o,t],N.get([t,o]).neg().sub(l.dot(d)).div(S.sub(O)))):A.setRow(o,A.getRow(t))}for(o=0;o<b;o++)l=A.getRow(o),A.setRow(o,l.div(l.norm2()));return A=A.transpose(),A=M.transjugate().dot(A),{lambda:N.getDiag(),E:A}},numeric.ccsSparse=function(n){var r,e,t,i=n.length,o=[];for(e=i-1;-1!==e;--e)for(t in r=n[e]){for(t=parseInt(t);t>=o.length;)o[o.length]=0;0!==r[t]&&o[t]++}var u=o.length,a=Array(u+1);for(a[0]=0,e=0;e<u;++e)a[e+1]=a[e]+o[e];var c=Array(a[u]),s=Array(a[u]);for(e=i-1;-1!==e;--e)for(t in r=n[e])0!==r[t]&&(o[t]--,c[a[t]+o[t]]=e,s[a[t]+o[t]]=r[t]);return[a,c,s]},numeric.ccsFull=function(n){var r,e,t,i,o=n[0],u=n[1],a=n[2],c=numeric.ccsDim(n),s=c[0],f=c[1],h=numeric.rep([s,f],0);for(r=0;r<f;r++)for(t=o[r],i=o[r+1],e=t;e<i;++e)h[u[e]][r]=a[e];return h},numeric.ccsTSolve=function(n,r,e,t,i){var o,u,a,c,s,f,h,l=n[0],d=n[1],p=n[2],v=l.length-1,g=Math.max,m=0;function y(n){var r;if(0===e[n]){for(e[n]=1,r=l[n];r<l[n+1];++r)y(d[r]);i[m]=n,++m}}for(void 0===t&&(e=numeric.rep([v],0)),void 0===t&&(t=numeric.linspace(0,e.length-1)),void 0===i&&(i=[]),o=t.length-1;-1!==o;--o)y(t[o]);for(i.length=m,o=i.length-1;-1!==o;--o)e[i[o]]=0;for(o=t.length-1;-1!==o;--o)u=t[o],e[u]=r[u];for(o=i.length-1;-1!==o;--o){for(u=i[o],a=l[u],c=g(l[u+1],a),s=a;s!==c;++s)if(d[s]===u){e[u]/=p[s];break}for(h=e[u],s=a;s!==c;++s)(f=d[s])!==u&&(e[f]-=h*p[s])}return e},numeric.ccsDFS=function(n){this.k=Array(n),this.k1=Array(n),this.j=Array(n)},numeric.ccsDFS.prototype.dfs=function(n,r,e,t,i,o){var u,a,c,s=0,f=i.length,h=this.k,l=this.k1,d=this.j;if(0===t[n])for(t[n]=1,d[0]=n,h[0]=a=r[n],l[0]=c=r[n+1];;)if(a>=c){if(i[f]=d[s],0===s)return;++f,a=h[--s],c=l[s]}else 0===t[u=o[e[a]]]?(t[u]=1,h[s]=a,d[++s]=u,a=r[u],l[s]=c=r[u+1]):++a},numeric.ccsLPSolve=function(n,r,e,t,i,o,u){var a,c,s,f,h,l,d,p,v,g=n[0],m=n[1],y=n[2],x=(g.length,r[0]),w=r[1],b=r[2];for(c=x[i],s=x[i+1],t.length=0,a=c;a<s;++a)u.dfs(o[w[a]],g,m,e,t,o);for(a=t.length-1;-1!==a;--a)e[t[a]]=0;for(a=c;a!==s;++a)e[f=o[w[a]]]=b[a];for(a=t.length-1;-1!==a;--a){for(h=g[f=t[a]],l=g[f+1],d=h;d<l;++d)if(o[m[d]]===f){e[f]/=y[d];break}for(v=e[f],d=h;d<l;++d)(p=o[m[d]])!==f&&(e[p]-=v*y[d])}return e},numeric.ccsLUP1=function(n,r){var e,t,i,o,u,a,c,s=n[0].length-1,f=[numeric.rep([s+1],0),[],[]],h=[numeric.rep([s+1],0),[],[]],l=f[0],d=f[1],p=f[2],v=h[0],g=h[1],m=h[2],y=numeric.rep([s],0),x=numeric.rep([s],0),w=numeric.ccsLPSolve,b=(Math.max,Math.abs),_=numeric.linspace(0,s-1),E=numeric.linspace(0,s-1),M=new numeric.ccsDFS(s);for(void 0===r&&(r=1),e=0;e<s;++e){for(w(f,n,y,x,e,E,M),o=-1,u=-1,t=x.length-1;-1!==t;--t)(i=x[t])<=e||(a=b(y[i]))>o&&(u=i,o=a);for(b(y[e])<r*o&&(t=_[e],o=_[u],_[e]=o,E[o]=e,_[u]=t,E[t]=u,o=y[e],y[e]=y[u],y[u]=o),o=l[e],u=v[e],c=y[e],d[o]=_[e],p[o]=1,++o,t=x.length-1;-1!==t;--t)a=y[i=x[t]],x[t]=0,y[i]=0,i<=e?(g[u]=i,m[u]=a,++u):(d[o]=_[i],p[o]=a/c,++o);l[e+1]=o,v[e+1]=u}for(t=d.length-1;-1!==t;--t)d[t]=E[d[t]];return{L:f,U:h,P:_,Pinv:E}},numeric.ccsDFS0=function(n){this.k=Array(n),this.k1=Array(n),this.j=Array(n)},numeric.ccsDFS0.prototype.dfs=function(n,r,e,t,i,o,u){var a,c,s,f=0,h=i.length,l=this.k,d=this.k1,p=this.j;if(0===t[n])for(t[n]=1,p[0]=n,l[0]=c=r[o[n]],d[0]=s=r[o[n]+1];;){if(isNaN(c))throw new Error("Ow!");if(c>=s){if(i[h]=o[p[f]],0===f)return;++h,c=l[--f],s=d[f]}else 0===t[a=e[c]]?(t[a]=1,l[f]=c,p[++f]=a,c=r[a=o[a]],d[f]=s=r[a+1]):++c}},numeric.ccsLPSolve0=function(n,r,e,t,i,o,u,a){var c,s,f,h,l,d,p,v,g,m=n[0],y=n[1],x=n[2],w=(m.length,r[0]),b=r[1],_=r[2];for(s=w[i],f=w[i+1],t.length=0,c=s;c<f;++c)a.dfs(b[c],m,y,e,t,o,u);for(c=t.length-1;-1!==c;--c)e[u[h=t[c]]]=0;for(c=s;c!==f;++c)e[h=b[c]]=_[c];for(c=t.length-1;-1!==c;--c){for(v=u[h=t[c]],l=m[h],d=m[h+1],p=l;p<d;++p)if(y[p]===v){e[v]/=x[p];break}for(g=e[v],p=l;p<d;++p)e[y[p]]-=g*x[p];e[v]=g}},numeric.ccsLUP0=function(n,r){var e,t,i,o,u,a,c,s=n[0].length-1,f=[numeric.rep([s+1],0),[],[]],h=[numeric.rep([s+1],0),[],[]],l=f[0],d=f[1],p=f[2],v=h[0],g=h[1],m=h[2],y=numeric.rep([s],0),x=numeric.rep([s],0),w=numeric.ccsLPSolve0,b=(Math.max,Math.abs),_=numeric.linspace(0,s-1),E=numeric.linspace(0,s-1),M=new numeric.ccsDFS0(s);for(void 0===r&&(r=1),e=0;e<s;++e){for(w(f,n,y,x,e,E,_,M),o=-1,u=-1,t=x.length-1;-1!==t;--t)(i=x[t])<=e||(a=b(y[_[i]]))>o&&(u=i,o=a);for(b(y[_[e]])<r*o&&(t=_[e],o=_[u],_[e]=o,E[o]=e,_[u]=t,E[t]=u),o=l[e],u=v[e],c=y[_[e]],d[o]=_[e],p[o]=1,++o,t=x.length-1;-1!==t;--t)a=y[_[i=x[t]]],x[t]=0,y[_[i]]=0,i<=e?(g[u]=i,m[u]=a,++u):(d[o]=_[i],p[o]=a/c,++o);l[e+1]=o,v[e+1]=u}for(t=d.length-1;-1!==t;--t)d[t]=E[d[t]];return{L:f,U:h,P:_,Pinv:E}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(n){return[numeric.sup(n[1])+1,n[0].length-1]},numeric.ccsGetBlock=function(n,r,e){var t=numeric.ccsDim(n),i=t[0],o=t[1];void 0===r?r=numeric.linspace(0,i-1):"number"==typeof r&&(r=[r]),void 0===e?e=numeric.linspace(0,o-1):"number"==typeof e&&(e=[e]);var u,a,c,s,f=r.length,h=e.length,l=numeric.rep([o],0),d=[],p=[],v=[l,d,p],g=n[0],m=n[1],y=n[2],x=numeric.rep([i],0),w=0,b=numeric.rep([i],0);for(a=0;a<h;++a){var _=g[s=e[a]],E=g[s+1];for(u=_;u<E;++u)b[c=m[u]]=1,x[c]=y[u];for(u=0;u<f;++u)b[r[u]]&&(d[w]=u,p[w]=x[r[u]],++w);for(u=_;u<E;++u)b[c=m[u]]=0;l[a+1]=w}return v},numeric.ccsDot=function(n,r){var e,t,i,o,u,a,c,s,f,h,l,d=n[0],p=n[1],v=n[2],g=r[0],m=r[1],y=r[2],x=numeric.ccsDim(n),w=numeric.ccsDim(r),b=x[0],_=(x[1],w[1]),E=numeric.rep([b],0),M=numeric.rep([b],0),k=Array(b),j=numeric.rep([_],0),N=[],A=[],S=[j,N,A];for(i=0;i!==_;++i){for(o=g[i],u=g[i+1],f=0,t=o;t<u;++t)for(h=m[t],l=y[t],a=d[h],c=d[h+1],e=a;e<c;++e)0===M[s=p[e]]&&(k[f]=s,M[s]=1,f+=1),E[s]=E[s]+v[e]*l;for(u=(o=j[i])+f,j[i+1]=u,t=f-1;-1!==t;--t)l=o+t,e=k[t],N[l]=e,A[l]=E[e],M[e]=0,E[e]=0;j[i+1]=j[i]+f}return S},numeric.ccsLUPSolve=function(n,r){var e=n.L,t=n.U,i=(n.P,r[0]),o=!1;"object"!=typeof i&&(i=(r=[[0,r.length],numeric.linspace(0,r.length-1),r])[0],o=!0);var u,a,c,s,f,h,l=r[1],d=r[2],p=e[0].length-1,v=i.length-1,g=numeric.rep([p],0),m=Array(p),y=numeric.rep([p],0),x=Array(p),w=numeric.rep([v+1],0),b=[],_=[],E=numeric.ccsTSolve,M=0;for(u=0;u<v;++u){for(f=0,c=i[u],s=i[u+1],a=c;a<s;++a)h=n.Pinv[l[a]],x[f]=h,y[h]=d[a],++f;for(x.length=f,E(e,y,g,x,m),a=x.length-1;-1!==a;--a)y[x[a]]=0;if(E(t,g,y,m,x),o)return y;for(a=m.length-1;-1!==a;--a)g[m[a]]=0;for(a=x.length-1;-1!==a;--a)h=x[a],b[M]=h,_[M]=y[h],y[h]=0,++M;w[u+1]=M}return[w,b,_]},numeric.ccsbinop=function(n,r){return void 0===r&&(r=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\\nvar xk,yk,zk;\\nvar i,j,j0,j1,k,p=0;\\n"+r+"for(i=0;i<n;++i) {\\n  j0 = Xi[i]; j1 = Xi[i+1];\\n  for(j=j0;j!==j1;++j) {\\n    k = Xj[j];\\n    x[k] = 1;\\n    Zj[p] = k;\\n    ++p;\\n  }\\n  j0 = Yi[i]; j1 = Yi[i+1];\\n  for(j=j0;j!==j1;++j) {\\n    k = Yj[j];\\n    y[k] = Yv[j];\\n    if(x[k] === 0) {\\n      Zj[p] = k;\\n      ++p;\\n    }\\n  }\\n  Zi[i+1] = p;\\n  j0 = Xi[i]; j1 = Xi[i+1];\\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n  j0 = Zi[i]; j1 = Zi[i+1];\\n  for(j=j0;j!==j1;++j) {\\n    k = Zj[j];\\n    xk = x[k];\\n    yk = y[k];\\n"+n+"\\n    Zv[j] = zk;\\n  }\\n  j0 = Xi[i]; j1 = Xi[i+1];\\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n  j0 = Yi[i]; j1 = Yi[i+1];\\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n}\\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",\'if(typeof X === "number") return \'+A+\';\\nif(typeof Y === "number") return \'+B+";\\nreturn "+C+";\\n")}(),numeric.ccsScatter=function(n){var r,e=n[0],t=n[1],i=n[2],o=numeric.sup(t)+1,u=e.length,a=numeric.rep([o],0),c=Array(u),s=Array(u),f=numeric.rep([o],0);for(r=0;r<u;++r)f[t[r]]++;for(r=0;r<o;++r)a[r+1]=a[r]+f[r];var h,l,d=a.slice(0);for(r=0;r<u;++r)c[h=d[l=t[r]]]=e[r],s[h]=i[r],d[l]=d[l]+1;return[a,c,s]},numeric.ccsGather=function(n){var r,e,t,i,o,u=n[0],a=n[1],c=n[2],s=u.length-1,f=a.length,h=Array(f),l=Array(f),d=Array(f);for(o=0,r=0;r<s;++r)for(t=u[r],i=u[r+1],e=t;e!==i;++e)l[o]=r,h[o]=a[e],d[o]=c[e],++o;return[h,l,d]},numeric.sdim=function n(r,e,t){if(void 0===e&&(e=[]),"object"!=typeof r)return e;var i;for(i in void 0===t&&(t=0),t in e||(e[t]=0),r.length>e[t]&&(e[t]=r.length),r)r.hasOwnProperty(i)&&n(r[i],e,t+1);return e},numeric.sclone=function n(r,e,t){void 0===e&&(e=0),void 0===t&&(t=numeric.sdim(r).length);var i,o=Array(r.length);if(e===t-1){for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o}for(i in r)r.hasOwnProperty(i)&&(o[i]=n(r[i],e+1,t));return o},numeric.sdiag=function(n){var r,e,t=n.length,i=Array(t);for(r=t-1;r>=1;r-=2)e=r-1,i[r]=[],i[r][r]=n[r],i[e]=[],i[e][e]=n[e];return 0===r&&(i[0]=[],i[0][0]=n[r]),i},numeric.sidentity=function(n){return numeric.sdiag(numeric.rep([n],1))},numeric.stranspose=function(n){var r,e,t,i=[];n.length;for(r in n)if(n.hasOwnProperty(r))for(e in t=n[r])t.hasOwnProperty(e)&&("object"!=typeof i[e]&&(i[e]=[]),i[e][r]=t[e]);return i},numeric.sLUP=function(n,r){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(n,r){var e,t,i,o,u,a,c,s=n.length,f=(r.length,numeric.stranspose(r)),h=f.length,l=Array(s);for(i=s-1;i>=0;i--){for(c=[],e=n[i],u=h-1;u>=0;u--){for(o in a=0,t=f[u],e)e.hasOwnProperty(o)&&o in t&&(a+=e[o]*t[o]);a&&(c[u]=a)}l[i]=c}return l},numeric.sdotMV=function(n,r){var e,t,i,o,u=n.length,a=Array(u);for(t=u-1;t>=0;t--){for(i in o=0,e=n[t])e.hasOwnProperty(i)&&r[i]&&(o+=e[i]*r[i]);o&&(a[t]=o)}return a},numeric.sdotVM=function(n,r){var e,t,i,o,u=[];for(e in n)if(n.hasOwnProperty(e))for(t in i=r[e],o=n[e],i)i.hasOwnProperty(t)&&(u[t]||(u[t]=0),u[t]+=o*i[t]);return u},numeric.sdotVV=function(n,r){var e,t=0;for(e in n)n[e]&&r[e]&&(t+=n[e]*r[e]);return t},numeric.sdot=function(n,r){var e=numeric.sdim(n).length,t=numeric.sdim(r).length;switch(1e3*e+t){case 0:return n*r;case 1001:return numeric.sdotVV(n,r);case 2001:return numeric.sdotMV(n,r);case 1002:return numeric.sdotVM(n,r);case 2002:return numeric.sdotMM(n,r);default:throw new Error("numeric.sdot not implemented for tensors of order "+e+" and "+t)}},numeric.sscatter=function(n){var r,e,t,i,o=n[0].length,u=n.length,a=[];for(e=o-1;e>=0;--e)if(n[u-1][e]){for(i=a,t=0;t<u-2;t++)i[r=n[t][e]]||(i[r]=[]),i=i[r];i[n[t][e]]=n[t+1][e]}return a},numeric.sgather=function n(r,e,t){var i,o,u;for(o in void 0===e&&(e=[]),void 0===t&&(t=[]),i=t.length,r)if(r.hasOwnProperty(o))if(t[i]=parseInt(o),"number"==typeof(u=r[o])){if(u){if(0===e.length)for(o=i+1;o>=0;--o)e[o]=[];for(o=i;o>=0;--o)e[o].push(t[o]);e[i+1].push(u)}}else n(u,e,t);return t.length>i&&t.pop(),e},numeric.cLU=function(n){var r,e,t,i,o,u,a=n[0],c=n[1],s=n[2],f=a.length,h=0;for(r=0;r<f;r++)a[r]>h&&(h=a[r]);h++;var l,d=Array(h),p=Array(h),v=numeric.rep([h],1/0),g=numeric.rep([h],-1/0);for(t=0;t<f;t++)r=a[t],(e=c[t])<v[r]&&(v[r]=e),e>g[r]&&(g[r]=e);for(r=0;r<h-1;r++)g[r]>g[r+1]&&(g[r+1]=g[r]);for(r=h-1;r>=1;r--)v[r]<v[r-1]&&(v[r-1]=v[r]);for(r=0;r<h;r++)p[r]=numeric.rep([g[r]-v[r]+1],0),d[r]=numeric.rep([r-v[r]],0),r-v[r]+1,g[r]-r+1;for(t=0;t<f;t++)p[r=a[t]][c[t]-v[r]]=s[t];for(r=0;r<h-1;r++)for(i=r-v[r],x=p[r],e=r+1;v[e]<=r&&e<h;e++)if(o=r-v[e],u=g[r]-r,l=(w=p[e])[o]/x[i]){for(t=1;t<=u;t++)w[t+o]-=l*x[t+i];d[e][r-v[e]]=l}var m,y,x=[],w=[],b=[],_=[],E=[],M=[];for(f=0,m=0,r=0;r<h;r++){for(i=v[r],o=g[r],y=p[r],e=r;e<=o;e++)y[e-i]&&(x[f]=r,w[f]=e,b[f]=y[e-i],f++);for(y=d[r],e=i;e<r;e++)y[e-i]&&(_[m]=r,E[m]=e,M[m]=y[e-i],m++);_[m]=r,E[m]=r,M[m]=1,m++}return{U:[x,w,b],L:[_,E,M]}},numeric.cLUsolve=function(n,r){var e,t,i=n.L,o=n.U,u=numeric.clone(r),a=i[0],c=i[1],s=i[2],f=o[0],h=o[1],l=o[2],d=f.length,p=(a.length,u.length);for(t=0,e=0;e<p;e++){for(;c[t]<e;)u[e]-=s[t]*u[c[t]],t++;t++}for(t=d-1,e=p-1;e>=0;e--){for(;h[t]>e;)u[e]-=l[t]*u[h[t]],t--;u[e]/=l[t],t--}return u},numeric.cgrid=function(n,r){"number"==typeof n&&(n=[n,n]);var e,t,i,o=numeric.rep(n,-1);if("function"!=typeof r)switch(r){case"L":r=function(r,e){return r>=n[0]/2||e<n[1]/2};break;default:r=function(n,r){return!0}}for(i=0,e=1;e<n[0]-1;e++)for(t=1;t<n[1]-1;t++)r(e,t)&&(o[e][t]=i,i++);return o},numeric.cdelsq=function(n){var r,e,t,i,o,u=[[-1,0],[0,-1],[0,1],[1,0]],a=numeric.dim(n),c=a[0],s=a[1],f=[],h=[],l=[];for(r=1;r<c-1;r++)for(e=1;e<s-1;e++)if(!(n[r][e]<0)){for(t=0;t<4;t++)i=r+u[t][0],o=e+u[t][1],n[i][o]<0||(f.push(n[r][e]),h.push(n[i][o]),l.push(-1));f.push(n[r][e]),h.push(n[r][e]),l.push(4)}return[f,h,l]},numeric.cdotMV=function(n,r){var e,t,i,o=n[0],u=n[1],a=n[2],c=o.length;for(i=0,t=0;t<c;t++)o[t]>i&&(i=o[t]);for(i++,e=numeric.rep([i],0),t=0;t<c;t++)e[o[t]]+=a[t]*r[u[t]];return e},numeric.Spline=function(n,r,e,t,i){this.x=n,this.yl=r,this.yr=e,this.kl=t,this.kr=i},numeric.Spline.prototype._at=function(n,r){var e,t,i,o=this.x,u=this.yl,a=this.yr,c=this.kl,s=this.kr,f=numeric.add,h=numeric.sub,l=numeric.mul;e=h(l(c[r],o[r+1]-o[r]),h(a[r+1],u[r])),t=f(l(s[r+1],o[r]-o[r+1]),h(a[r+1],u[r]));var d=(i=(n-o[r])/(o[r+1]-o[r]))*(1-i);return f(f(f(l(1-i,u[r]),l(i,a[r+1])),l(e,d*(1-i))),l(t,d*i))},numeric.Spline.prototype.at=function(n){if("number"==typeof n){var r,e,t,i=this.x,o=i.length,u=Math.floor;for(r=0,e=o-1;e-r>1;)i[t=u((r+e)/2)]<=n?r=t:e=t;return this._at(n,r)}o=n.length;var a,c=Array(o);for(a=o-1;-1!==a;--a)c[a]=this.at(n[a]);return c},numeric.Spline.prototype.diff=function(){var n,r,e,t=this.x,i=this.yl,o=this.yr,u=this.kl,a=this.kr,c=i.length,s=u,f=a,h=Array(c),l=Array(c),d=numeric.add,p=numeric.mul,v=numeric.div,g=numeric.sub;for(n=c-1;-1!==n;--n)r=t[n+1]-t[n],e=g(o[n+1],i[n]),h[n]=v(d(p(e,6),p(u[n],-4*r),p(a[n+1],-2*r)),r*r),l[n+1]=v(d(p(e,-6),p(u[n],2*r),p(a[n+1],4*r)),r*r);return new numeric.Spline(t,s,f,h,l)},numeric.Spline.prototype.roots=function(){function n(n){return n*n}var r=[],e=this.x,t=this.yl,i=this.yr,o=this.kl,u=this.kr;"number"==typeof t[0]&&(t=[t],i=[i],o=[o],u=[u]);var a,c,s,f,h,l,d,p,v,g,m,y,x,w,b,_,E,M,k,j,N,A,S,O=t.length,T=e.length-1,I=(r=Array(O),Math.sqrt);for(a=0;a!==O;++a){for(f=t[a],h=i[a],l=o[a],d=u[a],p=[],c=0;c!==T;c++){for(c>0&&h[c]*f[c]<0&&p.push(e[c]),_=e[c+1]-e[c],e[c],m=f[c],y=h[c+1],v=l[c]/_,x=(g=d[c+1]/_)+3*m+2*v-3*y,w=3*(g+v+2*(m-y)),(b=n(v-g+3*(m-y))+12*g*m)<=0?E=(M=x/w)>e[c]&&M<e[c+1]?[e[c],M,e[c+1]]:[e[c],e[c+1]]:(M=(x-I(b))/w,k=(x+I(b))/w,E=[e[c]],M>e[c]&&M<e[c+1]&&E.push(M),k>e[c]&&k<e[c+1]&&E.push(k),E.push(e[c+1])),N=E[0],M=this._at(N,c),s=0;s<E.length-1;s++)if(A=E[s+1],k=this._at(A,c),0!==M)if(0===k||M*k>0)N=A,M=k;else{for(var P=0;!((S=(M*A-k*N)/(M-k))<=N||S>=A);)if((j=this._at(S,c))*k>0)A=S,k=j,-1===P&&(M*=.5),P=-1;else{if(!(j*M>0))break;N=S,M=j,1===P&&(k*=.5),P=1}p.push(S),N=E[s+1],M=this._at(N,c)}else p.push(N),N=A,M=k;0===k&&p.push(A)}r[a]=p}return"number"==typeof this.yl[0]?r[0]:r},numeric.spline=function(n,r,e,t){var i,o=n.length,u=[],a=[],c=[],s=numeric.sub,f=numeric.mul,h=numeric.add;for(i=o-2;i>=0;i--)a[i]=n[i+1]-n[i],c[i]=s(r[i+1],r[i]);"string"!=typeof e&&"string"!=typeof t||(e=t="periodic");var l=[[],[],[]];switch(typeof e){case"undefined":u[0]=f(3/(a[0]*a[0]),c[0]),l[0].push(0,0),l[1].push(0,1),l[2].push(2/a[0],1/a[0]);break;case"string":u[0]=h(f(3/(a[o-2]*a[o-2]),c[o-2]),f(3/(a[0]*a[0]),c[0])),l[0].push(0,0,0),l[1].push(o-2,0,1),l[2].push(1/a[o-2],2/a[o-2]+2/a[0],1/a[0]);break;default:u[0]=e,l[0].push(0),l[1].push(0),l[2].push(1)}for(i=1;i<o-1;i++)u[i]=h(f(3/(a[i-1]*a[i-1]),c[i-1]),f(3/(a[i]*a[i]),c[i])),l[0].push(i,i,i),l[1].push(i-1,i,i+1),l[2].push(1/a[i-1],2/a[i-1]+2/a[i],1/a[i]);switch(typeof t){case"undefined":u[o-1]=f(3/(a[o-2]*a[o-2]),c[o-2]),l[0].push(o-1,o-1),l[1].push(o-2,o-1),l[2].push(1/a[o-2],2/a[o-2]);break;case"string":l[1][l[1].length-1]=0;break;default:u[o-1]=t,l[0].push(o-1),l[1].push(o-1),l[2].push(1)}u="number"!=typeof u[0]?numeric.transpose(u):[u];var d=Array(u.length);if("string"==typeof e)for(i=d.length-1;-1!==i;--i)d[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(l)),u[i]),d[i][o-1]=d[i][0];else for(i=d.length-1;-1!==i;--i)d[i]=numeric.cLUsolve(numeric.cLU(l),u[i]);return d="number"==typeof r[0]?d[0]:numeric.transpose(d),new numeric.Spline(n,r,r,d,d)},numeric.fftpow2=function n(r,e){var t=r.length;if(1!==t){var i,o,u=Math.cos,a=Math.sin,c=Array(t/2),s=Array(t/2),f=Array(t/2),h=Array(t/2);for(o=t/2,i=t-1;-1!==i;--i)f[--o]=r[i],h[o]=e[i],--i,c[o]=r[i],s[o]=e[i];n(c,s),n(f,h),o=t/2;var l,d,p,v=-6.283185307179586/t;for(i=t-1;-1!==i;--i)-1===--o&&(o=t/2-1),d=u(l=v*i),p=a(l),r[i]=c[o]+d*f[o]-p*h[o],e[i]=s[o]+d*h[o]+p*f[o]}},numeric._ifftpow2=function n(r,e){var t=r.length;if(1!==t){var i,o,u=Math.cos,a=Math.sin,c=Array(t/2),s=Array(t/2),f=Array(t/2),h=Array(t/2);for(o=t/2,i=t-1;-1!==i;--i)f[--o]=r[i],h[o]=e[i],--i,c[o]=r[i],s[o]=e[i];n(c,s),n(f,h),o=t/2;var l,d,p,v=6.283185307179586/t;for(i=t-1;-1!==i;--i)-1===--o&&(o=t/2-1),d=u(l=v*i),p=a(l),r[i]=c[o]+d*f[o]-p*h[o],e[i]=s[o]+d*h[o]+p*f[o]}},numeric.ifftpow2=function(n,r){numeric._ifftpow2(n,r),numeric.diveq(n,n.length),numeric.diveq(r,r.length)},numeric.convpow2=function(n,r,e,t){var i,o,u,a,c;for(numeric.fftpow2(n,r),numeric.fftpow2(e,t),i=n.length-1;-1!==i;--i)o=n[i],a=r[i],u=e[i],c=t[i],n[i]=o*u-a*c,r[i]=o*c+a*u;numeric.ifftpow2(n,r)},numeric.T.prototype.fft=function(){var n,r,e=this.x,t=this.y,i=e.length,o=Math.log,u=o(2),a=Math.ceil(o(2*i-1)/u),c=Math.pow(2,a),s=numeric.rep([c],0),f=numeric.rep([c],0),h=Math.cos,l=Math.sin,d=-3.141592653589793/i,p=numeric.rep([c],0),v=numeric.rep([c],0);Math.floor(i/2);for(n=0;n<i;n++)p[n]=e[n];if(void 0!==t)for(n=0;n<i;n++)v[n]=t[n];for(s[0]=1,n=1;n<=c/2;n++)r=d*n*n,s[n]=h(r),f[n]=l(r),s[c-n]=h(r),f[c-n]=l(r);var g=new numeric.T(p,v),m=new numeric.T(s,f);return g=g.mul(m),numeric.convpow2(g.x,g.y,numeric.clone(m.x),numeric.neg(m.y)),(g=g.mul(m)).x.length=i,g.y.length=i,g},numeric.T.prototype.ifft=function(){var n,r,e=this.x,t=this.y,i=e.length,o=Math.log,u=o(2),a=Math.ceil(o(2*i-1)/u),c=Math.pow(2,a),s=numeric.rep([c],0),f=numeric.rep([c],0),h=Math.cos,l=Math.sin,d=3.141592653589793/i,p=numeric.rep([c],0),v=numeric.rep([c],0);Math.floor(i/2);for(n=0;n<i;n++)p[n]=e[n];if(void 0!==t)for(n=0;n<i;n++)v[n]=t[n];for(s[0]=1,n=1;n<=c/2;n++)r=d*n*n,s[n]=h(r),f[n]=l(r),s[c-n]=h(r),f[c-n]=l(r);var g=new numeric.T(p,v),m=new numeric.T(s,f);return g=g.mul(m),numeric.convpow2(g.x,g.y,numeric.clone(m.x),numeric.neg(m.y)),(g=g.mul(m)).x.length=i,g.y.length=i,g.div(i)},numeric.gradient=function(n,r){var e=r.length,t=n(r);if(isNaN(t))throw new Error("gradient: f(x) is a NaN!");var i,o,u,a,c,s,f,h,l,d=Math.max,p=numeric.clone(r),v=Array(e),g=(numeric.div,numeric.sub,d=Math.max,Math.abs),m=Math.min,y=0;for(i=0;i<e;i++)for(var x=d(1e-6*t,1e-8);;){if(++y>20)throw new Error("Numerical gradient fails");if(p[i]=r[i]+x,o=n(p),p[i]=r[i]-x,u=n(p),p[i]=r[i],isNaN(o)||isNaN(u))x/=16;else{if(v[i]=(o-u)/(2*x),a=r[i]-x,c=r[i],s=r[i]+x,f=(o-t)/x,h=(t-u)/x,l=d(g(v[i]),g(t),g(o),g(u),g(a),g(c),g(s),1e-8),!(m(d(g(f-v[i]),g(h-v[i]),g(f-h))/l,x/l)>.001))break;x/=16}}return v},numeric.uncmin=function(n,r,e,t,i,o,u){var a=numeric.gradient;void 0===u&&(u={}),void 0===e&&(e=1e-8),void 0===t&&(t=function(r){return a(n,r)}),void 0===i&&(i=1e3);var c,s,f=(r=numeric.clone(r)).length,h=n(r);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var l=Math.max,d=numeric.norm2;e=l(e,numeric.epsilon);var p,v,g,m,y,x,w,b,_,E,M=u.Hinv||numeric.identity(f),k=numeric.dot,j=(numeric.inv,numeric.sub),N=numeric.add,A=numeric.tensor,S=numeric.div,O=numeric.mul,T=numeric.all,I=numeric.isFinite,P=numeric.neg,D=0,L="";for(v=t(r);D<i;){if("function"==typeof o&&o(D,r,h,v,M)){L="Callback returned true";break}if(!T(I(v))){L="Gradient has Infinity or NaN";break}if(!T(I(p=P(k(M,v))))){L="Search direction has Infinity or NaN";break}if((E=d(p))<e){L="Newton step smaller than tol";break}for(_=1,s=k(v,p),y=r;D<i&&!(_*E<e)&&(y=N(r,m=O(p,_)),(c=n(y))-h>=.1*_*s||isNaN(c));)_*=.5,++D;if(_*E<e){L="Line search step size smaller than tol";break}if(D===i){L="maxit reached during line search";break}M=j(N(M,O(((b=k(x=j(g=t(y),v),m))+k(x,w=k(M,x)))/(b*b),A(m,m))),S(N(A(w,m),A(m,w)),b)),r=y,h=c,v=g,++D}return{solution:r,f:h,gradient:v,invHessian:M,iterations:D,message:L}},numeric.Dopri=function(n,r,e,t,i,o,u){this.x=n,this.y=r,this.f=e,this.ymid=t,this.iterations=i,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(n,r){function e(n){return n*n}var t,i,o,u,a,c,s,f,h,l=this.x,d=this.y,p=this.f,v=this.ymid,g=(l.length,Math.floor,numeric.add),m=numeric.mul,y=numeric.sub;return t=l[r],i=l[r+1],u=d[r],a=d[r+1],o=t+.5*(i-t),c=v[r],s=y(p[r],m(u,1/(t-o)+2/(t-i))),f=y(p[r+1],m(a,1/(i-o)+2/(i-t))),g(g(g(g(m(u,(h=[e(n-i)*(n-o)/e(t-i)/(t-o),e(n-t)*e(n-i)/e(t-o)/e(i-o),e(n-t)*(n-o)/e(i-t)/(i-o),(n-t)*e(n-i)*(n-o)/e(t-i)/(t-o),(n-i)*e(n-t)*(n-o)/e(t-i)/(i-o)])[0]),m(c,h[1])),m(a,h[2])),m(s,h[3])),m(f,h[4]))},numeric.Dopri.prototype.at=function(n){var r,e,t,i=Math.floor;if("number"!=typeof n){var o=n.length,u=Array(o);for(r=o-1;-1!==r;--r)u[r]=this.at(n[r]);return u}var a=this.x;for(r=0,e=a.length-1;e-r>1;)a[t=i(.5*(r+e))]<=n?r=t:e=t;return this._at(n,r)},numeric.dopri=function(n,r,e,t,i,o,u){void 0===i&&(i=1e-6),void 0===o&&(o=1e3);var a,c,s,f,h,l,d,p,v,g,m,y,x,w=[n],b=[e],_=[t(n,e)],E=[],M=[.075,.225],k=[44/45,-56/15,32/9],j=[19372/6561,-25360/2187,64448/6561,-212/729],N=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],A=[35/384,0,500/1113,125/192,-2187/6784,11/84],S=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],O=[.2,.3,.8,8/9,1,1],T=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],I=0,P=(r-n)/10,D=0,L=numeric.add,C=numeric.mul,F=(Math.max,Math.min),R=Math.abs,z=numeric.norminf,q=Math.pow,V=numeric.any,B=numeric.lt,U=numeric.and,G=(numeric.sub,new numeric.Dopri(w,b,_,E,-1,""));for("function"==typeof u&&(m=u(n,e));n<r&&D<o;)if(++D,n+P>r&&(P=r-n),a=t(n+O[0]*P,L(e,C(.2*P,_[I]))),c=t(n+O[1]*P,L(L(e,C(M[0]*P,_[I])),C(M[1]*P,a))),s=t(n+O[2]*P,L(L(L(e,C(k[0]*P,_[I])),C(k[1]*P,a)),C(k[2]*P,c))),f=t(n+O[3]*P,L(L(L(L(e,C(j[0]*P,_[I])),C(j[1]*P,a)),C(j[2]*P,c)),C(j[3]*P,s))),h=t(n+O[4]*P,L(L(L(L(L(e,C(N[0]*P,_[I])),C(N[1]*P,a)),C(N[2]*P,c)),C(N[3]*P,s)),C(N[4]*P,f))),l=t(n+P,v=L(L(L(L(L(e,C(_[I],P*A[0])),C(c,P*A[2])),C(s,P*A[3])),C(f,P*A[4])),C(h,P*A[5]))),(g="number"==typeof(d=L(L(L(L(L(C(_[I],P*T[0]),C(c,P*T[2])),C(s,P*T[3])),C(f,P*T[4])),C(h,P*T[5])),C(l,P*T[6])))?R(d):z(d))>i){if(n+(P=.2*P*q(i/g,.25))===n){G.msg="Step size became too small";break}}else{if(E[I]=L(L(L(L(L(L(e,C(_[I],P*S[0])),C(c,P*S[2])),C(s,P*S[3])),C(f,P*S[4])),C(h,P*S[5])),C(l,P*S[6])),w[++I]=n+P,b[I]=v,_[I]=l,"function"==typeof u){var Y,X,W=n,H=n+.5*P;if(y=u(H,E[I-1]),V(x=U(B(m,0),B(0,y)))||(W=H,m=y,y=u(H=n+P,v),x=U(B(m,0),B(0,y))),V(x)){for(var Q,$,Z=0,K=1,J=1;;){if("number"==typeof m)X=(J*y*W-K*m*H)/(J*y-K*m);else for(X=H,p=m.length-1;-1!==p;--p)m[p]<0&&y[p]>0&&(X=F(X,(J*y[p]*W-K*m[p]*H)/(J*y[p]-K*m[p])));if(X<=W||X>=H)break;$=u(X,Y=G._at(X,I-1)),V(Q=U(B(m,0),B(0,$)))?(H=X,y=$,x=Q,J=1,-1===Z?K*=.5:K=1,Z=-1):(W=X,m=$,K=1,1===Z?J*=.5:J=1,Z=1)}return v=G._at(.5*(n+X),I-1),G.f[I]=t(X,Y),G.x[I]=X,G.y[I]=Y,G.ymid[I-1]=v,G.events=x,G.iterations=D,G}}n+=P,e=v,m=y,P=F(.8*P*q(i/g,.25),4*P)}return G.iterations=D,G},numeric.LU=function(n,r){r=r||!1;var e,t,i,o,u,a,c,s,f,h=Math.abs,l=n.length,d=l-1,p=new Array(l);for(r||(n=numeric.clone(n)),i=0;i<l;++i){for(c=i,f=h((a=n[i])[i]),t=i+1;t<l;++t)f<(o=h(n[t][i]))&&(f=o,c=t);for(p[i]=c,c!=i&&(n[i]=n[c],n[c]=a,a=n[i]),u=a[i],e=i+1;e<l;++e)n[e][i]/=u;for(e=i+1;e<l;++e){for(s=n[e],t=i+1;t<d;++t)s[t]-=s[i]*a[t],s[++t]-=s[i]*a[t];t===d&&(s[t]-=s[i]*a[t])}}return{LU:n,P:p}},numeric.LUsolve=function(n,r){var e,t,i,o,u,a=n.LU,c=a.length,s=numeric.clone(r),f=n.P;for(e=c-1;-1!==e;--e)s[e]=r[e];for(e=0;e<c;++e)for(i=f[e],f[e]!==e&&(u=s[e],s[e]=s[i],s[i]=u),o=a[e],t=0;t<e;++t)s[e]-=s[t]*o[t];for(e=c-1;e>=0;--e){for(o=a[e],t=e+1;t<c;++t)s[e]-=s[t]*o[t];s[e]/=o[e]}return s},numeric.solve=function(n,r,e){return numeric.LUsolve(numeric.LU(n,e),r)},numeric.echelonize=function(n){var r,e,t,i,o,u,a,c,s=numeric.dim(n),f=s[0],h=s[1],l=numeric.identity(f),d=Array(f),p=Math.abs,v=numeric.diveq;for(n=numeric.clone(n),r=0;r<f;++r){for(t=0,o=n[r],u=l[r],e=1;e<h;++e)p(o[t])<p(o[e])&&(t=e);for(d[r]=t,v(u,o[t]),v(o,o[t]),e=0;e<f;++e)if(e!==r){for(c=(a=n[e])[t],i=h-1;-1!==i;--i)a[i]-=o[i]*c;for(a=l[e],i=f-1;-1!==i;--i)a[i]-=u[i]*c}}return{I:l,A:n,P:d}},numeric.__solveLP=function(n,r,e,t,i,o,u){var a,c,s,f,h=numeric.sum,l=(numeric.log,numeric.mul),d=numeric.sub,p=numeric.dot,v=numeric.div,g=numeric.add,m=n.length,y=e.length,x=!1,w=1,b=(numeric.transpose(r),numeric.svd,numeric.transpose),_=(numeric.leq,Math.sqrt),E=Math.abs,M=(numeric.muleq,numeric.norminf,numeric.any,Math.min),k=numeric.all,j=numeric.gt,N=Array(m),A=Array(y),S=(numeric.rep([y],1),numeric.solve),O=d(e,p(r,o)),T=p(n,n);for(s=0;s<i;++s){var I,P;for(I=y-1;-1!==I;--I)A[I]=v(r[I],O[I]);var D=b(A);for(I=m-1;-1!==I;--I)N[I]=h(D[I]);w=.25*E(T/p(n,N));var L=100*_(T/p(N,N));for((!isFinite(w)||w>L)&&(w=L),f=g(n,l(w,N)),c=p(D,A),I=m-1;-1!==I;--I)c[I][I]+=1;var C=v(O,p(r,P=S(c,v(f,w),!0))),F=1;for(I=y-1;-1!==I;--I)C[I]<0&&(F=M(F,-.999*C[I]));if(!k(j(O=d(e,p(r,a=d(o,l(P,F)))),0)))return{solution:o,message:"",iterations:s};if(o=a,w<t)return{solution:a,message:"",iterations:s};if(u){var R=p(n,f),z=p(r,f);for(x=!0,I=y-1;-1!==I;--I)if(R*z[I]<0){x=!1;break}}else x=!(o[m-1]>=0);if(x)return{solution:a,message:"Unbounded",iterations:s}}return{solution:o,message:"maximum iteration count exceeded",iterations:s}},numeric._solveLP=function(n,r,e,t,i){var o=n.length,u=e.length,a=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,s=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),f=numeric.rep([u,1],-1),h=numeric.blockMatrix([[r,f]]),l=e,d=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(e)))+1),p=numeric.__solveLP(s,h,l,t,i,d,!1),v=numeric.clone(p.solution);if(v.length=o,numeric.inf(a(e,c(r,v)))<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var g=numeric.__solveLP(n,r,e,t,i-p.iterations,v,!0);return g.iterations+=p.iterations,g},numeric.solveLP=function(n,r,e,t,i,o,u){if(void 0===u&&(u=1e3),void 0===o&&(o=numeric.epsilon),void 0===t)return numeric._solveLP(n,r,e,o,u);var a,c=t.length,s=t[0].length,f=r.length,h=numeric.echelonize(t),l=numeric.rep([s],0),d=h.P,p=[];for(a=d.length-1;-1!==a;--a)l[d[a]]=1;for(a=s-1;-1!==a;--a)0===l[a]&&p.push(a);var v=numeric.getRange,g=numeric.linspace(0,c-1),m=numeric.linspace(0,f-1),y=v(t,g,p),x=v(r,m,d),w=v(r,m,p),b=numeric.dot,_=numeric.sub,E=b(x,h.I),M=_(w,b(E,y)),k=_(e,b(E,i)),j=Array(d.length),N=Array(p.length);for(a=d.length-1;-1!==a;--a)j[a]=n[d[a]];for(a=p.length-1;-1!==a;--a)N[a]=n[p[a]];var A=_(N,b(j,b(h.I,y))),S=numeric._solveLP(A,M,k,o,u),O=S.solution;if(O!=O)return S;var T=b(h.I,_(i,b(y,O))),I=Array(n.length);for(a=d.length-1;-1!==a;--a)I[d[a]]=T[a];for(a=p.length-1;-1!==a;--a)I[p[a]]=O[a];return{solution:I,message:S.message,iterations:S.iterations}},numeric.MPStoLP=function(n){n instanceof String&&n.split("\\n");var r,e,t,i,o=0,u=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],a=n.length,c=0,s={},f=[],h=0,l={},d=0,p=[],v=[],g=[];function m(e){throw new Error("MPStoLP: "+e+"\\nLine "+r+": "+n[r]+"\\nCurrent state: "+u[o]+"\\n")}for(r=0;r<a;++r){var y=(t=n[r]).match(/\\S*/g),x=[];for(e=0;e<y.length;++e)""!==y[e]&&x.push(y[e]);if(0!==x.length){for(e=0;e<u.length&&t.substr(0,u[e].length)!==u[e];++e);if(e<u.length){if(o=e,1===e&&(i=x[1]),6===e)return{name:i,c:p,A:numeric.transpose(v),b:g,rows:s,vars:l}}else switch(o){case 0:case 1:m("Unexpected line");case 2:switch(x[0]){case"N":0===c?c=x[1]:m("Two or more N rows");break;case"L":s[x[1]]=h,f[h]=1,g[h]=0,++h;break;case"G":s[x[1]]=h,f[h]=-1,g[h]=0,++h;break;case"E":s[x[1]]=h,f[h]=0,g[h]=0,++h;break;default:m("Parse error "+numeric.prettyPrint(x))}break;case 3:l.hasOwnProperty(x[0])||(l[x[0]]=d,p[d]=0,v[d]=numeric.rep([h],0),++d);var w=l[x[0]];for(e=1;e<x.length;e+=2)if(x[e]!==c){var b=s[x[e]];v[w][b]=(f[b]<0?-1:1)*parseFloat(x[e+1])}else p[w]=parseFloat(x[e+1]);break;case 4:for(e=1;e<x.length;e+=2)g[s[x[e]]]=(f[s[x[e]]]<0?-1:1)*parseFloat(x[e+1]);break;case 5:break;case 6:m("Internal error")}}}m("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(n,r,e,t,i,o,u){function a(n,r,e,t){for(n+="",e=0,t=0;t<n.length;t++)r[c(t)]=c((e^=19*r[c(t)])+n.charCodeAt(t));for(t in n="",r)n+=String.fromCharCode(r[t]);return n}function c(n){return n&e-1}r.seedrandom=function(t,s){var f,h=[];return t=a(function n(r,e,t,i,o){t=[];o=typeof r;if(e&&"object"==o)for(i in r)if(i.indexOf("S")<5)try{t.push(n(r[i],e-1))}catch(n){}return t.length?t:r+("string"!=o?"\\0":"")}(s?[t,n]:arguments.length?t:[(new Date).getTime(),n,window],3),h),a((f=new function(n){var r,t,i=this,o=n.length,u=0,a=i.i=i.j=i.m=0;i.S=[],i.c=[],o||(n=[o++]);for(;u<e;)i.S[u]=u++;for(u=0;u<e;u++)r=i.S[u],a=c(a+r+n[u%o]),t=i.S[a],i.S[u]=t,i.S[a]=r;i.g=function(n){var r=i.S,t=c(i.i+1),o=r[t],u=c(i.j+o),a=r[u];r[t]=a,r[u]=o;for(var s=r[c(o+a)];--n;)t=c(t+1),o=r[t],u=c(u+o),a=r[u],r[t]=a,r[u]=o,s=s*e+r[c(o+a)];return i.i=t,i.j=u,s},i.g(e)}(h)).S,n),r.random=function(){for(var n=f.g(6),r=u,t=0;n<i;)n=(n+t)*e,r*=e,t=f.g(1);for(;n>=o;)n/=2,r/=2,t>>>=1;return(n+t)/r},t},u=r.pow(e,6),i=r.pow(2,i),o=2*i,a(r.random(),n)}([],numeric.seedrandom,256,0,52),function(n){function r(n){if("object"!=typeof n)return n;var e,t=[],i=n.length;for(e=0;e<i;e++)t[e+1]=r(n[e]);return t}function e(n){if("object"!=typeof n)return n;var r,t=[],i=n.length;for(r=1;r<i;r++)t[r-1]=e(n[r]);return t}function t(n,r,e,t,i,o,u,a,c,s,f,h,l,d,p,v){var g,m,y,x,w,b,_,E,M,k,j,N,A,S,O,T,I,P,D,L,C,F,R,z,q,V,B;A=Math.min(t,s),y=2*t+A*(A+5)/2+2*s+1,z=1e-60;do{q=1+.1*(z+=z),V=1+.2*z}while(q<=1||V<=1);for(g=1;g<=t;g+=1)p[g]=r[g];for(g=t+1;g<=y;g+=1)p[g]=0;for(g=1;g<=s;g+=1)h[g]=0;if(w=[],0===v[1]){if(function(n,r,e,t){var i,o,u,a,c,s;for(o=1;o<=e;o+=1){if(t[1]=o,s=0,(u=o-1)<1){if((s=n[o][o]-s)<=0)break;n[o][o]=Math.sqrt(s)}else{for(a=1;a<=u;a+=1){for(c=n[a][o],i=1;i<a;i+=1)c-=n[i][o]*n[i][a];c/=n[a][a],n[a][o]=c,s+=c*c}if((s=n[o][o]-s)<=0)break;n[o][o]=Math.sqrt(s)}t[1]=0}}(n,0,t,w),0!==w[1])return void(v[1]=2);!function(n,r,e,t){var i,o,u,a;for(o=1;o<=e;o+=1){for(a=0,i=1;i<o;i+=1)a+=n[i][o]*t[i];t[o]=(t[o]-a)/n[o][o]}for(u=1;u<=e;u+=1)for(t[o=e+1-u]=t[o]/n[o][o],a=-t[o],i=1;i<o;i+=1)t[i]=t[i]+a*n[i][o]}(n,0,t,r),function(n,r,e){var t,i,o,u,a;for(o=1;o<=e;o+=1){for(n[o][o]=1/n[o][o],a=-n[o][o],t=1;t<o;t+=1)n[t][o]=a*n[t][o];if(e<(u=o+1))break;for(i=u;i<=e;i+=1)for(a=n[o][i],n[o][i]=0,t=1;t<=o;t+=1)n[t][i]=n[t][i]+a*n[t][o]}}(n,0,t)}else{for(m=1;m<=t;m+=1)for(i[m]=0,g=1;g<=m;g+=1)i[m]=i[m]+n[g][m]*r[g];for(m=1;m<=t;m+=1)for(r[m]=0,g=m;g<=t;g+=1)r[m]=r[m]+n[m][g]*i[g]}for(o[1]=0,m=1;m<=t;m+=1)for(i[m]=r[m],o[1]=o[1]+p[m]*i[m],p[m]=0,g=m+1;g<=t;g+=1)n[g][m]=0;for(o[1]=-o[1]/2,v[1]=0,S=(k=(M=(j=(E=(_=t)+t)+A)+A+1)+A*(A+1)/2)+s,g=1;g<=s;g+=1){for(T=0,m=1;m<=t;m+=1)T+=u[m][g]*u[m][g];p[S+g]=Math.sqrt(T)}function U(){for(d[1]=d[1]+1,y=k,g=1;g<=s;g+=1){for(y+=1,T=-a[g],m=1;m<=t;m+=1)T+=u[m][g]*i[m];if(Math.abs(T)<z&&(T=0),g>f)p[y]=T;else if(p[y]=-Math.abs(T),T>0){for(m=1;m<=t;m+=1)u[m][g]=-u[m][g];a[g]=-a[g]}}for(g=1;g<=l;g+=1)p[k+h[g]]=0;for(N=0,O=0,g=1;g<=s;g+=1)p[k+g]<O*p[S+g]&&(N=g,O=p[k+g]/p[S+g]);return 0===N?999:0}function G(){for(g=1;g<=t;g+=1){for(T=0,m=1;m<=t;m+=1)T+=n[m][g]*u[m][N];p[g]=T}for(x=_,g=1;g<=t;g+=1)p[x+g]=0;for(m=l+1;m<=t;m+=1)for(g=1;g<=t;g+=1)p[x+g]=p[x+g]+n[g][m]*p[m];for(F=!0,g=l;g>=1;g-=1){for(T=p[g],x=(y=M+g*(g+3)/2)-g,m=g+1;m<=l;m+=1)T-=p[y]*p[E+m],y+=m;if(T/=p[x],p[E+g]=T,h[g]<f)break;if(T<0)break;F=!1,b=g}if(!F)for(I=p[j+b]/p[E+b],g=1;g<=l&&!(h[g]<f)&&!(p[E+g]<0);g+=1)(O=p[j+g]/p[E+g])<I&&(I=O,b=g);for(T=0,g=_+1;g<=_+t;g+=1)T+=p[g]*p[g];if(Math.abs(T)<=z){if(F)return v[1]=1,999;for(g=1;g<=l;g+=1)p[j+g]=p[j+g]-I*p[E+g];return p[j+l+1]=p[j+l+1]+I,700}for(T=0,g=1;g<=t;g+=1)T+=p[_+g]*u[g][N];for(P=-p[k+N]/T,R=!0,F||I<P&&(P=I,R=!1),g=1;g<=t;g+=1)i[g]=i[g]+P*p[_+g],Math.abs(i[g])<z&&(i[g]=0);for(o[1]=o[1]+P*T*(P/2+p[j+l+1]),g=1;g<=l;g+=1)p[j+g]=p[j+g]-P*p[E+g];if(p[j+l+1]=p[j+l+1]+P,!R){for(T=-a[N],m=1;m<=t;m+=1)T+=i[m]*u[m][N];if(N>f)p[k+N]=T;else if(p[k+N]=-Math.abs(T),T>0){for(m=1;m<=t;m+=1)u[m][N]=-u[m][N];a[N]=-a[N]}return 700}for(h[l+=1]=N,y=M+(l-1)*l/2+1,g=1;g<=l-1;g+=1)p[y]=p[g],y+=1;if(l===t)p[y]=p[t];else{for(g=t;g>=l+1&&0!==p[g]&&(D=Math.max(Math.abs(p[g-1]),Math.abs(p[g])),L=Math.min(Math.abs(p[g-1]),Math.abs(p[g])),O=p[g-1]>=0?Math.abs(D*Math.sqrt(1+L*L/(D*D))):-Math.abs(D*Math.sqrt(1+L*L/(D*D))),D=p[g-1]/O,L=p[g]/O,1!==D);g-=1)if(0===D)for(p[g-1]=L*O,m=1;m<=t;m+=1)O=n[m][g-1],n[m][g-1]=n[m][g],n[m][g]=O;else for(p[g-1]=O,C=L/(1+D),m=1;m<=t;m+=1)O=D*n[m][g-1]+L*n[m][g],n[m][g]=C*(n[m][g-1]+O)-n[m][g],n[m][g-1]=O;p[y]=p[l]}return 0}function Y(){if(0===p[x=(y=M+b*(b+1)/2+1)+b])return 798;if(D=Math.max(Math.abs(p[x-1]),Math.abs(p[x])),L=Math.min(Math.abs(p[x-1]),Math.abs(p[x])),O=p[x-1]>=0?Math.abs(D*Math.sqrt(1+L*L/(D*D))):-Math.abs(D*Math.sqrt(1+L*L/(D*D))),D=p[x-1]/O,L=p[x]/O,1===D)return 798;if(0===D){for(g=b+1;g<=l;g+=1)O=p[x-1],p[x-1]=p[x],p[x]=O,x+=g;for(g=1;g<=t;g+=1)O=n[g][b],n[g][b]=n[g][b+1],n[g][b+1]=O}else{for(C=L/(1+D),g=b+1;g<=l;g+=1)O=D*p[x-1]+L*p[x],p[x]=C*(p[x-1]+O)-p[x],p[x-1]=O,x+=g;for(g=1;g<=t;g+=1)O=D*n[g][b]+L*n[g][b+1],n[g][b+1]=C*(n[g][b]+O)-n[g][b+1],n[g][b]=O}return 0}function X(){for(x=y-b,g=1;g<=b;g+=1)p[x]=p[y],y+=1,x+=1;return p[j+b]=p[j+b+1],h[b]=h[b+1],(b+=1)<l?797:0}function W(){return p[j+l]=p[j+l+1],p[j+l+1]=0,h[l]=0,l-=1,d[2]=d[2]+1,0}for(l=0,d[1]=0,d[2]=0,B=0;;){if(999===(B=U()))return;for(;0!==(B=G());){if(999===B)return;if(700===B)if(b===l)W();else{for(;Y(),797===(B=X()););W()}}}}numeric.solveQP=function(n,i,o,u,a,c){n=r(n),i=r(i),o=r(o);var s,f,h,l,d,p=[],v=[],g=[],m=[],y=[];if(a=a||0,c=c?r(c):[void 0,0],u=u?r(u):[],f=n.length-1,h=o[1].length-1,!u)for(s=1;s<=h;s+=1)u[s]=0;for(s=1;s<=h;s+=1)v[s]=0;for(l=Math.min(f,h),s=1;s<=f;s+=1)g[s]=0;for(p[1]=0,s=1;s<=2*f+l*(l+5)/2+2*h+1;s+=1)m[s]=0;for(s=1;s<=2;s+=1)y[s]=0;return t(n,i,0,f,g,p,o,u,0,h,a,v,0,y,m,c),d="",1===c[1]&&(d="constraints are inconsistent, no solution!"),2===c[1]&&(d="matrix D in quadratic function is not positive definite!"),{solution:e(g),value:e(p),unconstrained_solution:e(i),iterations:e(y),iact:e(v),message:d}}}(),numeric.svd=function(n){var r,e=numeric.epsilon,t=1e-64/e,i=0,o=0,u=0,a=0,c=0,s=numeric.clone(n),f=s.length,h=s[0].length;if(f<h)throw"Need more rows than columns";var l=new Array(h),d=new Array(h);for(o=0;o<h;o++)l[o]=d[o]=0;var p=numeric.rep([h,h],0);function v(n,r){return(n=Math.abs(n))>(r=Math.abs(r))?n*Math.sqrt(1+r*r/n/n):0==r?n:r*Math.sqrt(1+n*n/r/r)}var g=0,m=0,y=0,x=0,w=0,b=0,_=0;for(o=0;o<h;o++){for(l[o]=m,_=0,c=o+1,u=o;u<f;u++)_+=s[u][o]*s[u][o];if(_<=t)m=0;else for(g=s[o][o],m=Math.sqrt(_),g>=0&&(m=-m),y=g*m-_,s[o][o]=g-m,u=c;u<h;u++){for(_=0,a=o;a<f;a++)_+=s[a][o]*s[a][u];for(g=_/y,a=o;a<f;a++)s[a][u]+=g*s[a][o]}for(d[o]=m,_=0,u=c;u<h;u++)_+=s[o][u]*s[o][u];if(_<=t)m=0;else{for(g=s[o][o+1],m=Math.sqrt(_),g>=0&&(m=-m),y=g*m-_,s[o][o+1]=g-m,u=c;u<h;u++)l[u]=s[o][u]/y;for(u=c;u<f;u++){for(_=0,a=c;a<h;a++)_+=s[u][a]*s[o][a];for(a=c;a<h;a++)s[u][a]+=_*l[a]}}(w=Math.abs(d[o])+Math.abs(l[o]))>x&&(x=w)}for(o=h-1;-1!=o;o+=-1){if(0!=m){for(y=m*s[o][o+1],u=c;u<h;u++)p[u][o]=s[o][u]/y;for(u=c;u<h;u++){for(_=0,a=c;a<h;a++)_+=s[o][a]*p[a][u];for(a=c;a<h;a++)p[a][u]+=_*p[a][o]}}for(u=c;u<h;u++)p[o][u]=0,p[u][o]=0;p[o][o]=1,m=l[o],c=o}for(o=h-1;-1!=o;o+=-1){for(c=o+1,m=d[o],u=c;u<h;u++)s[o][u]=0;if(0!=m){for(y=s[o][o]*m,u=c;u<h;u++){for(_=0,a=c;a<f;a++)_+=s[a][o]*s[a][u];for(g=_/y,a=o;a<f;a++)s[a][u]+=g*s[a][o]}for(u=o;u<f;u++)s[u][o]=s[u][o]/m}else for(u=o;u<f;u++)s[u][o]=0;s[o][o]+=1}for(e*=x,a=h-1;-1!=a;a+=-1)for(var E=0;E<50;E++){var M=!1;for(c=a;-1!=c;c+=-1){if(Math.abs(l[c])<=e){M=!0;break}if(Math.abs(d[c-1])<=e)break}if(!M){i=0,_=1;var k=c-1;for(o=c;o<a+1&&(g=_*l[o],l[o]=i*l[o],!(Math.abs(g)<=e));o++)for(y=v(g,m=d[o]),d[o]=y,i=m/y,_=-g/y,u=0;u<f;u++)w=s[u][k],b=s[u][o],s[u][k]=w*i+b*_,s[u][o]=-w*_+b*i}if(b=d[a],c==a){if(b<0)for(d[a]=-b,u=0;u<h;u++)p[u][a]=-p[u][a];break}if(E>=49)throw"Error: no convergence.";for(x=d[c],m=v(g=(((w=d[a-1])-b)*(w+b)+((m=l[a-1])-(y=l[a]))*(m+y))/(2*y*w),1),g=g<0?((x-b)*(x+b)+y*(w/(g-m)-y))/x:((x-b)*(x+b)+y*(w/(g+m)-y))/x,i=1,_=1,o=c+1;o<a+1;o++){for(m=l[o],w=d[o],y=_*m,m*=i,b=v(g,y),l[o-1]=b,g=x*(i=g/b)+m*(_=y/b),m=-x*_+m*i,y=w*_,w*=i,u=0;u<h;u++)x=p[u][o-1],b=p[u][o],p[u][o-1]=x*i+b*_,p[u][o]=-x*_+b*i;for(b=v(g,y),d[o-1]=b,g=(i=g/b)*m+(_=y/b)*w,x=-_*m+i*w,u=0;u<f;u++)w=s[u][o-1],b=s[u][o],s[u][o-1]=w*i+b*_,s[u][o]=-w*_+b*i}l[c]=0,l[a]=g,d[a]=x}for(o=0;o<d.length;o++)d[o]<e&&(d[o]=0);for(o=0;o<h;o++)for(u=o-1;u>=0;u--)if(d[u]<d[o]){for(i=d[u],d[u]=d[o],d[o]=i,a=0;a<s.length;a++)r=s[a][o],s[a][o]=s[a][u],s[a][u]=r;for(a=0;a<p.length;a++)r=p[a][o],p[a][o]=p[a][u],p[a][u]=r;o=u}return{U:s,S:d,V:p}}}).call(this,__webpack_require__(122))},function(n,r,e){var t=e(44);n.exports=function(n){return t(n,"Function")}},function(n,r){function e(n,r){for(var e in r)r.hasOwnProperty(e)&&"constructor"!==e&&void 0!==r[e]&&(n[e]=r[e])}n.exports=function(n,r,t,i){return r&&e(n,r),t&&e(n,t),i&&e(n,i),n}},function(n,r,e){var t=e(66),i=e(7),o=e(43);i.registerLayout("fruchtermanGroup",{getDefaultCfg:function(){return{maxIteration:1e3,center:[0,0],gravity:1,speed:1,groupGravity:1,nodeRepulsiveCoefficient:50,groupRepulsiveCoefficient:10,nodeAttractiveCoefficient:1,groupAttractiveCoefficient:1,preventGroupOverlap:!0,groupCollideStrength:.7}},init:function(n){this.nodes=n.nodes,this.edges=n.edges,this.graph=n.graph,this.groupsData=this.graph.get("groups"),this.customGroup=this.graph.get("customGroup"),this.groupController=this.graph.get("customGroupControll")},execute:function(){var n=this,r=n.nodes,e=n.center;if(0!==r.length){if(1===r.length)return r[0].x=e[0],void(r[0].y=e[1]);var t=new Map,i=new Map;r.forEach(function(n,r){t.set(n.id,n),i.set(n.id,r)}),n.nodeMap=t,n.nodeIndexMap=i,n.run(),n.graph.refreshPositions();var o=n.customGroup.get("children"),u=n.groupController,a=n.graph.get("groupType");o.forEach(function(r){var e=r.get("id"),t=n.groupMap.get(e);t.item=r;var i=u.getGroupPadding(e),o=u.calculationGroupPosition(t.nodeIds),c=o.x,s=o.y,f=o.width,h=o.height,l=r.findByClassName("group-title"),d=r.get("children")[0],p=0,v=0;if("circle"===a){var g=f>h?f/2:h/2,m=(f+2*c)/2,y=(h+2*s)/2;d.attr({x:m,y:y,r:g+i}),t.x=m,t.y=y,t.size=2*(g+i),p=m,v=y-g-i}else if("rect"===a){var x=i*u.styles.default.disCoefficient,w=f+2*x,b=h+2*x,_=c-x,E=s-x;d.attr({x:_,y:E,width:w,height:b}),t.x=_,t.y=E,t.size=[w,b],p=c,v=s}if(l){var M=t.groupData.title,k=0,j=0;M&&(k=M.offsetox||0,j=M.offsetoy||0,M.offsetX=k,M.offsetY=j,"rect"===a&&(M.offsetX=0,M.offsetY=0));var N=p+k,A=v+j;"rect"===a&&(N=p,A=v),l.attr({x:N,y:A}),t.titlePos=[N,A]}}),n.graph.paint()}},run:function(){var n=this,r=n.nodes,e=n.groupsData,t=n.edges,i=n.maxIteration,o=n.width;o||"undefined"==typeof window||(o=window.innerWidth);var u=n.height;u||void 0===u||(u=window.innerHeight);var a=n.center,c=n.nodeMap,s=n.nodeIndexMap,f=o/10,h=Math.sqrt(o*u/(r.length+1)),l=n.gravity,d=n.speed,p=new Map;n.groupMap=p,r.forEach(function(n){if(void 0===p.get(n.groupId)){var r,t;e.forEach(function(e){e.id===n.groupId&&(r=e.parentId,t=e)});var i={name:n.groupId,cx:0,cy:0,count:0,parentId:r,nodeIds:[],groupData:t};p.set(n.groupId,i)}var o=p.get(n.groupId);o.nodeIds.push(n.id),o.cx+=n.x,o.cy+=n.y,o.count++}),p.forEach(function(n){n.cx/=n.count,n.cy/=n.count}),n.DFSSetGroups();for(var v=function(e){var i=[];r.forEach(function(n,r){i[r]={x:0,y:0}}),n.getDisp(r,t,c,s,i,h);var o=n.groupGravity||l;r.forEach(function(r,e){var t=p.get(r.groupId),u=Math.sqrt((r.x-t.cx)*(r.x-t.cx)+(r.y-t.cy)*(r.y-t.cy)),a=n.groupAttractiveCoefficient*h*o;i[e].x-=a*(r.x-t.cx)/u,i[e].y-=a*(r.y-t.cy)/u}),p.forEach(function(n){n.cx=0,n.cy=0,n.count=0}),r.forEach(function(n){var r=p.get(n.groupId);r.cx+=n.x,r.cy+=n.y,r.count++}),p.forEach(function(n){n.cx/=n.count,n.cy/=n.count}),r.forEach(function(n,r){var e=.01*h*l;i[r].x-=e*(n.x-a[0]),i[r].y-=e*(n.y-a[1])}),r.forEach(function(n,r){i[r].dx*=d/800,i[r].dy*=d/800}),r.forEach(function(n,r){var e=Math.sqrt(i[r].x*i[r].x+i[r].y*i[r].y);if(e>0){var t=Math.min(f*(d/800),e);n.x+=i[r].x/e*t,n.y+=i[r].y/e*t}})},g=0;g<i;g++)v()},getDisp:function(n,r,e,t,i,o){this.calRepulsive(n,i,o),this.calAttractive(r,e,t,i,o),this.calGroupRepulsive(i,o)},calRepulsive:function(n,r,e){var t=this;n.forEach(function(i,o){r[o]={x:0,y:0},n.forEach(function(n,u){if(o!==u){var a=i.x-n.x,c=i.y-n.y,s=a*a+c*c;0===s&&(s=1);var f=t.nodeRepulsiveCoefficient*(e*e)/s;r[o].x+=a*f,r[o].y+=c*f}})})},calAttractive:function(n,r,e,t,i){var o=this;n.forEach(function(n){var u=e.get(n.source),a=e.get(n.target);if(u!==a){var c=r.get(n.source),s=r.get(n.target),f=s.x-c.x,h=s.y-c.y,l=Math.sqrt(f*f+h*h),d=o.nodeAttractiveCoefficient*l*l/i;t[a].x-=f/l*d,t[a].y-=h/l*d,t[u].x+=f/l*d,t[u].y+=h/l*d}})},calGroupRepulsive:function(n,r){var e=this,t=e.groupMap,i=e.nodeIndexMap;t.forEach(function(o,u){var a={x:0,y:0};t.forEach(function(n,t){if(u!==t){var i=o.cx-n.cx,c=o.cy-n.cy,s=i*i+c*c;0===s&&(s=1);var f=e.groupRepulsiveCoefficient*(r*r)/s;a.x+=i*f,a.y+=c*f}}),o.nodeIds.forEach(function(r){var e=i.get(r);n[e].x+=a.x,n[e].y+=a.y})})},DFSSetGroups:function(){var n=this,r=n.groupMap;r.forEach(function(e){var t=e.parentId;if(t){var i;n.groupsData.forEach(function(n){n.id===e.groupId&&(i=n.parentId)});var o=r.get(t);if(o)e.nodeIds.forEach(function(n){o.nodeIds.push(n)});else{var u={name:t,cx:0,cy:0,count:0,parentId:i,nodeIds:e.nodeIds};r.set(t,u)}}})},BFSDivide:function(n,r,e){var i=this,o=t.forceManyBody();o.strength(30);var u=t.forceSimulation().nodes(e).force("center",t.forceCenter(n/2,r/2)).force("charge",o).alpha(.3).alphaDecay(.01).alphaMin(.001).on("tick",function(){e.forEach(function(n){n.nodes.forEach(function(r){r.x+=n.x-n.ox,r.y+=n.y-n.oy}),n.ox=n.x,n.oy=n.y,n.item.get("children")[0].attr({x:n.x,y:n.y})}),i.graph.refreshPositions()}).on("end",function(){});i.groupOverlapProcess(u)},groupOverlapProcess:function(n){var r=this.nodeSize,e=this.groupCollideStrength;if(r)if(isNaN(r)){if(2===r.length){r=(r[0]>r[1]?r[0]:r[1])/2}}else r/=2;else r=function(n){return n.size?o(n.size)?n.size[0]/2:n.size/2:10};n.force("collisionForce",t.forceCollide(r).strength(e))}})},function(n,r,e){var t=e(7),i=e(65);t.registerLayout("grid",{getDefaultCfg:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(){},sortBy:"degree",nodeSize:30}},execute:function(){var n=this,r=n.nodes,e=r.length,t=n.center;if(0!==e){if(1===e)return r[0].x=t[0],void(r[0].y=t[1]);var o=n.edges,u=[];r.forEach(function(n){u.push(n)});var a=new Map;if(u.forEach(function(n,r){a.set(n.id,r)}),("degree"===n.sortBy||!i(n.sortBy)||void 0===u[0][n.sortBy])&&(n.sortBy="degree",isNaN(r[0].degree))){var c=function(n,r,e){for(var t=[],i=0;i<n;i++)t[i]=0;return e.forEach(function(n){t[r.get(n.source)]+=1,t[r.get(n.target)]+=1}),t}(u.length,a,o);u.forEach(function(n,r){n.degree=c[r]})}u.sort(function(r,e){return e[n.sortBy]-r[n.sortBy]});var s=n.width;s||"undefined"==typeof window||(s=window.innerWidth);var f=n.height;f||void 0===f||(f=window.innerHeight),n.cells=e,n.splits=Math.sqrt(n.cells*n.height/n.width),n.rows=Math.round(n.splits),n.cols=Math.round(n.width/n.height*n.splits);var h=n.rows,l=null!=n.cols?n.cols:n.columns;if(null!=h&&null!=l)n.rows=h,n.cols=l;else if(null!=h&&null==l)n.rows=h,n.cols=Math.ceil(n.cells/n.rows);else if(null==h&&null!=l)n.cols=l,n.rows=Math.ceil(n.cells/n.cols);else if(n.cols*n.rows>n.cells){var d=n.small(),p=n.large();(d-1)*p>=n.cells?n.small(d-1):(p-1)*d>=n.cells&&n.large(p-1)}else for(;n.cols*n.rows<n.cells;){var v=n.small(),g=n.large();(g+1)*v>=n.cells?n.large(g+1):n.small(v+1)}n.cellWidth=n.width/n.cols,n.cellHeight=n.height/n.rows,n.condense&&(n.cellWidth=0,n.cellHeight=0),n.preventOverlap&&u.forEach(function(r){var e,t;null!=r.x&&null!=r.y||(r.x=0,r.y=0),isNaN(r.size)?(e=r.size[0],t=r.size[1]):(e=r.size,t=r.size),(isNaN(e)||isNaN(t))&&(isNaN(n.nodeSize)?(e=n.nodeSize[0],t=n.nodeSize[1]):(e=n.nodeSize,t=n.nodeSize));var i=n.preventOverlapPadding,o=e+i,u=t+i;n.cellWidth=Math.max(n.cellWidth,o),n.cellHeight=Math.max(n.cellHeight,u)}),n.cellUsed={},n.row=0,n.col=0,n.id2manPos={};for(var m=0;m<u.length;m++){var y=u[m],x=n.position(y);if(x&&(void 0!==x.row||void 0!==x.col)){var w={row:x.row,col:x.col};if(void 0===w.col)for(w.col=0;n.used(w.row,w.col);)w.col++;else if(void 0===w.row)for(w.row=0;n.used(w.row,w.col);)w.row++;n.id2manPos[y.id]=w,n.use(w.row,w.col)}n.getPos(y)}}},small:function(n){var r;null==n?r=Math.min(this.rows,this.cols):Math.min(this.rows,this.cols)===this.rows?this.rows=n:this.cols=n;return r},large:function(n){var r;null==n?r=Math.max(this.rows,this.cols):Math.max(this.rows,this.cols)===this.rows?this.rows=n:this.cols=n;return r},used:function(n,r){return this.cellUsed["c-"+n+"-"+r]||!1},use:function(n,r){this.cellUsed["c-"+n+"-"+r]=!0},moveToNextCell:function(){this.col++,this.col>=this.cols&&(this.col=0,this.row++)},getPos:function(n){var r,e,t=this.begin,i=this.cellWidth,o=this.cellHeight,u=this.id2manPos[n.id];if(u)r=u.col*i+i/2+t[0],e=u.row*o+o/2+t[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();r=this.col*i+i/2+t[0],e=this.row*o+o/2+t[1],this.use(this.row,this.col),this.moveToNextCell()}n.x=r,n.y=e}})},function(n,r,e){var t=e(7),i=e(65);t.registerLayout("concentric",{getDefaultCfg:function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},execute:function(){var n=this,r=n.nodes,e=n.edges,t=r.length,o=n.center;if(0!==t){if(1===t)return r[0].x=o[0],void(r[0].y=o[1]);var u,a=[];u=isNaN(n.nodeSize)?Math.max(n.nodeSize[0],n.nodeSize[1]):n.nodeSize,r.forEach(function(n){var r;a.push(n),r=isNaN(n.size)?Math.max(n.size[0],n.size[1]):n.size,u=Math.max(u,r)});var c=n.width;c||"undefined"==typeof window||(c=window.innerWidth);var s=n.height;s||void 0===s||(s=window.innerHeight),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var f=new Map,h=new Map;if(a.forEach(function(n,r){f.set(n.id,n),h.set(n.id,r)}),n.nodeMap=f,("degree"===n.sortBy||!i(n.sortBy)||void 0===a[0][n.sortBy])&&(n.sortBy="degree",isNaN(r[0].degree))){var l=function(n,r,e){for(var t=[],i=0;i<n;i++)t[i]=0;return e.forEach(function(n){t[r.get(n.source)]+=1,t[r.get(n.target)]+=1}),t}(r.length,h,e);a.forEach(function(n,r){n.degree=l[r]})}a.sort(function(r,e){return e[n.sortBy]-r[n.sortBy]}),n.maxValueNode=a[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var d=[[]],p=d[0];a.forEach(function(r){p.length>0&&(Math.abs(p[0][n.sortBy]-r[n.sortBy])>=n.maxLevelDiff&&(p=[],d.push(p)));p.push(r)});var v=u+n.minNodeSpacing;if(!n.preventOverlap){var g=d.length>0&&d[0].length>1,m=(Math.min(n.width,n.height)/2-v)/(d.length+g?1:0);v=Math.min(v,m)}var y=0;if(d.forEach(function(r){var e=void 0===n.sweep?2*Math.PI-2*Math.PI/r.length:n.sweep,t=r.dTheta=e/Math.max(1,r.length-1);if(r.length>1&&n.preventOverlap){var i=Math.cos(t)-Math.cos(0),o=Math.sin(t)-Math.sin(0),u=Math.sqrt(v*v/(i*i+o*o));y=Math.max(u,y)}r.r=y,y+=v}),n.equidistant){for(var x=0,w=0,b=0;b<d.length;b++){var _=d[b].r-w;x=Math.max(x,_)}w=0,d.forEach(function(n,r){0===r&&(w=n.r),n.r=w,w+=x})}d.forEach(function(r){var e=r.dTheta,t=r.r;r.forEach(function(r,i){var u=n.startAngle+(n.clockwise?1:-1)*e*i;r.x=o[0]+t*Math.cos(u),r.y=o[1]+t*Math.sin(u)})})}}})},function(n,r){n.exports="0.8.4"},function(n,r,e){var t=e(0),i=e(2),o=e(6).Graph;n.exports={debugOrdering:function(n){var r=i.buildLayerMatrix(n),e=new o({compound:!0,multigraph:!0}).setGraph({});return t.forEach(n.nodes(),function(r){e.setNode(r,{label:r}),e.setParent(r,"layer"+n.node(r).rank)}),t.forEach(n.edges(),function(n){e.setEdge(n.v,n.w,{},n.name)}),t.forEach(r,function(n,r){var i="layer"+r;e.setNode(i,{rank:"same"}),t.reduce(n,function(n,r){return e.setEdge(n,r,{style:"invis"}),r})}),e}}},function(n,r,e){"use strict";var t=e(0),i=e(6).Graph,o=e(2);function u(n,r){var e={};return t.reduce(r,function(r,i){var o=0,u=0,a=r.length,s=t.last(i);return t.forEach(i,function(r,f){var h=function(n,r){if(n.node(r).dummy)return t.find(n.predecessors(r),function(r){return n.node(r).dummy})}(n,r),l=h?n.node(h).order:a;(h||r===s)&&(t.forEach(i.slice(u,f+1),function(r){t.forEach(n.predecessors(r),function(t){var i=n.node(t),u=i.order;!(u<o||l<u)||i.dummy&&n.node(r).dummy||c(e,t,r)})}),u=f+1,o=l)}),i}),e}function a(n,r){var e={};function i(r,i,o,u,a){var s;t.forEach(t.range(i,o),function(i){s=r[i],n.node(s).dummy&&t.forEach(n.predecessors(s),function(r){var t=n.node(r);t.dummy&&(t.order<u||t.order>a)&&c(e,r,s)})})}return t.reduce(r,function(r,e){var o,u=-1,a=0;return t.forEach(e,function(t,c){if("border"===n.node(t).dummy){var s=n.predecessors(t);s.length&&(o=n.node(s[0]).order,i(e,a,c,u,o),a=c,u=o)}i(e,a,e.length,o,r.length)}),e}),e}function c(n,r,e){if(r>e){var t=r;r=e,e=t}var i=n[r];i||(n[r]=i={}),i[e]=!0}function s(n,r,e){if(r>e){var i=r;r=e,e=i}return t.has(n[r],e)}function f(n,r,e,i){var o={},u={},a={};return t.forEach(r,function(n){t.forEach(n,function(n,r){o[n]=n,u[n]=n,a[n]=r})}),t.forEach(r,function(n){var r=-1;t.forEach(n,function(n){var c=i(n);if(c.length)for(var f=((c=t.sortBy(c,function(n){return a[n]})).length-1)/2,h=Math.floor(f),l=Math.ceil(f);h<=l;++h){var d=c[h];u[n]===n&&r<a[d]&&!s(e,n,d)&&(u[d]=n,u[n]=o[n]=o[d],r=a[d])}})}),{root:o,align:u}}function h(n,r,e,o,u){var a={},c=function(n,r,e,o){var u=new i,a=n.graph(),c=function(n,r,e){return function(i,o,u){var a,c=i.node(o),s=i.node(u),f=0;if(f+=c.width/2,t.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2}if(a&&(f+=e?a:-a),a=0,f+=(c.dummy?r:n)/2,f+=(s.dummy?r:n)/2,f+=s.width/2,t.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=s.width/2;break;case"r":a=-s.width/2}return a&&(f+=e?a:-a),a=0,f}}(a.nodesep,a.edgesep,o);return t.forEach(r,function(r){var i;t.forEach(r,function(r){var t=e[r];if(u.setNode(t),i){var o=e[i],a=u.edge(o,t);u.setEdge(o,t,Math.max(c(n,r,i),a||0))}i=r})}),u}(n,r,e,u),s=u?"borderLeft":"borderRight";function f(n,r){for(var e=c.nodes(),t=e.pop(),i={};t;)i[t]?n(t):(i[t]=!0,e.push(t),e=e.concat(r(t))),t=e.pop()}return f(function(n){a[n]=c.inEdges(n).reduce(function(n,r){return Math.max(n,a[r.v]+c.edge(r))},0)},c.predecessors.bind(c)),f(function(r){var e=c.outEdges(r).reduce(function(n,r){return Math.min(n,a[r.w]-c.edge(r))},Number.POSITIVE_INFINITY),t=n.node(r);e!==Number.POSITIVE_INFINITY&&t.borderType!==s&&(a[r]=Math.max(a[r],e))},c.successors.bind(c)),t.forEach(o,function(n){a[n]=a[e[n]]}),a}function l(n,r){return t.minBy(t.values(r),function(r){var e=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return t.forIn(r,function(r,t){var o=function(n,r){return n.node(r).width}(n,t)/2;e=Math.max(r+o,e),i=Math.min(r-o,i)}),e-i})}function d(n,r){var e=t.values(r),i=t.min(e),o=t.max(e);t.forEach(["u","d"],function(e){t.forEach(["l","r"],function(u){var a,c=e+u,s=n[c];if(s!==r){var f=t.values(s);(a="l"===u?i-t.min(f):o-t.max(f))&&(n[c]=t.mapValues(s,function(n){return n+a}))}})})}function p(n,r){return t.mapValues(n.ul,function(e,i){if(r)return n[r.toLowerCase()][i];var o=t.sortBy(t.map(n,i));return(o[1]+o[2])/2})}n.exports={positionX:function(n){var r,e=o.buildLayerMatrix(n),i=t.merge(u(n,e),a(n,e)),c={};t.forEach(["u","d"],function(o){r="u"===o?e:t.values(e).reverse(),t.forEach(["l","r"],function(e){"r"===e&&(r=t.map(r,function(n){return t.values(n).reverse()}));var u=("u"===o?n.predecessors:n.successors).bind(n),a=f(n,r,i,u),s=h(n,r,a.root,a.align,"r"===e);"r"===e&&(s=t.mapValues(s,function(n){return-n})),c[o+e]=s})});var s=l(n,c);return d(c,s),p(c,n.graph().align)},findType1Conflicts:u,findType2Conflicts:a,addConflict:c,hasConflict:s,verticalAlignment:f,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:l,balance:p}},function(n,r,e){"use strict";var t=e(0),i=e(2),o=e(131).positionX;n.exports=function(n){(function(n){var r=i.buildLayerMatrix(n),e=n.graph().ranksep,o=0;t.forEach(r,function(r){var i=t.max(t.map(r,function(r){return n.node(r).height}));t.forEach(r,function(r){n.node(r).y=o+i/2}),o+=i+e})})(n=i.asNonCompoundGraph(n)),t.forEach(o(n),function(r,e){n.node(e).x=r})}},function(n,r,e){var t=e(0);n.exports=function(n,r,e){var i,o={};t.forEach(e,function(e){for(var t,u,a=n.parent(e);a;){if((t=n.parent(a))?(u=o[t],o[t]=a):(u=i,i=a),u&&u!==a)return void r.setEdge(u,a);a=t}})}},function(n,r,e){var t=e(0),i=e(6).Graph;n.exports=function(n,r,e){var o=function(n){var r;for(;n.hasNode(r=t.uniqueId("_root")););return r}(n),u=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(r){return n.node(r)});return t.forEach(n.nodes(),function(i){var a=n.node(i),c=n.parent(i);(a.rank===r||a.minRank<=r&&r<=a.maxRank)&&(u.setNode(i),u.setParent(i,c||o),t.forEach(n[e](i),function(r){var e=r.v===i?r.w:r.v,o=u.edge(e,i),a=t.isUndefined(o)?0:o.weight;u.setEdge(e,i,{weight:n.edge(r).weight+a})}),t.has(a,"minRank")&&u.setNode(i,{borderLeft:a.borderLeft[r],borderRight:a.borderRight[r]}))}),u}},function(n,r,e){var t=e(0),i=e(2);function o(n,r,e){for(var i;r.length&&(i=t.last(r)).i<=e;)r.pop(),n.push(i.vs),e++;return e}n.exports=function(n,r){var e=i.partition(n,function(n){return t.has(n,"barycenter")}),u=e.lhs,a=t.sortBy(e.rhs,function(n){return-n.i}),c=[],s=0,f=0,h=0;u.sort(function(n){return function(r,e){return r.barycenter<e.barycenter?-1:r.barycenter>e.barycenter?1:n?e.i-r.i:r.i-e.i}}(!!r)),h=o(c,a,h),t.forEach(u,function(n){h+=n.vs.length,c.push(n.vs),s+=n.barycenter*n.weight,f+=n.weight,h=o(c,a,h)});var l={vs:t.flatten(c,!0)};f&&(l.barycenter=s/f,l.weight=f);return l}},function(n,r,e){"use strict";var t=e(0);n.exports=function(n,r){var e={};return t.forEach(n,function(n,r){var i=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:r};t.isUndefined(n.barycenter)||(i.barycenter=n.barycenter,i.weight=n.weight)}),t.forEach(r.edges(),function(n){var r=e[n.v],i=e[n.w];t.isUndefined(r)||t.isUndefined(i)||(i.indegree++,r.out.push(e[n.w]))}),function(n){var r=[];function e(n){return function(r){r.merged||(t.isUndefined(r.barycenter)||t.isUndefined(n.barycenter)||r.barycenter>=n.barycenter)&&function(n,r){var e=0,t=0;n.weight&&(e+=n.barycenter*n.weight,t+=n.weight),r.weight&&(e+=r.barycenter*r.weight,t+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=e/t,n.weight=t,n.i=Math.min(r.i,n.i),r.merged=!0}(n,r)}}function i(r){return function(e){e.in.push(r),0==--e.indegree&&n.push(e)}}for(;n.length;){var o=n.pop();r.push(o),t.forEach(o.in.reverse(),e(o)),t.forEach(o.out,i(o))}return t.map(t.filter(r,function(n){return!n.merged}),function(n){return t.pick(n,["vs","i","barycenter","weight"])})}(t.filter(e,function(n){return!n.indegree}))}},function(n,r,e){var t=e(0);n.exports=function(n,r){return t.map(r,function(r){var e=n.inEdges(r);if(e.length){var i=t.reduce(e,function(r,e){var t=n.edge(e),i=n.node(e.v);return{sum:r.sum+t.weight*i.order,weight:r.weight+t.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}return{v:r}})}},function(n,r,e){var t=e(0),i=e(137),o=e(136),u=e(135);n.exports=function n(r,e,a,c){var s=r.children(e),f=r.node(e),h=f?f.borderLeft:void 0,l=f?f.borderRight:void 0,d={};h&&(s=t.filter(s,function(n){return n!==h&&n!==l}));var p=i(r,s);t.forEach(p,function(e){if(r.children(e.v).length){var i=n(r,e.v,a,c);d[e.v]=i,t.has(i,"barycenter")&&function(n,r){t.isUndefined(n.barycenter)?(n.barycenter=r.barycenter,n.weight=r.weight):(n.barycenter=(n.barycenter*n.weight+r.barycenter*r.weight)/(n.weight+r.weight),n.weight+=r.weight)}(e,i)}});var v=o(p,a);!function(n,r){t.forEach(n,function(n){n.vs=t.flatten(n.vs.map(function(n){return r[n]?r[n].vs:n}),!0)})}(v,d);var g=u(v,c);if(h&&(g.vs=t.flatten([h,g.vs,l],!0),r.predecessors(h).length)){var m=r.node(r.predecessors(h)[0]),y=r.node(r.predecessors(l)[0]);t.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+m.order+y.order)/(g.weight+2),g.weight+=2}return g}},function(n,r,e){"use strict";var t=e(0);function i(n,r,e){for(var i=t.zipObject(e,t.map(e,function(n,r){return r})),o=t.flatten(t.map(r,function(r){return t.sortBy(t.map(n.outEdges(r),function(r){return{pos:i[r.w],weight:n.edge(r).weight}}),"pos")}),!0),u=1;u<e.length;)u<<=1;var a=2*u-1;u-=1;var c=t.map(new Array(a),function(){return 0}),s=0;return t.forEach(o.forEach(function(n){var r=n.pos+u;c[r]+=n.weight;for(var e=0;r>0;)r%2&&(e+=c[r+1]),c[r=r-1>>1]+=n.weight;s+=n.weight*e})),s}n.exports=function(n,r){for(var e=0,t=1;t<r.length;++t)e+=i(n,r[t-1],r[t]);return e}},function(n,r,e){"use strict";var t=e(0);n.exports=function(n){var r={},e=t.filter(n.nodes(),function(r){return!n.children(r).length}),i=t.max(t.map(e,function(r){return n.node(r).rank})),o=t.map(t.range(i+1),function(){return[]});var u=t.sortBy(e,function(r){return n.node(r).rank});return t.forEach(u,function e(i){if(!t.has(r,i)){r[i]=!0;var u=n.node(i);o[u.rank].push(i),t.forEach(n.successors(i),e)}}),o}},function(n,r,e){"use strict";var t=e(0),i=e(140),o=e(139),u=e(138),a=e(134),c=e(133),s=e(6).Graph,f=e(2);function h(n,r,e){return t.map(r,function(r){return a(n,r,e)})}function l(n,r){var e=new s;t.forEach(n,function(n){var i=n.graph().root,o=u(n,i,e,r);t.forEach(o.vs,function(r,e){n.node(r).order=e}),c(n,e,o.vs)})}function d(n,r){t.forEach(r,function(r){t.forEach(r,function(r,e){n.node(r).order=e})})}n.exports=function(n){var r=f.maxRank(n),e=h(n,t.range(1,r+1),"inEdges"),u=h(n,t.range(r-1,-1,-1),"outEdges"),a=i(n);d(n,a);for(var c,s=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){l(p%2?e:u,p%4>=2),a=f.buildLayerMatrix(n);var g=o(n,a);g<s&&(v=0,c=t.cloneDeep(a),s=g)}d(n,c)}},function(n,r,e){"use strict";var t=e(0);function i(n){t.forEach(n.nodes(),function(r){o(n.node(r))}),t.forEach(n.edges(),function(r){o(n.edge(r))})}function o(n){var r=n.width;n.width=n.height,n.height=r}function u(n){n.y=-n.y}function a(n){var r=n.x;n.x=n.y,n.y=r}n.exports={adjust:function(n){var r=n.graph().rankdir.toLowerCase();"lr"!==r&&"rl"!==r||i(n)},undo:function(n){var r=n.graph().rankdir.toLowerCase();"bt"!==r&&"rl"!==r||function(n){t.forEach(n.nodes(),function(r){u(n.node(r))}),t.forEach(n.edges(),function(r){var e=n.edge(r);t.forEach(e.points,u),t.has(e,"y")&&u(e)})}(n);"lr"!==r&&"rl"!==r||(!function(n){t.forEach(n.nodes(),function(r){a(n.node(r))}),t.forEach(n.edges(),function(r){var e=n.edge(r);t.forEach(e.points,a),t.has(e,"x")&&a(e)})}(n),i(n))}}},function(n,r,e){var t=e(0),i=e(2);function o(n,r,e,t,o,u){var a={width:0,height:0,rank:u,borderType:r},c=o[r][u-1],s=i.addDummyNode(n,"border",a,e);o[r][u]=s,n.setParent(s,t),c&&n.setEdge(c,s,{weight:1})}n.exports=function(n){t.forEach(n.children(),function r(e){var i=n.children(e),u=n.node(e);i.length&&t.forEach(i,r);if(t.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var a=u.minRank,c=u.maxRank+1;a<c;++a)o(n,"borderLeft","_bl",e,u,a),o(n,"borderRight","_br",e,u,a)}})}},function(n,r,e){var t=e(0),i=e(2);n.exports={run:function(n){var r=i.addDummyNode(n,"root",{},"_root"),e=function(n){var r={};return t.forEach(n.children(),function(e){!function e(i,o){var u=n.children(i);u&&u.length&&t.forEach(u,function(n){e(n,o+1)}),r[i]=o}(e,1)}),r}(n),o=t.max(t.values(e))-1,u=2*o+1;n.graph().nestingRoot=r,t.forEach(n.edges(),function(r){n.edge(r).minlen*=u});var a=function(n){return t.reduce(n.edges(),function(r,e){return r+n.edge(e).weight},0)}(n)+1;t.forEach(n.children(),function(c){!function n(r,e,o,u,a,c,s){var f=r.children(s);if(!f.length)return void(s!==e&&r.setEdge(e,s,{weight:0,minlen:o}));var h=i.addBorderNode(r,"_bt"),l=i.addBorderNode(r,"_bb"),d=r.node(s);r.setParent(h,s);d.borderTop=h;r.setParent(l,s);d.borderBottom=l;t.forEach(f,function(t){n(r,e,o,u,a,c,t);var i=r.node(t),f=i.borderTop?i.borderTop:t,d=i.borderBottom?i.borderBottom:t,p=i.borderTop?u:2*u,v=f!==d?1:a-c[s]+1;r.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0}),r.setEdge(d,l,{weight:p,minlen:v,nestingEdge:!0})});r.parent(s)||r.setEdge(e,h,{weight:0,minlen:a+c[s]})}(n,r,u,a,o,e,c)}),n.graph().nodeRankFactor=u},cleanup:function(n){var r=n.graph();n.removeNode(r.nestingRoot),delete r.nestingRoot,t.forEach(n.edges(),function(r){var e=n.edge(r);e.nestingEdge&&n.removeEdge(r)})}}},function(n,r,e){var t=e(0);n.exports=function(n){var r=function(n){var r={},e=0;return t.forEach(n.children(),function i(o){var u=e;t.forEach(n.children(o),i),r[o]={low:u,lim:e++}}),r}(n);t.forEach(n.graph().dummyChains,function(e){for(var t=n.node(e),i=t.edgeObj,o=function(n,r,e,t){var i,o,u=[],a=[],c=Math.min(r[e].low,r[t].low),s=Math.max(r[e].lim,r[t].lim);i=e;do{i=n.parent(i),u.push(i)}while(i&&(r[i].low>c||s>r[i].lim));o=i,i=t;for(;(i=n.parent(i))!==o;)a.push(i);return{path:u.concat(a.reverse()),lca:o}}(n,r,i.v,i.w),u=o.path,a=o.lca,c=0,s=u[c],f=!0;e!==i.w;){if(t=n.node(e),f){for(;(s=u[c])!==a&&n.node(s).maxRank<t.rank;)c++;s===a&&(f=!1)}if(!f){for(;c<u.length-1&&n.node(s=u[c+1]).minRank<=t.rank;)c++;s=u[c]}n.setParent(e,s),e=n.successors(e)[0]}})}},function(n,r,e){"use strict";var t=e(0),i=e(67),o=e(26).slack,u=e(26).longestPath,a=e(6).alg.preorder,c=e(6).alg.postorder,s=e(2).simplify;function f(n){n=s(n),u(n);var r,e=i(n);for(d(e),h(e,n);r=p(e);)g(e,n,r,v(e,n,r))}function h(n,r){var e=c(n,n.nodes());e=e.slice(0,e.length-1),t.forEach(e,function(e){!function(n,r,e){var t=n.node(e).parent;n.edge(e,t).cutvalue=l(n,r,e)}(n,r,e)})}function l(n,r,e){var i=n.node(e).parent,o=!0,u=r.edge(e,i),a=0;return u||(o=!1,u=r.edge(i,e)),a=u.weight,t.forEach(r.nodeEdges(e),function(t){var u=t.v===e,c=u?t.w:t.v;if(c!==i){var s=u===o,f=r.edge(t).weight;if(a+=s?f:-f,function(n,r,e){return n.hasEdge(r,e)}(n,e,c)){var h=n.edge(e,c).cutvalue;a+=s?-h:h}}}),a}function d(n,r){arguments.length<2&&(r=n.nodes()[0]),function n(r,e,i,o,u){var a=i,c=r.node(o);e[o]=!0;t.forEach(r.neighbors(o),function(u){t.has(e,u)||(i=n(r,e,i,u,o))});c.low=a;c.lim=i++;u?c.parent=u:delete c.parent;return i}(n,{},1,r)}function p(n){return t.find(n.edges(),function(r){return n.edge(r).cutvalue<0})}function v(n,r,e){var i=e.v,u=e.w;r.hasEdge(i,u)||(i=e.w,u=e.v);var a=n.node(i),c=n.node(u),s=a,f=!1;a.lim>c.lim&&(s=c,f=!0);var h=t.filter(r.edges(),function(r){return f===m(n,n.node(r.v),s)&&f!==m(n,n.node(r.w),s)});return t.minBy(h,function(n){return o(r,n)})}function g(n,r,e,i){var o=e.v,u=e.w;n.removeEdge(o,u),n.setEdge(i.v,i.w,{}),d(n),h(n,r),function(n,r){var e=t.find(n.nodes(),function(n){return!r.node(n).parent}),i=a(n,e);i=i.slice(1),t.forEach(i,function(e){var t=n.node(e).parent,i=r.edge(e,t),o=!1;i||(i=r.edge(t,e),o=!0),r.node(e).rank=r.node(t).rank+(o?i.minlen:-i.minlen)})}(n,r)}function m(n,r,e){return e.low<=r.lim&&r.lim<=e.lim}n.exports=f,f.initLowLimValues=d,f.initCutValues=h,f.calcCutValue=l,f.leaveEdge=p,f.enterEdge=v,f.exchangeEdges=g},function(n,r,e){"use strict";var t=e(26).longestPath,i=e(67),o=e(146);n.exports=function(n){switch(n.graph().ranker){case"network-simplex":a(n);break;case"tight-tree":!function(n){t(n),i(n)}(n);break;case"longest-path":u(n);break;default:a(n)}};var u=t;function a(n){o(n)}},function(n,r,e){"use strict";var t=e(0),i=e(2);n.exports={run:function(n){n.graph().dummyChains=[],t.forEach(n.edges(),function(r){!function(n,r){var e,t,o,u=r.v,a=n.node(u).rank,c=r.w,s=n.node(c).rank,f=r.name,h=n.edge(r),l=h.labelRank;if(s===a+1)return;for(n.removeEdge(r),o=0,++a;a<s;++o,++a)h.points=[],t={width:0,height:0,edgeLabel:h,edgeObj:r,rank:a},e=i.addDummyNode(n,"edge",t,"_d"),a===l&&(t.width=h.width,t.height=h.height,t.dummy="edge-label",t.labelpos=h.labelpos),n.setEdge(u,e,{weight:h.weight},f),0===o&&n.graph().dummyChains.push(e),u=e;n.setEdge(u,c,{weight:h.weight},f)}(n,r)})},undo:function(n){t.forEach(n.graph().dummyChains,function(r){var e,t=n.node(r),i=t.edgeLabel;for(n.setEdge(t.edgeObj,i);t.dummy;)e=n.successors(r)[0],n.removeNode(r),i.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height),r=e,t=n.node(r)})}}},function(n,r){function e(){var n={};n._next=n._prev=n,this._sentinel=n}function t(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function i(n,r){if("_next"!==n&&"_prev"!==n)return r}n.exports=e,e.prototype.dequeue=function(){var n=this._sentinel,r=n._prev;if(r!==n)return t(r),r},e.prototype.enqueue=function(n){var r=this._sentinel;n._prev&&n._next&&t(n),n._next=r._next,r._next._prev=n,r._next=n,n._prev=r},e.prototype.toString=function(){for(var n=[],r=this._sentinel,e=r._prev;e!==r;)n.push(JSON.stringify(e,i)),e=e._prev;return"["+n.join(", ")+"]"}},function(n,r,e){var t=e(0),i=e(6).Graph,o=e(149);n.exports=function(n,r){if(n.nodeCount()<=1)return[];var e=function(n,r){var e=new i,u=0,a=0;t.forEach(n.nodes(),function(n){e.setNode(n,{v:n,in:0,out:0})}),t.forEach(n.edges(),function(n){var t=e.edge(n.v,n.w)||0,i=r(n),o=t+i;e.setEdge(n.v,n.w,o),a=Math.max(a,e.node(n.v).out+=i),u=Math.max(u,e.node(n.w).in+=i)});var s=t.range(a+u+3).map(function(){return new o}),f=u+1;return t.forEach(e.nodes(),function(n){c(s,f,e.node(n))}),{graph:e,buckets:s,zeroIdx:f}}(n,r||u),s=function(n,r,e){var t,i=[],o=r[r.length-1],u=r[0];for(;n.nodeCount();){for(;t=u.dequeue();)a(n,r,e,t);for(;t=o.dequeue();)a(n,r,e,t);if(n.nodeCount())for(var c=r.length-2;c>0;--c)if(t=r[c].dequeue()){i=i.concat(a(n,r,e,t,!0));break}}return i}(e.graph,e.buckets,e.zeroIdx);return t.flatten(t.map(s,function(r){return n.outEdges(r.v,r.w)}),!0)};var u=t.constant(1);function a(n,r,e,i,o){var u=o?[]:void 0;return t.forEach(n.inEdges(i.v),function(t){var i=n.edge(t),a=n.node(t.v);o&&u.push({v:t.v,w:t.w}),a.out-=i,c(r,e,a)}),t.forEach(n.outEdges(i.v),function(t){var i=n.edge(t),o=t.w,u=n.node(o);u.in-=i,c(r,e,u)}),n.removeNode(i.v),u}function c(n,r,e){e.out?e.in?n[e.out-e.in+r].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}},function(n,r,e){"use strict";var t=e(0),i=e(150);n.exports={run:function(n){var r="greedy"===n.graph().acyclicer?i(n,function(n){return function(r){return n.edge(r).weight}}(n)):function(n){var r=[],e={},i={};return t.forEach(n.nodes(),function o(u){t.has(i,u)||(i[u]=!0,e[u]=!0,t.forEach(n.outEdges(u),function(n){t.has(e,n.w)?r.push(n):o(n.w)}),delete e[u])}),r}(n);t.forEach(r,function(r){var e=n.edge(r);n.removeEdge(r),e.forwardName=r.name,e.reversed=!0,n.setEdge(r.w,r.v,e,t.uniqueId("rev"))})},undo:function(n){t.forEach(n.edges(),function(r){var e=n.edge(r);if(e.reversed){n.removeEdge(r);var t=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(r.w,r.v,e,t)}})}}},function(n,r){n.exports=function(n,r,e){for(var t=-1,i=n.length,o=r.length,u={};++t<i;){var a=t<o?r[t]:void 0;e(u,n[t],a)}return u}},function(n,r,e){var t=e(37),i=e(152);n.exports=function(n,r){return i(n||[],r||[],t)}},function(n,r,e){var t=e(91),i=0;n.exports=function(n){var r=++i;return t(n)+r}},function(n,r,e){var t=e(15);n.exports=function(n,r){if(n!==r){var e=void 0!==n,i=null===n,o=n==n,u=t(n),a=void 0!==r,c=null===r,s=r==r,f=t(r);if(!c&&!f&&!u&&n>r||u&&a&&s&&!c&&!f||i&&a&&s||!e&&s||!o)return 1;if(!i&&!u&&!f&&n<r||f&&e&&o&&!i&&!u||c&&e&&o||!a&&o||!s)return-1}return 0}},function(n,r,e){var t=e(155);n.exports=function(n,r,e){for(var i=-1,o=n.criteria,u=r.criteria,a=o.length,c=e.length;++i<a;){var s=t(o[i],u[i]);if(s)return i>=c?s:s*("desc"==e[i]?-1:1)}return n.index-r.index}},function(n,r){n.exports=function(n,r){var e=n.length;for(n.sort(r);e--;)n[e]=n[e].value;return n}},function(n,r,e){var t=e(29),i=e(9),o=e(84),u=e(157),a=e(34),c=e(156),s=e(12);n.exports=function(n,r,e){var f=-1;r=t(r.length?r:[s],a(i));var h=o(n,function(n,e,i){return{criteria:t(r,function(r){return r(n)}),index:++f,value:n}});return u(h,function(n,r){return c(n,r,e)})}},function(n,r,e){var t=e(47),i=e(158),o=e(28),u=e(27),a=o(function(n,r){if(null==n)return[];var e=r.length;return e>1&&u(n,r[0],r[1])?r=[]:e>2&&u(r[0],r[1],r[2])&&(r=[r[0]]),i(n,t(r,1),[])});n.exports=a},function(n,r){var e=Math.ceil,t=Math.max;n.exports=function(n,r,i,o){for(var u=-1,a=t(e((r-n)/(i||1)),0),c=Array(a);a--;)c[o?a:++u]=n,n+=i;return c}},function(n,r,e){var t=e(160),i=e(27),o=e(72);n.exports=function(n){return function(r,e,u){return u&&"number"!=typeof u&&i(r,e,u)&&(e=u=void 0),r=o(r),void 0===e?(e=r,r=0):e=o(e),u=void 0===u?r<e?1:-1:o(u),t(r,e,u,n)}}},function(n,r,e){var t=e(161)();n.exports=t},function(n,r,e){var t=e(71),i=e(82),o=e(81);n.exports=function(n){return o(i(n,void 0,t),n+"")}},function(n,r,e){var t=e(37),i=e(30),o=e(35),u=e(3),a=e(21);n.exports=function(n,r,e,c){if(!u(n))return n;for(var s=-1,f=(r=i(r,n)).length,h=f-1,l=n;null!=l&&++s<f;){var d=a(r[s]),p=e;if(s!=h){var v=l[d];void 0===(p=c?c(v,d,l):void 0)&&(p=u(v)?v:o(r[s+1])?[]:{})}t(l,d,p),l=l[d]}return n}},function(n,r,e){var t=e(49),i=e(164),o=e(30);n.exports=function(n,r,e){for(var u=-1,a=r.length,c={};++u<a;){var s=r[u],f=t(n,s);e(f,s)&&i(c,o(s,n),f)}return c}},function(n,r,e){var t=e(165),i=e(90);n.exports=function(n,r){return t(n,r,function(r,e){return i(n,e)})}},function(n,r,e){var t=e(166),i=e(163)(function(n,r){return null==n?{}:t(n,r)});n.exports=i},function(n,r,e){var t=e(5);n.exports=function(){return t.Date.now()}},function(n,r,e){var t=e(46),i=e(9),o=e(68);n.exports=function(n,r){return n&&n.length?t(n,i(r,2),o):void 0}},function(n,r,e){var t=e(46),i=e(68),o=e(12);n.exports=function(n){return n&&n.length?t(n,o,i):void 0}},function(n,r,e){var t=e(28),i=e(27);n.exports=function(n){return t(function(r,e){var t=-1,o=e.length,u=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(u=n.length>3&&"function"==typeof u?(o--,u):void 0,a&&i(e[0],e[1],a)&&(u=o<3?void 0:u,o=1),r=Object(r);++t<o;){var c=e[t];c&&n(r,c,t,u)}return r})}},function(n,r,e){var t=e(24),i=e(17);n.exports=function(n){return t(n,i(n))}},function(n,r,e){var t=e(13),i=e(32),o=e(8),u="[object Object]",a=Function.prototype,c=Object.prototype,s=a.toString,f=c.hasOwnProperty,h=s.call(Object);n.exports=function(n){if(!o(n)||t(n)!=u)return!1;var r=i(n);if(null===r)return!0;var e=f.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&s.call(e)==h}},function(n,r,e){var t=e(70),i=e(113),o=e(104),u=e(112),a=e(103),c=e(23),s=e(1),f=e(79),h=e(18),l=e(25),d=e(3),p=e(173),v=e(22),g=e(69),m=e(172);n.exports=function(n,r,e,y,x,w,b){var _=g(n,e),E=g(r,e),M=b.get(E);if(M)t(n,e,M);else{var k=w?w(_,E,e+"",n,r,b):void 0,j=void 0===k;if(j){var N=s(E),A=!N&&h(E),S=!N&&!A&&v(E);k=E,N||A||S?s(_)?k=_:f(_)?k=u(_):A?(j=!1,k=i(E,!0)):S?(j=!1,k=o(E,!0)):k=[]:p(E)||c(E)?(k=_,c(_)?k=m(_):d(_)&&!l(_)||(k=a(E))):j=!1}j&&(b.set(E,k),x(k,E,y,w,b),b.delete(E)),t(n,e,k)}}},function(n,r,e){var t=e(42),i=e(70),o=e(51),u=e(174),a=e(3),c=e(17),s=e(69);n.exports=function n(r,e,f,h,l){r!==e&&o(e,function(o,c){if(l||(l=new t),a(o))u(r,e,c,f,n,h,l);else{var d=h?h(s(r,c),o,c+"",r,e,l):void 0;void 0===d&&(d=o),i(r,c,d)}},c)}},function(n,r,e){var t=e(175),i=e(171)(function(n,r,e){t(n,r,e)});n.exports=i},function(n,r){n.exports=function(n,r){return n>r}},function(n,r,e){var t=e(46),i=e(177),o=e(12);n.exports=function(n){return n&&n.length?t(n,o,i):void 0}},function(n,r,e){var t=e(36),i=e(52),o=e(9);n.exports=function(n,r){var e={};return r=o(r,3),i(n,function(n,i,o){t(e,i,r(n,i,o))}),e}},function(n,r){n.exports=function(n){var r=null==n?0:n.length;return r?n[r-1]:void 0}},function(n,r,e){var t=e(51),i=e(99),o=e(17);n.exports=function(n,r){return null==n?n:t(n,i(r),o)}},function(n,r,e){var t=e(3),i=e(15),o=NaN,u=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return o;if(t(n)){var r="function"==typeof n.valueOf?n.valueOf():n;n=t(r)?r+"":r}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(u,"");var e=c.test(n);return e||s.test(n)?f(n.slice(2),e?2:8):a.test(n)?o:+n}},function(n,r,e){var t=e(72);n.exports=function(n){var r=t(n),e=r%1;return r==r?e?r-e:r:0}},function(n,r,e){var t=e(80),i=e(9),o=e(183),u=Math.max;n.exports=function(n,r,e){var a=null==n?0:n.length;if(!a)return-1;var c=null==e?0:o(e);return c<0&&(c=u(a+c,0)),t(n,i(r,3),c)}},function(n,r,e){var t=e(9),i=e(10),o=e(11);n.exports=function(n){return function(r,e,u){var a=Object(r);if(!i(r)){var c=t(e,3);r=o(r),e=function(n){return c(a[n],n,a)}}var s=n(r,e,u);return s>-1?a[c?r[s]:s]:void 0}}},function(n,r,e){var t=e(185)(e(184));n.exports=t},function(n,r,e){var t=e(28),i=e(20),o=e(27),u=e(17),a=Object.prototype,c=a.hasOwnProperty,s=t(function(n,r){n=Object(n);var e=-1,t=r.length,s=t>2?r[2]:void 0;for(s&&o(r[0],r[1],s)&&(t=1);++e<t;)for(var f=r[e],h=u(f),l=-1,d=h.length;++l<d;){var p=h[l],v=n[p];(void 0===v||i(v,a[p])&&!c.call(n,p))&&(n[p]=f[p])}return n});n.exports=s},function(n,r,e){var t=e(119),i=1,o=4;n.exports=function(n){return t(n,i|o)}},function(n,r,e){"use strict";var t=e(0),i=e(151),o=e(148),u=e(147),a=e(2).normalizeRanks,c=e(145),s=e(2).removeEmptyRanks,f=e(144),h=e(143),l=e(142),d=e(141),p=e(132),v=e(2),g=e(6).Graph;n.exports=function(n,r){var e=r&&r.debugTiming?v.time:v.notime;e("layout",function(){var r=e("  buildLayoutGraph",function(){return function(n){var r=new g({multigraph:!0,compound:!0}),e=j(n.graph());return r.setGraph(t.merge({},y,k(e,m),t.pick(e,x))),t.forEach(n.nodes(),function(e){var i=j(n.node(e));r.setNode(e,t.defaults(k(i,w),b)),r.setParent(e,n.parent(e))}),t.forEach(n.edges(),function(e){var i=j(n.edge(e));r.setEdge(e,t.merge({},E,k(i,_),t.pick(i,M)))}),r}(n)});e("  runLayout",function(){!function(n,r){r("    makeSpaceForEdgeLabels",function(){!function(n){var r=n.graph();r.ranksep/=2,t.forEach(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===r.rankdir||"BT"===r.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}(n)}),r("    removeSelfEdges",function(){!function(n){t.forEach(n.edges(),function(r){if(r.v===r.w){var e=n.node(r.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:r,label:n.edge(r)}),n.removeEdge(r)}})}(n)}),r("    acyclic",function(){i.run(n)}),r("    nestingGraph.run",function(){f.run(n)}),r("    rank",function(){u(v.asNonCompoundGraph(n))}),r("    injectEdgeLabelProxies",function(){!function(n){t.forEach(n.edges(),function(r){var e=n.edge(r);if(e.width&&e.height){var t=n.node(r.v),i=n.node(r.w),o={rank:(i.rank-t.rank)/2+t.rank,e:r};v.addDummyNode(n,"edge-proxy",o,"_ep")}})}(n)}),r("    removeEmptyRanks",function(){s(n)}),r("    nestingGraph.cleanup",function(){f.cleanup(n)}),r("    normalizeRanks",function(){a(n)}),r("    assignRankMinMax",function(){!function(n){var r=0;t.forEach(n.nodes(),function(e){var i=n.node(e);i.borderTop&&(i.minRank=n.node(i.borderTop).rank,i.maxRank=n.node(i.borderBottom).rank,r=t.max(r,i.maxRank))}),n.graph().maxRank=r}(n)}),r("    removeEdgeLabelProxies",function(){!function(n){t.forEach(n.nodes(),function(r){var e=n.node(r);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(r))})}(n)}),r("    normalize.run",function(){o.run(n)}),r("    parentDummyChains",function(){c(n)}),r("    addBorderSegments",function(){h(n)}),r("    order",function(){d(n)}),r("    insertSelfEdges",function(){!function(n){var r=v.buildLayerMatrix(n);t.forEach(r,function(r){var e=0;t.forEach(r,function(r,i){var o=n.node(r);o.order=i+e,t.forEach(o.selfEdges,function(r){v.addDummyNode(n,"selfedge",{width:r.label.width,height:r.label.height,rank:o.rank,order:i+ ++e,e:r.e,label:r.label},"_se")}),delete o.selfEdges})})}(n)}),r("    adjustCoordinateSystem",function(){l.adjust(n)}),r("    position",function(){p(n)}),r("    positionSelfEdges",function(){!function(n){t.forEach(n.nodes(),function(r){var e=n.node(r);if("selfedge"===e.dummy){var t=n.node(e.e.v),i=t.x+t.width/2,o=t.y,u=e.x-i,a=t.height/2;n.setEdge(e.e,e.label),n.removeNode(r),e.label.points=[{x:i+2*u/3,y:o-a},{x:i+5*u/6,y:o-a},{x:i+u,y:o},{x:i+5*u/6,y:o+a},{x:i+2*u/3,y:o+a}],e.label.x=e.x,e.label.y=e.y}})}(n)}),r("    removeBorderNodes",function(){!function(n){t.forEach(n.nodes(),function(r){if(n.children(r).length){var e=n.node(r),i=n.node(e.borderTop),o=n.node(e.borderBottom),u=n.node(t.last(e.borderLeft)),a=n.node(t.last(e.borderRight));e.width=Math.abs(a.x-u.x),e.height=Math.abs(o.y-i.y),e.x=u.x+e.width/2,e.y=i.y+e.height/2}}),t.forEach(n.nodes(),function(r){"border"===n.node(r).dummy&&n.removeNode(r)})}(n)}),r("    normalize.undo",function(){o.undo(n)}),r("    fixupEdgeLabelCoords",function(){!function(n){t.forEach(n.edges(),function(r){var e=n.edge(r);if(t.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})}(n)}),r("    undoCoordinateSystem",function(){l.undo(n)}),r("    translateGraph",function(){!function(n){var r=Number.POSITIVE_INFINITY,e=0,i=Number.POSITIVE_INFINITY,o=0,u=n.graph(),a=u.marginx||0,c=u.marginy||0;function s(n){var t=n.x,u=n.y,a=n.width,c=n.height;r=Math.min(r,t-a/2),e=Math.max(e,t+a/2),i=Math.min(i,u-c/2),o=Math.max(o,u+c/2)}t.forEach(n.nodes(),function(r){s(n.node(r))}),t.forEach(n.edges(),function(r){var e=n.edge(r);t.has(e,"x")&&s(e)}),r-=a,i-=c,t.forEach(n.nodes(),function(e){var t=n.node(e);t.x-=r,t.y-=i}),t.forEach(n.edges(),function(e){var o=n.edge(e);t.forEach(o.points,function(n){n.x-=r,n.y-=i}),t.has(o,"x")&&(o.x-=r),t.has(o,"y")&&(o.y-=i)}),u.width=e-r+a,u.height=o-i+c}(n)}),r("    assignNodeIntersects",function(){!function(n){t.forEach(n.edges(),function(r){var e,t,i=n.edge(r),o=n.node(r.v),u=n.node(r.w);i.points?(e=i.points[0],t=i.points[i.points.length-1]):(i.points=[],e=u,t=o),i.points.unshift(v.intersectRect(o,e)),i.points.push(v.intersectRect(u,t))})}(n)}),r("    reversePoints",function(){!function(n){t.forEach(n.edges(),function(r){var e=n.edge(r);e.reversed&&e.points.reverse()})}(n)}),r("    acyclic.undo",function(){i.undo(n)})}(r,e)}),e("  updateInputGraph",function(){!function(n,r){t.forEach(n.nodes(),function(e){var t=n.node(e),i=r.node(e);t&&(t.x=i.x,t.y=i.y,r.children(e).length&&(t.width=i.width,t.height=i.height))}),t.forEach(n.edges(),function(e){var i=n.edge(e),o=r.edge(e);i.points=o.points,t.has(o,"x")&&(i.x=o.x,i.y=o.y)}),n.graph().width=r.graph().width,n.graph().height=r.graph().height}(n,r)})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],w=["width","height"],b={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function k(n,r){return t.mapValues(t.pick(n,r),Number)}function j(n){var r={};return t.forEach(n,function(n,e){r[e.toLowerCase()]=n}),r}},function(n,r,e){var t=e(4),i=e(64),o=e(76);n.exports=function(n,r){var e,u=new i,a={},c=new o;function s(n){var t=n.v===e?n.w:n.v,i=c.priority(t);if(void 0!==i){var o=r(n);o<i&&(a[t]=e,c.decrease(t,o))}}if(0===n.nodeCount())return u;t.each(n.nodes(),function(n){c.add(n,Number.POSITIVE_INFINITY),u.setNode(n)}),c.decrease(n.nodes()[0],0);var f=!1;for(;c.size()>0;){if(e=c.removeMin(),t.has(a,e))u.setEdge(e,a[e]);else{if(f)throw new Error("Input graph is not connected: "+n);f=!0}n.nodeEdges(e).forEach(s)}return u}},function(n,r,e){var t=e(73);n.exports=function(n,r){return t(n,r,"pre")}},function(n,r,e){var t=e(73);n.exports=function(n,r){return t(n,r,"post")}},function(n,r,e){var t=e(74);n.exports=function(n){try{t(n)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}},function(n,r,e){var t=e(4);n.exports=function(n,r,e){return function(n,r,e){var t={},i=n.nodes();return i.forEach(function(n){t[n]={},t[n][n]={distance:0},i.forEach(function(r){n!==r&&(t[n][r]={distance:Number.POSITIVE_INFINITY})}),e(n).forEach(function(e){var i=e.v===n?e.w:e.v,o=r(e);t[n][i]={distance:o,predecessor:n}})}),i.forEach(function(n){var r=t[n];i.forEach(function(e){var o=t[e];i.forEach(function(e){var t=o[n],i=r[e],u=o[e],a=t.distance+i.distance;a<u.distance&&(u.distance=a,u.predecessor=i.predecessor)})})}),t}(n,r||i,e||function(r){return n.outEdges(r)})};var i=t.constant(1)},function(n,r,e){var t=e(4),i=e(75);n.exports=function(n){return t.filter(i(n),function(r){return r.length>1||1===r.length&&n.hasEdge(r[0],r[0])})}},function(n,r,e){var t=e(77),i=e(4);n.exports=function(n,r,e){return i.transform(n.nodes(),function(i,o){i[o]=t(n,o,r,e)},{})}},function(n,r,e){var t=e(4);n.exports=function(n){var r,e={},i=[];function o(i){t.has(e,i)||(e[i]=!0,r.push(i),t.each(n.successors(i),o),t.each(n.predecessors(i),o))}return t.each(n.nodes(),function(n){r=[],o(n),r.length&&i.push(r)}),i}},function(n,r,e){n.exports={components:e(197),dijkstra:e(77),dijkstraAll:e(196),findCycles:e(195),floydWarshall:e(194),isAcyclic:e(193),postorder:e(192),preorder:e(191),prim:e(190),tarjan:e(75),topsort:e(74)}},function(n,r,e){var t=e(4),i=e(64);n.exports={write:function(n){var r={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:function(n){return t.map(n.nodes(),function(r){var e=n.node(r),i=n.parent(r),o={v:r};return t.isUndefined(e)||(o.value=e),t.isUndefined(i)||(o.parent=i),o})}(n),edges:function(n){return t.map(n.edges(),function(r){var e=n.edge(r),i={v:r.v,w:r.w};return t.isUndefined(r.name)||(i.name=r.name),t.isUndefined(e)||(i.value=e),i})}(n)};t.isUndefined(n.graph())||(r.value=t.clone(n.graph()));return r},read:function(n){var r=new i(n.options).setGraph(n.value);return t.each(n.nodes,function(n){r.setNode(n.v,n.value),n.parent&&r.setParent(n.v,n.parent)}),t.each(n.edges,function(n){r.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),r}}},function(n,r){n.exports="2.1.7"},function(n,r,e){var t=e(29);n.exports=function(n,r){return t(r,function(r){return n[r]})}},function(n,r){n.exports=function(){}},function(n,r,e){var t=e(106),i=e(202),o=e(50),u=t&&1/o(new t([,-0]))[1]==1/0?function(n){return new t(n)}:i;n.exports=u},function(n,r){n.exports=function(n,r,e){for(var t=-1,i=null==n?0:n.length;++t<i;)if(e(r,n[t]))return!0;return!1}},function(n,r){n.exports=function(n,r,e){for(var t=e-1,i=n.length;++t<i;)if(n[t]===r)return t;return-1}},function(n,r){n.exports=function(n){return n!=n}},function(n,r,e){var t=e(80),i=e(206),o=e(205);n.exports=function(n,r,e){return r==r?o(n,r,e):t(n,i,e)}},function(n,r,e){var t=e(207);n.exports=function(n,r){return!(null==n||!n.length)&&t(n,r,0)>-1}},function(n,r,e){var t=e(95),i=e(208),o=e(204),u=e(94),a=e(203),c=e(50),s=200;n.exports=function(n,r,e){var f=-1,h=i,l=n.length,d=!0,p=[],v=p;if(e)d=!1,h=o;else if(l>=s){var g=r?null:a(n);if(g)return c(g);d=!1,h=u,v=new t}else v=r?[]:p;n:for(;++f<l;){var m=n[f],y=r?r(m):m;if(m=e||0!==m?m:0,d&&y==y){for(var x=v.length;x--;)if(v[x]===y)continue n;r&&v.push(y),p.push(m)}else h(v,y,e)||(v!==p&&v.push(y),p.push(m))}return p}},function(n,r){var e=800,t=16,i=Date.now;n.exports=function(n){var r=0,o=0;return function(){var u=i(),a=t-(u-o);if(o=u,a>0){if(++r>=e)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},function(n,r,e){var t=e(53),i=e(116),o=e(12),u=i?function(n,r){return i(n,"toString",{configurable:!0,enumerable:!1,value:t(r),writable:!0})}:o;n.exports=u},function(n,r){n.exports=function(n,r,e){switch(e.length){case 0:return n.call(r);case 1:return n.call(r,e[0]);case 2:return n.call(r,e[0],e[1]);case 3:return n.call(r,e[0],e[1],e[2])}return n.apply(r,e)}},function(n,r,e){var t=e(19),i=e(23),o=e(1),u=t?t.isConcatSpreadable:void 0;n.exports=function(n){return o(n)||i(n)||!!(u&&n&&n[u])}},function(n,r,e){var t=e(47),i=e(28),o=e(209),u=e(79),a=i(function(n){return o(t(n,1,u,!0))});n.exports=a},function(n,r,e){var t=e(61),i=e(102),o=e(52),u=e(9),a=e(32),c=e(1),s=e(18),f=e(25),h=e(3),l=e(22);n.exports=function(n,r,e){var d=c(n),p=d||s(n)||l(n);if(r=u(r,4),null==e){var v=n&&n.constructor;e=p?d?new v:[]:h(n)&&f(v)?i(a(n)):{}}return(p?t:o)(n,function(n,t,i){return r(e,n,t,i)}),e}},function(n,r){var e="[\\\\ud800-\\\\udfff]",t="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",i="\\\\ud83c[\\\\udffb-\\\\udfff]",o="[^\\\\ud800-\\\\udfff]",u="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",a="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",c="(?:"+t+"|"+i+")"+"?",s="[\\\\ufe0e\\\\ufe0f]?"+c+("(?:\\\\u200d(?:"+[o,u,a].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+c+")*"),f="(?:"+[o+t+"?",t,u,a,e].join("|")+")",h=RegExp(i+"(?="+i+")|"+f+s,"g");n.exports=function(n){for(var r=h.lastIndex=0;h.test(n);)++r;return r}},function(n,r){var e=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");n.exports=function(n){return e.test(n)}},function(n,r,e){var t=e(88)("length");n.exports=t},function(n,r,e){var t=e(218),i=e(217),o=e(216);n.exports=function(n){return i(n)?o(n):t(n)}},function(n,r,e){var t=e(13),i=e(1),o=e(8),u="[object String]";n.exports=function(n){return"string"==typeof n||!i(n)&&o(n)&&t(n)==u}},function(n,r,e){var t=e(57),i=e(16),o=e(10),u=e(220),a=e(219),c="[object Map]",s="[object Set]";n.exports=function(n){if(null==n)return 0;if(o(n))return u(n)?a(n):n.length;var r=i(n);return r==c||r==s?n.size:t(n).length}},function(n,r){n.exports=function(n,r,e,t,i){return i(n,function(n,i,o){e=t?(t=!1,n):r(e,n,i,o)}),e}},function(n,r){n.exports=function(n,r,e,t){var i=-1,o=null==n?0:n.length;for(t&&o&&(e=n[++i]);++i<o;)e=r(e,n[i],i,n);return e}},function(n,r,e){var t=e(57),i=e(16),o=e(23),u=e(1),a=e(10),c=e(18),s=e(33),f=e(22),h="[object Map]",l="[object Set]",d=Object.prototype.hasOwnProperty;n.exports=function(n){if(null==n)return!0;if(a(n)&&(u(n)||"string"==typeof n||"function"==typeof n.splice||c(n)||f(n)||o(n)))return!n.length;var r=i(n);if(r==h||r==l)return!n.size;if(s(n))return!t(n).length;for(var e in n)if(d.call(n,e))return!1;return!0}},function(n,r){var e=Object.prototype.hasOwnProperty;n.exports=function(n,r){return null!=n&&e.call(n,r)}},function(n,r,e){var t=e(49);n.exports=function(n){return function(r){return t(r,n)}}},function(n,r,e){var t=e(88),i=e(226),o=e(48),u=e(21);n.exports=function(n){return o(n)?t(u(n)):i(n)}},function(n,r){n.exports=function(n,r){return null!=n&&r in Object(n)}},function(n,r,e){var t=e(19),i=e(29),o=e(1),u=e(15),a=1/0,c=t?t.prototype:void 0,s=c?c.toString:void 0;n.exports=function n(r){if("string"==typeof r)return r;if(o(r))return i(r,n)+"";if(u(r))return s?s.call(r):"";var e=r+"";return"0"==e&&1/r==-a?"-0":e}},function(n,r,e){var t=e(62),i="Expected a function";function o(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError(i);var e=function(){var t=arguments,i=r?r.apply(this,t):t[0],o=e.cache;if(o.has(i))return o.get(i);var u=n.apply(this,t);return e.cache=o.set(i,u)||o,u};return e.cache=new(o.Cache||t),e}o.Cache=t,n.exports=o},function(n,r,e){var t=e(230),i=500;n.exports=function(n){var r=t(n,function(n){return e.size===i&&e.clear(),n}),e=r.cache;return r}},function(n,r,e){var t=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,o=e(231)(function(n){var r=[];return 46===n.charCodeAt(0)&&r.push(""),n.replace(t,function(n,e,t,o){r.push(t?o.replace(i,"$1"):e||n)}),r});n.exports=o},function(n,r,e){var t=e(49);n.exports=function(n,r,e){var i=null==n?void 0:t(n,r);return void 0===i?e:i}},function(n,r,e){var t=e(97),i=e(233),o=e(90),u=e(48),a=e(93),c=e(92),s=e(21),f=1,h=2;n.exports=function(n,r){return u(n)&&a(r)?c(s(n),r):function(e){var u=i(e,n);return void 0===u&&u===r?o(e,n):t(r,u,f|h)}}},function(n,r,e){var t=e(93),i=e(11);n.exports=function(n){for(var r=i(n),e=r.length;e--;){var o=r[e],u=n[o];r[e]=[o,u,t(u)]}return r}},function(n,r,e){var t=e(108),i=1,o=Object.prototype.hasOwnProperty;n.exports=function(n,r,e,u,a,c){var s=e&i,f=t(n),h=f.length;if(h!=t(r).length&&!s)return!1;for(var l=h;l--;){var d=f[l];if(!(s?d in r:o.call(r,d)))return!1}var p=c.get(n);if(p&&c.get(r))return p==r;var v=!0;c.set(n,r),c.set(r,n);for(var g=s;++l<h;){var m=n[d=f[l]],y=r[d];if(u)var x=s?u(y,m,d,r,n,c):u(m,y,d,n,r,c);if(!(void 0===x?m===y||a(m,y,e,u,c):x)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var w=n.constructor,b=r.constructor;w!=b&&"constructor"in n&&"constructor"in r&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(v=!1)}return c.delete(n),c.delete(r),v}},function(n,r){n.exports=function(n){var r=-1,e=Array(n.size);return n.forEach(function(n,t){e[++r]=[t,n]}),e}},function(n,r,e){var t=e(19),i=e(105),o=e(20),u=e(96),a=e(237),c=e(50),s=1,f=2,h="[object Boolean]",l="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",g="[object RegExp]",m="[object Set]",y="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",b="[object DataView]",_=t?t.prototype:void 0,E=_?_.valueOf:void 0;n.exports=function(n,r,e,t,_,M,k){switch(e){case b:if(n.byteLength!=r.byteLength||n.byteOffset!=r.byteOffset)return!1;n=n.buffer,r=r.buffer;case w:return!(n.byteLength!=r.byteLength||!M(new i(n),new i(r)));case h:case l:case v:return o(+n,+r);case d:return n.name==r.name&&n.message==r.message;case g:case y:return n==r+"";case p:var j=a;case m:var N=t&s;if(j||(j=c),n.size!=r.size&&!N)return!1;var A=k.get(n);if(A)return A==r;t|=f,k.set(n,r);var S=u(j(n),j(r),t,_,M,k);return k.delete(n),S;case x:if(E)return E.call(n)==E.call(r)}return!1}},function(n,r){n.exports=function(n,r){for(var e=-1,t=null==n?0:n.length;++e<t;)if(r(n[e],e,n))return!0;return!1}},function(n,r){n.exports=function(n){return this.__data__.has(n)}},function(n,r){var e="__lodash_hash_undefined__";n.exports=function(n){return this.__data__.set(n,e),this}},function(n,r,e){var t=e(42),i=e(96),o=e(238),u=e(236),a=e(16),c=e(1),s=e(18),f=e(22),h=1,l="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;n.exports=function(n,r,e,g,m,y){var x=c(n),w=c(r),b=x?d:a(n),_=w?d:a(r),E=(b=b==l?p:b)==p,M=(_=_==l?p:_)==p,k=b==_;if(k&&s(n)){if(!s(r))return!1;x=!0,E=!1}if(k&&!E)return y||(y=new t),x||f(n)?i(n,r,e,g,m,y):o(n,r,b,e,g,m,y);if(!(e&h)){var j=E&&v.call(n,"__wrapped__"),N=M&&v.call(r,"__wrapped__");if(j||N){var A=j?n.value():n,S=N?r.value():r;return y||(y=new t),m(A,S,e,g,y)}}return!!k&&(y||(y=new t),u(n,r,e,g,m,y))}},function(n,r,e){var t=e(42),i=e(97),o=1,u=2;n.exports=function(n,r,e,a){var c=e.length,s=c,f=!a;if(null==n)return!s;for(n=Object(n);c--;){var h=e[c];if(f&&h[2]?h[1]!==n[h[0]]:!(h[0]in n))return!1}for(;++c<s;){var l=(h=e[c])[0],d=n[l],p=h[1];if(f&&h[2]){if(void 0===d&&!(l in n))return!1}else{var v=new t;if(a)var g=a(d,p,l,n,r,v);if(!(void 0===g?i(p,d,o|u,a,v):g))return!1}}return!0}},function(n,r,e){var t=e(243),i=e(235),o=e(92);n.exports=function(n){var r=i(n);return 1==r.length&&r[0][2]?o(r[0][0],r[0][1]):function(e){return e===n||t(e,n,r)}}},function(n,r,e){var t=e(31);n.exports=function(n,r){var e=[];return t(n,function(n,t,i){r(n,t,i)&&e.push(n)}),e}},function(n,r,e){var t=e(10);n.exports=function(n,r){return function(e,i){if(null==e)return e;if(!t(e))return n(e,i);for(var o=e.length,u=r?o:-1,a=Object(e);(r?u--:++u<o)&&!1!==i(a[u],u,a););return e}}},function(n,r){n.exports=function(n){return function(r,e,t){for(var i=-1,o=Object(r),u=t(r),a=u.length;a--;){var c=u[n?a:++i];if(!1===e(o[c],c,o))break}return r}}},function(n,r,e){var t=e(16),i=e(8),o="[object Set]";n.exports=function(n){return i(n)&&t(n)==o}},function(n,r,e){var t=e(248),i=e(34),o=e(58),u=o&&o.isSet,a=u?i(u):t;n.exports=a},function(n,r,e){var t=e(16),i=e(8),o="[object Map]";n.exports=function(n){return i(n)&&t(n)==o}},function(n,r,e){var t=e(250),i=e(34),o=e(58),u=o&&o.isMap,a=u?i(u):t;n.exports=a},function(n,r,e){var t=e(19),i=t?t.prototype:void 0,o=i?i.valueOf:void 0;n.exports=function(n){return o?Object(o.call(n)):{}}},function(n,r){var e=/\\w*$/;n.exports=function(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}},function(n,r,e){var t=e(54);n.exports=function(n,r){var e=r?t(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}},function(n,r,e){var t=e(54),i=e(254),o=e(253),u=e(252),a=e(104),c="[object Boolean]",s="[object Date]",f="[object Map]",h="[object Number]",l="[object RegExp]",d="[object Set]",p="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",b="[object Int16Array]",_="[object Int32Array]",E="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]";n.exports=function(n,r,e){var N=n.constructor;switch(r){case g:return t(n);case c:case s:return new N(+n);case m:return i(n,e);case y:case x:case w:case b:case _:case E:case M:case k:case j:return a(n,e);case f:return new N;case h:case p:return new N(n);case l:return o(n);case d:return new N;case v:return u(n)}}},function(n,r){var e=Object.prototype.hasOwnProperty;n.exports=function(n){var r=n.length,t=new n.constructor(r);return r&&"string"==typeof n[0]&&e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}},function(n,r,e){var t=e(14)(e(5),"WeakMap");n.exports=t},function(n,r,e){var t=e(14)(e(5),"Promise");n.exports=t},function(n,r,e){var t=e(14)(e(5),"DataView");n.exports=t},function(n,r,e){var t=e(107),i=e(109),o=e(17);n.exports=function(n){return t(n,o,i)}},function(n,r,e){var t=e(24),i=e(109);n.exports=function(n,r){return t(n,i(n),r)}},function(n,r,e){var t=e(24),i=e(56);n.exports=function(n,r){return t(n,i(n),r)}},function(n,r){n.exports=function(n){var r=[];if(null!=n)for(var e in Object(n))r.push(e);return r}},function(n,r,e){var t=e(3),i=e(33),o=e(263),u=Object.prototype.hasOwnProperty;n.exports=function(n){if(!t(n))return o(n);var r=i(n),e=[];for(var a in n)("constructor"!=a||!r&&u.call(n,a))&&e.push(a);return e}},function(n,r,e){var t=e(24),i=e(17);n.exports=function(n,r){return n&&t(r,i(r),n)}},function(n,r,e){var t=e(114)(Object.keys,Object);n.exports=t},function(n,r,e){var t=e(13),i=e(59),o=e(8),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,n.exports=function(n){return o(n)&&i(n.length)&&!!u[t(n)]}},function(n,r){n.exports=function(){return!1}},function(n,r,e){var t=e(13),i=e(8),o="[object Arguments]";n.exports=function(n){return i(n)&&t(n)==o}},function(n,r){n.exports=function(n,r){for(var e=-1,t=Array(n);++e<n;)t[e]=r(e);return t}},function(n,r,e){var t=e(24),i=e(11);n.exports=function(n,r){return n&&t(r,i(r),n)}},function(n,r,e){var t=e(38);n.exports=function(n,r){var e=t(this,n),i=e.size;return e.set(n,r),this.size+=e.size==i?0:1,this}},function(n,r,e){var t=e(38);n.exports=function(n){return t(this,n).has(n)}},function(n,r,e){var t=e(38);n.exports=function(n){return t(this,n).get(n)}},function(n,r){n.exports=function(n){var r=typeof n;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n}},function(n,r,e){var t=e(38);n.exports=function(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}},function(n,r,e){var t=e(39),i="__lodash_hash_undefined__";n.exports=function(n,r){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=t&&void 0===r?i:r,this}},function(n,r,e){var t=e(39),i=Object.prototype.hasOwnProperty;n.exports=function(n){var r=this.__data__;return t?void 0!==r[n]:i.call(r,n)}},function(n,r,e){var t=e(39),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;n.exports=function(n){var r=this.__data__;if(t){var e=r[n];return e===i?void 0:e}return o.call(r,n)?r[n]:void 0}},function(n,r){n.exports=function(n){var r=this.has(n)&&delete this.__data__[n];return this.size-=r?1:0,r}},function(n,r,e){var t=e(39);n.exports=function(){this.__data__=t?t(null):{},this.size=0}},function(n,r,e){var t=e(281),i=e(280),o=e(279),u=e(278),a=e(277);function c(n){var r=-1,e=null==n?0:n.length;for(this.clear();++r<e;){var t=n[r];this.set(t[0],t[1])}}c.prototype.clear=t,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=u,c.prototype.set=a,n.exports=c},function(n,r,e){var t=e(282),i=e(41),o=e(63);n.exports=function(){this.size=0,this.__data__={hash:new t,map:new(o||i),string:new t}}},function(n,r){n.exports=function(n,r){return null==n?void 0:n[r]}},function(n,r,e){var t=e(5)["__core-js_shared__"];n.exports=t},function(n,r,e){var t=e(285),i=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();n.exports=function(n){return!!i&&i in n}},function(n,r){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},function(n,r,e){var t=e(19),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,a=t?t.toStringTag:void 0;n.exports=function(n){var r=o.call(n,a),e=n[a];try{n[a]=void 0;var t=!0}catch(n){}var i=u.call(n);return t&&(r?n[a]=e:delete n[a]),i}},function(n,r,e){var t=e(25),i=e(286),o=e(3),u=e(117),a=/^\\[object .+?Constructor\\]$/,c=Function.prototype,s=Object.prototype,f=c.toString,h=s.hasOwnProperty,l=RegExp("^"+f.call(h).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!o(n)||i(n))&&(t(n)?l:a).test(u(n))}},function(n,r,e){var t=e(41),i=e(63),o=e(62),u=200;n.exports=function(n,r){var e=this.__data__;if(e instanceof t){var a=e.__data__;if(!i||a.length<u-1)return a.push([n,r]),this.size=++e.size,this;e=this.__data__=new o(a)}return e.set(n,r),this.size=e.size,this}},function(n,r){n.exports=function(n){return this.__data__.has(n)}},function(n,r){n.exports=function(n){return this.__data__.get(n)}},function(n,r){n.exports=function(n){var r=this.__data__,e=r.delete(n);return this.size=r.size,e}},function(n,r,e){var t=e(41);n.exports=function(){this.__data__=new t,this.size=0}},function(n,r,e){var t=e(40);n.exports=function(n,r){var e=this.__data__,i=t(e,n);return i<0?(++this.size,e.push([n,r])):e[i][1]=r,this}},function(n,r,e){var t=e(40);n.exports=function(n){return t(this.__data__,n)>-1}},function(n,r,e){var t=e(40);n.exports=function(n){var r=this.__data__,e=t(r,n);return e<0?void 0:r[e][1]}},function(n,r,e){var t=e(40),i=Array.prototype.splice;n.exports=function(n){var r=this.__data__,e=t(r,n);return!(e<0||(e==r.length-1?r.pop():i.call(r,e,1),--this.size,0))}},function(n,r){n.exports=function(){this.__data__=[],this.size=0}},function(n,r,e){var t=e(119),i=4;n.exports=function(n){return t(n,i)}},function(n,r,e){n.exports={Graph:e(64),version:e(200)}},function(n,r,e){var t=e(301);n.exports={Graph:t.Graph,json:e(199),alg:e(198),version:t.version}},function(n,r,e){n.exports={graphlib:e(6),layout:e(189),debug:e(130),util:{time:e(2).time,notime:e(2).notime},version:e(129)}},function(n,r,e){var t=e(303),i=e(7),o=e(43);i.registerLayout("dagre",{getDefaultCfg:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:function(){return 50},ranksepFunc:function(){return 50},nodesep:50,ranksep:50,controlPoints:!0}},execute:function(){var n,r=this,e=r.nodes,i=r.edges,u=new t.graphlib.Graph,a=r.nodeSize;n=a?o(a)?function(){return a}:function(){return[a,a]}:function(n){return n.size?o(n.size)?n.size:[n.size,n.size]:[40,40]};var c=r.nodesep;r.nodesepFunc&&(c=r.nodesepFunc);var s=r.ranksep;r.ranksepFunc&&(s=r.ranksepFunc);var f,h=r.rankdir;"LR"!==h&&"RL"!==h||(c=r.ranksep,r.ranksepFunc&&(c=r.ranksepFunc),s=r.nodesep,r.nodesepFunc&&(s=r.nodesepFunc)),u.setDefaultEdgeLabel(function(){return{}}),u.setGraph(r),e.forEach(function(r){var e=n(r),t=c(r),i=s(r),o=e[0]+2*t,a=e[1]+2*i;u.setNode(r.id,{width:o,height:a})}),i.forEach(function(n){u.setEdge(n.source,n.target)}),t.layout(u),u.nodes().forEach(function(n,r){f=u.node(n),e[r].x=f.x,e[r].y=f.y}),u.edges().forEach(function(n,e){f=u.edge(n),i[e].startPoint=f.points[0],i[e].endPoint=f.points[f.points.length-1],r.controlPoints&&(i[e].controlPoints=f.points.slice(1,f.points.length-1))})}})},,function(n,r,e){var t=e(66),i=e(43),o=e(121),u=e(124),a=e(7),c=e(45),s=e(120).LAYOUT_MESSAGE;function f(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}a.registerLayout("force",{getDefaultCfg:function(){return{center:[0,0],nodeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,edgeStrength:null,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},init:function(n){this.nodes=n.nodes,this.edges=n.edges,this.ticking=!1},execute:function(){var n=this,r=n.nodes,e=n.edges;if(!n.ticking){var i=n.forceSimulation,o=n.alphaMin,u=n.alphaDecay,a=n.alpha;if(i)n.preventOverlap&&n.overlapProcess(i),i.alpha(a).restart(),this.ticking=!0;else try{var c=t.forceManyBody();if(n.nodeStrength&&c.strength(n.nodeStrength),i=t.forceSimulation().nodes(r).force("center",t.forceCenter(n.center[0],n.center[1])).force("charge",c).alpha(a).alphaDecay(u).alphaMin(o),n.preventOverlap&&n.overlapProcess(i),e){var h=e.map(function(n){return{id:n.id,source:n.source,target:n.target}}),l=t.forceLink().id(function(n){return n.id}).links(h);n.edgeStrength&&l.strength(n.edgeStrength),n.linkDistance&&l.distance(n.linkDistance),i.force("link",l)}if(n.workerEnabled&&!f()&&(n.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),n.workerEnabled){i.stop();for(var d=function(n){var r=n.alphaMin(),e=n.alphaTarget(),t=n.alpha(),i=Math.log((r-e)/(t-e))/Math.log(1-n.alphaDecay());return Math.ceil(i)}(i),p=1;p<=d;p++)i.tick(),postMessage({type:s.TICK,currentTick:p,totalTicks:d,nodes:r});n.ticking=!1}else i.on("tick",function(){n.tick()}).on("end",function(){n.ticking=!1,n.onLayoutEnd&&n.onLayoutEnd()}),n.ticking=!0;n.forceSimulation=i}catch(r){n.ticking=!1,console.warn(r)}}},overlapProcess:function(n){var r,e,a=this.nodeSize,c=this.nodeSpacing,s=this.collideStrength;if(e=o(c)?function(){return c}:"function"==typeof c?c:function(){return 0},a)if(u(a))r=a;else if(isNaN(a)){if(i(a)){var f=(a[0]>a[1]?a[0]:a[1])/2;r=function(n){return f+e(n)}}}else{var h=a/2;r=function(n){return h+e(n)}}else r=function(n){return n.size?i(n.size)?(n.size[0]>n.size[1]?n.size[0]:n.size[1])/2+e(n):n.size/2+e(n):10+e(n)};n.force("collisionForce",t.forceCollide(r).strength(s))},updateCfg:function(n){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,c.mix(this,n)},destroy:function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0}})},function(n,r,e){var t=e(123),i=function(){function n(n){this.distances=n.distances,this.dimension=n.dimension||2,this.linkDistance=n.linkDistance}return n.prototype.layout=function(){var n=this.dimension,r=this.distances,e=this.linkDistance,i=t.mul(-.5,t.pow(r,2));function o(n){return t.div(t.add.apply(null,n),n.length)}for(var u,a=o(i),c=o(t.transpose(i)),s=o(a),f=0;f<i.length;++f)for(var h=0;h<i[0].length;++h)i[f][h]+=s-a[f]-c[h];var l=[];try{u=t.svd(i)}catch(n){for(var d=r.length,p=0;p<d;p++){var v=Math.random()*e,g=Math.random()*e;l.push([v,g])}}if(0===l.length){var m=t.sqrt(u.S);l=u.U.map(function(r){return t.mul(r,m).splice(0,n)})}return l},n}();n.exports=i},function(n,r){var e=function(){function n(n){this.positions=n.positions,this.adjMatrix=n.adjMatrix,this.focusID=n.focusID,this.radii=n.radii,this.iterations=n.iterations||10,this.height=n.height||10,this.width=n.width||10,this.speed=n.speed||100,this.gravity=n.gravity||10,this.nodeSizeFunc=n.nodeSizeFunc,this.k=n.k||5,this.strictRadial=n.strictRadial,this.nodes=n.nodes}var r=n.prototype;return r.layout=function(){var n=this.positions,r=[],e=this.iterations,t=this.width/10;this.maxDisplace=t,this.disp=r;for(var i=0;i<e;i++)n.forEach(function(n,e){r[e]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return n},r.getRepulsion=function(){var n=this,r=n.positions,e=n.nodes,t=n.disp,i=n.k,o=n.radii;r.forEach(function(u,a){t[a]={x:0,y:0},r.forEach(function(r,c){if(a!==c&&o[a]===o[c]){var s=u[0]-r[0],f=u[1]-r[1],h=Math.sqrt(s*s+f*f);if(0===h&&(h=1),h<n.nodeSizeFunc(e[a])/2+n.nodeSizeFunc(e[c])/2){var l=i*i/h;t[a].x+=s/h*l,t[a].y+=f/h*l}}})})},r.updatePositions=function(){var n=this,r=n.positions,e=n.disp,t=n.speed,i=n.strictRadial,o=n.focusID;i&&e.forEach(function(n,e){var t=r[e][0]-r[o][0],i=r[e][1]-r[o][1],u=Math.sqrt(t*t+i*i),a=i/u,c=-t/u,s=Math.sqrt(n.x*n.x+n.y*n.y),f=Math.acos((a*n.x+c*n.y)/s);f>Math.PI/2&&(f-=Math.PI/2,a*=-1,c*=-1);var h=Math.cos(f)*s;n.x=a*h,n.y=c*h}),r.forEach(function(n,r){e[r].dx*=t/800,e[r].dy*=t/800});var u=n.radii;r.forEach(function(a,c){if(c!==o){var s=Math.sqrt(e[c].x*e[c].x+e[c].y*e[c].y);if(s>0&&c!==o){var f=Math.min(n.maxDisplace*(t/800),s);if(a[0]+=e[c].x/s*f,a[1]+=e[c].y/s*f,i){var h=a[0]-r[o][0],l=a[1]-r[o][1],d=Math.sqrt(h*h+l*l);h=h/d*u[c],l=l/d*u[c],a[0]=r[o][0]+h,a[1]=r[o][1]+l}}}})},n}();n.exports=e},function(n,r,e){var t=e(7),i=e(45),o=e(308),u=e(307),a=e(43),c=e(121);t.registerLayout("radial",{getDefaultCfg:function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200}},execute:function(){var n=this,r=n.nodes,e=n.edges,t=n.center;if(0!==r.length){if(1===r.length)return r[0].x=t[0],void(r[0].y=t[1]);var s=n.linkDistance,f=n.focusNode;if(i.isString(f)){for(var h=!1,l=0;l<r.length;l++)r[l].id===f&&(f=r[l],n.focusNode=f,h=!0,l=r.length);h||(f=null)}if(!f){if(!(f=r[0]))return;n.focusNode=f}var d=function(n,r){var e=-1;return n.forEach(function(n,t){n.id!==r||(e=t)}),e}(r,f.id);n.focusIndex=d;var p=i.getAdjMatrix({nodes:r,edges:e},!1),v=i.floydWarshall(p),g=n.maxToFocus(v,d);n.handleInfinity(v,d,g+1),n.distances=v;var m=v[d],y=n.width;y||"undefined"==typeof window||(y=window.innerWidth);var x=n.height;x||void 0===x||(x=window.innerHeight);var w=y-t[0]>t[0]?t[0]:y-t[0],b=x-t[1]>t[1]?t[1]:x-t[1];0===w&&(w=y/2),0===b&&(b=x/2);var _=b>w?w:b,E=Math.max.apply(Math,m),M=[];m.forEach(function(r,e){n.unitRadius||(n.unitRadius=_/E),M[e]=r*n.unitRadius}),n.radii=M;var k=n.eIdealDisMatrix(v,s,M);n.eIdealDistances=k;var j=function(n){for(var r=n.length,e=n[0].length,t=[],i=0;i<r;i++){for(var o=[],u=0;u<e;u++)0!==n[i][u]?o.push(1/Math.pow(n[i][u],2)):o.push(0);t.push(o)}return t}(k);n.weights=j;var N=new u({distances:k,linkDistance:s,dimension:2}).layout();N.forEach(function(n){isNaN(n[0])&&(n[0]=Math.random()*s),isNaN(n[1])&&(n[1]=Math.random()*s)}),n.positions=N,N.forEach(function(n,e){r[e].x=n[0]+t[0],r[e].y=n[1]+t[1]}),N.forEach(function(n){n[0]-=N[d][0],n[1]-=N[d][1]}),n.run();var A,S=n.preventOverlap,O=n.nodeSize,T=n.strictRadial;if(S){var I,P=n.nodeSpacing;I=c(P)?function(){return P}:"function"==typeof P?P:function(){return 0},A=O?a(O)?function(n){return(O[0]>O[1]?O[0]:O[1])+I(n)}:function(n){return O+I(n)}:function(n){return n.size?a(n.size)?(n.size[0]>n.size[1]?n.size[0]:n.size[1])+I(n):n.size+I(n):10+I(n)};var D=new o({nodeSizeFunc:A,adjMatrix:p,positions:N,radii:M,height:x,width:y,strictRadial:T,focusID:d,iterations:n.maxPreventOverlapIteration||200,k:N.length/4.5,nodes:r});N=D.layout()}N.forEach(function(n,e){r[e].x=n[0]+t[0],r[e].y=n[1]+t[1]})}},run:function(){for(var n=this.maxIteration,r=this.positions,e=this.weights,t=this.eIdealDistances,i=this.radii,o=0;o<=n;o++){var u=o/n;this.oneIteration(u,r,i,t,e)}},oneIteration:function(n,r,e,t,o){var u=1-n,a=this.focusIndex;r.forEach(function(c,s){var f=i.getEDistance(c,[0,0]),h=0===f?0:1/f;if(s!==a){var l=0,d=0,p=0;r.forEach(function(n,r){if(s!==r){var e=i.getEDistance(c,n),u=0===e?0:1/e,a=t[r][s];p+=o[s][r],l+=o[s][r]*(n[0]+a*(c[0]-n[0])*u),d+=o[s][r]*(n[1]+a*(c[1]-n[1])*u)}});var v=0===e[s]?0:1/e[s];p*=u,p+=n*Math.pow(v,2),l*=u,l+=n*v*c[0]*h,c[0]=l/p,d*=u,d+=n*v*c[1]*h,c[1]=d/p}})},eIdealDisMatrix:function(){var n=this.distances,r=this.linkDistance,e=this.radii,t=this.unitRadius,i=[];return n.forEach(function(n,o){var u=[];n.forEach(function(n,i){if(o===i)u.push(0);else if(e[o]===e[i])u.push(n*r/(e[o]/t));else{var a=(r+t)/2;u.push(n*a)}}),i.push(u)}),i},handleAbnormalMatrix:function(n,r){for(var e=n.length,t=0;t<e;t++)0===n[t].length&&(n[t][r]=1,n[r][t]=1)},handleInfinity:function(n,r,e){for(var t=n.length,i=0;i<t;i++)if(n[r][i]===1/0){n[r][i]=e,n[i][r]=e;for(var o=0;o<t;o++)n[i][o]!==1/0&&n[r][o]===1/0&&(n[r][o]=e+n[i][o],n[o][r]=e+n[i][o])}for(var u=0;u<t;u++)if(u!==r)for(var a=0;a<t;a++)if(n[u][a]===1/0){var c=Math.abs(n[r][u]-n[r][a]);c=0===c?1:c,n[u][a]=c}},maxToFocus:function(n,r){for(var e=0,t=0;t<n[r].length;t++)n[r][t]!==1/0&&(e=n[r][t]>e?n[r][t]:e);return e}})},function(n,r,e){e(7).registerLayout("fruchterman",{getDefaultCfg:function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},execute:function(){var n=this.nodes,r=this.center;if(0!==n.length){if(1===n.length)return n[0].x=r[0],void(n[0].y=r[1]);var e=new Map,t=new Map;n.forEach(function(n,r){e.set(n.id,n),t.set(n.id,r)}),this.nodeMap=e,this.nodeIndexMap=t,this.run()}},run:function(){var n=this,r=n.nodes,e=n.edges,t=n.maxIteration,i=n.width;i||"undefined"==typeof window||(i=window.innerWidth);var o=n.height;o||void 0===o||(o=window.innerHeight);var u=n.center,a=n.nodeMap,c=n.nodeIndexMap,s=i/10,f=Math.sqrt(i*o/(r.length+1)),h=n.gravity,l=n.speed,d=n.clustering,p=new Map;d&&(r.forEach(function(n){if(void 0===p.get(n.cluster)){var r={name:n.cluster,cx:0,cy:0,count:0};p.set(n.cluster,r)}var e=p.get(n.cluster);e.cx+=n.x,e.cy+=n.y,e.count++}),p.forEach(function(n){n.cx/=n.count,n.cy/=n.count}));for(var v=function(t){var i=[];if(r.forEach(function(n,r){i[r]={x:0,y:0}}),n.getDisp(r,e,a,c,i,f),d){var o=n.clusterGravity||h;r.forEach(function(n,r){var e=p.get(n.cluster),t=Math.sqrt((n.x-e.cx)*(n.x-e.cx)+(n.y-e.cy)*(n.y-e.cy)),u=f*o;i[r].x-=u*(n.x-e.cx)/t,i[r].y-=u*(n.y-e.cy)/t}),p.forEach(function(n){n.cx=0,n.cy=0,n.count=0}),r.forEach(function(n){var r=p.get(n.cluster);r.cx+=n.x,r.cy+=n.y,r.count++}),p.forEach(function(n){n.cx/=n.count,n.cy/=n.count})}r.forEach(function(n,r){var e=.01*f*h;i[r].x-=e*(n.x-u[0]),i[r].y-=e*(n.y-u[1])}),r.forEach(function(n,r){i[r].dx*=l/800,i[r].dy*=l/800}),r.forEach(function(n,r){var e=Math.sqrt(i[r].x*i[r].x+i[r].y*i[r].y);if(e>0){var t=Math.min(s*(l/800),e);n.x+=i[r].x/e*t,n.y+=i[r].y/e*t}})},g=0;g<t;g++)v()},getDisp:function(n,r,e,t,i,o){this.calRepulsive(n,i,o),this.calAttractive(r,e,t,i,o)},calRepulsive:function(n,r,e){n.forEach(function(t,i){r[i]={x:0,y:0},n.forEach(function(n,o){if(i!==o){var u=t.x-n.x,a=t.y-n.y,c=u*u+a*a;0===c&&(c=1);var s=e*e/c;r[i].x+=u*s,r[i].y+=a*s}})})},calAttractive:function(n,r,e,t,i){n.forEach(function(n){var o=e.get(n.source),u=e.get(n.target);if(o!==u){var a=r.get(n.source),c=r.get(n.target),s=c.x-a.x,f=c.y-a.y,h=Math.sqrt(s*s+f*f),l=h*h/i;t[u].x-=s/h*l,t[u].y-=f/h*l,t[o].x+=s/h*l,t[o].y+=f/h*l}})}})},function(n,r,e){function t(n,r){return n.degree<r.degree?-1:n.degree>r.degree?1:0}e(7).registerLayout("circular",{getDefaultCfg:function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},execute:function(){var n=this.nodes,r=this.edges,e=n.length,t=this.center;if(0!==e){if(1===e)return n[0].x=t[0],void(n[0].y=t[1]);var i=this.radius,o=this.startRadius,u=this.endRadius,a=this.divisions,c=this.startAngle,s=this.endAngle,f=(s-c)/e,h=new Map;n.forEach(function(n,r){h.set(n.id,r)}),this.nodeMap=h;var l=function(n,r,e){for(var t=[],i=0;i<n;i++)t[i]=0;return e.forEach(function(n){t[r.get(n.source)]+=1,t[r.get(n.target)]+=1}),t}(n.length,h,r);this.degrees=l;var d=this.width;d||"undefined"==typeof window||(d=window.innerWidth);var p=this.height;p||void 0===p||(p=window.innerHeight),i||o||u?!o&&u?o=u:o&&!u&&(u=o):i=p>d?d/2:p/2;var v=f*this.angleRatio;this.astep=v;var g=this.ordering,m=[];m="topology"===g?this.topologyOrdering():"degree"===g?this.degreeOrdering():n;for(var y=this.clockwise,x=Math.ceil(e/a),w=0;w<e;++w){var b=i;b||(b=o+w*(u-o)/(e-1));var _=c+w%x*v+2*Math.PI/a*Math.floor(w/x);y||(_=s-w%x*v-2*Math.PI/a*Math.floor(w/x)),m[w].x=t[0]+Math.cos(_)*b,m[w].y=t[1]+Math.sin(_)*b,m[w].weight=l[w]}}},topologyOrdering:function(){var n=this.degrees,r=this.edges,e=this.nodes,t=this.nodeMap,i=[e[0]],o=[],u=e.length;o[0]=!0,function(n,r,e,t){n.forEach(function(r,e){n[e].children=[],n[e].parent=[]}),t?r.forEach(function(r){var t=e.get(r.source),i=e.get(r.target);n[t].children.push(n[i]),n[i].parent.push(n[t])}):r.forEach(function(r){var t=e.get(r.source),i=e.get(r.target);n[t].children.push(n[i]),n[i].children.push(n[t])})}(e,r,t,!1);var a=0;return e.forEach(function(c,s){if(0!==s)if(s!==u-1&&n[s]===n[s+1]&&!function(n,r,e){for(var t=e.length,i=0;i<t;i++)if(n.id===e[i].source&&r.id===e[i].target||r.id===e[i].source&&n.id===e[i].target)return!0;return!1}(i[a],c,r)||!0===o[s]){for(var f=i[a].children,h=!1,l=0;l<f.length;++l){var d=t.get(f[l].id);if(n[d]===n[s]&&!0!==o[d]){i.push(e[d]),o[d]=!0,h=!0;break}}for(var p=0;!h&&(o[p]||(i.push(e[p]),o[p]=!0,h=!0),++p!==u););}else i.push(c),o[s]=!0,a++}),i},degreeOrdering:function(){var n=this.nodes,r=[],e=this.degrees;return n.forEach(function(n,t){n.degree=e[t],r.push(n)}),r.sort(t),r}})},function(n,r,e){var t=e(7),i=e(45),o=e(123);t.registerLayout("mds",{getDefaultCfg:function(){return{center:[0,0],linkDistance:50}},execute:function(){var n=this.nodes,r=this.edges,e=this.center;if(0!==n.length){1===n.length&&(n[0].x=e[0],n[0].y=e[1]);var t=this.linkDistance,o=i.getAdjMatrix({nodes:n,edges:r},!1),u=i.floydWarshall(o);this.handleInfinity(u),this.distances=u;var a=i.scaleMatrix(u,t);this.scaledDistances=a;var c=this.runMDS();this.positions=c,c.forEach(function(r,t){n[t].x=r[0]+e[0],n[t].y=r[1]+e[1]})}},runMDS:function(){var n=this.scaledDistances,r=o.mul(-.5,o.pow(n,2));function e(n){return o.div(o.add.apply(null,n),n.length)}for(var t=e(r),i=e(o.transpose(r)),u=e(t),a=0;a<r.length;++a)for(var c=0;c<r[0].length;++c)r[a][c]+=u-t[a]-i[c];var s=o.svd(r),f=o.sqrt(s.S);return s.U.map(function(n){return o.mul(n,f).splice(0,2)})},handleInfinity:function(n){var r=-999999;n.forEach(function(n){n.forEach(function(n){n!==1/0&&r<n&&(r=n)})}),n.forEach(function(e,t){e.forEach(function(e,i){e===1/0&&(n[t][i]=r)})})}})},function(n,r,e){e(7).registerLayout("random",{getDefaultCfg:function(){return{center:[0,0],height:300,width:300}},execute:function(){var n=this.nodes,r=this.center,e=this.width;e||"undefined"==typeof window||(e=window.innerWidth);var t=this.height;t||void 0===t||(t=window.innerHeight),n.forEach(function(n){n.x=.9*(Math.random()-.5)*e+r[0],n.y=.9*(Math.random()-.5)*t+r[1]})}})},function(n,r){n.exports=function(n){return null!==n&&"function"!=typeof n&&isFinite(n.length)}},function(n,r,e){var t=e(314);n.exports=function(n){return t(n)?Array.prototype.slice.call(n):[]}},function(n,r,e){var t=e(124),i=e(315),o=e(125);n.exports=function(n){for(var r=i(arguments),e=1;e<r.length;e++){var u=r[e];t(u)&&(u=u.prototype),o(n.prototype,u)}}},function(n,r,e){var t=e(7);n.exports={Random:e(313),Mds:e(312),Circular:e(311),Fruchterman:e(310),Radial:e(309),Force:e(306),Dagre:e(304),Concentric:e(128),Grid:e(127),FruchtermanGroup:e(126)},n.exports=t},function(n,r,e){var t=e(317),i=e(120).LAYOUT_MESSAGE;self.onmessage=function(n){(function(n){return n.data.type===i.RUN})(n)&&function(n){switch(n.data.type){case i.RUN:var r=n.data,e=r.nodes,o=r.edges,u=r.layoutCfg,a=void 0===u?{}:u,c=a.type,s=t[c];if(!s){postMessage({type:i.ERROR,message:"layout "+c+" not found"});break}var f=new s(a);f.init({nodes:e,edges:o}),f.execute(),postMessage({type:i.END,nodes:e}),f.destroy()}}(n)}}]);\n//# sourceMappingURL=g6Layout.worker.js.map',null)}},function(t,e,n){var i=n(173),r=n(1),o=n(171),a=n(208),s=o.LAYOUT_MESSAGE,u=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)},c=function(t){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return clearTimeout(t)})(t)},h=function(){function t(t){this.graph=t;var e=this.layoutCfg=t.get("layout")||{};this.layoutType=e.type,this.worker=null,this.workerData={},this._initLayout()}var e=t.prototype;return e._initLayout=function(){},e._getWorker=function(){return this.worker?this.worker:("undefined"==typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new a,this.worker)},e._stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(c(t.requestId),t.requestId=null),t.requestId2&&(c(t.requestId2),t.requestId2=null))},e.getLayoutType=function(){return this.layoutCfg.type},e.layout=function(t){var e=this.layoutType,n=this.graph;this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;var a=n.get("width"),s=n.get("height"),u={};if(r.mix(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,void 0===e){if(!o[0]||void 0!==o[0].x)return!1;e=u.type="random"}else o[0]&&void 0===o[0].x&&this.initPositions(u.center,o);var c=this.layoutMethod;if(c&&c.destroy(),this._stopWorker(),u.workerEnabled&&this._layoutWithWorker(this.data,t))return!0;if("force"===e){var h=u.onTick;u.tick=function(){h&&h(),n.refreshPositions()};var l=u.onLayoutEnd;u.onLayoutEnd=function(){l&&l(),n.emit("afterlayout")}}try{c=new i[e](u)}catch(t){return console.warn("The layout method: "+u+" does not exist! Please specify it first."),!1}return c.init(this.data),n.emit("beforelayout"),c.execute(),this.layoutMethod=c,"force"!==e&&(n.emit("afterlayout"),this.refreshLayout()),!1},e._layoutWithWorker=function(t,e){var n=this,i=t.nodes,r=t.edges,o=this.layoutCfg,a=this.graph,u=this._getWorker(),c=this.workerData;if(!u)return!1;c.requestId=null,c.requestId2=null,c.currentTick=null,c.currentTickData=null,a.emit("beforelayout");var h=function(t,e){var n={};if(t&&"object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n}return t}(o,(function(t){return"function"!=typeof t}));return u.postMessage({type:s.RUN,nodes:i,edges:r,layoutCfg:h}),u.onmessage=function(i){n._handleWorkerMessage(i,t,e)},!0},e._handleWorkerMessage=function(t,e,n){var i=this.graph,r=this.workerData,o=this.layoutCfg,a=t.data,c=function(){o.onTick&&o.onTick()},h=function(){o.onLayoutEnd&&o.onLayoutEnd(),i.emit("afterlayout")};switch(a.type){case s.TICK:r.currentTick=a.currentTick,r.currentTickData=a,r.requestId||(r.requestId=u((function(){l(e,a),i.refreshPositions(),c(),1===a.currentTick&&n&&n(),a.currentTick===a.totalTicks?h():r.currentTick===a.totalTicks&&(r.requestId2=u((function(){l(e,r.currentTickData),i.refreshPositions(),r.requestId2=null,c(),h()}))),r.requestId=null})));break;case s.END:null==r.currentTick&&(l(e,a),this.refreshLayout(),n&&n(),i.emit("afterlayout"));break;case s.ERROR:}},e.refreshLayout=function(){var t=this.graph;t.get("animate")?t.positionsAnimate():t.refreshPositions()},e.updateLayoutCfg=function(t){var e=this.graph;this.layoutType=t.type;var n=this.layoutMethod;this.data=this.setDataFromGraph(),this._stopWorker(),t.workerEnabled&&this._layoutWithWorker(this.data,null)||(n.init(this.data),n.updateCfg(t),e.emit("beforelayout"),n.execute(),"force"!==this.layoutType&&e.emit("afterlayout"),this.refreshLayout())},e.changeLayout=function(t){this.layoutType=t,this.layoutCfg=this.graph.get("layout")||{},this.layoutCfg.type=t;var e=this.layoutMethod;e&&e.destroy(),this.layout()},e.changeData=function(){var t=this.layoutMethod;t&&t.destroy(),this.layout()},e.setDataFromGraph=function(){var t=[],e=[],n=this.graph.getNodes(),i=this.graph.getEdges();n.forEach((function(e){var n=e.getModel();t.push(n)})),i.forEach((function(t){var n=t.getModel();e.push(n)}));var r={nodes:t,edges:e};return"fruchtermanGroup"===this.layoutType&&(r.graph=this.graph),r},e.relayout=function(){var t=this.graph,e=this.layoutMethod;"force"===this.layoutType&&(e.ticking=!1,e.forceSimulation.stop()),t.emit("beforelayout"),e.execute(),"force"!==this.layoutType&&t.emit("afterlayout"),this.refreshLayout()},e.layoutAnimate=function(){},e._getLayout=function(){},e.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!isNaN(t[0].x)){var e=[0,0];t.forEach((function(t){e[0]+=t.x,e[1]+=t.y})),e[0]/=t.length,e[1]/=t.length,t.forEach((function(t){t.x-=e[0],t.y-=e[1]}))}},e.initPositions=function(t,e){e&&e.forEach((function(e){e.x=t[0]+Math.random(),e.y=t[1]+Math.random()}))},e.destroy=function(){this.graph=null;var t=this.layoutMethod;t&&t.destroy();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0},t}();function l(t,e){var n=t.nodes,i=e.nodes;n.forEach((function(t,e){t.x=i[e].x,t.y=i[e].y}))}t.exports=h},function(t,e,n){var i=n(1),r=null,o=function(){function t(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}}}var e=t.prototype;return e.updateState=function(t,e,n){if(!t.destroyed){var i=this,o=i.cachedStates,a=o.enabled,s=o.disabled;n?(i._checkCache(t,e,s),i._cacheState(t,e,a)):(i._checkCache(t,e,a),i._cacheState(t,e,s)),r&&clearTimeout(r),r=setTimeout((function(){r=null,i.updateGraphStates()}),16)}},e.updateStates=function(t,e,n){var r=this;i.isString(e)?r.updateState(t,e,n):e.forEach((function(e){r.updateState(t,e,n)}))},e._checkCache=function(t,e,n){if(n[e]){var i=n[e].indexOf(t);i>=0&&n[e].splice(i,1)}},e._cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},e.updateGraphStates=function(){var t=this.graph.get("states"),e=this.cachedStates;i.each(e.disabled,(function(e,n){t[n]&&(t[n]=t[n].filter((function(t){return e.indexOf(t)<0&&!e.destroyed})))})),i.each(e.enabled,(function(e,n){if(t[n]){var i={};t[n].forEach((function(t){t.destroyed||(i[t.get("id")]=!0)})),e.forEach((function(e){if(!e.destroyed){var r=e.get("id");i[r]||(i[r]=!0,t[n].push(e))}}))}else t[n]=e})),this.graph.emit("graphstatechange",{states:t}),this.cachedStates={enabled:{},disabled:{}}},e.destroy=function(){this.graph=null,this.cachedStates=null,r&&clearTimeout(r),r=null,this.destroyed=!0},t}();t.exports=o},function(t,e,n){var i=n(1),r={source:"start",target:"end"},o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},n.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},n.setSource=function(t){this._setEnd("source",t),this.set("source",t)},n.setTarget=function(t){this._setEnd("target",t),this.set("target",t)},n.getSource=function(){return this.get("source")},n.getTarget=function(){return this.get("target")},n.update=function(t){var e=this.get("model");i.mix(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},n.updatePosition=function(){},n._setEnd=function(t,e){var n=r[t]+"Point",o=t+"Node",a=this.get(o);a&&a.removeEdge(this),i.isPlainObject(e)?(this.set(n,e),this.set(o,null)):(e.addEdge(this),this.set(o,e),this.set(n,null))},n._getLinkPoint=function(t,e,n){var o=r[t]+"Point",a=t+"Node",s=this.get(o);if(!s){var u=this.get(a),c=t+"Anchor",h=this._getPrePoint(t,n),l=e[c];i.isNil(l)||(s=u.getLinkPointByAnchor(l)),s=s||u.getLinkPoint(h),i.isNil(s.index)||this.set(t+"AnchorIndex",s.index)}return s},n._getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var n="source"===t?"target":"source";return this._getEndPoint(n)},n._getControlPointsByCenter=function(t){var e=this._getEndPoint("source"),n=this._getEndPoint("target");return this.get("shapeFactory").getControlPoints(t.shape,{startPoint:e,endPoint:n})},n._getEndPoint=function(t){var e=t+"Node",n=r[t]+"Point",i=this.get(e);return i?i.get("model"):this.get(n)},n._getEndCenter=function(t){var e=t+"Node",n=r[t]+"Point",i=this.get(e);if(i){var o=i.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},n.getShapeCfg=function(e){var n=this.get("linkCenter"),i=t.prototype.getShapeCfg.call(this,e);if(n)i.startPoint=this._getEndCenter("source"),i.endPoint=this._getEndCenter("target");else{var r=i.controlPoints||this._getControlPointsByCenter(i);i.startPoint=this._getLinkPoint("source",e,r),i.endPoint=this._getLinkPoint("target",e,r)}return i.sourceNode=this.get("sourceNode"),i.targetNode=this.get("targetNode"),i},n.getModel=function(){var t=this.get("model"),e=i.mix({},t),n=this.get("sourceNode"),r=this.get("targetNode");return n?(e.source=n.get("id"),delete e.sourceNode):e.source=this.get("startPoint"),r?(e.target=r.get("id"),delete e.targetNode):e.target=this.get("endPoint"),e},n.destroy=function(){var e=this.get("sourceNode"),n=this.get("targetNode");e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(n(114));t.exports=o},function(t,e,n){var i=n(1);function r(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)}var o=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{type:"node",anchors:[],edges:[],status:[]}},n.getEdges=function(){return this.get("edges")},n.getInEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("target")===t}))},n.getOutEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("source")===t}))},n.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},n.getLinkPoint=function(t){var e,n=this.get("keyShape").get("type"),o=this.getBBox(),a=o.centerX,s=o.centerY,u=this.getAnchorPoints();switch(n){case"circle":e=i.getCircleIntersectByPoint({x:a,y:s,r:o.width/2},t);break;case"ellipse":e=i.getEllispeIntersectByPoint({x:a,y:s,rx:o.width/2,ry:o.height/2},t);break;default:e=i.getRectIntersectByPoint(o,t)}var c=e;return u.length&&(c||(c=t),c=function(t,e){for(var n=0,i=t[0],o=r(t[0],e),a=0;a<t.length;a++){var s=t[a],u=r(s,e);u<o&&(i=s,o=u,n=a)}return i.anchorIndex=n,i}(u,c)),c||(c={x:a,y:s}),c},n.lock=function(){this.set("locked",!0)},n.unlock=function(){this.set("locked",!1)},n.hasLocked=function(){return this.get("locked")},n.addEdge=function(t){this.get("edges").push(t)},n.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},n.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},n._isOnlyMove=function(t){if(!t)return!1;var e=!i.isNil(t.x),n=!i.isNil(t.y),r=Object.keys(t);return 1===r.length&&(e||n)||2===r.length&&e&&n},n.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),o=this.getShapeCfg(r),a=e.getAnchorPoints(r.shape,o)||[];i.each(a,(function(e,r){var o=i.mix({x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height},e[2],{index:r});t.push(o)})),this.set("anchorPointsCache",t)}return t},e}(n(114));t.exports=o},function(t,e,n){t.exports={Node:n(212),Edge:n(211)}},function(t,e,n){var i=n(1),r=n(213),o=n(2),a=n(12),s=Object.hasOwnProperty,u=function(){function t(t){this.graph=t}var e=t.prototype;return e.addItem=function(t,e){var n,u=this.graph,c=u.get(t+"Group")||u.get("group"),h=i.upperFirst(t),l=u.get(t+i.upperFirst("stateStyles"))||{},d=u.get("default"+h),f=u.get(t+"Mapper");if(f){var p=f(e);p.stateStyles&&(l=p.stateStyles,delete p.stateStyles),e=o({},d,e,p)}else d&&i.each(d,(function(t,n){s.call(e,n)||(a(t)?e[n]=i.clone(t):e[n]=d[n])}));if(u.emit("beforeadditem",{type:t,model:e}),"edge"===t){var g=e.source,v=e.target;if(g&&i.isString(g)&&(g=u.findById(g)),v&&i.isString(v)&&(v=u.findById(v)),!g||!v)return void console.warn("The source or target node of edge "+e.id+" does not exist!");n=new r[h]({model:e,source:g,target:v,styles:l,linkCenter:u.get("linkCenter"),group:c.addGroup()})}else n=new r[h]({model:e,styles:l,group:c.addGroup()});return u.get(t+"s").push(n),u.get("itemMap")[n.get("id")]=n,u.autoPaint(),u.emit("afteradditem",{item:n,model:e}),n},e.updateItem=function(t,e){var n=this.graph;if(i.isString(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=n.get(t.getType()+"Mapper"),s=t.getModel();if(r){var u=r(o({},s,e)),c=o({},s,u,e);u.stateStyles&&(t.set("styles",c.stateStyles),delete c.stateStyles),i.each(c,(function(t,n){e[n]=t}))}else i.each(e,(function(t,n){s[n]&&a(t)&&!i.isArray(t)&&(e[n]=i.mix({},s[n],e[n]))}));if(n.emit("beforeupdateitem",{item:t,cfg:e}),"edge"===t.getType()){if(e.source){var h=e.source;i.isString(h)&&(h=n.findById(h)),t.setSource(h)}if(e.target){var l=e.target;i.isString(l)&&(l=n.findById(l)),t.setTarget(l)}}if(t.update(e),"node"===t.getType()){var d=n.get("autoPaint");n.setAutoPaint(!1),i.each(t.getEdges(),(function(t){n.refreshItem(t)})),n.setAutoPaint(d)}n.autoPaint(),n.emit("afterupdateitem",{item:t,cfg:e})}},e.removeItem=function(t){var e=this.graph;if(i.isString(t)&&(t=e.findById(t)),t&&!t.destroyed){e.emit("beforeremoveitem",{item:t});var n=t.getType(),r=e.get(t.getType()+"s"),o=r.indexOf(t);if(r.splice(o,1),delete e.get("itemMap")[t.get("id")],"node"===n)for(var a=t.getEdges(),s=a.length;s>=0;s--)e.removeItem(a[s]);t.destroy(),e.autoPaint(),e.emit("afterremoveitem",{item:t})}},e.setItemState=function(t,e,n){var i=this.graph;t.hasState(e)!==n&&(i.emit("beforeitemstatechange",{item:t,state:e,enabled:n}),t.setState(e,n),i.autoPaint(),i.emit("afteritemstatechange",{item:t,state:e,enabled:n}))},e.clearItemStates=function(t,e){var n=this.graph;i.isString(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.autoPaint(),n.emit("afteritemstatesclear",{item:t,states:e})},e.refreshItem=function(t){var e=this.graph;i.isString(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.autoPaint(),e.emit("afteritemrefresh",{item:t})},e.changeItemVisibility=function(t,e){var n=this,r=n.graph;if(i.isString(t)&&(t=r.findById(t)),r.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),"node"===t.getType()){var o=r.get("autoPaint");r.setAutoPaint(!1),i.each(t.getEdges(),(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)})),r.setAutoPaint(o)}r.autoPaint(),r.emit("afteritemvisibilitychange",{item:t,visible:e})},e.destroy=function(){this.graph=null,this.destroyed=!0},t}();t.exports=u},function(t,e,n){var i=n(1),r=n(117);function o(t,e){return i.each(e,(function(e){t.indexOf(e)<0&&(i.isString(e)&&(e={type:e}),t.push(e))})),t}function a(t,e){var n=[];return t.forEach((function(t){e.indexOf(t.type)<0&&n.push(t)})),n}var s=function(){function t(t){this.graph=t,this.modes=t.get("modes")||{default:[]},this._formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}var e=t.prototype;return e._formatModes=function(){var t=this.modes;i.each(t,(function(t){i.each(t,(function(e,n){i.isString(e)&&(t[n]={type:e})}))}))},e.setMode=function(t){var e=this.modes,n=this.graph;if(e[t])return n.emit("beforemodechange",{mode:t}),i.each(this.currentBehaves,(function(t){t.unbind(n)})),this._setBehaviors(t),n.emit("aftermodechange",{mode:t}),this.mode=t,this},e.manipulateBehaviors=function(t,e,n){var r=this;return i.isArray(t)||(t=[t]),i.isArray(e)?(i.each(e,(function(e){r.modes[e]?r.modes[e]=n?o(r.modes[e],t):a(r.modes[e],t):n&&(r.modes[e]=[].concat(t))})),this):(e||(e=this.mode),r.modes[e]=n?o(r.modes[e],t):a(r.modes[e],t),r.setMode(this.mode),this)},e._setBehaviors=function(t){var e,n=this.graph,o=this.modes[t],a=[];i.each(o,(function(t){r.getBehavior(t.type)&&((e=new(r.getBehavior(t.type))(t))&&e.bind(n),a.push(e))})),this.currentBehaves=a},e.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}();t.exports=s},function(t,e,n){var i=n(1),r=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseout","mouseover","mousemove","mouseleave","dragstart","dragend","drag","dragenter","dragleave","drop"],o=[1,0,0,0,1,0,0,0,1],a=9,s=function(){function t(t){this.graph=t,this.extendEvents=[],this._initEvents()}var e=t.prototype;return e._initEvents=function(){var t=this.graph.get("canvas"),e=t.get("el"),n=this.extendEvents,o=i.wrapBehavior(this,"_onCanvasEvents"),a=i.wrapBehavior(this,"_onExtendEvents"),s=i.wrapBehavior(this,"_onWheelEvent");i.each(r,(function(e){t.on(e,o)})),this.canvasHandler=o,n.push(i.addEventListener(e,"DOMMouseScroll",s)),n.push(i.addEventListener(e,"mousewheel",s)),"undefined"!=typeof window&&(n.push(i.addEventListener(window,"keydown",a)),n.push(i.addEventListener(window,"keyup",a)))},e._onCanvasEvents=function(t){var e=this.graph,n=e.get("canvas"),i=n.get("pixelRatio"),r=t.target,s=t.type;t.canvasX=t.x/i,t.canvasY=t.y/i;var u={x:t.canvasX,y:t.canvasY};if(function(t){for(var e=0;e<a;e++)if(t[e]!==o[e])return!0;return!1}(e.get("group").getMatrix())&&(u=e.getPointByCanvas(t.canvasX,t.canvasY)),t.x=u.x,t.y=u.y,t.currentTarget=e,r===n)return"mousemove"===s&&this._handleMouseMove(t,"canvas"),t.target=n,t.item=null,e.emit(s,t),void e.emit("canvas:"+s,t);var c=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t}(r);if(c){var h=c.get("item");if(!h.destroyed){var l=h.getType();t.target=r,t.item=h,e.emit(s,t),"mouseenter"!==s&&"mouseleave"!==s&&"dragenter"!==s&&"dragleave"!==s&&(e.emit(l+":"+s,t),"dragstart"===s&&(this.dragging=!0),"dragend"===s&&(this.dragging=!1),"mousemove"===s&&this._handleMouseMove(t,l))}}else e.emit(s,t)},e._onExtendEvents=function(t){this.graph.emit(t.type,t)},e._onWheelEvent=function(t){i.isNil(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e._handleMouseMove=function(t,e){var n=this.graph.get("canvas"),r=t.target===n?null:t.item,o=this.preItem;t=i.cloneEvent(t),o&&o!==r&&!o.destroyed&&(t.item=o,this._emitCustomEvent(o.getType(),"mouseleave",t),this.dragging&&this._emitCustomEvent(o.getType(),"dragleave",t)),r&&o!==r&&(t.item=r,this._emitCustomEvent(e,"mouseenter",t),this.dragging&&this._emitCustomEvent(e,"dragenter",t)),this.preItem=r},e._emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit(t+":"+e,n)},e.destroy=function(){var t=this.graph,e=this.canvasHandler,n=t.get("canvas");i.each(r,(function(t){n.off(t,e)})),i.each(this.extendEvents,(function(t){t.remove()}))},t}();t.exports=s},function(t,e,n){var i=n(1),r=function(){function t(t){this.graph=t}var e=t.prototype;return e.getFormatPadding=function(){return i.formatPadding(this.graph.get("fitViewPadding"))},e._fitView=function(){var t=this.getFormatPadding(),e=this.graph,n=e.get("group"),i=e.get("width"),r=e.get("height");n.resetMatrix();var o=n.getBBox(),a=this._getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;e.translate(a.x-s,a.y-u);var c=(i-t[1]-t[3])/o.width,h=(r-t[0]-t[2])/o.height,l=c;c>h&&(l=h),e.zoom(l,a)},e.focusPoint=function(t){var e=this._getViewCenter(),n=this.getPointByCanvas(e.x,e.y),i=this.graph.get("group").getMatrix();this.graph.translate((n.x-t.x)*i[0],(n.y-t.y)*i[4])},e.getPointByClient=function(t,e){var n=this.graph.get("canvas"),i=n.get("pixelRatio"),r=n.getPointByClient(t,e);return this.getPointByCanvas(r.x/i,r.y/i)},e.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),i=this.getCanvasByPoint(t,e),r=n.get("pixelRatio"),o=n.getClientByPoint(i.x*r,i.y*r);return{x:o.clientX,y:o.clientY}},e.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return i.invertMatrix({x:t,y:e},n)},e.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return i.applyMatrix({x:t,y:e},n)},e.focus=function(t){if(i.isString(t)&&(t=this.graph.findById(t)),t){var e=t.get("group").getMatrix();this.focusPoint({x:e[6],y:e[7]})}},e.changeSize=function(t,e){if(!i.isNumber(t)||!i.isNumber(e))throw Error("invalid canvas width & height");this.graph.set({width:t,height:e}),this.graph.get("canvas").changeSize(t,e)},e._getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),i=e.get("height");return{x:(n-t[2]-t[3])/2+t[3],y:(i-t[0]-t[2])/2+t[0]}},e.destroy=function(){this.graph=null,this.destroyed=!0},t}();t.exports=r},function(t,e,n){t.exports={View:n(217),Event:n(216),Mode:n(215),Item:n(214),State:n(210),Layout:n(209),CustomGroup:n(206)}},function(t,e){var n=["click","dblclick"];t.exports={getDefaultCfg:function(){return{trigger:"dblclick"}},getEvents:function(){var t,e;return n.includes(this.trigger)?e=this.trigger:(e="dblclick",console.warn("Behavior collapse-expand-grouptriggerclickdblclick")),(t={})[""+e]="onGroupClick",t},onGroupClick:function(t){var e=t.target.get("groupId");if(!e)return!1;this.graph.get("customGroupControll").collapseExpandGroup(e)}}},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(2),o=n(10).delegateStyle,a=document.body;t.exports={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"}},onMouseEnter:function(t){var e=t.target.get("groupId");if(e&&this.origin){var n=this.graph.get("customGroupControll"),i=n.getDeletageGroupById(e);if(i){var r=i.nodeGroup.get("keyShape");this.inGroupId=e,n.setGroupStyle(r,"hover")}}},onMouseLeave:function(t){var e=t.target.get("groupId");if(e&&this.origin){var n=this.graph.get("customGroupControll"),i=n.getDeletageGroupById(e);if(i){var r=i.nodeGroup.get("keyShape");n.setGroupStyle(r,"default")}}e||(this.inGroupId=null)},onDragStart:function(t){var e=this;if(this.shouldBegin.call(this,t)){var n=t.item,i=this.graph;this.targets=[];var r=i.findAllByState("node","selected"),o=n.get("id");if(0===r.filter((function(t){var e=t.get("id");return o===e})).length){this.target=n;var a=n.getModel().groupId;if(a){var s=i.get("customGroupControll"),u=s.getDeletageGroupById(a);if(u){var c=u.nodeGroup.get("keyShape");s.setGroupStyle(c,"hover"),this.inGroupId=a}}}else r.length>1?r.forEach((function(t){e.targets.push(t)})):this.targets.push(n);this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}},onDrag:function(t){if(this.origin&&this.get("shouldUpdate").call(this,t))if(this.targets.length>0)this._updateDelegate(t);else{this._update(this.target,t,!0);var e=t.item,n=this.graph,i=e.getModel().groupId;if(i){var r=n.get("customGroupControll"),o=r.getDeletageGroupById(i);if(o){var a=o.nodeGroup.get("keyShape");this.inGroupId!==i?r.setGroupStyle(a,"default"):r.setGroupStyle(a,"hover")}}}},onDragEnd:function(t){var e=this;if(this.origin&&this.shouldEnd.call(this,t)){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var n=this.target.get("delegateShape");n&&(n.remove(),this.target.set("delegateShape",null))}this.targets.length>0?this.targets.forEach((function(n){return e._update(n,t)})):this.target&&this._update(this.target,t),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.target=null;var i=this.fn;i&&(a.removeEventListener("mouseup",i,!1),this.fn=null),this.setCurrentGroupStyle(t)}},setCurrentGroupStyle:function(t){var e=t.item,n=this.graph,i=n.get("autoPaint");n.setAutoPaint(!1);var r=e.getModel(),o=r.groupId,a=r.id,s=n.get("customGroupControll"),u=s.customGroup,c=n.get("groupNodes");if(this.inGroupId&&o){var h=u[o].nodeGroup,l=h.get("keyShape"),d=e.getBBox(),f=l.getBBox(),p=d.x,g=d.y,v=f.minX,m=f.minY,y=f.maxX,b=f.maxY;if(!(p<y*this.maxMultiple&&p>v*this.minMultiple&&g<b*this.maxMultiple&&g>m*this.minMultiple)||this.inGroupId!==o){var x=c[o];c[o]=x.filter((function(t){return t!==a})),s.dynamicChangeGroupSize(t,h,l),delete r.groupId}if(this.inGroupId!==o){var w=u[this.inGroupId].nodeGroup,_=w.get("keyShape");-1===c[this.inGroupId].indexOf(a)&&c[this.inGroupId].push(a),r.groupId=this.inGroupId,s.dynamicChangeGroupSize(t,w,_)}s.setGroupStyle(l,"default")}else if(this.inGroupId&&!o){var M=u[this.inGroupId].nodeGroup,k=M.get("keyShape");-1===c[this.inGroupId].indexOf(a)&&c[this.inGroupId].push(a),r.groupId=this.inGroupId,s.dynamicChangeGroupSize(t,M,k)}else if(!this.inGroupId&&o){for(var S in c){var E=c[S];c[S]=E.filter((function(t){return t!==a}))}var C=u[o].nodeGroup,T=C.get("keyShape");s.dynamicChangeGroupSize(t,C,T),delete r.groupId}this.inGroupId=null,n.paint(),n.setAutoPaint(i)},onOutOfRange:function(t){var e=this;if(this.origin){var n=e.graph.get("canvas").get("el"),i=function(i){i.target!==n&&e.onDragEnd(t)};this.fn=i,a.addEventListener("mouseup",i,!1)}},_update:function(t,e,n){var i=this.origin,r=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:r.x,y:r.y});var a=e.x-i.x+this.point[o].x,s=e.y-i.y+this.point[o].y;if(n)this._updateDelegate(e,a,s);else{var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(t,u):(t.updatePosition(u),this.graph.paint())}},_updateDelegate:function(t,e,n){var a=t.item,s=this.graph,u=s.get("groupType"),c=a.get("keyShape").getBBox();if(!this.shape){var h=s.get("group"),l=r({},o,this.delegateStyle);if(this.targets.length>0){var d=s.findAllByState("node","selected");0===d.length&&d.push(a);var f=s.get("customGroupControll").calculationGroupPosition(d),p=f.x,g=f.y,v=f.width,m=f.height;this.originPoint={x:p,y:g,width:v,height:m},this.shape=h.addShape("rect",{attrs:i({width:v,height:m,x:p,y:g},l)})}else this.target&&(this.shape=h.addShape("rect",{attrs:i({width:c.width,height:c.height,x:e-c.width/2,y:n-c.height/2},l)}),this.target.set("delegateShape",this.shape));this.shape.set("capture",!1)}if(this.targets.length>0){var y=t.x-this.origin.x+this.originPoint.minX,b=t.y-this.origin.y+this.originPoint.minY;this.shape.attr({x:y,y:b})}else this.target&&("circle"===u?this.shape.attr({x:e-c.width/2,y:n-c.height/2}):"rect"===u&&this.shape.attr({x:e,y:n}));this.graph.paint()}}},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(2),o=document.body,a={fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]};t.exports={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(t){var e=t.target.get("groupId");if(!e)return!1;var n=this.graph,i=n.get("customGroupControll"),r=i.customGroup,o=r[e].nodeGroup;this.targetGroup=o,this.mouseOrigin={x:t.canvasX,y:t.canvasY};var a=null,s=n.save().groups,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var h;if(u){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var l=h;if(e===l.id){a=l.parentId;break}}if(a){var d=r[a].nodeGroup;i.setGroupStyle(d.get("keyShape"),"hover")}},onDrag:function(t){if(!this.mouseOrigin)return!1;this._updateDelegate(t)},onDragEnd:function(t){var e=t.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!this.delegateShapeBBox)return!1;var n=this.graph,i=n.get("autoPaint");n.setAutoPaint(!1);var r=n.get("customGroupControll"),o=this.delegateShapeBBoxs[e];r.updateGroup(e,o),n.setAutoPaint(i),n.paint(),this.mouseOrigin=null,this.shapeOrigin=null,r.resetNodePoint(),this.delegateShapeBBox=null},_updateDelegate:function(t){var e=t.target.get("groupId"),n=this.targetGroup.get("keyShape"),o=this.graph,s=o.get("autoPaint");o.setAutoPaint(!1);var u=this.delegateShapes[e],c=n.getBBox(),h=n.get("type");if(u){var l=this.mouseOrigin,d=this.shapeOrigin,f=t.canvasX-l.x,p=t.canvasY-l.y,g=f+d.x,v=p+d.y,m=o.getPointByCanvas(g,v);u.attr({x:m.x,y:m.y}),this.delegateShapeBBoxs[e]=u.getBBox()}else{var y=o.get("delegateGroup"),b=c.width,x=c.height,w=i({width:b,height:x,x:t.canvasX-b/2,y:t.canvasY-x/2},r({},a,this.delegateStyle));if("circle"===h){var _=t.canvasX,M=t.canvasY,k=b>x?b/2:x/2;u=y.addShape("circle",{attrs:i({x:_,y:M,r:k},r({},a,this.delegateStyle))}),this.shapeOrigin={x:_,y:M}}else u=y.addShape("rect",{attrs:w}),this.shapeOrigin={x:w.x,y:w.y};this.delegateShapes[e]=u,this.delegateShapeBBoxs[e]=u.getBBox()}o.paint(),o.setAutoPaint(s)},onOutOfRange:function(t){var e=this;if(this.origin){var n=e.graph.get("canvas").get("el"),i=function(i){i.target!==n&&e.onDragEnd(t)};this.fn=i,o.addEventListener("mouseup",i,!1)}}}},function(t,e){var n=Math.min,i=Math.max,r=Math.abs,o=["drag","shift","ctrl","alt","control"];t.exports={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){var t;return o.indexOf(this.trigger.toLowerCase())>-1?t=this.trigger:(t="shift",console.warn("Behavior brush-selecttriggerdragshiftctrlalt")),"drag"===t?{mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp","canvas:click":"clearStates"}:{mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){if(!t.item&&("drag"===this.trigger||this.keydown)){this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates();var e=this.brush;e||(e=this._createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0}},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this._updateBrush(t),this.graph.paint())},onMouseUp:function(t){if((this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)){var e=this.graph,n=e.get("autoPaint");e.setAutoPaint(!1),this.brush.destroy(),this.brush=null,this._getSelectedNodes(t),this.dragging=!1,this.graph.paint(),e.setAutoPaint(n)}},clearStates:function(){var t=this.graph,e=t.get("autoPaint");t.setAutoPaint(!1);var n=this.selectedState,i=t.findAllByState("node",n),r=t.findAllByState("edge",n);i.forEach((function(e){return t.setItemState(e,n,!1)})),r.forEach((function(e){return t.setItemState(e,n,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{targets:{nodes:[],edges:[]},select:!1}),t.paint(),t.setAutoPaint(e)},_getSelectedNodes:function(t){var e=this,r=this.graph,o=this.selectedState,a=this.originPoint,s={x:t.x,y:t.y},u=r.getPointByCanvas(a.x,a.y),c=n(s.x,u.x),h=i(s.x,u.x),l=n(s.y,u.y),d=i(s.y,u.y),f=[],p=this.shouldUpdate,g=[];r.getNodes().forEach((function(t){var e=t.getBBox();if(e.centerX>=c&&e.centerX<=h&&e.centerY>=l&&e.centerY<=d&&p(t,"select")){f.push(t);var n=t.getModel();g.push(n.id),r.setItemState(t,o,!0)}}));var v=[];this.includeEdges&&f.forEach((function(t){t.getEdges().forEach((function(t){var n=t.getModel(),i=n.source,o=n.target;g.includes(i)&&g.includes(o)&&p(t,"select")&&(v.push(t),r.setItemState(t,e.selectedState,!0))}))})),this.selectedEdges=v,this.selectedNodes=f,this.onSelect&&this.onSelect(f,v),r.emit("nodeselectchange",{targets:{nodes:f,edges:v},select:!0})},_createBrush:function(){var t=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1});return this.brush=t,t},_updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:r(t.canvasX-e.x),height:r(t.canvasY-e.y),x:n(t.canvasX,e.x),y:n(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||"control"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.brush&&(this.brush.destroy(),this.brush=null,this.dragging=!1),this.keydown=!1}}},function(t,e){t.exports={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearAllItemStates"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(t){var e=this.get("graph"),n=t.item;if(this.item=n,this.shouldUpdate(t.item,{event:t,action:"activate"})){var i=this,r=this.get("activeState"),o=this.get("inactiveState"),a=e.get("autoPaint");e.setAutoPaint(!1),e.getNodes().forEach((function(t){var n=t.hasState("selected");i.resetSelected&&n&&e.setItemState(t,"selected",!1),e.setItemState(t,r,!1),o&&e.setItemState(t,o,!0)})),e.getEdges().forEach((function(t){e.setItemState(t,r,!1),o&&e.setItemState(t,o,!0)})),o&&e.setItemState(n,o,!1),e.setItemState(n,r,!0),e.getEdges().forEach((function(t){if(t.getSource()===n){var a=t.getTarget(),s=a.hasState("selected");i.resetSelected&&s&&e.setItemState(a,"selected",!1),o&&e.setItemState(a,o,!1),e.setItemState(a,r,!0),e.setItemState(t,r,!0),e.setItemState(t,o,!1),t.toFront()}else if(t.getTarget()===n){var u=t.getSource(),c=u.hasState("selected");i.resetSelected&&c&&e.setItemState(u,"selected",!1),o&&e.setItemState(u,o,!1),e.setItemState(u,r,!0),e.setItemState(t,r,!0),e.setItemState(t,o,!1),t.toFront()}})),e.paint(),e.setAutoPaint(a),e.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearAllItemStates:function(t){var e=this.get("graph");if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){var n=this,i=e.get("autoPaint");e.setAutoPaint(!1),e.getNodes().forEach((function(t){var i=t.hasState("selected");e.clearItemStates(t),i&&e.setItemState(t,"selected",!n.resetSelected)})),e.getEdges().forEach((function(t){e.clearItemStates(t)})),e.paint(),e.setAutoPaint(i),e.emit("afteractivaterelations",{item:t.item||this.item,action:"deactivate"})}}}},function(t,e){var n=["click","dblclick"];t.exports={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var t,e;return n.includes(this.trigger)?e=this.trigger:(e="click",console.warn("Behavior collapse-expandtriggerclickdblclick")),(t={})["node:"+e]="onNodeClick",t},onNodeClick:function(t){var e=t.item,n=this.graph.findDataById(e.get("id")),i=n.children;if(i&&0!==i.length){var r=!n.collapsed;if(this.shouldBegin(t,r)&&(n.collapsed=r,e.getModel().collapsed=r,this.graph.emit("itemcollapsed",{item:t.item,collapsed:r}),this.shouldUpdate(t,r))){try{this.onChange(e,r)}catch(t){console.warn("G6  3.0.4  item.getModel() (3.2.0)",t)}this.graph.refreshLayout()}}}}},function(t,e,n){var i=n(1),r=n(116);t.exports=i.mix({getDefaultCfg:function(){return{item:"edge",formatText:function(t){return"source:"+t.source+" target:"+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove"}}},r)},function(t,e,n){var i=n(1),r=n(116);t.exports=i.mix({getDefaultCfg:function(){return{item:"node",formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove"}}},r)},function(t,e,n){var i=n(1),r=["shift","ctrl","alt"];t.exports={getDefaultCfg:function(){return{multiple:!0,trigger:"shift"}},getEvents:function(){return this.multiple?{"node:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=t.item,n=this.graph,r=n.get("autoPaint");if(n.setAutoPaint(!1),!this.keydown||!this.multiple){var o=n.findAllByState("node","selected");i.each(o,(function(t){t!==e&&n.setItemState(t,"selected",!1)}))}e.hasState("selected")?(this.shouldUpdate.call(this,t)&&n.setItemState(e,"selected",!1),n.emit("nodeselectchange",{target:e,select:!1})):(this.shouldUpdate.call(this,t)&&n.setItemState(e,"selected",!0),n.emit("nodeselectchange",{target:e,select:!0})),n.setAutoPaint(r),n.paint()},onCanvasClick:function(){var t=this.graph,e=t.get("autoPaint");t.setAutoPaint(!1);var n=t.findAllByState("node","selected");i.each(n,(function(e){t.setItemState(e,"selected",!1)}));var r=t.findAllByState("edge","selected");i.each(r,(function(e){return t.setItemState(e,"selected",!1)})),t.paint(),t.setAutoPaint(e)},onKeyDown:function(t){var e=t.key;e&&(r.indexOf(e.toLowerCase()>-1)?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}}},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(16),o=n(2),a=n(10).delegateStyle,s=document.body;t.exports={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(t){var e=this;if(this.shouldBegin.call(this,t)){var n=t.item,i=t.target;if(!n.hasLocked()){if(i&&i.get("isAnchorPoint"))return;var r=this.graph;this.targets=[];var o=r.findAllByState("node","selected"),a=n.get("id");0===o.filter((function(t){var e=t.get("id");return a===e})).length?this.target=n:o.length>1?o.forEach((function(t){t.hasLocked()||e.targets.push(t)})):this.targets.push(n),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;if(this.origin&&this.get("shouldUpdate").call(this,t)){var n=this.graph,i=n.get("autoPaint");n.setAutoPaint(!1),this.targets.length>0?this.enableDelegate?this._updateDelegate(t):this.targets.forEach((function(n){e._update(n,t,e.enableDelegate)})):this._update(this.target,t,this.enableDelegate),n.paint(),n.setAutoPaint(i)}},onDragEnd:function(t){var e=this;if(this.origin&&this.shouldEnd.call(this,t)){var n=this.graph,i=n.get("autoPaint");if(n.setAutoPaint(!1),this.shape&&(this.shape.remove(),this.shape=null),this.target){var r=this.target.get("delegateShape");r&&(r.remove(),this.target.set("delegateShape",null))}this.targets.length>0?this.targets.forEach((function(n){return e._update(n,t)})):this.target&&this._update(this.target,t),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.target=null;var o=this.fn;o&&(s.removeEventListener("mouseup",o,!1),this.fn=null),n.paint(),n.setAutoPaint(i)}},onOutOfRange:function(t){var e=this;if(this.origin){var n=e.graph.get("canvas").get("el"),i=function(i){i.target!==n&&e.onDragEnd(t)};this.fn=i,s.addEventListener("keyup",i,!1)}},_update:function(t,e,n){var i=this.origin,r=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:r.x,y:r.y});var a=e.x-i.x+this.point[o].x,s=e.y-i.y+this.point[o].y;if(n)this._updateDelegate(e,a,s);else{var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(t,u):t.updatePosition(u)}},_updateDelegate:function(t,e,n){var r=t.item.get("keyShape").getBBox();if(this.shape)if(this.targets.length>0){var s=t.x-this.origin.x+this.originPoint.minX,u=t.y-this.origin.y+this.originPoint.minY;this.shape.attr({x:s,y:u})}else this.target&&this.shape.attr({x:e+r.x,y:n+r.y});else{var c=this.graph.get("group"),h=o({},a,this.delegateStyle);if(this.targets.length>0){var l=this.calculationGroupPosition(),d=l.x,f=l.y,p=l.width,g=l.height,v=l.minX,m=l.minY;this.originPoint={x:d,y:f,width:p,height:g,minX:v,minY:m},this.shape=c.addShape("rect",{attrs:i({width:p,height:g,x:d,y:f},h)})}else this.target&&(this.shape=c.addShape("rect",{attrs:i({width:r.width,height:r.height,x:e+r.x,y:n+r.y},h)}),this.target.set("delegateShape",this.shape));this.shape.set("capture",!1)}},calculationGroupPosition:function(){var t=this.graph,e=1/0,n=-1/0,i=1/0,o=-1/0,a=t.findAllByState("node","selected"),s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(u>=a.length)break;c=a[u++]}else{if((u=a.next()).done)break;c=u.value}var h=c,l=(r(h)?t.findById(h):h).getBBox(),d=l.minX,f=l.minY,p=l.maxX,g=l.maxY;d<e&&(e=d),f<i&&(i=f),p>n&&(n=p),g>o&&(o=g)}var v=Math.floor(e)-20,m=Math.floor(i)+10;return{x:v,y:m,width:Math.ceil(n)-v,height:Math.ceil(o)-m,minX:e,minY:i}}}},function(t,e){t.exports={getDefaultCfg:function(){return{sensitivity:2,minZoom:.1,maxZoom:10}},getEvents:function(){return{wheel:"onWheel"}},onWheel:function(t){if(t.preventDefault(),this.shouldUpdate.call(this,t)){var e=this.graph,n=e.get("canvas"),i=n.getPointByClient(t.clientX,t.clientY),r=n.get("pixelRatio"),o=this.get("sensitivity"),a=e.getZoom(),s=(a=t.wheelDelta<0?1-.05*o:1+.05*o)*e.getZoom();s>this.get("maxZoom")||s<this.get("minZoom")||(e.zoom(a,{x:i.x/r,y:i.y/r}),e.paint(),e.emit("wheelzoom",t))}}}},function(t,e,n){var i=n(1),r=Math.abs,o=document.body,a=[16,17,18];t.exports={getDefaultCfg:function(){return{direction:"both"}},getEvents:function(){return{"canvas:mousedown":"onMouseDown","canvas:mousemove":"onMouseMove","canvas:mouseup":"onMouseUp","canvas:click":"onMouseUp","canvas:mouseleave":"onOutOfRange",keyup:"onKeyUp",keydown:"onKeyDown"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,i=+t.clientY;if(!isNaN(n)&&!isNaN(i)){var r=n-e.x,o=i-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(r=0),this.origin={x:n,y:i},this.graph.translate(r,o),this.graph.paint()}},onMouseDown:function(t){this.keydown||(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1)},onMouseMove:function(t){if(!this.keydown){t=i.cloneEvent(t);var e=this.graph;if(this.origin){if(this.origin&&!this.dragging){if(r(this.origin.x-t.clientX)+r(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.dragging=!0)}this.dragging&&(t.type="drag",e.emit("canvas:drag",t)),this.shouldUpdate.call(this,t)&&this.updateViewport(t)}}},onMouseUp:function(t){if(!this.keydown)if(this.dragging){t=i.cloneEvent(t);var e=this.graph;this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",e.emit("canvas:dragend",t),this.endDrag()}else this.origin=null},endDrag:function(){if(this.dragging){this.origin=null,this.dragging=!1;var t=this.fn;t&&(o.removeEventListener("mouseup",t,!1),this.fn=null)}},onOutOfRange:function(t){if(this.dragging){var e=this,n=e.graph.get("canvas").get("el"),i=function(i){i.target!==n&&e.onMouseUp(t)};this.fn=i,o.addEventListener("mouseup",i,!1)}},onKeyDown:function(t){var e=t.keyCode||t.which;e&&(a.indexOf(e)>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}}},function(t,e,n){var i=n(1),r={registerBehavior:function(t,e){if(!e)throw new Error("please specify handler for this behavior:"+t);var n=function(t){var e=this;i.mix(e,e.getDefaultCfg(),t);var n=e.getEvents();if(n){var r={};i.each(n,(function(t,n){r[n]=i.wrapBehavior(e,t)})),this._events=r}};i.augment(n,{shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},getEvents:function(){},bind:function(t){var e=this._events;this.graph=t,i.each(e,(function(e,n){t.on(n,e)}))},unbind:function(t){var e=this._events;i.each(e,(function(e,n){t.off(n,e)}))},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this},getDefaultCfg:function(){}},e),r[t]=n},hasBehavior:function(t){return!!r[t]},getBehavior:function(t){return r[t]}};t.exports=r},function(t,e,n){var i=n(113),r=n(24),o=n(3);r.registerLayout("fruchtermanGroup",{getDefaultCfg:function(){return{maxIteration:1e3,center:[0,0],gravity:1,speed:1,groupGravity:1,nodeRepulsiveCoefficient:50,groupRepulsiveCoefficient:10,nodeAttractiveCoefficient:1,groupAttractiveCoefficient:1,preventGroupOverlap:!0,groupCollideStrength:.7}},init:function(t){this.nodes=t.nodes,this.edges=t.edges,this.graph=t.graph,this.groupsData=this.graph.get("groups"),this.customGroup=this.graph.get("customGroup"),this.groupController=this.graph.get("customGroupControll")},execute:function(){var t=this,e=t.nodes,n=t.center;if(0!==e.length){if(1===e.length)return e[0].x=n[0],void(e[0].y=n[1]);var i=new Map,r=new Map;e.forEach((function(t,e){i.set(t.id,t),r.set(t.id,e)})),t.nodeMap=i,t.nodeIndexMap=r,t.run(),t.graph.refreshPositions();var o=t.customGroup.get("children"),a=t.groupController,s=t.graph.get("groupType");o.forEach((function(e){var n=e.get("id"),i=t.groupMap.get(n);i.item=e;var r=a.getGroupPadding(n),o=a.calculationGroupPosition(i.nodeIds),u=o.x,c=o.y,h=o.width,l=o.height,d=e.findByClassName("group-title"),f=e.get("children")[0],p=0,g=0;if("circle"===s){var v=h>l?h/2:l/2,m=(h+2*u)/2,y=(l+2*c)/2;f.attr({x:m,y:y,r:v+r}),i.x=m,i.y=y,i.size=2*(v+r),p=m,g=y-v-r}else if("rect"===s){var b=r*a.styles.default.disCoefficient,x=h+2*b,w=l+2*b,_=u-b,M=c-b;f.attr({x:_,y:M,width:x,height:w}),i.x=_,i.y=M,i.size=[x,w],p=u,g=c}if(d){var k=i.groupData.title,S=0,E=0;k&&(S=k.offsetox||0,E=k.offsetoy||0,k.offsetX=S,k.offsetY=E,"rect"===s&&(k.offsetX=0,k.offsetY=0));var C=p+S,T=g+E;"rect"===s&&(C=p,T=g),d.attr({x:C,y:T}),i.titlePos=[C,T]}})),t.graph.paint()}},run:function(){var t=this,e=t.nodes,n=t.groupsData,i=t.edges,r=t.maxIteration,o=t.width;o||"undefined"==typeof window||(o=window.innerWidth);var a=t.height;a||void 0===a||(a=window.innerHeight);var s=t.center,u=t.nodeMap,c=t.nodeIndexMap,h=o/10,l=Math.sqrt(o*a/(e.length+1)),d=t.gravity,f=t.speed,p=new Map;t.groupMap=p,e.forEach((function(t){if(void 0===p.get(t.groupId)){var e,i;n.forEach((function(n){n.id===t.groupId&&(e=n.parentId,i=n)}));var r={name:t.groupId,cx:0,cy:0,count:0,parentId:e,nodeIds:[],groupData:i};p.set(t.groupId,r)}var o=p.get(t.groupId);o.nodeIds.push(t.id),o.cx+=t.x,o.cy+=t.y,o.count++})),p.forEach((function(t){t.cx/=t.count,t.cy/=t.count})),t.DFSSetGroups();for(var g=function(n){var r=[];e.forEach((function(t,e){r[e]={x:0,y:0}})),t.getDisp(e,i,u,c,r,l);var o=t.groupGravity||d;e.forEach((function(e,n){var i=p.get(e.groupId),a=Math.sqrt((e.x-i.cx)*(e.x-i.cx)+(e.y-i.cy)*(e.y-i.cy)),s=t.groupAttractiveCoefficient*l*o;r[n].x-=s*(e.x-i.cx)/a,r[n].y-=s*(e.y-i.cy)/a})),p.forEach((function(t){t.cx=0,t.cy=0,t.count=0})),e.forEach((function(t){var e=p.get(t.groupId);e.cx+=t.x,e.cy+=t.y,e.count++})),p.forEach((function(t){t.cx/=t.count,t.cy/=t.count})),e.forEach((function(t,e){var n=.01*l*d;r[e].x-=n*(t.x-s[0]),r[e].y-=n*(t.y-s[1])})),e.forEach((function(t,e){r[e].dx*=f/800,r[e].dy*=f/800})),e.forEach((function(t,e){var n=Math.sqrt(r[e].x*r[e].x+r[e].y*r[e].y);if(n>0){var i=Math.min(h*(f/800),n);t.x+=r[e].x/n*i,t.y+=r[e].y/n*i}}))},v=0;v<r;v++)g()},getDisp:function(t,e,n,i,r,o){this.calRepulsive(t,r,o),this.calAttractive(e,n,i,r,o),this.calGroupRepulsive(r,o)},calRepulsive:function(t,e,n){var i=this;t.forEach((function(r,o){e[o]={x:0,y:0},t.forEach((function(t,a){if(o!==a){var s=r.x-t.x,u=r.y-t.y,c=s*s+u*u;0===c&&(c=1);var h=i.nodeRepulsiveCoefficient*(n*n)/c;e[o].x+=s*h,e[o].y+=u*h}}))}))},calAttractive:function(t,e,n,i,r){var o=this;t.forEach((function(t){var a=n.get(t.source),s=n.get(t.target);if(a!==s){var u=e.get(t.source),c=e.get(t.target),h=c.x-u.x,l=c.y-u.y,d=Math.sqrt(h*h+l*l),f=o.nodeAttractiveCoefficient*d*d/r;i[s].x-=h/d*f,i[s].y-=l/d*f,i[a].x+=h/d*f,i[a].y+=l/d*f}}))},calGroupRepulsive:function(t,e){var n=this,i=n.groupMap,r=n.nodeIndexMap;i.forEach((function(o,a){var s={x:0,y:0};i.forEach((function(t,i){if(a!==i){var r=o.cx-t.cx,u=o.cy-t.cy,c=r*r+u*u;0===c&&(c=1);var h=n.groupRepulsiveCoefficient*(e*e)/c;s.x+=r*h,s.y+=u*h}})),o.nodeIds.forEach((function(e){var n=r.get(e);t[n].x+=s.x,t[n].y+=s.y}))}))},DFSSetGroups:function(){var t=this,e=t.groupMap;e.forEach((function(n){var i=n.parentId;if(i){var r;t.groupsData.forEach((function(t){t.id===n.groupId&&(r=t.parentId)}));var o=e.get(i);if(o)n.nodeIds.forEach((function(t){o.nodeIds.push(t)}));else{var a={name:i,cx:0,cy:0,count:0,parentId:r,nodeIds:n.nodeIds};e.set(i,a)}}}))},BFSDivide:function(t,e,n){var r=this,o=i.forceManyBody();o.strength(30);var a=i.forceSimulation().nodes(n).force("center",i.forceCenter(t/2,e/2)).force("charge",o).alpha(.3).alphaDecay(.01).alphaMin(.001).on("tick",(function(){n.forEach((function(t){t.nodes.forEach((function(e){e.x+=t.x-t.ox,e.y+=t.y-t.oy})),t.ox=t.x,t.oy=t.y,t.item.get("children")[0].attr({x:t.x,y:t.y})})),r.graph.refreshPositions()})).on("end",(function(){}));r.groupOverlapProcess(a)},groupOverlapProcess:function(t){var e=this.nodeSize,n=this.groupCollideStrength;e?isNaN(e)?2===e.length&&(e=(e[0]>e[1]?e[0]:e[1])/2):e/=2:e=function(t){return t.size?o(t.size)?t.size[0]/2:t.size/2:10},t.force("collisionForce",i.forceCollide(e).strength(n))}})},function(t,e,n){var i=n(24),r=n(16);i.registerLayout("grid",{getDefaultCfg:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(){},sortBy:"degree",nodeSize:30}},execute:function(){var t=this,e=t.nodes,n=e.length,i=t.center;if(0!==n){if(1===n)return e[0].x=i[0],void(e[0].y=i[1]);var o=t.edges,a=[];e.forEach((function(t){a.push(t)}));var s=new Map;if(a.forEach((function(t,e){s.set(t.id,e)})),("degree"===t.sortBy||!r(t.sortBy)||void 0===a[0][t.sortBy])&&(t.sortBy="degree",isNaN(e[0].degree))){var u=function(t,e,n){for(var i=[],r=0;r<t;r++)i[r]=0;return n.forEach((function(t){i[e.get(t.source)]+=1,i[e.get(t.target)]+=1})),i}(a.length,s,o);a.forEach((function(t,e){t.degree=u[e]}))}a.sort((function(e,n){return n[t.sortBy]-e[t.sortBy]}));var c=t.width;c||"undefined"==typeof window||(c=window.innerWidth);var h=t.height;h||void 0===h||(h=window.innerHeight),t.cells=n,t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits);var l=t.rows,d=null!=t.cols?t.cols:t.columns;if(null!=l&&null!=d)t.rows=l,t.cols=d;else if(null!=l&&null==d)t.rows=l,t.cols=Math.ceil(t.cells/t.rows);else if(null==l&&null!=d)t.cols=d,t.rows=Math.ceil(t.cells/t.cols);else if(t.cols*t.rows>t.cells){var f=t.small(),p=t.large();(f-1)*p>=t.cells?t.small(f-1):(p-1)*f>=t.cells&&t.large(p-1)}else for(;t.cols*t.rows<t.cells;){var g=t.small(),v=t.large();(v+1)*g>=t.cells?t.large(v+1):t.small(g+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&a.forEach((function(e){var n,i;null!=e.x&&null!=e.y||(e.x=0,e.y=0),isNaN(e.size)?(n=e.size[0],i=e.size[1]):(n=e.size,i=e.size),(isNaN(n)||isNaN(i))&&(isNaN(t.nodeSize)?(n=t.nodeSize[0],i=t.nodeSize[1]):(n=t.nodeSize,i=t.nodeSize));var r=t.preventOverlapPadding,o=n+r,a=i+r;t.cellWidth=Math.max(t.cellWidth,o),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var m=0;m<a.length;m++){var y=a[m],b=t.position(y);if(b&&(void 0!==b.row||void 0!==b.col)){var x={row:b.row,col:b.col};if(void 0===x.col)for(x.col=0;t.used(x.row,x.col);)x.col++;else if(void 0===x.row)for(x.row=0;t.used(x.row,x.col);)x.row++;t.id2manPos[y.id]=x,t.use(x.row,x.col)}t.getPos(y)}}},small:function(t){var e;return null==t?e=Math.min(this.rows,this.cols):Math.min(this.rows,this.cols)===this.rows?this.rows=t:this.cols=t,e},large:function(t){var e;return null==t?e=Math.max(this.rows,this.cols):Math.max(this.rows,this.cols)===this.rows?this.rows=t:this.cols=t,e},used:function(t,e){return this.cellUsed["c-"+t+"-"+e]||!1},use:function(t,e){this.cellUsed["c-"+t+"-"+e]=!0},moveToNextCell:function(){this.col++,this.col>=this.cols&&(this.col=0,this.row++)},getPos:function(t){var e,n,i=this.begin,r=this.cellWidth,o=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*r+r/2+i[0],n=a.row*o+o/2+i[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*r+r/2+i[0],n=this.row*o+o/2+i[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=n}})},function(t,e,n){var i=n(24),r=n(16);i.registerLayout("concentric",{getDefaultCfg:function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},execute:function(){var t=this,e=t.nodes,n=t.edges,i=e.length,o=t.center;if(0!==i){if(1===i)return e[0].x=o[0],void(e[0].y=o[1]);var a,s=[];a=isNaN(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach((function(t){var e;s.push(t),e=isNaN(t.size)?Math.max(t.size[0],t.size[1]):t.size,a=Math.max(a,e)}));var u=t.width;u||"undefined"==typeof window||(u=window.innerWidth);var c=t.height;c||void 0===c||(c=window.innerHeight),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var h=new Map,l=new Map;if(s.forEach((function(t,e){h.set(t.id,t),l.set(t.id,e)})),t.nodeMap=h,("degree"===t.sortBy||!r(t.sortBy)||void 0===s[0][t.sortBy])&&(t.sortBy="degree",isNaN(e[0].degree))){var d=function(t,e,n){for(var i=[],r=0;r<t;r++)i[r]=0;return n.forEach((function(t){i[e.get(t.source)]+=1,i[e.get(t.target)]+=1})),i}(e.length,l,n);s.forEach((function(t,e){t.degree=d[e]}))}s.sort((function(e,n){return n[t.sortBy]-e[t.sortBy]})),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var f=[[]],p=f[0];s.forEach((function(e){p.length>0&&Math.abs(p[0][t.sortBy]-e[t.sortBy])>=t.maxLevelDiff&&(p=[],f.push(p)),p.push(e)}));var g=a+t.minNodeSpacing;if(!t.preventOverlap){var v=f.length>0&&f[0].length>1,m=(Math.min(t.width,t.height)/2-g)/(f.length+v?1:0);g=Math.min(g,m)}var y=0;if(f.forEach((function(e){var n=void 0===t.sweep?2*Math.PI-2*Math.PI/e.length:t.sweep,i=e.dTheta=n/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){var r=Math.cos(i)-Math.cos(0),o=Math.sin(i)-Math.sin(0),a=Math.sqrt(g*g/(r*r+o*o));y=Math.max(a,y)}e.r=y,y+=g})),t.equidistant){for(var b=0,x=0,w=0;w<f.length;w++){var _=f[w].r-x;b=Math.max(b,_)}x=0,f.forEach((function(t,e){0===e&&(x=t.r),t.r=x,x+=b}))}f.forEach((function(e){var n=e.dTheta,i=e.r;e.forEach((function(e,r){var a=t.startAngle+(t.clockwise?1:-1)*n*r;e.x=o[0]+i*Math.cos(a),e.y=o[1]+i*Math.sin(a)}))}))}}})},function(t,e){t.exports="0.8.4"},function(t,e,n){var i=n(5),r=n(13),o=n(23).Graph;t.exports={debugOrdering:function(t){var e=r.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return i.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),i.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),i.forEach(e,(function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),i.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e,n){"use strict";var i=n(5),r=n(23).Graph,o=n(13);function a(t,e){var n={};return i.reduce(e,(function(e,r){var o=0,a=0,s=e.length,c=i.last(r);return i.forEach(r,(function(e,h){var l=function(t,e){if(t.node(e).dummy)return i.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),d=l?t.node(l).order:s;(l||e===c)&&(i.forEach(r.slice(a,h+1),(function(e){i.forEach(t.predecessors(e),(function(i){var r=t.node(i),a=r.order;!(a<o||d<a)||r.dummy&&t.node(e).dummy||u(n,i,e)}))})),a=h+1,o=d)})),r})),n}function s(t,e){var n={};function r(e,r,o,a,s){var c;i.forEach(i.range(r,o),(function(r){c=e[r],t.node(c).dummy&&i.forEach(t.predecessors(c),(function(e){var i=t.node(e);i.dummy&&(i.order<a||i.order>s)&&u(n,e,c)}))}))}return i.reduce(e,(function(e,n){var o,a=-1,s=0;return i.forEach(n,(function(i,u){if("border"===t.node(i).dummy){var c=t.predecessors(i);c.length&&(o=t.node(c[0]).order,r(n,s,u,a,o),s=u,a=o)}r(n,s,n.length,o,e.length)})),n})),n}function u(t,e,n){if(e>n){var i=e;e=n,n=i}var r=t[e];r||(t[e]=r={}),r[n]=!0}function c(t,e,n){if(e>n){var r=e;e=n,n=r}return i.has(t[e],n)}function h(t,e,n,r){var o={},a={},s={};return i.forEach(e,(function(t){i.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),i.forEach(e,(function(t){var e=-1;i.forEach(t,(function(t){var u=r(t);if(u.length)for(var h=((u=i.sortBy(u,(function(t){return s[t]}))).length-1)/2,l=Math.floor(h),d=Math.ceil(h);l<=d;++l){var f=u[l];a[t]===t&&e<s[f]&&!c(n,t,f)&&(a[f]=t,a[t]=o[t]=o[f],e=s[f])}}))})),{root:o,align:a}}function l(t,e,n,o,a){var s={},u=function(t,e,n,o){var a=new r,s=t.graph(),u=function(t,e,n){return function(r,o,a){var s,u=r.node(o),c=r.node(a),h=0;if(h+=u.width/2,i.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(h+=n?s:-s),s=0,h+=(u.dummy?e:t)/2,h+=(c.dummy?e:t)/2,h+=c.width/2,i.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(h+=n?s:-s),s=0,h}}(s.nodesep,s.edgesep,o);return i.forEach(e,(function(e){var r;i.forEach(e,(function(e){var i=n[e];if(a.setNode(i),r){var o=n[r],s=a.edge(o,i);a.setEdge(o,i,Math.max(u(t,e,r),s||0))}r=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function h(t,e){for(var n=u.nodes(),i=n.pop(),r={};i;)r[i]?t(i):(r[i]=!0,n.push(i),n=n.concat(e(i))),i=n.pop()}return h((function(t){s[t]=u.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+u.edge(e))}),0)}),u.predecessors.bind(u)),h((function(e){var n=u.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-u.edge(e))}),Number.POSITIVE_INFINITY),i=t.node(e);n!==Number.POSITIVE_INFINITY&&i.borderType!==c&&(s[e]=Math.max(s[e],n))}),u.successors.bind(u)),i.forEach(o,(function(t){s[t]=s[n[t]]})),s}function d(t,e){return i.minBy(i.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return i.forIn(e,(function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)})),n-r}))}function f(t,e){var n=i.values(e),r=i.min(n),o=i.max(n);i.forEach(["u","d"],(function(n){i.forEach(["l","r"],(function(a){var s,u=n+a,c=t[u];if(c!==e){var h=i.values(c);(s="l"===a?r-i.min(h):o-i.max(h))&&(t[u]=i.mapValues(c,(function(t){return t+s})))}}))}))}function p(t,e){return i.mapValues(t.ul,(function(n,r){if(e)return t[e.toLowerCase()][r];var o=i.sortBy(i.map(t,r));return(o[1]+o[2])/2}))}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),r=i.merge(a(t,n),s(t,n)),u={};i.forEach(["u","d"],(function(o){e="u"===o?n:i.values(n).reverse(),i.forEach(["l","r"],(function(n){"r"===n&&(e=i.map(e,(function(t){return i.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=h(t,e,r,a),c=l(t,e,s.root,s.align,"r"===n);"r"===n&&(c=i.mapValues(c,(function(t){return-t}))),u[o+n]=c}))}));var c=d(t,u);return f(u,c),p(u,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:h,horizontalCompaction:l,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},function(t,e,n){"use strict";var i=n(5),r=n(13),o=n(237).positionX;t.exports=function(t){(function(t){var e=r.buildLayerMatrix(t),n=t.graph().ranksep,o=0;i.forEach(e,(function(e){var r=i.max(i.map(e,(function(e){return t.node(e).height})));i.forEach(e,(function(e){t.node(e).y=o+r/2})),o+=r+n}))})(t=r.asNonCompoundGraph(t)),i.forEach(o(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){var i=n(5);t.exports=function(t,e,n){var r,o={};i.forEach(n,(function(n){for(var i,a,s=t.parent(n);s;){if((i=t.parent(s))?(a=o[i],o[i]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=i}}))}},function(t,e,n){var i=n(5),r=n(23).Graph;t.exports=function(t,e,n){var o=function(t){for(var e;t.hasNode(e=i.uniqueId("_root")););return e}(t),a=new r({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return i.forEach(t.nodes(),(function(r){var s=t.node(r),u=t.parent(r);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(r),a.setParent(r,u||o),i.forEach(t[n](r),(function(e){var n=e.v===r?e.w:e.v,o=a.edge(n,r),s=i.isUndefined(o)?0:o.weight;a.setEdge(n,r,{weight:t.edge(e).weight+s})})),i.has(s,"minRank")&&a.setNode(r,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},function(t,e,n){var i=n(5),r=n(13);function o(t,e,n){for(var r;e.length&&(r=i.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}t.exports=function(t,e){var n=r.partition(t,(function(t){return i.has(t,"barycenter")})),a=n.lhs,s=i.sortBy(n.rhs,(function(t){return-t.i})),u=[],c=0,h=0,l=0;a.sort(function(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!e)),l=o(u,s,l),i.forEach(a,(function(t){l+=t.vs.length,u.push(t.vs),c+=t.barycenter*t.weight,h+=t.weight,l=o(u,s,l)}));var d={vs:i.flatten(u,!0)};return h&&(d.barycenter=c/h,d.weight=h),d}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t,e){var n={};return i.forEach(t,(function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};i.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)})),i.forEach(e.edges(),(function(t){var e=n[t.v],r=n[t.w];i.isUndefined(e)||i.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(i.isUndefined(e.barycenter)||i.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),i.forEach(o.in.reverse(),n(o)),i.forEach(o.out,r(o))}return i.map(i.filter(e,(function(t){return!t.merged})),(function(t){return i.pick(t,["vs","i","barycenter","weight"])}))}(i.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var i=n(5);t.exports=function(t,e){return i.map(e,(function(e){var n=t.inEdges(e);if(n.length){var r=i.reduce(n,(function(e,n){var i=t.edge(n),r=t.node(n.v);return{sum:e.sum+i.weight*r.order,weight:e.weight+i.weight}}),{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}}))}},function(t,e,n){var i=n(5),r=n(243),o=n(242),a=n(241);t.exports=function t(e,n,s,u){var c=e.children(n),h=e.node(n),l=h?h.borderLeft:void 0,d=h?h.borderRight:void 0,f={};l&&(c=i.filter(c,(function(t){return t!==l&&t!==d})));var p=r(e,c);i.forEach(p,(function(n){if(e.children(n.v).length){var r=t(e,n.v,s,u);f[n.v]=r,i.has(r,"barycenter")&&function(t,e){i.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}(n,r)}}));var g=o(p,s);!function(t,e){i.forEach(t,(function(t){t.vs=i.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,f);var v=a(g,u);if(l&&(v.vs=i.flatten([l,v.vs,d],!0),e.predecessors(l).length)){var m=e.node(e.predecessors(l)[0]),y=e.node(e.predecessors(d)[0]);i.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},function(t,e,n){"use strict";var i=n(5);function r(t,e,n){for(var r=i.zipObject(n,i.map(n,(function(t,e){return e}))),o=i.flatten(i.map(e,(function(e){return i.sortBy(i.map(t.outEdges(e),(function(e){return{pos:r[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=i.map(new Array(s),(function(){return 0})),c=0;return i.forEach(o.forEach((function(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,i=1;i<e.length;++i)n+=r(t,e[i-1],e[i]);return n}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t){var e={},n=i.filter(t.nodes(),(function(e){return!t.children(e).length})),r=i.max(i.map(n,(function(e){return t.node(e).rank}))),o=i.map(i.range(r+1),(function(){return[]})),a=i.sortBy(n,(function(e){return t.node(e).rank}));return i.forEach(a,(function n(r){if(!i.has(e,r)){e[r]=!0;var a=t.node(r);o[a.rank].push(r),i.forEach(t.successors(r),n)}})),o}},function(t,e,n){"use strict";var i=n(5),r=n(246),o=n(245),a=n(244),s=n(240),u=n(239),c=n(23).Graph,h=n(13);function l(t,e,n){return i.map(e,(function(e){return s(t,e,n)}))}function d(t,e){var n=new c;i.forEach(t,(function(t){var r=t.graph().root,o=a(t,r,n,e);i.forEach(o.vs,(function(e,n){t.node(e).order=n})),u(t,n,o.vs)}))}function f(t,e){i.forEach(e,(function(e){i.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=h.maxRank(t),n=l(t,i.range(1,e+1),"inEdges"),a=l(t,i.range(e-1,-1,-1),"outEdges"),s=r(t);f(t,s);for(var u,c=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){d(p%2?n:a,p%4>=2),s=h.buildLayerMatrix(t);var v=o(t,s);v<c&&(g=0,u=i.cloneDeep(s),c=v)}f(t,u)}},function(t,e,n){"use strict";var i=n(5);function r(t){i.forEach(t.nodes(),(function(e){o(t.node(e))})),i.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||r(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){i.forEach(t.nodes(),(function(e){a(t.node(e))})),i.forEach(t.edges(),(function(e){var n=t.edge(e);i.forEach(n.points,a),i.has(n,"y")&&a(n)}))}(t),"lr"!==e&&"rl"!==e||(function(t){i.forEach(t.nodes(),(function(e){s(t.node(e))})),i.forEach(t.edges(),(function(e){var n=t.edge(e);i.forEach(n.points,s),i.has(n,"x")&&s(n)}))}(t),r(t))}}},function(t,e,n){var i=n(5),r=n(13);function o(t,e,n,i,o,a){var s={width:0,height:0,rank:a,borderType:e},u=o[e][a-1],c=r.addDummyNode(t,"border",s,n);o[e][a]=c,t.setParent(c,i),u&&t.setEdge(u,c,{weight:1})}t.exports=function(t){i.forEach(t.children(),(function e(n){var r=t.children(n),a=t.node(n);if(r.length&&i.forEach(r,e),i.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}}))}},function(t,e,n){var i=n(5),r=n(13);t.exports={run:function(t){var e=r.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return i.forEach(t.children(),(function(n){!function n(r,o){var a=t.children(r);a&&a.length&&i.forEach(a,(function(t){n(t,o+1)})),e[r]=o}(n,1)})),e}(t),o=i.max(i.values(n))-1,a=2*o+1;t.graph().nestingRoot=e,i.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var s=function(t){return i.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;i.forEach(t.children(),(function(u){!function t(e,n,o,a,s,u,c){var h=e.children(c);if(h.length){var l=r.addBorderNode(e,"_bt"),d=r.addBorderNode(e,"_bb"),f=e.node(c);e.setParent(l,c),f.borderTop=l,e.setParent(d,c),f.borderBottom=d,i.forEach(h,(function(i){t(e,n,o,a,s,u,i);var r=e.node(i),h=r.borderTop?r.borderTop:i,f=r.borderBottom?r.borderBottom:i,p=r.borderTop?a:2*a,g=h!==f?1:s-u[c]+1;e.setEdge(l,h,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(f,d,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(c)||e.setEdge(n,l,{weight:0,minlen:s+u[c]})}else c!==n&&e.setEdge(n,c,{weight:0,minlen:o})}(t,e,a,s,o,n,u)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,i.forEach(t.edges(),(function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var i=n(5);t.exports=function(t){var e=function(t){var e={},n=0;return i.forEach(t.children(),(function r(o){var a=n;i.forEach(t.children(o),r),e[o]={low:a,lim:n++}})),e}(t);i.forEach(t.graph().dummyChains,(function(n){for(var i=t.node(n),r=i.edgeObj,o=function(t,e,n,i){var r,o,a=[],s=[],u=Math.min(e[n].low,e[i].low),c=Math.max(e[n].lim,e[i].lim);r=n;do{r=t.parent(r),a.push(r)}while(r&&(e[r].low>u||c>e[r].lim));for(o=r,r=i;(r=t.parent(r))!==o;)s.push(r);return{path:a.concat(s.reverse()),lca:o}}(t,e,r.v,r.w),a=o.path,s=o.lca,u=0,c=a[u],h=!0;n!==r.w;){if(i=t.node(n),h){for(;(c=a[u])!==s&&t.node(c).maxRank<i.rank;)u++;c===s&&(h=!1)}if(!h){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=i.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}}))}},function(t,e,n){"use strict";var i=n(5),r=n(118),o=n(54).slack,a=n(54).longestPath,s=n(23).alg.preorder,u=n(23).alg.postorder,c=n(13).simplify;function h(t){t=c(t),a(t);var e,n=r(t);for(f(n),l(n,t);e=p(n);)v(n,t,e,g(n,t,e))}function l(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),i.forEach(n,(function(n){!function(t,e,n){var i=t.node(n).parent;t.edge(n,i).cutvalue=d(t,e,n)}(t,e,n)}))}function d(t,e,n){var r=t.node(n).parent,o=!0,a=e.edge(n,r),s=0;return a||(o=!1,a=e.edge(r,n)),s=a.weight,i.forEach(e.nodeEdges(n),(function(i){var a=i.v===n,u=a?i.w:i.v;if(u!==r){var c=a===o,h=e.edge(i).weight;if(s+=c?h:-h,function(t,e,n){return t.hasEdge(e,n)}(t,n,u)){var l=t.edge(n,u).cutvalue;s+=c?-l:l}}})),s}function f(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,o,a){var s=r,u=e.node(o);return n[o]=!0,i.forEach(e.neighbors(o),(function(a){i.has(n,a)||(r=t(e,n,r,a,o))})),u.low=s,u.lim=r++,a?u.parent=a:delete u.parent,r}(t,{},1,e)}function p(t){return i.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function g(t,e,n){var r=n.v,a=n.w;e.hasEdge(r,a)||(r=n.w,a=n.v);var s=t.node(r),u=t.node(a),c=s,h=!1;s.lim>u.lim&&(c=u,h=!0);var l=i.filter(e.edges(),(function(e){return h===m(t,t.node(e.v),c)&&h!==m(t,t.node(e.w),c)}));return i.minBy(l,(function(t){return o(e,t)}))}function v(t,e,n,r){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(r.v,r.w,{}),f(t),l(t,e),function(t,e){var n=i.find(t.nodes(),(function(t){return!e.node(t).parent})),r=s(t,n);r=r.slice(1),i.forEach(r,(function(n){var i=t.node(n).parent,r=e.edge(n,i),o=!1;r||(r=e.edge(i,n),o=!0),e.node(n).rank=e.node(i).rank+(o?r.minlen:-r.minlen)}))}(t,e)}function m(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=h,h.initLowLimValues=f,h.initCutValues=l,h.calcCutValue=d,h.leaveEdge=p,h.enterEdge=g,h.exchangeEdges=v},function(t,e,n){"use strict";var i=n(54).longestPath,r=n(118),o=n(252);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":!function(t){i(t),r(t)}(t);break;case"longest-path":a(t);break;default:s(t)}};var a=i;function s(t){o(t)}},function(t,e,n){"use strict";var i=n(5),r=n(13);t.exports={run:function(t){t.graph().dummyChains=[],i.forEach(t.edges(),(function(e){!function(t,e){var n,i,o,a=e.v,s=t.node(a).rank,u=e.w,c=t.node(u).rank,h=e.name,l=t.edge(e),d=l.labelRank;if(c!==s+1){for(t.removeEdge(e),o=0,++s;s<c;++o,++s)l.points=[],i={width:0,height:0,edgeLabel:l,edgeObj:e,rank:s},n=r.addDummyNode(t,"edge",i,"_d"),s===d&&(i.width=l.width,i.height=l.height,i.dummy="edge-label",i.labelpos=l.labelpos),t.setEdge(a,n,{weight:l.weight},h),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,u,{weight:l.weight},h)}}(t,e)}))},undo:function(t){i.forEach(t.graph().dummyChains,(function(e){var n,i=t.node(e),r=i.edgeLabel;for(t.setEdge(i.edgeObj,r);i.dummy;)n=t.successors(e)[0],t.removeNode(e),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),e=n,i=t.node(e)}))}}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function i(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return i(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&i(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){var i=n(5),r=n(23).Graph,o=n(255);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new r,a=0,s=0;i.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),i.forEach(t.edges(),(function(t){var i=n.edge(t.v,t.w)||0,r=e(t),o=i+r;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=r),a=Math.max(a,n.node(t.w).in+=r)}));var c=i.range(s+a+3).map((function(){return new o})),h=a+1;return i.forEach(n.nodes(),(function(t){u(c,h,n.node(t))})),{graph:n,buckets:c,zeroIdx:h}}(t,e||a),c=function(t,e,n){for(var i,r=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;i=a.dequeue();)s(t,e,n,i);for(;i=o.dequeue();)s(t,e,n,i);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(i=e[u].dequeue()){r=r.concat(s(t,e,n,i,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return i.flatten(i.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=i.constant(1);function s(t,e,n,r,o){var a=o?[]:void 0;return i.forEach(t.inEdges(r.v),(function(i){var r=t.edge(i),s=t.node(i.v);o&&a.push({v:i.v,w:i.w}),s.out-=r,u(e,n,s)})),i.forEach(t.outEdges(r.v),(function(i){var r=t.edge(i),o=i.w,a=t.node(o);a.in-=r,u(e,n,a)})),t.removeNode(r.v),a}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e,n){"use strict";var i=n(5),r=n(256);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?r(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};return i.forEach(t.nodes(),(function o(a){i.has(r,a)||(r[a]=!0,n[a]=!0,i.forEach(t.outEdges(a),(function(t){i.has(n,t.w)?e.push(t):o(t.w)})),delete n[a])})),e}(t);i.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,i.uniqueId("rev"))}))},undo:function(t){i.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}}))}}},function(t,e){t.exports=function(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}},function(t,e,n){var i=n(65),r=n(258);t.exports=function(t,e){return r(t||[],e||[],i)}},function(t,e,n){var i=n(142),r=0;t.exports=function(t){var e=++r;return i(t)+e}},function(t,e,n){var i=n(34);t.exports=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,a=i(t),s=void 0!==e,u=null===e,c=e==e,h=i(e);if(!u&&!h&&!a&&t>e||a&&s&&c&&!u&&!h||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!h&&t<e||h&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},function(t,e,n){var i=n(261);t.exports=function(t,e,n){for(var r=-1,o=t.criteria,a=e.criteria,s=o.length,u=n.length;++r<s;){var c=i(o[r],a[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var i=n(57),r=n(27),o=n(135),a=n(263),s=n(62),u=n(262),c=n(30);t.exports=function(t,e,n){var h=-1;e=i(e.length?e:[c],s(r));var l=o(t,(function(t,n,r){return{criteria:i(e,(function(e){return e(t)})),index:++h,value:t}}));return a(l,(function(t,e){return u(t,e,n)}))}},function(t,e,n){var i=n(84),r=n(264),o=n(56),a=n(55),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),r(t,i(e,1),[])}));t.exports=s},function(t,e){var n=Math.ceil,i=Math.max;t.exports=function(t,e,r,o){for(var a=-1,s=i(n((e-t)/(r||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=r;return u}},function(t,e,n){var i=n(266),r=n(55),o=n(123);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&r(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),i(e,n,a,t)}}},function(t,e,n){var i=n(267)();t.exports=i},function(t,e,n){var i=n(122),r=n(133),o=n(132);t.exports=function(t){return o(r(t,void 0,i),t+"")}},function(t,e,n){var i=n(65),r=n(58),o=n(63),a=n(18),s=n(45);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,h=(e=r(e,t)).length,l=h-1,d=t;null!=d&&++c<h;){var f=s(e[c]),p=n;if(c!=l){var g=d[f];void 0===(p=u?u(g,f,d):void 0)&&(p=a(g)?g:o(e[c+1])?[]:{})}i(d,f,p),d=d[f]}return t}},function(t,e,n){var i=n(86),r=n(270),o=n(58);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],h=i(t,c);n(h,c)&&r(u,o(c,t),h)}return u}},function(t,e,n){var i=n(271),r=n(141);t.exports=function(t,e){return i(t,e,(function(e,n){return r(t,n)}))}},function(t,e,n){var i=n(272),r=n(269)((function(t,e){return null==t?{}:i(t,e)}));t.exports=r},function(t,e,n){var i=n(22);t.exports=function(){return i.Date.now()}},function(t,e,n){var i=n(83),r=n(27),o=n(119);t.exports=function(t,e){return t&&t.length?i(t,r(e,2),o):void 0}},function(t,e,n){var i=n(83),r=n(119),o=n(30);t.exports=function(t){return t&&t.length?i(t,o,r):void 0}},function(t,e,n){var i=n(56),r=n(55);t.exports=function(t){return i((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}},function(t,e,n){var i=n(48),r=n(36);t.exports=function(t){return i(t,r(t))}},function(t,e,n){var i=n(31),r=n(60),o=n(25),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,h=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!o(t)||i(t)!=a)return!1;var e=r(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(t,e,n){var i=n(121),r=n(164),o=n(155),a=n(163),s=n(154),u=n(47),c=n(6),h=n(130),l=n(37),d=n(49),f=n(18),p=n(279),g=n(46),v=n(120),m=n(278);t.exports=function(t,e,n,y,b,x,w){var _=v(t,n),M=v(e,n),k=w.get(M);if(k)i(t,n,k);else{var S=x?x(_,M,n+"",t,e,w):void 0,E=void 0===S;if(E){var C=c(M),T=!C&&l(M),P=!C&&!T&&g(M);S=M,C||T||P?c(_)?S=_:h(_)?S=a(_):T?(E=!1,S=r(M,!0)):P?(E=!1,S=o(M,!0)):S=[]:p(M)||u(M)?(S=_,u(_)?S=m(_):f(_)&&!d(_)||(S=s(M))):E=!1}E&&(w.set(M,S),b(S,M,y,x,w),w.delete(M)),i(t,n,S)}}},function(t,e,n){var i=n(70),r=n(121),o=n(88),a=n(280),s=n(18),u=n(36),c=n(120);t.exports=function t(e,n,h,l,d){e!==n&&o(n,(function(o,u){if(d||(d=new i),s(o))a(e,n,u,h,t,l,d);else{var f=l?l(c(e,u),o,u+"",e,n,d):void 0;void 0===f&&(f=o),r(e,u,f)}}),u)}},function(t,e,n){var i=n(281),r=n(277)((function(t,e,n){i(t,e,n)}));t.exports=r},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var i=n(83),r=n(283),o=n(30);t.exports=function(t){return t&&t.length?i(t,o,r):void 0}},function(t,e,n){var i=n(64),r=n(89),o=n(27);t.exports=function(t,e){var n={};return e=o(e,3),r(t,(function(t,r,o){i(n,r,e(t,r,o))})),n}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var i=n(88),r=n(150),o=n(36);t.exports=function(t,e){return null==t?t:i(t,r(e),o)}},function(t,e,n){var i=n(18),r=n(34),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){var i=n(123);t.exports=function(t){var e=i(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var i=n(131),r=n(27),o=n(289),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),i(t,r(e,3),u)}},function(t,e,n){var i=n(27),r=n(28),o=n(29);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!r(e)){var u=i(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var i=n(291)(n(290));t.exports=i},function(t,e,n){var i=n(56),r=n(39),o=n(55),a=n(36),s=Object.prototype,u=s.hasOwnProperty,c=i((function(t,e){t=Object(t);var n=-1,i=e.length,c=i>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(i=1);++n<i;)for(var h=e[n],l=a(h),d=-1,f=l.length;++d<f;){var p=l[d],g=t[p];(void 0===g||r(g,s[p])&&!u.call(t,p))&&(t[p]=h[p])}return t}));t.exports=c},function(t,e,n){var i=n(170),r=1,o=4;t.exports=function(t){return i(t,r|o)}},function(t,e,n){"use strict";var i=n(5),r=n(257),o=n(254),a=n(253),s=n(13).normalizeRanks,u=n(251),c=n(13).removeEmptyRanks,h=n(250),l=n(249),d=n(248),f=n(247),p=n(238),g=n(13),v=n(23).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new v({multigraph:!0,compound:!0}),n=E(t.graph());return e.setGraph(i.merge({},y,S(n,m),i.pick(n,b))),i.forEach(t.nodes(),(function(n){var r=E(t.node(n));e.setNode(n,i.defaults(S(r,x),w)),e.setParent(n,t.parent(n))})),i.forEach(t.edges(),(function(n){var r=E(t.edge(n));e.setEdge(n,i.merge({},M,S(r,_),i.pick(r,k)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,i.forEach(t.edges(),(function(n){var i=t.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){i.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){r.run(t)})),e("    nestingGraph.run",(function(){h.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){i.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),r=t.node(e.w),o={rank:(r.rank-i.rank)/2+i.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){h.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;i.forEach(t.nodes(),(function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=i.max(e,r.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){i.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){o.run(t)})),e("    parentDummyChains",(function(){u(t)})),e("    addBorderSegments",(function(){l(t)})),e("    order",(function(){f(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);i.forEach(e,(function(e){var n=0;i.forEach(e,(function(e,r){var o=t.node(e);o.order=r+n,i.forEach(o.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){d.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){i.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var i=t.node(n.e.v),r=i.x+i.width/2,o=i.y,a=n.x-r,s=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*a/3,y:o-s},{x:r+5*a/6,y:o-s},{x:r+a,y:o},{x:r+5*a/6,y:o+s},{x:r+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){i.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(i.last(n.borderLeft)),s=t.node(i.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}})),i.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){o.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){i.forEach(t.edges(),(function(e){var n=t.edge(e);if(i.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){d.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;function c(t){var i=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,i-s/2),n=Math.max(n,i+s/2),r=Math.min(r,a-u/2),o=Math.max(o,a+u/2)}i.forEach(t.nodes(),(function(e){c(t.node(e))})),i.forEach(t.edges(),(function(e){var n=t.edge(e);i.has(n,"x")&&c(n)})),e-=s,r-=u,i.forEach(t.nodes(),(function(n){var i=t.node(n);i.x-=e,i.y-=r})),i.forEach(t.edges(),(function(n){var o=t.edge(n);i.forEach(o.points,(function(t){t.x-=e,t.y-=r})),i.has(o,"x")&&(o.x-=e),i.has(o,"y")&&(o.y-=r)})),a.width=n-e+s,a.height=o-r+u}(t)})),e("    assignNodeIntersects",(function(){!function(t){i.forEach(t.edges(),(function(e){var n,i,r=t.edge(e),o=t.node(e.v),a=t.node(e.w);r.points?(n=r.points[0],i=r.points[r.points.length-1]):(r.points=[],n=a,i=o),r.points.unshift(g.intersectRect(o,n)),r.points.push(g.intersectRect(a,i))}))}(t)})),e("    reversePoints",(function(){!function(t){i.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){r.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){i.forEach(t.nodes(),(function(n){var i=t.node(n),r=e.node(n);i&&(i.x=r.x,i.y=r.y,e.children(n).length&&(i.width=r.width,i.height=r.height))})),i.forEach(t.edges(),(function(n){var r=t.edge(n),o=e.edge(n);r.points=o.points,i.has(o,"x")&&(r.x=o.x,r.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function S(t,e){return i.mapValues(i.pick(t,e),Number)}function E(t){var e={};return i.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var i=n(19),r=n(100),o=n(127);t.exports=function(t,e){var n,a=new r,s={},u=new o;function c(t){var i=t.v===n?t.w:t.v,r=u.priority(i);if(void 0!==r){var o=e(t);o<r&&(s[i]=n,u.decrease(i,o))}}if(0===t.nodeCount())return a;i.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),u.decrease(t.nodes()[0],0);for(var h=!1;u.size()>0;){if(n=u.removeMin(),i.has(s,n))a.setEdge(n,s[n]);else{if(h)throw new Error("Input graph is not connected: "+t);h=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){var i=n(124);t.exports=function(t,e){return i(t,e,"pre")}},function(t,e,n){var i=n(124);t.exports=function(t,e){return i(t,e,"post")}},function(t,e,n){var i=n(125);t.exports=function(t){try{i(t)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){return function(t,e,n){var i={},r=t.nodes();return r.forEach((function(t){i[t]={},i[t][t]={distance:0},r.forEach((function(e){t!==e&&(i[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var r=n.v===t?n.w:n.v,o=e(n);i[t][r]={distance:o,predecessor:t}}))})),r.forEach((function(t){var e=i[t];r.forEach((function(n){var o=i[n];r.forEach((function(n){var i=o[t],r=e[n],a=o[n],s=i.distance+r.distance;s<a.distance&&(a.distance=s,a.predecessor=r.predecessor)}))}))})),i}(t,e||r,n||function(e){return t.outEdges(e)})};var r=i.constant(1)},function(t,e,n){var i=n(19),r=n(126);t.exports=function(t){return i.filter(r(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var i=n(128),r=n(19);t.exports=function(t,e,n){return r.transform(t.nodes(),(function(r,o){r[o]=i(t,o,e,n)}),{})}},function(t,e,n){var i=n(19);t.exports=function(t){var e,n={},r=[];function o(r){i.has(n,r)||(n[r]=!0,e.push(r),i.each(t.successors(r),o),i.each(t.predecessors(r),o))}return i.each(t.nodes(),(function(t){e=[],o(t),e.length&&r.push(e)})),r}},function(t,e,n){t.exports={components:n(303),dijkstra:n(128),dijkstraAll:n(302),findCycles:n(301),floydWarshall:n(300),isAcyclic:n(299),postorder:n(298),preorder:n(297),prim:n(296),tarjan:n(126),topsort:n(125)}},function(t,e,n){var i=n(19),r=n(100);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return i.map(t.nodes(),(function(e){var n=t.node(e),r=t.parent(e),o={v:e};return i.isUndefined(n)||(o.value=n),i.isUndefined(r)||(o.parent=r),o}))}(t),edges:function(t){return i.map(t.edges(),(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return i.isUndefined(e.name)||(r.name=e.name),i.isUndefined(n)||(r.value=n),r}))}(t)};return i.isUndefined(t.graph())||(e.value=i.clone(t.graph())),e},read:function(t){var e=new r(t.options).setGraph(t.value);return i.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),i.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e){t.exports="2.1.7"},function(t,e,n){var i=n(57);t.exports=function(t,e){return i(e,(function(e){return t[e]}))}},function(t,e){t.exports=function(){}},function(t,e,n){var i=n(157),r=n(308),o=n(87),a=i&&1/o(new i([,-0]))[1]==1/0?function(t){return new i(t)}:r;t.exports=a},function(t,e){t.exports=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}},function(t,e){t.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e,n){var i=n(131),r=n(312),o=n(311);t.exports=function(t,e,n){return e==e?o(t,e,n):i(t,r,n)}},function(t,e,n){var i=n(313);t.exports=function(t,e){return!(null==t||!t.length)&&i(t,e,0)>-1}},function(t,e,n){var i=n(146),r=n(314),o=n(310),a=n(145),s=n(309),u=n(87),c=200;t.exports=function(t,e,n){var h=-1,l=r,d=t.length,f=!0,p=[],g=p;if(n)f=!1,l=o;else if(d>=c){var v=e?null:s(t);if(v)return u(v);f=!1,l=a,g=new i}else g=e?[]:p;t:for(;++h<d;){var m=t[h],y=e?e(m):m;if(m=n||0!==m?m:0,f&&y==y){for(var b=g.length;b--;)if(g[b]===y)continue t;e&&g.push(y),p.push(m)}else l(g,y,n)||(g!==p&&g.push(y),p.push(m))}return p}},function(t,e){var n=800,i=16,r=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=r(),s=i-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var i=n(90),r=n(167),o=n(30),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var i=n(38),r=n(47),o=n(6),a=i?i.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||r(t)||!!(a&&t&&t[a])}},function(t,e,n){var i=n(84),r=n(56),o=n(315),a=n(130),s=r((function(t){return o(i(t,1,a,!0))}));t.exports=s},function(t,e,n){var i=n(97),r=n(153),o=n(89),a=n(27),s=n(60),u=n(6),c=n(37),h=n(49),l=n(18),d=n(46);t.exports=function(t,e,n){var f=u(t),p=f||c(t)||d(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=p?f?new g:[]:l(t)&&h(g)?r(s(t)):{}}return(p?i:o)(t,(function(t,i,r){return e(n,t,i,r)})),n}},function(t,e){var n="[\\ud800-\\udfff]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+i+"|"+r+")?",c="[\\ufe0e\\ufe0f]?"+u+"(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*",h="(?:"+[o+i+"?",i,a,s,n].join("|")+")",l=RegExp(r+"(?="+r+")|"+h+c,"g");t.exports=function(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e,n){var i=n(139)("length");t.exports=i},function(t,e,n){var i=n(324),r=n(323),o=n(322);t.exports=function(t){return r(t)?o(t):i(t)}},function(t,e,n){var i=n(31),r=n(6),o=n(25),a="[object String]";t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&i(t)==a}},function(t,e,n){var i=n(94),r=n(35),o=n(28),a=n(326),s=n(325),u="[object Map]",c="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=r(t);return e==u||e==c?t.size:i(t).length}},function(t,e){t.exports=function(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}},function(t,e){t.exports=function(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}},function(t,e,n){var i=n(94),r=n(35),o=n(47),a=n(6),s=n(28),u=n(37),c=n(61),h=n(46),l="[object Map]",d="[object Set]",f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||h(t)||o(t)))return!t.length;var e=r(t);if(e==l||e==d)return!t.size;if(c(t))return!i(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var i=n(86);t.exports=function(t){return function(e){return i(e,t)}}},function(t,e,n){var i=n(139),r=n(332),o=n(85),a=n(45);t.exports=function(t){return o(t)?i(a(t)):r(t)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var i=n(38),r=n(57),o=n(6),a=n(34),s=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var i=n(98),r="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(o.Cache||i),n}o.Cache=i,t.exports=o},function(t,e,n){var i=n(336),r=500;t.exports=function(t){var e=i(t,(function(t){return n.size===r&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=n(337)((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,i,o){e.push(i?o.replace(r,"$1"):n||t)})),e}));t.exports=o},function(t,e,n){var i=n(86);t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},function(t,e,n){var i=n(148),r=n(339),o=n(141),a=n(85),s=n(144),u=n(143),c=n(45),h=1,l=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=r(n,t);return void 0===a&&a===e?o(n,t):i(e,a,h|l)}}},function(t,e,n){var i=n(144),r=n(29);t.exports=function(t){for(var e=r(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,i(a)]}return e}},function(t,e,n){var i=n(159),r=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&r,h=i(t),l=h.length;if(l!=i(e).length&&!c)return!1;for(var d=l;d--;){var f=h[d];if(!(c?f in e:o.call(e,f)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var g=!0;u.set(t,e),u.set(e,t);for(var v=c;++d<l;){var m=t[f=h[d]],y=e[f];if(a)var b=c?a(y,m,f,e,t,u):a(m,y,f,t,e,u);if(!(void 0===b?m===y||s(m,y,n,a,u):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var x=t.constructor,w=e.constructor;x!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},function(t,e,n){var i=n(38),r=n(156),o=n(39),a=n(147),s=n(343),u=n(87),c=1,h=2,l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_=i?i.prototype:void 0,M=_?_.valueOf:void 0;t.exports=function(t,e,n,i,_,k,S){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!k(new r(t),new r(e)));case l:case d:case g:return o(+t,+e);case f:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case p:var E=s;case m:var C=i&c;if(E||(E=u),t.size!=e.size&&!C)return!1;var T=S.get(t);if(T)return T==e;i|=h,S.set(t,e);var P=a(E(t),E(e),i,_,k,S);return S.delete(t),P;case b:if(M)return M.call(t)==M.call(e)}return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e,n){var i=n(70),r=n(147),o=n(344),a=n(342),s=n(35),u=n(6),c=n(37),h=n(46),l=1,d="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,m,y){var b=u(t),x=u(e),w=b?f:s(t),_=x?f:s(e),M=(w=w==d?p:w)==p,k=(_=_==d?p:_)==p,S=w==_;if(S&&c(t)){if(!c(e))return!1;b=!0,M=!1}if(S&&!M)return y||(y=new i),b||h(t)?r(t,e,n,v,m,y):o(t,e,w,n,v,m,y);if(!(n&l)){var E=M&&g.call(t,"__wrapped__"),C=k&&g.call(e,"__wrapped__");if(E||C){var T=E?t.value():t,P=C?e.value():e;return y||(y=new i),m(T,P,n,v,y)}}return!!S&&(y||(y=new i),a(t,e,n,v,m,y))}},function(t,e,n){var i=n(70),r=n(148),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,h=!s;if(null==t)return!c;for(t=Object(t);u--;){var l=n[u];if(h&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++u<c;){var d=(l=n[u])[0],f=t[d],p=l[1];if(h&&l[2]){if(void 0===f&&!(d in t))return!1}else{var g=new i;if(s)var v=s(f,p,d,t,e,g);if(!(void 0===v?r(p,f,o|a,s,g):v))return!1}}return!0}},function(t,e,n){var i=n(349),r=n(341),o=n(143);t.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},function(t,e,n){var i=n(59);t.exports=function(t,e){var n=[];return i(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}},function(t,e,n){var i=n(28);t.exports=function(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}},function(t,e){t.exports=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var i=n(35),r=n(25),o="[object Set]";t.exports=function(t){return r(t)&&i(t)==o}},function(t,e,n){var i=n(354),r=n(62),o=n(95),a=o&&o.isSet,s=a?r(a):i;t.exports=s},function(t,e,n){var i=n(35),r=n(25),o="[object Map]";t.exports=function(t){return r(t)&&i(t)==o}},function(t,e,n){var i=n(356),r=n(62),o=n(95),a=o&&o.isMap,s=a?r(a):i;t.exports=s},function(t,e,n){var i=n(38),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var i=n(91);t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e,n){var i=n(91),r=n(360),o=n(359),a=n(358),s=n(155),u="[object Boolean]",c="[object Date]",h="[object Map]",l="[object Number]",d="[object RegExp]",f="[object Set]",p="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",M="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]";t.exports=function(t,e,n){var C=t.constructor;switch(e){case v:return i(t);case u:case c:return new C(+t);case m:return r(t,n);case y:case b:case x:case w:case _:case M:case k:case S:case E:return s(t,n);case h:return new C;case l:case p:return new C(t);case d:return o(t);case f:return new C;case g:return a(t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},function(t,e,n){var i=n(32)(n(22),"WeakMap");t.exports=i},function(t,e,n){var i=n(32)(n(22),"Promise");t.exports=i},function(t,e,n){var i=n(32)(n(22),"DataView");t.exports=i},function(t,e,n){var i=n(158),r=n(160),o=n(36);t.exports=function(t){return i(t,o,r)}},function(t,e,n){var i=n(48),r=n(160);t.exports=function(t,e){return i(t,r(t),e)}},function(t,e,n){var i=n(48),r=n(93);t.exports=function(t,e){return i(t,r(t),e)}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var i=n(18),r=n(61),o=n(369),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e=r(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e,n){var i=n(48),r=n(36);t.exports=function(t,e){return t&&i(e,r(e),t)}},function(t,e,n){var i=n(165)(Object.keys,Object);t.exports=i},function(t,e,n){var i=n(31),r=n(96),o=n(25),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!a[i(t)]}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var i=n(31),r=n(25),o="[object Arguments]";t.exports=function(t){return r(t)&&i(t)==o}},function(t,e){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e,n){var i=n(48),r=n(29);t.exports=function(t,e){return t&&i(e,r(e),t)}},function(t,e,n){var i=n(66);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var i=n(66);t.exports=function(t){return i(this,t).has(t)}},function(t,e,n){var i=n(66);t.exports=function(t){return i(this,t).get(t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(66);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){var i=n(67),r="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?r:e,this}},function(t,e,n){var i=n(67),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var i=n(67),r="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return n===r?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var i=n(67);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(t,e,n){var i=n(387),r=n(386),o=n(385),a=n(384),s=n(383);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var i=n(388),r=n(69),o=n(99);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(22)["__core-js_shared__"];t.exports=i},function(t,e,n){var i=n(391),r=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!r&&r in t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var i=n(38),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}},function(t,e,n){var i=n(49),r=n(392),o=n(18),a=n(168),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,l=c.hasOwnProperty,d=RegExp("^"+h.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?d:s).test(a(t))}},function(t,e,n){var i=n(69),r=n(99),o=n(98),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e,n){var i=n(69);t.exports=function(){this.__data__=new i,this.size=0}},function(t,e,n){var i=n(68);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var i=n(68);t.exports=function(t){return i(this.__data__,t)>-1}},function(t,e,n){var i=n(68);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(68),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(170),r=4;t.exports=function(t){return i(t,r)}},function(t,e,n){t.exports={Graph:n(100),version:n(306)}},function(t,e,n){var i=n(407);t.exports={Graph:i.Graph,json:n(305),alg:n(304),version:i.version}},function(t,e,n){t.exports={graphlib:n(23),layout:n(295),debug:n(236),util:{time:n(13).time,notime:n(13).notime},version:n(235)}},function(t,e,n){var i=n(409),r=n(24),o=n(3);r.registerLayout("dagre",{getDefaultCfg:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:function(){return 50},ranksepFunc:function(){return 50},nodesep:50,ranksep:50,controlPoints:!0}},execute:function(){var t,e=this,n=e.nodes,r=e.edges,a=new i.graphlib.Graph,s=e.nodeSize;t=s?o(s)?function(){return s}:function(){return[s,s]}:function(t){return t.size?o(t.size)?t.size:[t.size,t.size]:[40,40]};var u=e.nodesep;e.nodesepFunc&&(u=e.nodesepFunc);var c=e.ranksep;e.ranksepFunc&&(c=e.ranksepFunc);var h,l=e.rankdir;"LR"!==l&&"RL"!==l||(u=e.ranksep,e.ranksepFunc&&(u=e.ranksepFunc),c=e.nodesep,e.nodesepFunc&&(c=e.nodesepFunc)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(e),n.forEach((function(e){var n=t(e),i=u(e),r=c(e),o=n[0]+2*i,s=n[1]+2*r;a.setNode(e.id,{width:o,height:s})})),r.forEach((function(t){a.setEdge(t.source,t.target)})),i.layout(a),a.nodes().forEach((function(t,e){h=a.node(t),n[e].x=h.x,n[e].y=h.y})),a.edges().forEach((function(t,n){h=a.edge(t),r[n].startPoint=h.points[0],r[n].endPoint=h.points[h.points.length-1],e.controlPoints&&(r[n].controlPoints=h.points.slice(1,h.points.length-1))}))}})},,function(t,e,n){var i=n(113),r=n(3),o=n(79),a=n(80),s=n(24),u=n(71),c=n(171).LAYOUT_MESSAGE;function h(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}s.registerLayout("force",{getDefaultCfg:function(){return{center:[0,0],nodeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,edgeStrength:null,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},init:function(t){this.nodes=t.nodes,this.edges=t.edges,this.ticking=!1},execute:function(){var t=this,e=t.nodes,n=t.edges;if(!t.ticking){var r=t.forceSimulation,o=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(r)t.preventOverlap&&t.overlapProcess(r),r.alpha(s).restart(),this.ticking=!0;else try{var u=i.forceManyBody();if(t.nodeStrength&&u.strength(t.nodeStrength),r=i.forceSimulation().nodes(e).force("center",i.forceCenter(t.center[0],t.center[1])).force("charge",u).alpha(s).alphaDecay(a).alphaMin(o),t.preventOverlap&&t.overlapProcess(r),n){var l=n.map((function(t){return{id:t.id,source:t.source,target:t.target}})),d=i.forceLink().id((function(t){return t.id})).links(l);t.edgeStrength&&d.strength(t.edgeStrength),t.linkDistance&&d.distance(t.linkDistance),r.force("link",d)}if(t.workerEnabled&&!h()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){r.stop();for(var f=function(t){var e=t.alphaMin(),n=t.alphaTarget(),i=t.alpha(),r=Math.log((e-n)/(i-n))/Math.log(1-t.alphaDecay());return Math.ceil(r)}(r),p=1;p<=f;p++)r.tick(),postMessage({type:c.TICK,currentTick:p,totalTicks:f,nodes:e});t.ticking=!1}else r.on("tick",(function(){t.tick()})).on("end",(function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()})),t.ticking=!0;t.forceSimulation=r}catch(e){t.ticking=!1,console.warn(e)}}},overlapProcess:function(t){var e,n,s=this.nodeSize,u=this.nodeSpacing,c=this.collideStrength;if(n=o(u)?function(){return u}:"function"==typeof u?u:function(){return 0},s)if(a(s))e=s;else if(isNaN(s)){if(r(s)){var h=(s[0]>s[1]?s[0]:s[1])/2;e=function(t){return h+n(t)}}}else{var l=s/2;e=function(t){return l+n(t)}}else e=function(t){return t.size?r(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+n(t):t.size/2+n(t):10+n(t)};t.force("collisionForce",i.forceCollide(e).strength(c))},updateCfg:function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,u.mix(this,t)},destroy:function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0}})},function(t,e,n){var i=n(172),r=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,e=this.distances,n=this.linkDistance,r=i.mul(-.5,i.pow(e,2));function o(t){return i.div(i.add.apply(null,t),t.length)}for(var a,s=o(r),u=o(i.transpose(r)),c=o(s),h=0;h<r.length;++h)for(var l=0;l<r[0].length;++l)r[h][l]+=c-s[h]-u[l];var d=[];try{a=i.svd(r)}catch(t){for(var f=e.length,p=0;p<f;p++){var g=Math.random()*n,v=Math.random()*n;d.push([g,v])}}if(0===d.length){var m=i.sqrt(a.S);d=a.U.map((function(e){return i.mul(e,m).splice(0,t)}))}return d},t}();t.exports=r},function(t,e){var n=function(){function t(t){this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}var e=t.prototype;return e.layout=function(){var t=this.positions,e=[],n=this.iterations,i=this.width/10;this.maxDisplace=i,this.disp=e;for(var r=0;r<n;r++)t.forEach((function(t,n){e[n]={x:0,y:0}})),this.getRepulsion(),this.updatePositions();return t},e.getRepulsion=function(){var t=this,e=t.positions,n=t.nodes,i=t.disp,r=t.k,o=t.radii;e.forEach((function(a,s){i[s]={x:0,y:0},e.forEach((function(e,u){if(s!==u&&o[s]===o[u]){var c=a[0]-e[0],h=a[1]-e[1],l=Math.sqrt(c*c+h*h);if(0===l&&(l=1),l<t.nodeSizeFunc(n[s])/2+t.nodeSizeFunc(n[u])/2){var d=r*r/l;i[s].x+=c/l*d,i[s].y+=h/l*d}}}))}))},e.updatePositions=function(){var t=this,e=t.positions,n=t.disp,i=t.speed,r=t.strictRadial,o=t.focusID;r&&n.forEach((function(t,n){var i=e[n][0]-e[o][0],r=e[n][1]-e[o][1],a=Math.sqrt(i*i+r*r),s=r/a,u=-i/a,c=Math.sqrt(t.x*t.x+t.y*t.y),h=Math.acos((s*t.x+u*t.y)/c);h>Math.PI/2&&(h-=Math.PI/2,s*=-1,u*=-1);var l=Math.cos(h)*c;t.x=s*l,t.y=u*l})),e.forEach((function(t,e){n[e].dx*=i/800,n[e].dy*=i/800}));var a=t.radii;e.forEach((function(s,u){if(u!==o){var c=Math.sqrt(n[u].x*n[u].x+n[u].y*n[u].y);if(c>0&&u!==o){var h=Math.min(t.maxDisplace*(i/800),c);if(s[0]+=n[u].x/c*h,s[1]+=n[u].y/c*h,r){var l=s[0]-e[o][0],d=s[1]-e[o][1],f=Math.sqrt(l*l+d*d);l=l/f*a[u],d=d/f*a[u],s[0]=e[o][0]+l,s[1]=e[o][1]+d}}}}))},t}();t.exports=n},function(t,e,n){var i=n(24),r=n(71),o=n(414),a=n(413),s=n(3),u=n(79);i.registerLayout("radial",{getDefaultCfg:function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200}},execute:function(){var t=this,e=t.nodes,n=t.edges,i=t.center;if(0!==e.length){if(1===e.length)return e[0].x=i[0],void(e[0].y=i[1]);var c=t.linkDistance,h=t.focusNode;if(r.isString(h)){for(var l=!1,d=0;d<e.length;d++)e[d].id===h&&(h=e[d],t.focusNode=h,l=!0,d=e.length);l||(h=null)}if(!h){if(!(h=e[0]))return;t.focusNode=h}var f=function(t,e){var n=-1;return t.forEach((function(t,i){t.id!==e||(n=i)})),n}(e,h.id);t.focusIndex=f;var p=r.getAdjMatrix({nodes:e,edges:n},!1),g=r.floydWarshall(p),v=t.maxToFocus(g,f);t.handleInfinity(g,f,v+1),t.distances=g;var m=g[f],y=t.width;y||"undefined"==typeof window||(y=window.innerWidth);var b=t.height;b||void 0===b||(b=window.innerHeight);var x=y-i[0]>i[0]?i[0]:y-i[0],w=b-i[1]>i[1]?i[1]:b-i[1];0===x&&(x=y/2),0===w&&(w=b/2);var _=w>x?x:w,M=Math.max.apply(Math,m),k=[];m.forEach((function(e,n){t.unitRadius||(t.unitRadius=_/M),k[n]=e*t.unitRadius})),t.radii=k;var S=t.eIdealDisMatrix(g,c,k);t.eIdealDistances=S;var E=function(t){for(var e=t.length,n=t[0].length,i=[],r=0;r<e;r++){for(var o=[],a=0;a<n;a++)0!==t[r][a]?o.push(1/Math.pow(t[r][a],2)):o.push(0);i.push(o)}return i}(S);t.weights=E;var C=new a({distances:S,linkDistance:c,dimension:2}).layout();C.forEach((function(t){isNaN(t[0])&&(t[0]=Math.random()*c),isNaN(t[1])&&(t[1]=Math.random()*c)})),t.positions=C,C.forEach((function(t,n){e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]})),C.forEach((function(t){t[0]-=C[f][0],t[1]-=C[f][1]})),t.run();var T,P=t.preventOverlap,A=t.nodeSize,O=t.strictRadial;if(P){var D,N=t.nodeSpacing;D=u(N)?function(){return N}:"function"==typeof N?N:function(){return 0},T=A?s(A)?function(t){return(A[0]>A[1]?A[0]:A[1])+D(t)}:function(t){return A+D(t)}:function(t){return t.size?s(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+D(t):t.size+D(t):10+D(t)};var I=new o({nodeSizeFunc:T,adjMatrix:p,positions:C,radii:k,height:b,width:y,strictRadial:O,focusID:f,iterations:t.maxPreventOverlapIteration||200,k:C.length/4.5,nodes:e});C=I.layout()}C.forEach((function(t,n){e[n].x=t[0]+i[0],e[n].y=t[1]+i[1]}))}},run:function(){for(var t=this.maxIteration,e=this.positions,n=this.weights,i=this.eIdealDistances,r=this.radii,o=0;o<=t;o++){var a=o/t;this.oneIteration(a,e,r,i,n)}},oneIteration:function(t,e,n,i,o){var a=1-t,s=this.focusIndex;e.forEach((function(u,c){var h=r.getEDistance(u,[0,0]),l=0===h?0:1/h;if(c!==s){var d=0,f=0,p=0;e.forEach((function(t,e){if(c!==e){var n=r.getEDistance(u,t),a=0===n?0:1/n,s=i[e][c];p+=o[c][e],d+=o[c][e]*(t[0]+s*(u[0]-t[0])*a),f+=o[c][e]*(t[1]+s*(u[1]-t[1])*a)}}));var g=0===n[c]?0:1/n[c];p*=a,p+=t*Math.pow(g,2),d*=a,d+=t*g*u[0]*l,u[0]=d/p,f*=a,f+=t*g*u[1]*l,u[1]=f/p}}))},eIdealDisMatrix:function(){var t=this.distances,e=this.linkDistance,n=this.radii,i=this.unitRadius,r=[];return t.forEach((function(t,o){var a=[];t.forEach((function(t,r){if(o===r)a.push(0);else if(n[o]===n[r])a.push(t*e/(n[o]/i));else{var s=(e+i)/2;a.push(t*s)}})),r.push(a)})),r},handleAbnormalMatrix:function(t,e){for(var n=t.length,i=0;i<n;i++)0===t[i].length&&(t[i][e]=1,t[e][i]=1)},handleInfinity:function(t,e,n){for(var i=t.length,r=0;r<i;r++)if(t[e][r]===1/0){t[e][r]=n,t[r][e]=n;for(var o=0;o<i;o++)t[r][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[r][o],t[o][e]=n+t[r][o])}for(var a=0;a<i;a++)if(a!==e)for(var s=0;s<i;s++)if(t[a][s]===1/0){var u=Math.abs(t[e][a]-t[e][s]);u=0===u?1:u,t[a][s]=u}},maxToFocus:function(t,e){for(var n=0,i=0;i<t[e].length;i++)t[e][i]!==1/0&&(n=t[e][i]>n?t[e][i]:n);return n}})},function(t,e,n){n(24).registerLayout("fruchterman",{getDefaultCfg:function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},execute:function(){var t=this.nodes,e=this.center;if(0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var n=new Map,i=new Map;t.forEach((function(t,e){n.set(t.id,t),i.set(t.id,e)})),this.nodeMap=n,this.nodeIndexMap=i,this.run()}},run:function(){var t=this,e=t.nodes,n=t.edges,i=t.maxIteration,r=t.width;r||"undefined"==typeof window||(r=window.innerWidth);var o=t.height;o||void 0===o||(o=window.innerHeight);var a=t.center,s=t.nodeMap,u=t.nodeIndexMap,c=r/10,h=Math.sqrt(r*o/(e.length+1)),l=t.gravity,d=t.speed,f=t.clustering,p=new Map;f&&(e.forEach((function(t){if(void 0===p.get(t.cluster)){var e={name:t.cluster,cx:0,cy:0,count:0};p.set(t.cluster,e)}var n=p.get(t.cluster);n.cx+=t.x,n.cy+=t.y,n.count++})),p.forEach((function(t){t.cx/=t.count,t.cy/=t.count})));for(var g=function(i){var r=[];if(e.forEach((function(t,e){r[e]={x:0,y:0}})),t.getDisp(e,n,s,u,r,h),f){var o=t.clusterGravity||l;e.forEach((function(t,e){var n=p.get(t.cluster),i=Math.sqrt((t.x-n.cx)*(t.x-n.cx)+(t.y-n.cy)*(t.y-n.cy)),a=h*o;r[e].x-=a*(t.x-n.cx)/i,r[e].y-=a*(t.y-n.cy)/i})),p.forEach((function(t){t.cx=0,t.cy=0,t.count=0})),e.forEach((function(t){var e=p.get(t.cluster);e.cx+=t.x,e.cy+=t.y,e.count++})),p.forEach((function(t){t.cx/=t.count,t.cy/=t.count}))}e.forEach((function(t,e){var n=.01*h*l;r[e].x-=n*(t.x-a[0]),r[e].y-=n*(t.y-a[1])})),e.forEach((function(t,e){r[e].dx*=d/800,r[e].dy*=d/800})),e.forEach((function(t,e){var n=Math.sqrt(r[e].x*r[e].x+r[e].y*r[e].y);if(n>0){var i=Math.min(c*(d/800),n);t.x+=r[e].x/n*i,t.y+=r[e].y/n*i}}))},v=0;v<i;v++)g()},getDisp:function(t,e,n,i,r,o){this.calRepulsive(t,r,o),this.calAttractive(e,n,i,r,o)},calRepulsive:function(t,e,n){t.forEach((function(i,r){e[r]={x:0,y:0},t.forEach((function(t,o){if(r!==o){var a=i.x-t.x,s=i.y-t.y,u=a*a+s*s;0===u&&(u=1);var c=n*n/u;e[r].x+=a*c,e[r].y+=s*c}}))}))},calAttractive:function(t,e,n,i,r){t.forEach((function(t){var o=n.get(t.source),a=n.get(t.target);if(o!==a){var s=e.get(t.source),u=e.get(t.target),c=u.x-s.x,h=u.y-s.y,l=Math.sqrt(c*c+h*h),d=l*l/r;i[a].x-=c/l*d,i[a].y-=h/l*d,i[o].x+=c/l*d,i[o].y+=h/l*d}}))}})},function(t,e,n){function i(t,e){return t.degree<e.degree?-1:t.degree>e.degree?1:0}n(24).registerLayout("circular",{getDefaultCfg:function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},execute:function(){var t=this.nodes,e=this.edges,n=t.length,i=this.center;if(0!==n){if(1===n)return t[0].x=i[0],void(t[0].y=i[1]);var r=this.radius,o=this.startRadius,a=this.endRadius,s=this.divisions,u=this.startAngle,c=this.endAngle,h=(c-u)/n,l=new Map;t.forEach((function(t,e){l.set(t.id,e)})),this.nodeMap=l;var d=function(t,e,n){for(var i=[],r=0;r<t;r++)i[r]=0;return n.forEach((function(t){i[e.get(t.source)]+=1,i[e.get(t.target)]+=1})),i}(t.length,l,e);this.degrees=d;var f=this.width;f||"undefined"==typeof window||(f=window.innerWidth);var p=this.height;p||void 0===p||(p=window.innerHeight),r||o||a?!o&&a?o=a:o&&!a&&(a=o):r=p>f?f/2:p/2;var g=h*this.angleRatio;this.astep=g;var v=this.ordering,m=[];m="topology"===v?this.topologyOrdering():"degree"===v?this.degreeOrdering():t;for(var y=this.clockwise,b=Math.ceil(n/s),x=0;x<n;++x){var w=r;w||(w=o+x*(a-o)/(n-1));var _=u+x%b*g+2*Math.PI/s*Math.floor(x/b);y||(_=c-x%b*g-2*Math.PI/s*Math.floor(x/b)),m[x].x=i[0]+Math.cos(_)*w,m[x].y=i[1]+Math.sin(_)*w,m[x].weight=d[x]}}},topologyOrdering:function(){var t=this.degrees,e=this.edges,n=this.nodes,i=this.nodeMap,r=[n[0]],o=[],a=n.length;o[0]=!0,function(t,e,n,i){t.forEach((function(e,n){t[n].children=[],t[n].parent=[]})),i?e.forEach((function(e){var i=n.get(e.source),r=n.get(e.target);t[i].children.push(t[r]),t[r].parent.push(t[i])})):e.forEach((function(e){var i=n.get(e.source),r=n.get(e.target);t[i].children.push(t[r]),t[r].children.push(t[i])}))}(n,e,i,!1);var s=0;return n.forEach((function(u,c){if(0!==c)if(c!==a-1&&t[c]===t[c+1]&&!function(t,e,n){for(var i=n.length,r=0;r<i;r++)if(t.id===n[r].source&&e.id===n[r].target||e.id===n[r].source&&t.id===n[r].target)return!0;return!1}(r[s],u,e)||!0===o[c]){for(var h=r[s].children,l=!1,d=0;d<h.length;++d){var f=i.get(h[d].id);if(t[f]===t[c]&&!0!==o[f]){r.push(n[f]),o[f]=!0,l=!0;break}}for(var p=0;!l&&(o[p]||(r.push(n[p]),o[p]=!0,l=!0),++p!==a););}else r.push(u),o[c]=!0,s++})),r},degreeOrdering:function(){var t=this.nodes,e=[],n=this.degrees;return t.forEach((function(t,i){t.degree=n[i],e.push(t)})),e.sort(i),e}})},function(t,e,n){var i=n(24),r=n(71),o=n(172);i.registerLayout("mds",{getDefaultCfg:function(){return{center:[0,0],linkDistance:50}},execute:function(){var t=this.nodes,e=this.edges,n=this.center;if(0!==t.length){1===t.length&&(t[0].x=n[0],t[0].y=n[1]);var i=this.linkDistance,o=r.getAdjMatrix({nodes:t,edges:e},!1),a=r.floydWarshall(o);this.handleInfinity(a),this.distances=a;var s=r.scaleMatrix(a,i);this.scaledDistances=s;var u=this.runMDS();this.positions=u,u.forEach((function(e,i){t[i].x=e[0]+n[0],t[i].y=e[1]+n[1]}))}},runMDS:function(){var t=this.scaledDistances,e=o.mul(-.5,o.pow(t,2));function n(t){return o.div(o.add.apply(null,t),t.length)}for(var i=n(e),r=n(o.transpose(e)),a=n(i),s=0;s<e.length;++s)for(var u=0;u<e[0].length;++u)e[s][u]+=a-i[s]-r[u];var c=o.svd(e),h=o.sqrt(c.S);return c.U.map((function(t){return o.mul(t,h).splice(0,2)}))},handleInfinity:function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(n,i){n.forEach((function(n,r){n===1/0&&(t[i][r]=e)}))}))}})},function(t,e,n){n(24).registerLayout("random",{getDefaultCfg:function(){return{center:[0,0],height:300,width:300}},execute:function(){var t=this.nodes,e=this.center,n=this.width;n||"undefined"==typeof window||(n=window.innerWidth);var i=this.height;i||void 0===i||(i=window.innerHeight),t.forEach((function(t){t.x=.9*(Math.random()-.5)*n+e[0],t.y=.9*(Math.random()-.5)*i+e[1]}))}})},function(t,e,n){"use strict";n.r(e),n.d(e,"getBBoxFromPoint",(function(){return r})),n.d(e,"getBBoxFromPoints",(function(){return o})),n.d(e,"isBBoxesOverlapping",(function(){return a})),n.d(e,"filterConnectPoints",(function(){return s})),n.d(e,"simplifyPolyline",(function(){return u})),n.d(e,"getSimplePolyline",(function(){return c})),n.d(e,"getExpandedBBox",(function(){return h})),n.d(e,"isHorizontalPort",(function(){return l})),n.d(e,"getExpandedBBoxPoint",(function(){return d})),n.d(e,"mergeBBox",(function(){return f})),n.d(e,"getPointsFromBBox",(function(){return p})),n.d(e,"isPointOutsideBBox",(function(){return g})),n.d(e,"getBBoxXCrossPoints",(function(){return v})),n.d(e,"getBBoxYCrossPoints",(function(){return m})),n.d(e,"getBBoxCrossPointsByPoint",(function(){return y})),n.d(e,"distance",(function(){return b})),n.d(e,"_costByPoints",(function(){return x})),n.d(e,"heuristicCostEstimate",(function(){return w})),n.d(e,"reconstructPath",(function(){return _})),n.d(e,"removeFrom",(function(){return M})),n.d(e,"isSegmentsIntersected",(function(){return k})),n.d(e,"isSegmentCrossingBBox",(function(){return S})),n.d(e,"getNeighborPoints",(function(){return E})),n.d(e,"pathFinder",(function(){return C})),n.d(e,"isBending",(function(){return T})),n.d(e,"getBorderRadiusPoints",(function(){return P})),n.d(e,"getPathWithBorderRadiusByPolyline",(function(){return A})),n.d(e,"getPolylinePoints",(function(){return O}));var i=n(1),r=function(t){var e=t.x,n=t.y;return{centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},o=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach((function(t){e.push(t.x),n.push(t.y)}));var i=Math.min.apply(Math,e),r=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(i+r)/2,centerY:(o+a)/2,maxX:r,maxY:a,minX:i,minY:o,height:a-o,width:r-i}},a=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},s=function(t){var e=[],n={};return t.forEach((function(t){var e=t.id=t.x+"-"+t.y;n[e]=t})),i.each(n,(function(t){e.push(t)})),e},u=function(t){return s(t)},c=function(t,e){return[t,{x:t.x,y:e.y},e]},h=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},l=function(t,e){var n=Math.abs(t.x-e.centerX),i=Math.abs(t.y-e.centerY);return n/e.width>i/e.height},d=function(t,e){return l(e,t)?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},f=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY),r=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+r)/2,centerY:(i+o)/2,minX:n,minY:i,maxX:r,maxY:o,height:o-i,width:r-n}},p=function(t){var e=t.minX,n=t.minY,i=t.maxX,r=t.maxY;return[{x:e,y:n},{x:i,y:n},{x:i,y:r},{x:e,y:r}]},g=function(t,e){var n=t.x,i=t.y;return n<e.minX||n>e.maxX||i<e.minY||i>e.maxY},v=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},m=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},y=function(t,e){return v(t,e.x).concat(m(t,e.y))},b=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},x=function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n},w=function(t,e,n,i,r){return b(t,e)+b(t,n)+x(t,[e,n,i,r])},_=function t(e,n,i,r,o){void 0===o&&(o=0),e.unshift(n[r]),i[r]&&i[r]!==r&&o<=100&&t(e,n,i,i[r],o+1)},M=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},k=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,a=i.x-n.x,s=i.y-n.y,u=(-o*(t.x-n.x)+r*(t.y-n.y))/(-a*o+r*s),c=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+r*s);return u>=0&&u<=1&&c>=0&&c<=1},S=function(t,e,n){if(n.width===n.height===0)return!1;var i=p(n),r=i[0],o=i[1],a=i[2],s=i[3];return k(t,e,r,o)||k(t,e,r,s)||k(t,e,o,a)||k(t,e,a,s)},E=function(t,e,n,i){var r=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||S(t,e,n)||S(t,e,i)||r.push(t))})),s(r)},C=function(t,e,n,i,r,o,a){var s=[],u=[e],c={},h={},l={};h[e.id]=0,l[e.id]=w(e,n,e);var d={};t.forEach((function(t){d[t.id]=t}));for(var f=function(){var f=void 0,p=1/0;if(u.forEach((function(t){l[t.id]<p&&(p=l[t.id],f=t)})),f===n){var g=[];return _(g,d,c,n.id),{v:g}}M(u,f),s.push(f),E(t,f,i,r).forEach((function(t){if(-1===s.indexOf(t)){-1===u.indexOf(t)&&u.push(t);var i=l[f.id]+b(f,t);h[t.id]&&i>=h[t.id]||(c[t.id]=f.id,h[t.id]=i,l[t.id]=h[t.id]+w(t,n,e,o,a))}}))};u.length;){var p=f();if("object"==typeof p)return p.v}return[e,n]},T=function(t,e,n){return!(t.x===e.x===n.x||t.y===e.y===n.y)},P=function(t,e,n,i){var r=b(t,e),o=b(n,e);return r<i&&(i=r),o<i&&(i=o),[{x:e.x-i/r*(e.x-t.x),y:e.y-i/r*(e.y-t.y)},{x:e.x-i/o*(e.x-n.x),y:e.y-i/o*(e.y-n.y)}]},A=function(t,e){var n=[],i=t[0];return n.push("M"+i.x+" "+i.y),t.forEach((function(i,r){var o=t[r+1],a=t[r+2];if(o&&a)if(T(i,o,a)){var s=P(i,o,a,e),u=s[0],c=s[1];n.push("L"+u.x+" "+u.y),n.push("Q"+o.x+" "+o.y+" "+c.x+" "+c.y),n.push("L"+c.x+" "+c.y)}else n.push("L"+o.x+" "+o.y);else o&&n.push("L"+o.x+" "+o.y)})),n.join("")},O=function(t,e,n,i,l){var v=n&&n.getBBox()?n.getBBox():r(t),m=i&&i.getBBox()?i.getBBox():r(e);if(a(v,m))return u(c(t,e));var b=h(v,l),x=h(m,l);if(a(b,x))return u(c(t,e));var w=d(b,t),_=d(x,e),M=o([w,_]),k=f(b,x),S=f(b,M),E=f(x,M),T=[];T=(T=T.concat(p(S))).concat(p(E));var P={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[M,S,E].forEach((function(t){T=T.concat(y(t,P).filter((function(t){return g(t,b)&&g(t,x)})))})),[{x:w.x,y:_.y},{x:_.x,y:w.y}].forEach((function(t){g(t,b)&&g(t,x)&&T.push(t)})),T.unshift(w),T.push(_),T=s(T,b,x,k);var A=C(T,w,_,v,m,t,e);return A.unshift(t),A.push(e),u(A)}},function(t,e,n){var i=n(20),r=n(1),o=n(420),a=n(10);i.registerEdge("polyline",{options:{color:"#999",style:{stroke:"#333",lineWidth:1,radius:0,offset:5,x:0,y:0},labelCfg:{style:{fill:"#595959"}},stateStyles:{hover:{lineWidth:3},selected:{lineWidth:5}}},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("path",{className:"edge-shape",attrs:n})},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,o={stroke:t.color},s=r.deepMix({},n,i,o,t.style);t=this.getPathPoints(t),this.radius=s.radius,this.offset=s.offset;var u=t.startPoint,c=t.endPoint,h=this.getControlPoints(t),l=[u];h&&(l=l.concat(h)),l.push(c);var d=t.sourceNode,f=t.targetNode,p={radius:s.radius};h||(p={source:d,target:f,offset:s.offset,radius:s.radius});var g=this.getPath(l,p);return r.deepMix({},a.defaultEdge.style,s,{lineWidth:t.size},{path:g})},getPath:function(t,e){var n=e.source,i=e.target,a=e.offset,s=e.radius;if(!a){var u=[];return s?u=o.getPathWithBorderRadiusByPolyline(t,s):r.each(t,(function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["L",t.x,t.y])})),u}if(s){var c=o.simplifyPolyline(o.getPolylinePoints(t[0],t[t.length-1],n,i,a));return o.getPathWithBorderRadiusByPolyline(c,s)}var h=o.getPolylinePoints(t[0],t[t.length-1],n,i,a);return r.pointsToPolygon(h)},update:function(t,e){var n=e.getContainer(),i=this.itemType+"-shape",o=n.findByClassName(i);t.style||(t.style={});var a=o.attr();t.style.radius=t.style.radius||a.radius,t.style.offset=t.style.offset||a.offset;var s=this.getShapeStyle(t);o.attr(s);var u=this.itemType+"-label",c=n.findByClassName(u);if(t.label)if(c){var h=this.options.labelCfg,l=(this.getCustomConfig(t)||{}).labelCfg,d=r.deepMix({},h,l,t.labelCfg),f=this.getLabelStyle(t,d,n);c.resetMatrix(),c.attr(f)}else this.drawLabel(t,n).set("className",u);else c&&c.remove()}},"single-line")},function(t,e,n){n(421)},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(20),o=n(1),a=n(33);r.registerNode("image",{options:{img:"https://img2.bosszhipin.com/boss/avatar/avatar_13.png",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0,style:{lineWidth:1}}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t),r=e.addShape(n,{attrs:i});return this.drawClip(t,r),r},drawClip:function(t,e){var n=o.mix({},this.options.clipCfg,t.clipCfg);if(n.show){var r=n.type,s=n.x,u=n.y,c=n.style,h=null;if("circle"===r){var l=n.r;h=new a.Circle({attrs:i({r:l,x:s,y:u},c)})}else if("rect"===r){var d=n.width,f=n.height;h=new a.Rect({attrs:i({x:s,y:u,width:d,height:f},c)})}else if("ellipse"===r){var p=n.rx,g=n.ry;h=new a.Ellipse({attrs:i({x:s,y:u,rx:p,ry:g},c)})}else if("polygon"===r){var v=n.points;h=new a.Polygon({attrs:i({points:v},c)})}else if("path"===r){var m=n.path;h=new a.Path({attrs:i({path:m},c)})}h&&e.attr("clip",h)}},getShapeStyle:function(t){var e=this.getSize(t),n=t.img||this.options.img,i=e[0],r=e[1];return o.mix({},{x:0-i/2,y:0-r/2,width:i,height:r,img:n},t.style)}},"single-shape")},function(t,e,n){function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var o=n(20),a=n(2),s=n(10);o.registerNode("star",{options:{size:60,style:{stroke:s.defaultShapeStrokeColor,fill:s.defaultShapeFillColor,lineWidth:1},labelCfg:{style:{fill:"#595959"},offset:0},stateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:3}},linkPoints:{top:!1,right:!1,left:!1,leftBottom:!1,rightBottom:!1,size:3,lineWidth:1,fill:"#fff",stroke:"#72CC4A"},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg",width:16,height:16}},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.icon,o=n.icon,s=this.getShapeStyle(t),u=a({},i,o,t.icon),c=e.addShape("path",{attrs:s}),h=u.width,l=u.height;return u.show&&e.addShape("image",{attrs:r({x:-h/2,y:-l/2},u),className:"star-icon"}).set("capture",!1),this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.linkPoints,s=n.linkPoints,u=a({},o,s,t.linkPoints),c=u.top,h=u.left,l=u.right,d=u.leftBottom,f=u.rightBottom,p=u.size,g=i(u,["top","left","right","leftBottom","rightBottom","size"]),v=this.getSize(t)[0];if(l){var m=Math.cos(.1*Math.PI)*v,y=Math.sin(.1*Math.PI)*v;e.addShape("circle",{attrs:r({},g,{x:m,y:-y,r:p}),className:"star-mark-right"})}if(c){var b=Math.cos(.5*Math.PI)*v,x=Math.sin(.5*Math.PI)*v;e.addShape("circle",{attrs:r({},g,{x:b,y:-x,r:p}),className:"star-mark-top"})}if(h){var w=Math.cos(.9*Math.PI)*v,_=Math.sin(.9*Math.PI)*v;e.addShape("circle",{attrs:r({},g,{x:w,y:-_,r:p}),className:"star-mark-left"})}if(d){var M=Math.cos(1.3*Math.PI)*v,k=Math.sin(1.3*Math.PI)*v;e.addShape("circle",{attrs:r({},g,{x:M,y:-k,r:p}),className:"star-mark-left-bottom"})}if(f){var S=Math.cos(1.7*Math.PI)*v,E=Math.sin(1.7*Math.PI)*v;e.addShape("circle",{attrs:r({},g,{x:S,y:-E,r:p}),className:"star-mark-right-bottom"})}},getPath:function(t){for(var e=(this.getCustomConfig(t)||{}).innerR,n=this.getSize(t)[0],i=3*n/8,r=t.innerR||e||i,o=[],a=0;a<5;a++){var s=Math.cos((18+72*a)/180*Math.PI)*n,u=Math.sin((18+72*a)/180*Math.PI)*n,c=Math.cos((54+72*a)/180*Math.PI)*r,h=Math.sin((54+72*a)/180*Math.PI)*r;0===a?o.push(["M",s,-u]):o.push(["L",s,-u]),o.push(["L",c,-h])}return o.push(["Z"]),o},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,o={stroke:t.color},s=a({},n,i,o,t.style);return r({path:this.getPath(t)},s)},update:function(t,e){var n=e.getContainer(),i=this.getCustomConfig(t)||{},o=this.options,s=o.style,u=o.icon,c=o.labelCfg,h=i.style,l=i.icon,d=i.labelCfg,f=a({},s,h,t.style),p=a({},u,l,t.icon),g=e.get("keyShape"),v=this.getPath(t);g.attr(r({path:v},f));var m=a({},c,d,t.labelCfg),y=this.getLabelStyle(t,m,n),b=n.findByClassName("node-label");b&&b.attr(r({},y));var x=n.findByClassName("star-icon");if(x){var w=p.width,_=p.height;x.attr(r({x:-w/2,y:-_/2},p))}this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.linkPoints,s=n.linkPoints,u=a({},o,s,t.linkPoints),c=u.size,h=i(u,["size"]),l=this.getSize(t)[0],d=e.findByClassName("star-mark-right");if(d){var f=Math.cos(.1*Math.PI)*l,p=Math.sin(.1*Math.PI)*l;d.attr(r({},h,{x:f,y:-p,r:c}))}var g=e.findByClassName("star-mark-top");if(g){var v=Math.cos(.5*Math.PI)*l,m=Math.sin(.5*Math.PI)*l;g.attr(r({},h,{x:v,y:-m,r:c}))}var y=e.findByClassName("star-mark-left");if(y){var b=Math.cos(.9*Math.PI)*l,x=Math.sin(.9*Math.PI)*l;y.attr(r({},h,{x:b,y:-x,r:c}))}var w=e.findByClassName("star-mark-left-bottom");if(w){var _=Math.cos(1.3*Math.PI)*l,M=Math.sin(1.3*Math.PI)*l;w.attr(r({},h,{x:_,y:-M,r:c}))}var k=e.findByClassName("star-mark-right-bottom");if(k){var S=Math.cos(1.7*Math.PI)*l,E=Math.sin(1.7*Math.PI)*l;k.attr(r({},h,{x:S,y:-E,r:c}))}}},"single-shape")},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}var o=n(20),a=n(2),s=n(1);o.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:1,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},stateStyles:{hover:{lineWidth:2,stroke:"#1890ff",fill:"#e6f7ff"},selected:{lineWidth:3,stroke:"#1890ff",fill:"#e6f7ff"}},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:3,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.preRect,s=n.preRect,u=this.getShapeStyle(t),c=this.getSize(t),h=c[0],l=c[1],d=e.addShape("rect",{attrs:u}),f=a({},o,s,t.preRect),p=f.show,g=r(f,["show"]);return p&&e.addShape("rect",{attrs:i({x:-h/2,y:-l/2,height:l},g),className:"pre-rect"}),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),d},drawLogoIcon:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.logoIcon,s=n.logoIcon,u=a({},o,s,t.logoIcon),c=this.getSize(t)[0];if(u.show){var h=u.width,l=u.height,d=u.x,f=u.y,p=u.offset,g=r(u,["width","height","x","y","offset"]);e.addShape("image",{attrs:i({},g,{x:d||-c/2+h+p,y:f||-l/2,width:h,height:l}),className:"rect-logo-icon"}).set("capture",!1)}},drawStateIcon:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.stateIcon,s=n.stateIcon,u=a({},o,s,t.stateIcon),c=this.getSize(t)[0];if(u.show){var h=u.width,l=u.height,d=u.x,f=u.y,p=u.offset,g=r(u,["width","height","x","y","offset"]);e.addShape("image",{attrs:i({},g,{x:d||c/2-h+p,y:f||-l/2,width:h,height:l}),className:"rect-state-icon"}).set("capture",!1)}},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.linkPoints,s=n.linkPoints,u=a({},o,s,t.linkPoints),c=u.top,h=u.left,l=u.right,d=u.bottom,f=u.size,p=r(u,["top","left","right","bottom","size"]),g=this.getSize(t),v=g[0],m=g[1];h&&e.addShape("circle",{attrs:i({},p,{x:-v/2,y:0,r:f}),className:"rect-mark-left",isAnchorPoint:!0}),l&&e.addShape("circle",{attrs:i({},p,{x:v/2,y:0,r:f}),className:"rect-mark-right",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:i({},p,{x:0,y:-m/2,r:f}),className:"rect-mark-top",isAnchorPoint:!0}),d&&e.addShape("circle",{attrs:i({},p,{x:0,y:m/2,r:f}),className:"rect-mark-bottom",isAnchorPoint:!0})},drawLabel:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options,o=r.labelCfg,s=r.logoIcon,u=n.labelCfg,c=n.logoIcon,h=a({},s,c,t.logoIcon),l=a({},o,u,t.labelCfg),d=this.getSize(t)[0],f=null,p=h.show,g=h.width,v=-d/2+l.offset;p&&(v=-d/2+g+l.offset);var m=l.style;return t.description?(f=e.addShape("text",{attrs:i({},m,{y:-5,x:v,text:t.label})}),e.addShape("text",{attrs:{text:t.description,fontSize:12,x:v,y:17,fill:"#bfbfbf"},className:"rect-description"})):f=e.addShape("text",{attrs:i({},m,{x:v,y:7,text:t.label})}),f},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,r={stroke:t.color},o=a({},n,i,r,t.style),u=this.getSize(t),c=u[0],h=u[1];return s.mix({},{x:-c/2,y:-h/2,width:c,height:h},o)},update:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options,s=o.style,u=o.labelCfg,c=o.preRect,h=o.logoIcon,l=o.stateIcon,d=n.style,f=n.labelCfg,p=n.preRect,g=n.logoIcon,v=n.stateIcon,m=a({},s,d,t.style),y=this.getSize(t),b=y[0],x=y[1];e.get("keyShape").attr(i({},m,{x:-b/2,y:-x/2,width:b,height:x}));var w=e.getContainer(),_=a({},u,f,t.labelCfg),M=w.findByClassName("node-label"),k=a({},h,g,t.logoIcon),S=k.show,E=k.width,C=_.offset,T=_.style,P=-b/2+C;S&&(P=-b/2+E+C);var A=w.findByClassName("rect-description");A?(M&&M.attr(i({},T,{y:-5,x:P})),A.attr({x:P,y:17})):M&&M.attr(i({},T,{x:P,y:-5}));var O=w.findByClassName("pre-rect");if(O){var D=a({},c,p,t.preRect);O.attr(i({},D,{x:-b/2,y:-x/2,height:x}))}var N=w.findByClassName("rect-logo-icon");if(N){var I=k.width,L=k.height,j=k.x,B=k.y,R=k.offset,z=r(k,["width","height","x","y","offset"]);N.attr(i({},z,{x:j||-b/2+I+R,y:B||-L/2,width:I,height:L}))}var F=w.findByClassName("rect-state-icon");if(F){var Y=a({},l,v,t.stateIcon),H=Y.width,W=Y.height,G=Y.x,q=Y.y,U=Y.offset,V=r(Y,["width","height","x","y","offset"]);F.attr(i({},V,{x:G||b/2-H+U,y:q||-W/2,width:H,height:W}))}this.updateLinkPoints(t,w)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.linkPoints,r=n.linkPoints,o=a({},i,r,t.linkPoints),s=o.size,u=o.fill,c=o.stroke,h=o.lineWidth,l=this.getSize(t),d=l[0],f=l[1],p=e.findByClassName("rect-mark-left");p&&p.attr({x:-d/2,y:0,r:s,fill:u,stroke:c,lineWidth:h});var g=e.findByClassName("rect-mark-right");g&&g.attr({x:d/2,y:0,r:s,fill:u,stroke:c,lineWidth:h});var v=e.findByClassName("rect-mark-top");v&&v.attr({x:0,y:-f/2,r:s,fill:u,stroke:c,lineWidth:h});var m=e.findByClassName("rect-mark-bottom");m&&m.attr({x:0,y:f/2,r:s,fill:u,stroke:c,lineWidth:h})}},"single-shape")},function(t,e,n){function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var o=n(20),a=n(2),s=n(10);o.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:s.defaultShapeStrokeColor,fill:s.defaultShapeFillColor,lineWidth:1},labelCfg:{style:{fill:"#595959"},offset:15},stateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:3}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:5,lineWidth:1,fill:"#fff",stroke:"#72CC4A"},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg",width:16,height:16,offset:6}},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options,o=i.icon,s=i.direction,u=n.icon,c=n.direction,h=this.getShapeStyle(t),l=a({},o,u,t.icon),d=t.direction||c||s,f=e.addShape("path",{attrs:h}),p=l.width,g=l.height,v=l.show,m=l.offset;if(v){var y=-p/2,b=-g/2;"up"!==d&&"down"!==d||(b+=m),"left"!==d&&"right"!==d||(y+=m),e.addShape("image",{attrs:r({x:y,y:b},l),className:"triangle-icon"}).set("capture",!1)}return this.drawLinkPoints(t,e),f},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options,s=o.linkPoints,u=o.direction,c=n.linkPoints,h=n.direction,l=a({},s,c,t.linkPoints),d=t.direction||h||u,f=l.top,p=l.left,g=l.right,v=l.bottom,m=l.size,y=i(l,["top","left","right","bottom","size"]),b=this.getSize(t)[0];if(p){var x=null,w=b*Math.sin(1/3*Math.PI),_=b*Math.sin(1/3*Math.PI);"up"===d?x=[-_,w]:"down"===d?x=[-_,-w]:"left"===d&&(x=[-_,_-w]),x&&e.addShape("circle",{attrs:r({},y,{x:x[0],y:x[1],r:m}),className:"triangle-mark-left"})}if(g){var M=null,k=b*Math.sin(1/3*Math.PI),S=b*Math.sin(1/3*Math.PI);"up"===d?M=[S,k]:"down"===d?M=[S,-k]:"right"===d&&(M=[S,S-k]),M&&e.addShape("circle",{attrs:r({},y,{x:M[0],y:M[1],r:m}),className:"triangle-mark-right"})}if(f){var E=null,C=b*Math.sin(1/3*Math.PI),T=b*Math.sin(1/3*Math.PI);"up"===d?E=[T-C,-C]:"left"===d?E=[T,-C]:"right"===d&&(E=[-T,-C]),E&&e.addShape("circle",{attrs:r({},y,{x:E[0],y:E[1],r:m}),className:"triangle-mark-top"})}if(v){var P=null,A=b*Math.sin(1/3*Math.PI),O=b*Math.sin(1/3*Math.PI);"down"===d?P=[-O+A,A]:"left"===d?P=[O,A]:"right"===d&&(P=[-O,A]),P&&e.addShape("circle",{attrs:r({},y,{x:P[0],y:P[1],r:m}),className:"triangle-mark-bottom"})}},getPath:function(t){var e=this.getCustomConfig(t)||{},n=this.options.direction,i=e.direction,r=t.direction||i||n,o=this.getSize(t)[0],a=o*Math.sin(1/3*Math.PI),s=o*Math.sin(1/3*Math.PI),u=[["M",-s,a],["L",0,-a],["L",s,a],["Z"]];return"down"===r?u=[["M",-s,-a],["L",s,-a],["L",0,a],["Z"]]:"left"===r?u=[["M",-s,s-a],["L",s,-s],["L",s,s],["Z"]]:"right"===r&&(u=[["M",s,s-a],["L",-s,s],["L",-s,-s],["Z"]]),u},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,o={stroke:t.color},s=a({},n,i,o,t.style);return r({path:this.getPath(t)},s)},update:function(t,e){var n=e.getContainer(),i=this.getCustomConfig(t)||{},o=this.options,s=o.style,u=o.icon,c=o.labelCfg,h=i.style,l=i.icon,d=i.labelCfg,f=a({},s,h,t.style),p=a({},u,l,t.icon),g=e.get("keyShape"),v=this.getPath(t);g.attr(r({path:v},f));var m=a({},c,d,t.labelCfg),y=this.getLabelStyle(t,m,n),b=n.findByClassName("node-label");b&&b.attr(r({},y));var x=n.findByClassName("triangle-icon");if(x){var w=p.width,_=p.height;x.attr(r({x:-w/2,y:-_/2},p))}this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options,s=o.linkPoints,u=o.direction,c=n.linkPoints,h=n.direction,l=a({},s,c,t.linkPoints),d=t.direction||h||u,f=l.size,p=i(l,["size"]),g=this.getSize(t)[0],v=e.findByClassName("triangle-mark-left");if(v){var m=null,y=g*Math.sin(1/3*Math.PI),b=g*Math.sin(1/3*Math.PI);"up"===d?m=[-b,y]:"down"===d?m=[-b,-y]:"left"===d&&(m=[-b,b-y]),m&&v.attr(r({},p,{x:m[0],y:m[1],r:f}))}var x=e.findByClassName("triangle-mark-right");if(x){var w=null,_=g*Math.sin(1/3*Math.PI),M=g*Math.sin(1/3*Math.PI);"up"===d?w=[M,_]:"down"===d?w=[M,-_]:"right"===d&&(w=[M,M-_]),w&&x.attr(r({},p,{x:w[0],y:w[1],r:f}))}var k=e.findByClassName("triangle-mark-top");if(k){var S=null,E=g*Math.sin(1/3*Math.PI),C=g*Math.sin(1/3*Math.PI);"up"===d?S=[C-E,-E]:"left"===d?S=[C,-E]:"right"===d&&(S=[-C,-E]),S&&k.attr(r({},p,{x:S[0],y:S[1],r:f}))}var T=e.findByClassName("triangle-mark-bottom");if(T){var P=null,A=g*Math.sin(1/3*Math.PI),O=g*Math.sin(1/3*Math.PI);"down"===d?P=[-O+A,A]:"left"===d?P=[O,A]:"right"===d&&(P=[-O,A]),P&&T.attr(r({},p,{x:P[0],y:P[1],r:f}))}}},"single-shape")},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(20),o=n(2),a=n(10);r.registerNode("diamond",{options:{size:[100,100],style:{stroke:a.defaultShapeStrokeColor,fill:a.defaultShapeFillColor,lineWidth:1},labelCfg:{style:{fill:"#595959"}},stateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:3}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:3,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg",width:16,height:16}},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options.icon,a=n.icon,s=this.getShapeStyle(t),u=o({},r,a,t.icon),c=e.addShape("path",{attrs:s}),h=u.width,l=u.height;return u.show&&e.addShape("image",{attrs:i({x:-h/2,y:-l/2},u),className:"diamond-icon"}).set("capture",!1),this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options.linkPoints,a=n.linkPoints,s=o({},r,a,t.linkPoints),u=s.top,c=s.left,h=s.right,l=s.bottom,d=s.size,f=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(s,["top","left","right","bottom","size"]),p=this.getSize(t),g=p[0],v=p[1];c&&e.addShape("circle",{attrs:i({},f,{x:-g/2,y:0,r:d}),className:"diamond-mark-left",isAnchorPoint:!0}),h&&e.addShape("circle",{attrs:i({},f,{x:g/2,y:0,r:d}),className:"diamond-mark-right",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:i({},f,{x:0,y:-v/2,r:d}),className:"diamond-mark-top",isAnchorPoint:!0}),l&&e.addShape("circle",{attrs:i({},f,{x:0,y:v/2,r:d}),className:"diamond-mark-bottom",isAnchorPoint:!0})},getPath:function(t){var e=this.getSize(t),n=e[0],i=e[1];return[["M",0,-i/2],["L",n/2,0],["L",0,i/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,r=e.style,a={stroke:t.color},s=o({},n,r,a,t.style);return i({path:this.getPath(t)},s)},update:function(t,e){var n=e.getContainer(),r=this.getCustomConfig(t)||{},a=this.options,s=a.style,u=a.icon,c=a.labelCfg,h=r.style,l=r.icon,d=r.labelCfg,f=o({},s,h,t.style),p=o({},u,l,t.icon),g=e.get("keyShape"),v=this.getPath(t);g.attr(i({path:v},f));var m=o({},c,d,t.labelCfg),y=this.getLabelStyle(t,m,n),b=n.findByClassName("node-label");b&&b.attr(i({},y));var x=n.findByClassName("diamond-icon");if(x){var w=p.width,_=p.height;x.attr(i({x:-w/2,y:-_/2},p))}this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.linkPoints,r=n.linkPoints,a=o({},i,r,t.linkPoints),s=a.size,u=a.fill,c=a.stroke,h=a.lineWidth,l=this.getSize(t),d=l[0],f=l[1],p=e.findByClassName("diamond-mark-left");p&&p.attr({x:-d/2,y:0,r:s,fill:u,stroke:c,lineWidth:h});var g=e.findByClassName("diamond-mark-right");g&&g.attr({x:d/2,y:0,r:s,fill:u,stroke:c,lineWidth:h});var v=e.findByClassName("diamond-mark-top");v&&v.attr({x:0,y:-f/2,r:s,fill:u,stroke:c,lineWidth:h});var m=e.findByClassName("diamond-mark-bottom");m&&m.attr({x:0,y:f/2,r:s,fill:u,stroke:c,lineWidth:h})}},"single-shape")},function(t,e,n){function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var o=n(20),a=n(2),s=n(1),u=n(10);o.registerNode("ellipse",{options:{size:[120,60],style:{x:0,y:0,stroke:u.defaultShapeStrokeColor,fill:u.defaultShapeFillColor,lineWidth:1},labelCfg:{style:{fill:"#595959"}},stateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:3}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:3,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg",width:36,height:36}},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.icon,o=n.icon,s=this.getShapeStyle(t),u=a({},i,o,t.icon),c=e.addShape("ellipse",{attrs:s}),h=u.width,l=u.height;return u.show&&e.addShape("image",{attrs:r({x:-h/2,y:-l/2},u),className:"ellipse-icon"}).set("capture",!1),this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.linkPoints,s=n.linkPoints,u=a({},o,s,t.linkPoints),c=u.top,h=u.left,l=u.right,d=u.bottom,f=u.size,p=i(u,["top","left","right","bottom","size"]),g=this.getSize(t),v=g[0]/2,m=g[1]/2;h&&e.addShape("circle",{attrs:r({},p,{x:-v,y:0,r:f}),className:"ellipse-mark-left",isAnchorPoint:!0}),l&&e.addShape("circle",{attrs:r({},p,{x:v,y:0,r:f}),className:"ellipse-mark-right",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r({},p,{x:0,y:-m,r:f}),className:"ellipse-mark-top",isAnchorPoint:!0}),d&&e.addShape("circle",{attrs:r({},p,{x:0,y:m,r:f}),className:"ellipse-mark-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,r={stroke:t.color},o=a({},n,i,r,t.style),u=this.getSize(t),c=u[0]/2,h=u[1]/2;return s.mix({},{x:0,y:0,rx:c,ry:h},o)},update:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options,o=i.style,s=i.icon,u=i.labelCfg,c=n.style,h=n.icon,l=n.labelCfg,d=a({},o,c,t.style),f=a({},s,h,t.icon),p=this.getSize(t),g=p[0]/2,v=p[1]/2;e.get("keyShape").attr(r({},d,{rx:g,ry:v}));var m=e.getContainer(),y=a({},u,l,t.labelCfg),b=this.getLabelStyle(t,y,m),x=m.findByClassName("node-label");x&&x.attr(r({},b));var w=m.findByClassName("ellipse-icon"),_=f.width,M=f.height;w&&w.attr(r({x:-_/2,y:-M/2},f)),this.updateLinkPoints(t,m)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},o=this.options.linkPoints,s=n.linkPoints,u=a({},o,s,t.linkPoints),c=u.size,h=i(u,["size"]),l=this.getSize(t),d=l[0]/2,f=l[1]/2,p=e.findByClassName("ellipse-mark-left");p&&p.attr(r({},h,{x:-d,y:0,r:c}));var g=e.findByClassName("ellipse-mark-right");g&&g.attr(r({},h,{x:d,y:0,r:c}));var v=e.findByClassName("ellipse-mark-top");v&&v.attr(r({},h,{x:0,y:-f,r:c}));var m=e.findByClassName("ellipse-mark-bottom");m&&m.attr(r({},h,{x:0,y:f,r:c}))}},"single-shape")},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(20),o=n(2),a=n(1),s=n(10);r.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:s.defaultShapeStrokeColor,fill:s.defaultShapeFillColor,lineWidth:1,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:12}},stateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:3}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:3,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},markPoints:[[0,.5],[1,.5]]},shapeType:"rect",drawShape:function(t,e){var n=this.getShapeStyle(t),i=e.addShape("rect",{attrs:n,className:"rect-keyShape"});return this.drawLinkPoints(t,e),i},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options.linkPoints,a=n.linkPoints,s=o({},r,a,t.linkPoints),u=s.top,c=s.left,h=s.right,l=s.bottom,d=s.size,f=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(s,["top","left","right","bottom","size"]),p=this.getSize(t),g=p[0],v=p[1];c&&e.addShape("circle",{attrs:i({},f,{x:-g/2,y:0,r:d}),className:"rect-mark-left",isAnchorPoint:!0}),h&&e.addShape("circle",{attrs:i({},f,{x:g/2,y:0,r:d}),className:"rect-mark-right",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:i({},f,{x:0,y:-v/2,r:d}),className:"rect-mark-top",isAnchorPoint:!0}),l&&e.addShape("circle",{attrs:i({},f,{x:0,y:v/2,r:d}),className:"rect-mark-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,r={stroke:t.color},s=o({},n,i,r,t.style),u=this.getSize(t),c=u[0],h=u[1];return a.mix({},{x:-c/2,y:-h/2,width:c,height:h},s)},update:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options,a=r.style,s=r.labelCfg,u=n.style,c=n.labelCfg,h=o({},a,u,t.style),l=this.getSize(t),d=l[0],f=l[1];e.get("keyShape").attr(i({x:-d/2,y:-f/2,width:d,height:f},h));var p=e.getContainer(),g=o({},s,c,t.labelCfg),v=this.getLabelStyle(t,g,p),m=p.findByClassName("node-label");m&&m.attr(i({},v)),this.updateLinkPoints(t,p)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.linkPoints,r=n.linkPoints,a=o({},i,r,t.linkPoints),s=a.size,u=a.fill,c=a.stroke,h=a.lineWidth,l=this.getSize(t),d=l[0],f=l[1],p=e.findByClassName("rect-mark-left");p&&p.attr({x:-d/2,y:0,r:s,fill:u,stroke:c,lineWidth:h});var g=e.findByClassName("rect-mark-right");g&&g.attr({x:d/2,y:0,r:s,fill:u,stroke:c,lineWidth:h});var v=e.findByClassName("rect-mark-top");v&&v.attr({x:0,y:-f/2,r:s,fill:u,stroke:c,lineWidth:h});var m=e.findByClassName("rect-mark-bottom");m&&m.attr({x:0,y:f/2,r:s,fill:u,stroke:c,lineWidth:h})}},"single-shape")},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(20),o=n(2),a=n(1),s=n(10);r.registerNode("circle",{options:{size:60,style:{x:0,y:0,stroke:s.defaultShapeStrokeColor,fill:s.defaultShapeFillColor,lineWidth:1},labelCfg:{style:{fill:"#595959"},offset:0},stateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:3}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:3,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/basement_prod/012bcf4f-423b-4922-8c24-32a89f8c41ce.svg",width:16,height:16}},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options.icon,a=n.icon,s=this.getShapeStyle(t),u=o({},r,a,t.icon),c=e.addShape("circle",{attrs:s}),h=u.width,l=u.height;return u.show&&e.addShape("image",{attrs:i({x:-h/2,y:-l/2},u),className:"circle-icon"}).set("capture",!1),this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options.linkPoints,a=n.linkPoints,s=o({},r,a,t.linkPoints),u=s.top,c=s.left,h=s.right,l=s.bottom,d=s.size,f=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(s,["top","left","right","bottom","size"]),p=this.getSize(t)[0]/2;c&&e.addShape("circle",{attrs:i({},f,{x:-p,y:0,r:d}),className:"circle-mark-left",isAnchorPoint:!0}),h&&e.addShape("circle",{attrs:i({},f,{x:p,y:0,r:d}),className:"circle-mark-right",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:i({},f,{x:0,y:-p,r:d}),className:"circle-mark-top",isAnchorPoint:!0}),l&&e.addShape("circle",{attrs:i({},f,{x:0,y:p,r:d}),className:"circle-mark-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,r={stroke:t.color},s=o({},n,i,r,t.style),u=this.getSize(t)[0]/2;return a.mix({},{x:0,y:0,r:u},s)},update:function(t,e){var n=this.getCustomConfig(t)||{},r=this.options,a=r.style,s=r.icon,u=r.labelCfg,c=n.style,h=n.icon,l=n.labelCfg,d=o({},a,c,t.style),f=o({},s,h,t.icon),p=this.getSize(t)[0]/2,g=e.getContainer();e.get("keyShape").attr(i({},d,{r:p}));var v=o({},u,l,t.labelCfg),m=this.getLabelStyle(t,v,g),y=g.findByClassName("node-label");y&&y.attr(i({},m));var b=g.findByClassName("circle-icon"),x=f.width,w=f.height;b&&b.attr(i({x:-x/2,y:-w/2},f)),this.updateLinkPoints(t,g)},updateLinkPoints:function(t,e){var n=this.getCustomConfig(t)||{},i=this.options.linkPoints,r=n.linkPoints,a=o({},i,r,t.linkPoints),s=a.size,u=a.fill,c=a.stroke,h=a.lineWidth,l=this.getSize(t)[0]/2,d=e.findByClassName("circle-mark-left");d&&d.attr({x:-l,y:0,r:s,fill:u,stroke:c,lineWidth:h});var f=e.findByClassName("circle-mark-right");f&&f.attr({x:l,y:0,r:s,fill:u,stroke:c,lineWidth:h});var p=e.findByClassName("circle-mark-top");p&&p.attr({x:0,y:-l,r:s,fill:u,stroke:c,lineWidth:h});var g=e.findByClassName("circle-mark-bottom");g&&g.attr({x:0,y:l,r:s,fill:u,stroke:c,lineWidth:h})}},"single-shape")},function(t,e,n){n(430),n(429),n(428),n(427),n(426),n(425),n(424),n(423)},function(t,e,n){var i=n(20),r=n(1),o=n(10),a=n(174);i.registerFactory("edge",{defaultShapeType:"line"});var s=r.mix({},a,{itemType:"edge",labelPosition:"center",labelAutoRotate:!1,getPath:function(t){var e=[];return r.each(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},getShapeStyle:function(t){var e=this.getCustomConfig(t)||{},n=this.options.style,i=e.style,a={stroke:t.color},s=r.deepMix({},n,i,a,t.style),u=t.size||o.defaultEdge.size,c=(t=this.getPathPoints(t)).startPoint,h=t.endPoint,l=this.getControlPoints(t),d=[c];l&&(d=d.concat(l)),d.push(h);var f=this.getPath(d);return r.mix({},o.defaultEdge.style,{stroke:o.defaultEdge.color,lineWidth:u,path:f},s)},getLabelStyleByPosition:function(t,e,n){var i,o=e.position||this.labelPosition,a={},s=n.findByClassName("edge-shape");i="start"===o?0:"end"===o?1:.5;var u=e.refX,c=e.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return a.x=t.startPoint.x+u?u:0,a.y=t.endPoint.y+c?c:0,a;var h=r.isNil(e.autoRotate)?this.labelAutoRotate:e.autoRotate,l=r.getLabelPosition(s,i,u,c,h);return a.x=l.x,a.y=l.y,a.rotate=l.rotate,a.textAlign=this._getTextAlign(o,l.angle),a},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("path",{className:"edge-shape",attrs:n})},drawLabel:function(t,e){var n=(this.getCustomConfig(t)||{}).default||{},i=r.deepMix({},this.options.labelCfg,n.labelCfg,t.labelCfg),o=this.getLabelStyle(t,i,e);return e.addShape("text",{attrs:o})}});i.registerEdge("single-line",s),i.registerEdge("line",{getControlPoints:function(){return[]}},"single-line"),i.registerEdge("spline",{getPath:function(t){return r.getSpline(t)}},"single-line"),i.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,i=t.startPoint,o=t.endPoint,a=(i.x+o.x)/2,s=(i.y+o.y)/2;if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=r.getCircleCenterByPoints(i,n,o),i.x<=o.x&&i.y>o.y?this.clockwise=e.x>a?1:0:i.x<=o.x&&i.y<o.y?this.clockwise=e.x>a?0:1:(i.x>o.x&&(i.y,o.y),this.clockwise=e.y<s?1:0),(n.x-i.x)/(n.y-i.y)==(o.x-i.x)/(o.y-i.y))return[]}else{void 0!==t.curveOffset&&(this.curveOffset=t.curveOffset),this.curveOffset<0?this.clockwise=0:this.clockwise=1;var u={x:o.x-i.x,y:o.y-i.y},c=Math.atan2(u.y,u.x);n={x:this.curveOffset*Math.cos(-Math.PI/2+c)+a,y:this.curveOffset*Math.sin(-Math.PI/2+c)+s},e=r.getCircleCenterByPoints(i,n,o)}var h=r.distance(i,e);return[{x:h,y:h}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-line"),i.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,i=t.endPoint;e=[r.getControlPoint(n,i,this.curvePosition,this.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-line"),i.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,i=t.endPoint;e=[r.getControlPoint(n,i,this.curvePosition[0],this.curveOffset[0]),r.getControlPoint(n,i,this.curvePosition[1],this.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-line"),i.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;return[{x:e.x,y:(n.y-e.y)*this.curvePosition[0]+e.y},{x:n.x,y:(n.y-e.y)*this.curvePosition[1]+e.y}]}},"cubic"),i.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;return[{x:(n.x-e.x)*this.curvePosition[0]+e.x,y:e.y},{x:(n.x-e.x)*this.curvePosition[1]+e.x,y:n.y}]}},"cubic"),i.registerEdge("loop",{getPathPoints:function(t){return r.getLoopCfgs(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=null},afterUpdate:function(t){t.controlPoints=null}},"cubic")},function(t,e,n){var i=n(20),r=n(1),o=n(10),a=n(174);i.registerFactory("node",{defaultShapeType:"circle"});var s=r.mix({},a,{itemType:"node",shapeType:"",labelPosition:"center",getSize:function(t){var e=this.getCustomConfig(t)||{},n=t.size||e.size||this.options.size||o.defaultNode.size;return r.isArray(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if("center"===n)return{x:0,y:0};var i=e.offset;r.isNil(i)&&(i=o.nodeLabel.offset);var a,s=this.getSize(t),u=s[0],c=s[1];switch(n){case"top":a={x:0,y:0-c/2-i,textBaseline:"bottom"};break;case"bottom":a={x:0,y:c/2+i,textBaseline:"top"};break;case"left":a={x:0-u/2-i,y:0,textAlign:"right"};break;default:a={x:u/2+i,y:0,textAlign:"left"}}return a},drawShape:function(t,e){var n=this.shapeType,i=this.getShapeStyle(t);return e.addShape(n,{attrs:i})}});i.registerNode("single-shape",s)},function(t,e,n){var i=n(1),r=n(81).Group;t.exports=i.augment(r,{findByClassName:function(t){return this.find((function(e){return e.get("className")===t}))}})},function(t,e,n){"use strict";n.r(e),n.d(e,"calcStrLen",(function(){return i})),n.d(e,"fittingString",(function(){return r}));var i=function(t){for(var e=0,n=0;n<t.length;n++)t.charCodeAt(n)>0&&t.charCodeAt(n)<128?e++:e+=2;return e},r=function(t,e,n){var r=1.3*n;if(e*=2,i(t)*r>e){var o=Math.floor((e-10)/r);return t.substring(0,o)+""}return t}},function(t,e,n){var i=n(102),r=i.cloneDeep,o=i.groupBy,a=i.merge;t.exports={groupMapNodes:{},nodeArr:[],flatToTree:function(t,e,n){void 0===e&&(e="id"),void 0===n&&(n="parentId");var i=[],r=[],o=t.groups;return o.forEach((function(t){i[t[e]]=t})),o.forEach((function(t){var e=i[t[n]];e?(!e.children&&(e.children=[]),e.children.push(t)):r.push(t)})),r},addNodesToParentNode:function(t,e){var n=this;return function(t){t.forEach((function(t){t.children?(n.nodeArr.push({id:t.id,parentId:t.parentId}),n.addNodesToParentNode(t.children,e)):n.nodeArr.push({id:t.id,parentId:t.parentId})})),n.nodeArr.length>0&&function t(e){if(0!==e.length){var i=e.shift(),o=r(e);n.groupMapNodes[i.id]=o,t(e)}}(n.nodeArr),n.nodeArr.length=0}(t),this.groupMapNodes},getAllNodeInGroups:function(t){var e=o(t.groups,"id"),n=o(t.groups,"parentId"),i={};for(var r in n)if(r){var s=n[r],u=e[r];if(u&&s){var c=[].concat(s,u);i[r]=c}else s&&(i[r]=s)}var h=a({},e,i),l={};for(var d in h)if(d&&"undefined"!==d){var f=h[d].map((function(t){return t.id}));l[d]=f}var p={},g=function(e){if(!e||"undefined"===e)return"continue";var n=[],i=l[e],r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=h[a].map((function(t){return t.id}));n.push.apply(n,s)}var u=t.nodes.filter((function(t){return n.indexOf(t.groupId)>-1})).map((function(t){return t.id}));p[e]=u};for(var v in l)g(v);return p}}},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(175),o=n(73),a=n(10),s=Math.PI,u=Math.sin,c=Math.cos,h=u(s/8),l=c(s/8),d={getBBox:function(t,e){var n=t.getBBox(),i={x:n.minX,y:n.minY},o={x:n.maxX,y:n.maxY};if(e){var a=e.getMatrix();i=r.applyMatrix(i,a),o=r.applyMatrix(o,a)}return{minX:i.x,minY:i.y,maxX:o.x,maxY:o.y}},getLoopCfgs:function(t){var e=t.sourceNode||t.targetNode,n=e.get("group").getMatrix(),i=e.getKeyShape().getBBox(),r=t.loopCfg||{},s=r.dist||2*Math.max(i.width,i.height),u=r.position||a.loopPosition,c=Math.max(i.width,i.height)/2,d=(c+s)/c,f=[n[6],n[7]],p=c*h,g=c*l,v=[t.startPoint.x,t.startPoint.y],m=[t.endPoint.x,t.endPoint.y];if(v[0]===m[0]&&v[1]===m[1]){switch(u){case"top":v=[f[0]-p,f[1]-g],m=[f[0]+p,f[1]-g];break;case"top-right":v=[f[0]+p,f[1]-g],m=[f[0]+g,f[1]-p];break;case"right":v=[f[0]+g,f[1]-p],m=[f[0]+g,f[1]+p];break;case"bottom-right":v=[f[0]+g,f[1]+p],m=[f[0]+p,f[1]+g];break;case"bottom":v=[f[0]+p,f[1]+g],m=[f[0]-p,f[1]+g];break;case"bottom-left":v=[f[0]-p,f[1]+g],m=[f[0]-g,f[1]+p];break;case"left":v=[f[0]-g,f[1]+p],m=[f[0]-g,f[1]-p];break;case"top-left":v=[f[0]-g,f[1]-p],m=[f[0]-p,f[1]-g];break;default:v=[f[0]-p,f[1]-g],m=[f[0]+p,f[1]-g]}if(!1===r.clockwise){var y=[v[0],v[1]];v=[m[0],m[1]],m=[y[0],y[1]]}}var b=[v[0]-f[0],v[1]-f[1]],x=o.vec2.scale([],b,d),w=[f[0]+x[0],f[1]+x[1]],_=[m[0]-f[0],m[1]-f[1]],M=o.vec2.scale([],_,d),k=[f[0]+M[0],f[1]+M[1]];return t.startPoint={x:v[0],y:v[1]},t.endPoint={x:m[0],y:m[1]},t.controlPoints=[{x:w[0],y:w[1]},{x:k[0],y:k[1]}],t},traverseTree:function(t,e){"function"==typeof e&&function t(e,n){!1!==n(e)&&o.each(e.children,(function(e){t(e,n)}))}(t,e)},radialLayout:function(t,e){var n={x:1/0,y:1/0},i={x:-1/0,y:-1/0},r="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",r="y");var a=0;this.traverseTree(t,(function(t){a++,t.x>i.x&&(i.x=t.x),t.x<n.x&&(n.x=t.x),t.y>i.y&&(i.y=t.y),t.y<n.y&&(n.y=t.y)}));var u=2*s/a,c=i[o]-n[o];return 0===c?t:(this.traverseTree(t,(function(e){var i=(e[o]-n[o])/c*(2*s-u)+u,a=Math.abs("x"===r?e.x-t.x:e.y-t.y);e.x=a*Math.cos(i),e.y=a*Math.sin(i)})),t)},getLabelPosition:function(t,e,n,r,o){var a=[],h=t.getPoint(e);if(null===h)return{x:0,y:0,angle:0};if(e<1e-4)a=t.getStartTangent().reverse();else if(e>.9999)a=t.getEndTangent();else{var l=t.getPoint(e+1e-4);a.push([h.x,h.y]),a.push([l.x,l.y])}var d=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(d<0&&(d+=2*s),n&&(h.x+=c(d)*n,h.y+=u(d)*n),r){var f=d-s/2;d>.5*s&&d<1.5*s&&(f-=s),h.x+=c(f)*r,h.y+=u(f)*r}var p={x:h.x,y:h.y,angle:d};return o?(d>.5*s&&d<1.5*s&&(d-=s),i({rotate:d},p)):p}};t.exports=d},function(t,e,n){var i=n(81),r=n(73).vec2;function o(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}t.exports={getSpline:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x),e.push(r.y)}var o=i.PathUtil.catmullRomToBezier(e);return o.unshift(["M",t[0].x,t[0].y]),o},getControlPoint:function(t,e,n,i){var o={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},a=[];r.normalize(a,[e.x-t.x,e.y-t.y]);var s=[-a[1]*i,a[0]*i];return o.x+=s[0],o.y+=s[1],o},pointsToPolygon:function(t,e){if(!t.length)return"";for(var n="",i=0,r=t.length;i<r;i++){var a=t[i];n+=o(0===i?"M{x} {y}":"L{x} {y}",a)}return e&&(n+="Z"),n}}},function(t,e,n){var i=n(53),r=Array.prototype.splice;t.exports=function(t,e){if(!i(t))return[];for(var n=t?e.length:0,o=n-1;n--;){var a=void 0,s=e[n];n!==o&&s===a||(a=s,r.call(t,s,1))}return t}},function(t,e,n){var i=n(53),r=n(439);t.exports=function(t,e){var n=[];if(!i(t))return n;for(var o=-1,a=[],s=t.length;++o<s;){var u=t[o];e(u,o,t)&&(n.push(u),a.push(o))}return r(t,a),n}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e){t.exports=function(t,e,n){var i=void 0,r=void 0,o=void 0,a=void 0,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var h=e-(c-s);return r=this,o=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),s=c,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(u,h)),a};return c.cancel=function(){clearTimeout(i),s=0,i=r=o=null},c}},function(t,e){t.exports=function(t,e,n){var i=void 0;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||t.apply(r,o)}),e),a&&t.apply(r,o)}}},function(t,e){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,i){var r=i.target||i.srcElement;if(!n[r.tagName]){for(var o=r.parentNode;o&&!n[o.tagName];)o=o.parentNode;r=o}return this._cfg.el===r?this:this.find((function(t){return t._cfg&&t._cfg.el===r}))}},function(t,e,n){var i=n(0),r=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,o=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var o=i.uniqueId("pattern_");e.id=o,this.el=e,this.id=o,this.cfg=t;var a=r.exec(t)[2];n.setAttribute("href",a);var s=new Image;function u(){e.setAttribute("width",s.width),e.setAttribute("height",s.height)}return a.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=a,s.complete?u():(s.onload=u,s.src=s.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=o},function(t,e,n){var i=n(0),r=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=i.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=r},function(t,e,n){var i=n(0),r=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=i.uniqueId("marker_");n.setAttribute("id",r);var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("stroke","none"),o.setAttribute("fill",t.stroke||"#000"),n.appendChild(o),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=o,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,o):this._setMarker(t.lineWidth,o),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,r=this.cfg.path,o=this.cfg.d;i.isArray(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),o&&n.setAttribute("refX",o/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=r},function(t,e,n){var i=n(0),r={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},o={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return i.each(o,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=i.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return i.each(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},e.update=function(t,e){var n=this.cfg;return n[r[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();t.exports=a},function(t,e,n){var i=n(0),r=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(t){var e=t.match(a);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),i.each(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var u=function(){function t(t){var e=null,n=i.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,o,a=r.exec(t),u=i.mod(i.toRadian(parseFloat(a[1])),2*Math.PI),c=a[2];u>=0&&u<.5*Math.PI?(n={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=u&&u<Math.PI?(n={x:1,y:0},o={x:0,y:1}):Math.PI<=u&&u<1.5*Math.PI?(n={x:1,y:1},o={x:0,y:0}):(n={x:0,y:1},o={x:1,y:0});var h=Math.tan(u),l=h*h,d=(o.x-n.x+h*(o.y-n.y))/(l+1)+n.x,f=h*(o.x-n.x+h*(o.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",d),e.setAttribute("y2",f),e.innerHTML=s(c)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=o.exec(t),i=parseFloat(n[1]),r=parseFloat(n[2]),a=parseFloat(n[3]),u=n[4];e.setAttribute("cx",i),e.setAttribute("cy",r),e.setAttribute("r",a),e.innerHTML=s(u)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=u},function(t,e,n){var i=n(0),r=n(449),o=n(448),a=n(447),s=n(446),u=n(445),c=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=i.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,i=null,r=0;r<n.length;r++)if(n[r].match(t,e)){i=n[r].id;break}return i},e.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new a(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),i.id},e.addGradient=function(t){var e=new r(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new a(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var e=new o(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=c},function(t,e,n){var i=n(0),r=n(51).parseRadius,o=n(104),a=n(450),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},h={left:"left",start:"left",center:"middle",right:"end",end:"end"},l=function(){function t(t){if(!t)return null;var e=i.uniqueId("canvas_"),n=i.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new a(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=i.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()}));try{e._drawChildren(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{e.toDraw=!1}}()},e.drawSync=function(t){this._drawChildren(t)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(n.tobeRemoved&&(i.each(n.tobeRemoved,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&n.children.length>0&&this._drawChildren(t))},e._drawChildren=function(t){var e,n=t._cfg.children;if(n)for(var i=0;i<n.length;i++)(e=n[i]).isGroup?this._drawGroup(e,i):this._drawShape(e,i)},e._drawShape=function(t,e){var n=t._attrs,i=t._cfg,r=i.el;i.removed||i.destroyed?r&&r.parentNode.removeChild(i.el):(!r&&i.parent&&(this._createDom(t,e),this._updateShape(t)),r=i.el,!1!==i.visible?(i.visible&&r.hasAttribute("visibility")&&r.removeAttribute("visibility"),i.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):r.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var r in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[r]!==n[r]&&this._setAttribute(t,r,e[r]);t._cfg.attrs=i.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var r=t.type,o=t._attrs,a=t._cfg.el,s=this.context;if("marker"!==r&&"rect"!==r||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(r)&&~["x","y"].indexOf(e))a.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===r&&"points"===e)return n&&0!==n.length||(n=""),i.isArray(n)&&(n=(n=n.map((function(t){return t[0]+","+t[1]}))).join(" ")),void a.setAttribute("points",n);if("path"===e&&i.isArray(n))a.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=u[e],n){var c=null;c="boolean"==typeof n?s.getDefaultArrow(o,e):s.addArrow(o,e),a.setAttribute(e,"url(#"+c+")"),t._cfg[e]=c}else t._cfg[e]=null,a.removeAttribute(e);else"html"===e&&("string"==typeof n?a.innerHTML=n:(a.innerHTML="",a.appendChild(n))),u[e]&&a.setAttribute(u[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t,e){var n=s[t.type],i=t._attrs,r=t._cfg.parent;if(!n)throw new Error("the type"+t.type+"is not supported by svg");var o=document.createElementNS("http://www.w3.org/2000/svg",n);if(t._cfg.id&&(o.id=t._cfg.id),t._cfg.el=o,r){var a=r._cfg.el;if(void 0===e)a.appendChild(o);else{var u=r._cfg.el.childNodes;"svg"===a.tagName&&(e+=1),u.length<=e?a.appendChild(o):a.insertBefore(o,u[e])}}return t._cfg.attrs={},"text"===t.type?(o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(i.stroke||i.strokeStyle||o.setAttribute("stroke","none"),i.fill||i.fillStyle||o.setAttribute("fill","none")),o},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):o.Symbols[t.symbol||"circle"](t.x,t.y,e),i.isArray(n)&&(n=n.map((function(t){return t.join(" ")})).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,o=t.width,a=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+o+",0 l 0,"+a+" l"+-o+" 0 z";var u=r(s);return i.isArray(s)?1===s.length?u.r1=u.r2=u.r3=u.r4=s[0]:2===s.length?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):3===s.length?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s,[["M "+(e+u.r1)+","+n],["l "+(o-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(a-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-o)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-a)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map((function(t){return t.join(" ")})).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,i=[],r=0;r<9;r+=3)i.push(e[r]+","+e[r+1]);-1===(i=i.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var n=t._attrs,r=t._cfg.el;if(i.isString(e))r.setAttribute("href",e);else if(e instanceof Image)n.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",e.src);else if(e instanceof HTMLElement&&i.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())r.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var o=document.createElement("canvas");o.setAttribute("width",e.width),o.setAttribute("height",e.height),o.getContext("2d").putImageData(e,0,0),n.width||(r.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(r.setAttribute("height",e.height),t._attrs.height=e.height),r.setAttribute("href",o.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,r=t._cfg,o={x:n.x,y:n.y},a=[],s=n.startAngle,u=n.endAngle;i.isNumberEqual(u-s,2*Math.PI)&&(u-=1e-5);var c=e(s,n.re,o),h=e(u,n.re,o),l=u>s?1:0,d=Math.abs(u-s)>Math.PI?1:0,f=n.rs,p=n.re,g=e(s,n.rs,o),v=e(u,n.rs,o);n.rs>0?(a.push("M "+h.x+","+h.y),a.push("L "+v.x+","+v.y),a.push("A "+f+","+f+",0,"+d+","+(1===l?0:1)+","+g.x+","+g.y),a.push("L "+c.x+" "+c.y)):(a.push("M "+o.x+","+o.y),a.push("L "+c.x+","+c.y)),a.push("A "+p+","+p+",0,"+d+","+l+","+h.x+","+h.y),n.rs>0?a.push("L "+v.x+","+v.y):a.push("Z"),r.el.setAttribute("d",a.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,i=t._cfg.el;for(var r in this._setFont(t),e)if(e[r]!==n[r]){if("text"===r){this._setText(t,""+e[r]);continue}if("fillStyle"===r||"strokeStyle"===r){this._setColor(t,r,e[r]);continue}if("matrix"===r){this._setTransform(t);continue}u[r]&&i.setAttribute(u[r],e[r])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,i=n.fontSize;e.setAttribute("alignment-baseline",c[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",h[n.textAlign]||"left"),i&&+i<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+i/12,+i/12],["t",n.x,n.y]]))},e._setText=function(t,e){var n=t._cfg.el,r=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var o=t._attrs.x,a=e.split("\n"),s=a.length-1,u="";i.each(a,(function(t,e){0===e?"alphabetic"===r?u+='<tspan x="'+o+'" dy="'+-s+'em">'+t+"</tspan>":"top"===r?u+='<tspan x="'+o+'" dy="0.9em">'+t+"</tspan>":"middle"===r?u+='<tspan x="'+o+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===r?u+='<tspan x="'+o+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===r&&(u+='<tspan x="'+o+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):u+='<tspan x="'+o+'" dy="1em">'+t+"</tspan>"})),n.innerHTML=u}else n.innerHTML=e;else n.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var i=this.context.addClip(e);n.setAttribute("clip-path","url(#"+i+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var i=t._cfg.el,r=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=r.find("gradient",n);o||(o=r.addGradient(n)),i.setAttribute(u[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var a=r.find("pattern",n);a||(a=r.addPattern(n)),i.setAttribute(u[e],"url(#"+a+")")}else i.setAttribute(u[e],n);else i.setAttribute(u[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(i.dx||i.dy||i.blur||i.color){var r=this.context.find("filter",i);r||(r=this.context.addShadow(i,this)),e.setAttribute("filter","url(#"+r+")")}else e.removeAttribute("filter")},t}();t.exports=l},function(t,e,n){t.exports={painter:n(451),getShape:n(444)}},function(t,e,n){var i=n(0),r=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t,e){var n=t.match(c);i.each(n,(function(t){t=t.split(":"),e.addColorStop(t[0],t[1])}))}t.exports={parsePath:function(t){return t=t||[],i.isArray(t)?t:i.isString(t)?(t=t.match(r),i.each(t,(function(e,n){if((e=e.match(o))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}i.each(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0},parseStyle:function(t,e,n){if(i.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var r,o,s=a.exec(t),u=i.mod(i.toRadian(parseFloat(s[1])),2*Math.PI),c=s[2],l=e.getBBox();u>=0&&u<.5*Math.PI?(r={x:l.minX,y:l.minY},o={x:l.maxX,y:l.maxY}):.5*Math.PI<=u&&u<Math.PI?(r={x:l.maxX,y:l.minY},o={x:l.minX,y:l.maxY}):Math.PI<=u&&u<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},o={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},o={x:l.maxX,y:l.minY});var d=Math.tan(u),f=d*d,p=(o.x-r.x+d*(o.y-r.y))/(f+1)+r.x,g=d*(o.x-r.x+d*(o.y-r.y))/(f+1)+r.y,v=n.createLinearGradient(r.x,r.y,p,g);return h(c,v),v}(t,e,n);if("r"===t[0])return function(t,e,n){var i=s.exec(t),r=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3]),u=i[4];if(0===a){var l=u.match(c);return l[l.length-1].split(":")[1]}var d=e.getBBox(),f=d.maxX-d.minX,p=d.maxY-d.minY,g=Math.sqrt(f*f+p*p)/2,v=n.createRadialGradient(d.minX+f*r,d.minY+p*o,a*g,d.minX+f/2,d.minY+p/2,g);return h(u,v),v}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var i,r,o=u.exec(t),a=o[1],s=o[2];function c(){i=n.createPattern(r,a),e.setSilent("pattern",i),e.setSilent("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?c():(r.onload=c,r.src=r.src),i}(t,e,n)}return t}}}},function(t,e,n){var i=n(0),r=n(453),o=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],a=function(){function t(t){if(!t)return null;var e=i.uniqueId("canvas_"),n=i.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=i.requestAnimationFrame((function(){e.animateHandler=void 0,e.toDraw&&n()})),e.beforeDraw();try{e._drawGroup(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t)}finally{e.toDraw=!1}}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var i=0;i<e.length;i++)n=e[i],e[i].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var a in n)if(o.indexOf(a)>-1){var s=n[a];"fillStyle"===a&&(s=r.parseStyle(s,t,e)),"strokeStyle"===a&&(s=r.parseStyle(s,t,e)),"lineDash"===a&&e.setLineDash?i.isArray(s)?e.setLineDash(s):i.isString(s)&&e.setLineDash(s.split(" ")):e[a]=s}},t}();t.exports=a},function(t,e,n){t.exports={painter:n(454)}},function(t,e,n){t.exports={canvas:n(455),svg:n(452)}},function(t,e,n){var i=n(0),r=n(103),o=n(112),a=n(202),s=n(203),u=s.interpolate,c=s.interpolateArray,h=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};function l(t,e,n){var o,s=e.startTime;if(n<s+e.delay||e.isPaused)return!1;var h=e.duration,l=e.easing;if(n=n-s-e.delay,e.repeat)o=n%h/h,o=a[l](o);else{if(!((o=n/h)<1)){var d=e.toAttrs||e.onFrame(1);return t.attr(d),e.toMatrix&&t.setMatrix(e.toMatrix),!0}o=a[l](o)}if(e.onFrame){var f=e.onFrame(o);t.attr(f)}else!function(t,e,n){var o={},a=e.toAttrs,s=e.fromAttrs,h=e.toMatrix;if(!t.get("destroyed")){var l;for(var d in a)if(!i.isEqual(s[d],a[d]))if("path"===d){var f=a[d],p=s[d];f.length>p.length?(f=r.parsePathString(a[d]),p=r.parsePathString(s[d]),p=r.fillPathByDiff(p,f),p=r.formatPath(p,f),e.fromAttrs.path=p,e.toAttrs.path=f):e.pathFormatted||(f=r.parsePathString(a[d]),p=r.parsePathString(s[d]),p=r.formatPath(p,f),e.fromAttrs.path=p,e.toAttrs.path=f,e.pathFormatted=!0),o[d]=[];for(var g=0;g<f.length;g++){for(var v=f[g],m=p[g],y=[],b=0;b<v.length;b++)i.isNumber(v[b])&&m&&i.isNumber(m[b])?(l=u(m[b],v[b]),y.push(l(n))):y.push(v[b]);o[d].push(y)}}else l=u(s[d],a[d]),o[d]=l(n);if(h){var x=c(e.fromMatrix,h)(n);t.setMatrix(x)}t.attr(o)}}(t,e,o);return!1}i.augment(h,{initTimer:function(){var t,e,n,i=this,r=this;r._timer=o.timer((function(o){if(r._current=o,i._animators.length>0){for(var a=i._animators.length-1;a>=0;a--)if((t=i._animators[a]).get("destroyed"))r.removeAnimator(a);else{if(!t.get("pause").isPaused)for(var s=(e=t.get("animators")).length-1;s>=0;s--)n=e[s],l(t,n,o)&&(e.splice(s,1),n.callback&&n.callback());0===e.length&&r.removeAnimator(a)}i.canvas.draw()}}))},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach((function(t){t.stopAnimate()})),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=h},function(t,e,n){var i=n(0),r=n(106),o={arc:n(76),ellipse:n(189),line:n(77)},a=i.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(t,e,n){return n.createPath(a),a.isPointInPath(t,e)}var u={arc:function(t,e){var n=this._attrs,i=n.x,o=n.y,a=n.r,s=n.startAngle,u=n.endAngle,c=n.clockwise,h=this.getHitLineWidth();return!!this.hasStroke()&&r.arcline(i,o,a,s,u,c,h,t,e)},circle:function(t,e){var n=this._attrs,i=n.x,o=n.y,a=n.r,s=this.getHitLineWidth(),u=this.hasFill(),c=this.hasStroke();return u&&c?r.circle(i,o,a,t,e)||r.arcline(i,o,a,0,2*Math.PI,!1,s,t,e):u?r.circle(i,o,a,t,e):!!c&&r.arcline(i,o,a,0,2*Math.PI,!1,s,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return r.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,o=this.hasFill(),a=this.hasStroke(),s=n.x,u=n.y,c=n.rx,h=n.ry,l=this.getHitLineWidth(),d=c>h?c:h,f=c>h?1:c/h,p=c>h?h/c:1,g=[t,e,1],v=[1,0,0,0,1,0,0,0,1];i.mat3.scale(v,v,[f,p]),i.mat3.translate(v,v,[s,u]);var m=i.mat3.invert([],v);return i.vec3.transformMat3(g,g,m),o&&a?r.circle(0,0,d,g[0],g[1])||r.arcline(0,0,d,0,2*Math.PI,!1,l,g[0],g[1]):o?r.circle(0,0,d,g[0],g[1]):!!a&&r.arcline(0,0,d,0,2*Math.PI,!1,l,g[0],g[1])},fan:function(t,e){var n=this,a=n.hasFill(),s=n.hasStroke(),u=n._attrs,c=u.x,h=u.y,l=u.rs,d=u.re,f=u.startAngle,p=u.endAngle,g=u.clockwise,v=[t-c,e-h],m=i.vec2.angleTo([1,0],v);function y(){var t=o.arc.nearAngle(m,f,p,g);if(i.isNumberEqual(m,t)){var e=i.vec2.squaredLength(v);if(l*l<=e&&e<=d*d)return!0}return!1}function b(){var i=n.getHitLineWidth(),o={x:Math.cos(f)*l+c,y:Math.sin(f)*l+h},a={x:Math.cos(f)*d+c,y:Math.sin(f)*d+h},s={x:Math.cos(p)*l+c,y:Math.sin(p)*l+h},u={x:Math.cos(p)*d+c,y:Math.sin(p)*d+h};return!!(r.line(o.x,o.y,a.x,a.y,i,t,e)||r.line(s.x,s.y,u.x,u.y,i,t,e)||r.arcline(c,h,l,f,p,g,i,t,e)||r.arcline(c,h,d,f,p,g,i,t,e))}return a&&s?y()||b():a?y():!!s&&b()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var i=n.x,o=n.y,a=n.width,s=n.height;return r.rect(i,o,a,s,t,e)},line:function(t,e){var n=this._attrs,i=n.x1,o=n.y1,a=n.x2,s=n.y2,u=this.getHitLineWidth();return!!this.hasStroke()&&r.line(i,o,a,s,u,t,e)},path:function(t,e){var n=this,r=n.get("segments"),o=n.hasFill(),a=n.hasStroke();function u(){if(!i.isEmpty(r)){for(var o=n.getHitLineWidth(),a=0,s=r.length;a<s;a++)if(r[a].isInside(t,e,o))return!0;return!1}}return o&&a?s(t,e,n)||u():o?s(t,e,n):!!a&&u()},marker:function(t,e){var n=this._attrs,i=n.x,o=n.y,a=n.radius||n.r,s=this.getHitLineWidth();return r.circle(i,o,a+s/2,t,e)},polygon:function(t,e){var n=this,i=n.hasFill(),o=n.hasStroke();function a(){var i=n._attrs.points;if(i.length<2)return!1;var o=n.getHitLineWidth(),a=i.slice(0);return i.length>=3&&a.push(i[0]),r.polyline(a,o,t,e)}return i&&o?s(t,e,n)||a():i?s(t,e,n):!!o&&a()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var i=n.points;if(i.length<2)return!1;var o=n.lineWidth;return r.polyline(i,o,t,e)}return!1},rect:function(t,e){var n=this,i=n.hasFill(),o=n.hasStroke();function a(){var i=n._attrs,o=i.x,a=i.y,s=i.width,u=i.height,c=i.radius,h=n.getHitLineWidth();if(0===c){var l=h/2;return r.line(o-l,a,o+s+l,a,h,t,e)||r.line(o+s,a-l,o+s,a+u+l,h,t,e)||r.line(o+s+l,a+u,o-l,a+u,h,t,e)||r.line(o,a+u+l,o,a-l,h,t,e)}return r.line(o+c,a,o+s-c,a,h,t,e)||r.line(o+s,a+c,o+s,a+u-c,h,t,e)||r.line(o+s-c,a+u,o+c,a+u,h,t,e)||r.line(o,a+u-c,o,a+c,h,t,e)||r.arcline(o+s-c,a+c,c,1.5*Math.PI,2*Math.PI,!1,h,t,e)||r.arcline(o+s-c,a+u-c,c,0,.5*Math.PI,!1,h,t,e)||r.arcline(o+c,a+u-c,c,.5*Math.PI,Math.PI,!1,h,t,e)||r.arcline(o+c,a+c,c,Math.PI,1.5*Math.PI,!1,h,t,e)}return i&&o?s(t,e,n)||a():i?s(t,e,n):!!o&&a()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return r.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=u[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){var i=n(11);i.Arc=n(188),i.Circle=n(187),i.Dom=n(186),i.Ellipse=n(185),i.Fan=n(184),i.Image=n(183),i.Line=n(182),i.Marker=n(104),i.Path=n(181),i.Polygon=n(180),i.Polyline=n(179),i.Rect=n(178),i.Text=n(177),t.exports=i},function(t,e,n){var i=n(0),r=n(78),o=n(191),a=["click","mousedown","mouseup","dblclick","contextmenu","mouseout","mouseover","mousemove","dragstart","drag","dragend","dragenter","dragleave","drop"],s=function(){};i.augment(s,o,{emit:function(t,e){var n=arguments;if(o.prototype.emit.apply(this,n),!(n.length>=2&&n[1]instanceof r&&n[1].propagationStopped)&&a.indexOf(t)>=0&&e.target===this)for(var i=this._cfg.parent;i&&!i.get("destroyed");)i.emit.apply(i,n),i=i._cfg.parent}}),t.exports=s},function(t,e,n){function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var r=n(0),o={delay:"delay",repeat:"repeat",rotate:"rotate"},a={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,n,s,u){void 0===u&&(u=0),this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.setSilent("timeline",c));var h=this.get("animators")||[];c._timer||c.initTimer(),r.isNumber(s)&&(u=s,s=null),r.isFunction(n)?(s=n,n="easeLinear"):n=n||"easeLinear";var l={repeat:t.repeat,duration:e,easing:n,callback:s,delay:u,startTime:c.getTime(),id:r.uniqueId()};if(t.onFrame)l.onFrame=t.onFrame;else{var d=function(t,e){var n={matrix:null,attrs:{}},i=e._attrs;for(var s in t)if("transform"===s)n.matrix=r.transform(e.getMatrix(),t[s]);else if("matrix"===s)n.matrix=t[s];else{if(a[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[s]))continue;o[s]||i[s]===t[s]||("rotate"===s&&(e._attrs.rotate=e._attrs.rotate||0),n.attrs[s]=t[s])}return n}(t,this);l=i({fromAttrs:function(t,e){var n={},i=e._attrs;for(var r in t.attrs)n[r]=i[r];return n}(d,this),toAttrs:d.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:d.matrix},l)}h.length>0?h=function(t,e){if(e.onFrame)return t;var n=e.delay,i=Object.prototype.hasOwnProperty;return r.each(e.toAttrs,(function(e,o){r.each(t,(function(t){n<t.startTime+t.duration&&i.call(t.toAttrs,o)&&(delete t.toAttrs[o],delete t.fromAttrs[o])}))})),e.toMatrix&&r.each(t,(function(t){n<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix})),t}(h,l):c.addAnimator(this),h.push(l),this.setSilent("animators",h),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,(function(e){t.attr(e.toAttrs||e.onFrame(1)),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()})),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null})),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var i=n(0);function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function o(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){r(e)||(o(e)?(t[0]*=e[0],t[4]*=e[4]):i.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return i.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return i.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return i.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,i=this.get("y")||0;return this.translate(t-n,e-i),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return i.each(t,(function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",i.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}})),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),i.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var r=[1,0,0,0,1,0,0,0,1];return i.each(n,(function(t){i.mat3.multiply(r,t.attr("matrix"),r)})),r},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;e&&a(t,e.getTotalMatrix()),a(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(o(e))t[0]/=e[0],t[1]/=e[4];else{var n=i.mat3.invert([],e);n&&i.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var i=n(0);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(i.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(i.isObject(t)){for(var n in t)this._setAttr(n,t[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var i=n(0),r=n(78),o=["mousedown","mouseup","dblclick","mouseenter","mouseout","mouseover","mousemove","mouseleave"],a=function(){return(new Date).getTime()},s=null,u=null,c={},h=null,l=0;t.exports={registerEvent:function(){var t=this,e=this.get("el");i.each(o,(function(n){e.addEventListener(n,(function(e){t._triggerEvent(n,e)}),!1)})),e.addEventListener("touchstart",(function(e){i.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])}),!1),e.addEventListener("touchmove",(function(e){i.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])}),!1),e.addEventListener("touchend",(function(e){i.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])}),!1),e.addEventListener("contextmenu",(function(e){t._triggerEvent("contextmenu",e),e.preventDefault()}),!1)},_getEmitter:function(t,e){if(t){if(!i.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this._getEmitter(n,e)}},_getEventObj:function(t,e,n,i){var o=new r(t,e,!0,!0);return o.x=n.x,o.y=n.y,o.clientX=e.clientX,o.clientY=e.clientY,o.currentTarget=i,o.target=i,o},_triggerEvent:function(t,e){var n=this.getPointByClient(e.clientX,e.clientY),i=this.getShape(n.x,n.y,e),r=this.get("el");if(h&&"svg"===this.getRenderer()&&(i=this.getShape(n.x,n.y)),"mousemove"===t){if(s&&s!==i&&(this._emitEvent("mouseout",e,n,s),this._emitEvent("mouseleave",e,n,s),h&&this._emitEvent("dragleave",e,n,s),i&&!i.destroyed||(r.style.cursor="default")),h&&(this._emitEvent("drag",e,n,h),this._emitEvent("mousemove",e,n,i)),i){if(!h)if(u===i){var o=a()-l,d=c.x-e.clientX,f=c.y-e.clientY;o>120||d*d+f*f>40?(h=i,u=null,this._emitEvent("dragstart",e,n,i)):this._emitEvent("mousemove",e,n,i)}else this._emitEvent("mousemove",e,n,i);s!==i&&(this._emitEvent("mouseenter",e,n,i),this._emitEvent("mouseover",e,n,i),h&&this._emitEvent("dragenter",e,n,i))}else{var p=this._getEventObj("mousemove",e,n,this);this.emit("mousemove",p)}s=i}else if(this._emitEvent(t,e,n,i||this),h||"mousedown"!==t||0!==e.button||(u=i,c={x:e.clientX,y:e.clientY},l=a()),"mouseup"===t&&0===e.button){var g=c.x-e.clientX,v=c.y-e.clientY,m=g*g+v*v,y=a();(m<40||y-l<200)&&(l=0,this._emitEvent("click",e,n,u||this)),h&&(h._cfg.capture=!0,this._emitEvent("dragend",e,n,h),h=null,this._emitEvent("drop",e,n,i||this)),u=null}i&&!i.get("destroyed")&&(r.style.cursor=i.attr("cursor")||"default")},_emitEvent:function(t,e,n,i){var r=this._getEventObj(t,e,n,i),o=this._getEmitter(i,e);return o&&!o.get("destroyed")&&o.emit(t,r),o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new i.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=s,e.multiply=u,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},e.distance=h,e.squaredDistance=l,e.squaredLength=d,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=f,e.dot=p,e.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=r*u-o*s,t[1]=o*a-i*u,t[2]=i*s-r*a,t},e.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t},e.hermite=function(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+i[0]*c+r[0]*h,t[1]=e[1]*s+n[1]*u+i[1]*c+r[1]*h,t[2]=e[2]*s+n[2]*u+i[2]*c+r[2]*h,t},e.bezier=function(t,e,n,i,r,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,d=u*o;return t[0]=e[0]*c+n[0]*h+i[0]*l+r[0]*d,t[1]=e[1]*c+n[1]*h+i[1]*l+r[1]*d,t[2]=e[2]*c+n[2]*h+i[2]*l+r[2]*d,t},e.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI,r=2*i.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},e.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=r*c-o*u,l=o*s-i*c,d=i*u-r*s,f=r*d-o*l,p=o*h-i*d,g=i*l-r*h,v=2*a;return h*=v,l*=v,d*=v,f*=2,p*=2,g*=2,t[0]=s+h+f,t[1]=u+l+p,t[2]=c+d+g,t},e.rotateX=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=a(t[0],t[1],t[2]),i=a(e[0],e[1],e[2]);f(n,n),f(i,i);var r=p(n,i);return r>1?0:r<-1?Math.PI:Math.acos(r)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(107));function r(){var t=new i.ARRAY_TYPE(3);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function a(t,e,n){var r=new i.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function h(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function l(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function d(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function f(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=s,e.mul=u,e.div=c,e.dist=h,e.sqrDist=l,e.len=o,e.sqrLen=d,e.forEach=function(){var t=r();return function(e,n,i,r,o,a){var s=void 0,u=void 0;for(n||(n=3),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new i.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new i.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},e.lerp=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},e.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},e.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},e.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},e.rotate=function(t,e,n,i){var r=e[0]-n[0],o=e[1]-n[1],a=Math.sin(i),s=Math.cos(i);return t[0]=r*s-o*a+n[0],t[1]=r*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=n*n+i*i;a>0&&(a=1/Math.sqrt(a));var s=r*r+o*o;s>0&&(s=1/Math.sqrt(s));var u=(n*r+i*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(107));function r(){var t=new i.ARRAY_TYPE(2);return i.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function c(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function h(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}e.len=h,e.sub=o,e.mul=a,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=l,e.forEach=function(){var t=r();return function(e,n,i,r,o,a){var s=void 0,u=void 0;for(n||(n=2),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new i.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,o,a,s,u,c){var h=new i.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=o,h[5]=a,h[6]=s,h[7]=u,h[8]=c,h},e.set=function(t,e,n,i,r,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,d=-h*o+s*u,f=c*o-a*u,p=n*l+i*d+r*f;return p?(p=1/p,t[0]=l*p,t[1]=(-h*i+r*c)*p,t[2]=(s*i-r*a)*p,t[3]=d*p,t[4]=(h*n-r*u)*p,t[5]=(-s*n+r*o)*p,t[6]=f*p,t[7]=(-c*n+i*u)*p,t[8]=(a*n-i*o)*p,t):null},e.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=r*c-i*h,t[2]=i*s-r*a,t[3]=s*u-o*h,t[4]=n*h-r*u,t[5]=r*o-n*s,t[6]=o*c-a*u,t[7]=i*u-n*c,t[8]=n*a-i*o,t},e.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*r+a*s)+i*(u*r-o*s)},e.multiply=r,e.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=d*i+f*a+c,t[7]=d*r+f*s+h,t[8]=d*o+f*u+l,t},e.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*i+d*a,t[1]=f*r+d*s,t[2]=f*o+d*u,t[3]=f*a-d*i,t[4]=f*s-d*r,t[5]=f*u-d*o,t[6]=c,t[7]=h,t[8]=l,t},e.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,u=r+r,c=n*a,h=i*a,l=i*s,d=r*a,f=r*s,p=r*u,g=o*a,v=o*s,m=o*u;return t[0]=1-l-p,t[3]=h-m,t[6]=d+v,t[1]=h+m,t[4]=1-c-p,t[7]=f-g,t[2]=d-v,t[5]=f+g,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*s-i*a,b=n*u-r*a,x=n*c-o*a,w=i*u-r*s,_=i*c-o*s,M=r*c-o*u,k=h*g-l*p,S=h*v-d*p,E=h*m-f*p,C=l*v-d*g,T=l*m-f*g,P=d*m-f*v,A=y*P-b*T+x*C+w*E-_*S+M*k;return A?(A=1/A,t[0]=(s*P-u*T+c*C)*A,t[1]=(u*E-a*P-c*S)*A,t[2]=(a*T-s*E+c*k)*A,t[3]=(r*T-i*P-o*C)*A,t[4]=(n*P-r*E+o*S)*A,t[5]=(i*E-n*T-o*k)*A,t[6]=(g*M-v*_+m*w)*A,t[7]=(v*x-p*M-m*b)*A,t[8]=(p*_-g*x+m*y)*A,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],d=e[0],f=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=e[6],b=e[7],x=e[8];return Math.abs(n-d)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-p)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-b)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(l-x)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(107));function r(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],d=n[0],f=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return t[0]=d*i+f*a+p*c,t[1]=d*r+f*s+p*h,t[2]=d*o+f*u+p*l,t[3]=g*i+v*a+m*c,t[4]=g*r+v*s+m*h,t[5]=g*o+v*u+m*l,t[6]=y*i+b*a+x*c,t[7]=y*r+b*s+x*h,t[8]=y*o+b*u+x*l,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=r,e.sub=o},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<n}},function(t,e){var n=Array.prototype,i=n.splice,r=n.indexOf,o=n.slice;t.exports=function(t){for(var e=o.call(arguments,1),n=0;n<e.length;n++)for(var a=e[n],s=-1;(s=r.call(t,a))>-1;)i.call(t,s,1);return t}},function(t,e,n){var i=n(14),r=n(53),o=n(16);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(o(e)||o(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var a=!0,s=0;s<e.length&&(a=t(e[s],n[s]));s++);return a}if(i(e)||i(n)){var u=Object.keys(e),c=Object.keys(n);if(u.length!==c.length)return!1;for(var h=!0,l=0;l<u.length&&(h=t(e[u[l]],n[u[l]]));l++);return h}return!1}},function(t,e,n){var i=n(26);t.exports=function(t){return i(t)?"":t.toString()}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e,n){var i=n(26),r=n(53),o=n(477),a=n(476),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(i(t))return!0;if(r(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e,n){var i=n(4);t.exports=function(t){return i(t,"Boolean")}},function(t,e,n){var i=n(0),r=n(464),o=n(193),a=n(457),s=n(456),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},i.extend(u,o),i.augment(u,r,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this.registerEvent(this)},_scale:function(){if("svg"!==this._cfg.renderType){var t=this.get("pixelRatio");this.scale(t,t)}},_setGlobalParam:function(){var t=this.get("renderer")||"canvas";"svg"===t?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",i.getRatio()),this._cfg.renderType=t;var e=s[t];this._cfg.renderer=e,this._cfg.canvas=this;var n=new a(this);this._cfg.timeline=n},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),i.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),i=this.get("widthStyle"),r=this.get("heightStyle");t.style.width=i,t.style.height=r,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),i=t*n,r=e*n;this.set("widthCanvas",i),this.set("heightCanvas",r),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),i=this.get("pixelRatio")||1,r=n.getBoundingClientRect();return{x:(t-r.left)*i,y:(e-r.top)*i}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),i=this.get("pixelRatio")||1;return{clientX:t/i+n.left,clientY:e/i+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):u.superclass.getShape.call(this,t,e)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){var i=n(10),r=n(81),o=n(176),a=n(173),s=n(117),u={Graph:n(115),TreeGraph:n(205),Util:n(1),G:r,Global:i,Shape:o,Layout:a,registerNode:o.registerNode,registerEdge:o.registerEdge,registerBehavior:s.registerBehavior,registerLayout:a.registerLayout,version:i.version};t.exports=u}])}))},a9f5:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cytoscape"},[n("vue-cytoscape",{ref:"cytoscape",staticClass:"cytoscape",attrs:{options:t.options.cytoscape,category:t.options.category,data:t.graphData},on:{mouseover:t.createTippy,ready:t.cytoscapeInit}}),n("vue-cytoscape-legend",{staticClass:"legend",attrs:{data:t.graphData,options:t.options.nodeLegend,category:t.options.category.nodes},model:{value:t.legendNodeModel,callback:function(e){t.legendNodeModel=e},expression:"legendNodeModel"}}),n("vue-cytoscape-legend",{staticClass:"legend",attrs:{data:t.graphData,type:"edges",options:t.options.edgeLegend,category:t.options.category.edges},model:{value:t.legendEdgeModel,callback:function(e){t.legendEdgeModel=e},expression:"legendEdgeModel"}}),!t.options.cytoscape.layout.animate&&t.layoutProgress<1?n("div",{staticClass:"cytoscape--container__loading"},[0===t.layoutProgress?n("div",{staticClass:"center"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),n("div",{staticClass:"text"},[t._v("...")])]):n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar__outer"},[n("div",{staticClass:"progress-bar__inner",style:{width:t.progressText}})]),n("div",{staticClass:"text"},[t._v(" "+t._s(t.progressText))])])]):t._e()],1)},r=[],o=(n("6689"),n("704c"),n("4d0a"),n("f9e0"),n("c292"),n("ccaa"),n("8e8a")),a=n("d497"),s=n.n(a),u=n("7c75"),c=n.n(u),h=n("7a39"),l=n.n(h),d=n("605d"),f=n.n(d),p=n("84d0"),g='.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}';function v(){return v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},v.apply(this,arguments)}var m="4.3.5",y="undefined"!==typeof window&&"undefined"!==typeof document,b=y?navigator.userAgent:"",x=/MSIE |Trident\//.test(b),w=/UCBrowser\//.test(b),_=y&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,M={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},k=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],S=y?Element.prototype:{},E=S.matches||S.matchesSelector||S.webkitMatchesSelector||S.mozMatchesSelector||S.msMatchesSelector;function C(t){return[].slice.call(t)}function T(t,e){return P(t,(function(t){return E.call(t,e)}))}function P(t,e){while(t){if(e(t))return t;t=t.parentElement}return null}var A={passive:!0},O=4,D="x-placement",N="x-out-of-boundaries",I="tippy-iOS",L="tippy-active",j="tippy-popper",B="tippy-tooltip",R="tippy-content",z="tippy-backdrop",F="tippy-arrow",Y="tippy-roundarrow",H=".".concat(j),W=".".concat(B),G=".".concat(R),q=".".concat(z),U=".".concat(F),V=".".concat(Y),X=!1;function Z(){X||(X=!0,_&&document.body.classList.add(I),window.performance&&document.addEventListener("mousemove",$))}var Q=0;function $(){var t=performance.now();t-Q<20&&(X=!1,document.removeEventListener("mousemove",$),_||document.body.classList.remove(I)),Q=t}function K(){var t=document,e=t.activeElement;e&&e.blur&&e._tippy&&e.blur()}function J(){document.addEventListener("touchstart",Z,A),window.addEventListener("blur",K)}var tt=Object.keys(M);function et(t){return tt.reduce((function(e,n){var i=(t.getAttribute("data-tippy-".concat(n))||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(r){e[n]=i}return e}),{})}function nt(t){var e={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(e,n){t.attributes[e]=n},getAttribute:function(e){return t.attributes[e]},removeAttribute:function(e){delete t.attributes[e]},hasAttribute:function(e){return e in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(e){t.classList.classNames[e]=!0},remove:function(e){delete t.classList.classNames[e]},contains:function(e){return e in t.classList.classNames}}};for(var n in e)t[n]=e[n]}function it(t){return"[object Object]"==={}.toString.call(t)&&!t.addEventListener}function rt(t){return!!t._tippy&&!E.call(t,H)}function ot(t,e){return{}.hasOwnProperty.call(t,e)}function at(t){if(dt(t))return[t];if(t instanceof NodeList)return C(t);if(Array.isArray(t))return t;try{return C(document.querySelectorAll(t))}catch(e){return[]}}function st(t,e,n){if(Array.isArray(t)){var i=t[e];return null==i?n:i}return t}function ut(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout((function(){t(i)}),e)};var n}function ct(t,e){return t&&t.modifiers&&t.modifiers[e]}function ht(t,e){return t.indexOf(e)>-1}function lt(t){return t instanceof Element}function dt(t){return!(!t||!ot(t,"isVirtual"))||lt(t)}function ft(){return"innerHTML"}function pt(t,e){return"function"===typeof t?t.apply(null,e):t}function gt(t,e){t.filter((function(t){return"flip"===t.name}))[0].enabled=e}function vt(t){return!lt(t)||E.call(t,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!t.hasAttribute("disabled")}function mt(){return document.createElement("div")}function yt(t,e){t.forEach((function(t){t&&(t.style.transitionDuration="".concat(e,"ms"))}))}function bt(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function xt(t,e){var n=v({},e,{content:pt(e.content,[t])},e.ignoreAttributes?{}:et(t));return(n.arrow||w)&&(n.animateFill=!1),n}function wt(t,e){Object.keys(t).forEach((function(t){if(!ot(e,t))throw new Error("[tippy]: `".concat(t,"` is not a valid option"))}))}function _t(t,e){t[ft()]=lt(e)?e[ft()]:e}function Mt(t,e){if(lt(e.content))_t(t,""),t.appendChild(e.content);else if("function"!==typeof e.content){var n=e.allowHTML?"innerHTML":"textContent";t[n]=e.content}}function kt(t){return{tooltip:t.querySelector(W),backdrop:t.querySelector(q),content:t.querySelector(G),arrow:t.querySelector(U)||t.querySelector(V)}}function St(t){t.setAttribute("data-inertia","")}function Et(t){t.removeAttribute("data-inertia")}function Ct(t){var e=mt();return"round"===t?(e.className=Y,_t(e,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):e.className=F,e}function Tt(){var t=mt();return t.className=z,t.setAttribute("data-state","hidden"),t}function Pt(t,e){t.setAttribute("tabindex","-1"),e.setAttribute("data-interactive","")}function At(t,e){t.removeAttribute("tabindex"),e.removeAttribute("data-interactive")}function Ot(t,e,n){var i=w&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[e+"EventListener"](i,n)}function Dt(t){var e=t.getAttribute(D);return e?e.split("-")[0]:""}function Nt(t){t.offsetHeight}function It(t,e,n){n.split(" ").forEach((function(n){t.classList[e](n+"-theme")}))}function Lt(t,e){var n=mt();n.className=j,n.id="tippy-".concat(t),n.style.zIndex=""+e.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",e.role&&n.setAttribute("role",e.role);var i=mt();i.className=B,i.style.maxWidth=e.maxWidth+("number"===typeof e.maxWidth?"px":""),i.setAttribute("data-size",e.size),i.setAttribute("data-animation",e.animation),i.setAttribute("data-state","hidden"),It(i,"add",e.theme);var r=mt();return r.className=R,r.setAttribute("data-state","hidden"),e.interactive&&Pt(n,i),e.arrow&&i.appendChild(Ct(e.arrowType)),e.animateFill&&(i.appendChild(Tt()),i.setAttribute("data-animatefill","")),e.inertia&&St(i),Mt(r,e),i.appendChild(r),n.appendChild(i),n}function jt(t,e,n){var i=kt(t),r=i.tooltip,o=i.content,a=i.backdrop,s=i.arrow;t.style.zIndex=""+n.zIndex,r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.style.maxWidth=n.maxWidth+("number"===typeof n.maxWidth?"px":""),n.role?t.setAttribute("role",n.role):t.removeAttribute("role"),e.content!==n.content&&Mt(o,n),!e.animateFill&&n.animateFill?(r.appendChild(Tt()),r.setAttribute("data-animatefill","")):e.animateFill&&!n.animateFill&&(r.removeChild(a),r.removeAttribute("data-animatefill")),!e.arrow&&n.arrow?r.appendChild(Ct(n.arrowType)):e.arrow&&!n.arrow&&r.removeChild(s),e.arrow&&n.arrow&&e.arrowType!==n.arrowType&&r.replaceChild(Ct(n.arrowType),s),!e.interactive&&n.interactive?Pt(t,r):e.interactive&&!n.interactive&&At(t,r),!e.inertia&&n.inertia?St(r):e.inertia&&!n.inertia&&Et(r),e.theme!==n.theme&&(It(r,"remove",e.theme),It(r,"add",n.theme))}function Bt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.exclude,n=t.duration;C(document.querySelectorAll(H)).forEach((function(t){var i=t._tippy;if(i){var r=!1;e&&(r=rt(e)?i.reference===e:t===e.popper),r||i.hide(n)}}))}function Rt(t,e,n,i){if(!t)return!0;var r=n.clientX,o=n.clientY,a=i.interactiveBorder,s=i.distance,u=e.top-o>("top"===t?a+s:a),c=o-e.bottom>("bottom"===t?a+s:a),h=e.left-r>("left"===t?a+s:a),l=r-e.right>("right"===t?a+s:a);return u||c||h||l}function zt(t){return-(t-10)+"px"}var Ft=1,Yt=[];function Ht(t,e){var n,i,r,o,a,s=xt(t,e);if(!s.multiple&&t._tippy)return null;var u,c,h,l,d=!1,f=!1,g=!1,m=!1,y=[],b=ut(nt,s.interactiveDebounce),w=Ft++,_=Lt(w,s),S=kt(_),E=null,I={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},j={id:w,reference:t,popper:_,popperChildren:S,popperInstance:E,props:s,state:I,clearDelayTimeouts:At,set:It,setContent:Bt,show:Wt,hide:Gt,enable:Tt,disable:Pt,destroy:qt};return t._tippy=j,_._tippy=j,$(),s.lazy||_t(),s.showOnInit&&St(),!s.a11y||s.target||vt(z())||z().setAttribute("tabindex","0"),_.addEventListener("mouseenter",(function(t){j.props.interactive&&j.state.isVisible&&"mouseenter"===n&&St(t,!0)})),_.addEventListener("mouseleave",(function(){j.props.interactive&&"mouseenter"===n&&document.addEventListener("mousemove",b)})),j;function B(){document.removeEventListener("mousemove",J)}function R(){document.body.removeEventListener("mouseleave",Et),document.removeEventListener("mousemove",b),Yt=Yt.filter((function(t){return t!==b}))}function z(){return j.props.triggerTarget||t}function F(){document.addEventListener("click",Ct,!0)}function Y(){document.removeEventListener("click",Ct,!0)}function W(){return[j.popperChildren.tooltip,j.popperChildren.backdrop,j.popperChildren.content]}function G(){var t=j.props.followCursor;return t&&"focus"!==n||X&&"initial"===t}function q(){yt([_],x?0:j.props.updateDuration);var e=t.getBoundingClientRect();function n(){var i=t.getBoundingClientRect();e.top===i.top&&e.right===i.right&&e.bottom===i.bottom&&e.left===i.left||j.popperInstance.scheduleUpdate(),e=i,j.state.isMounted&&requestAnimationFrame(n)}n()}function U(t,e){Z(t,(function(){!j.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&e()}))}function V(t,e){Z(t,e)}function Z(t,e){var n=j.popperChildren.tooltip;function i(t){t.target===n&&(Ot(n,"remove",i),e())}if(0===t)return e();Ot(n,"remove",h),Ot(n,"add",i),h=i}function Q(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];z().addEventListener(t,e,n),y.push({eventType:t,handler:e,options:n})}function $(){j.props.touchHold&&!j.props.target&&(Q("touchstart",et,A),Q("touchend",it,A)),j.props.trigger.trim().split(" ").forEach((function(t){if("manual"!==t)if(j.props.target)switch(t){case"mouseenter":Q("mouseover",at),Q("mouseout",dt);break;case"focus":Q("focusin",at),Q("focusout",dt);break;case"click":Q(t,at);break}else switch(Q(t,et),t){case"mouseenter":Q("mouseleave",it);break;case"focus":Q(x?"focusout":"blur",rt);break}}))}function K(){y.forEach((function(t){var e=t.eventType,n=t.handler,i=t.options;z().removeEventListener(e,n,i)})),y=[]}function J(e){var n=i=e,r=n.clientX,o=n.clientY;if(l){var a=P(e.target,(function(e){return e===t})),s=t.getBoundingClientRect(),u=j.props.followCursor,c="horizontal"===u,h="vertical"===u,d=ht(["top","bottom"],Dt(_)),f=_.getAttribute(D),p=!!f&&!!f.split("-")[1],g=d?_.offsetWidth:_.offsetHeight,m=g/2,y=d?0:p?g:m,b=d?p?g:m:0;!a&&j.props.interactive||(j.popperInstance.reference=v({},j.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:d?g:0,height:d?0:g,top:(c?s.top:o)-y,bottom:(c?s.bottom:o)+y,left:(h?s.left:r)-b,right:(h?s.right:r)+b}}}),j.popperInstance.update()),"initial"===u&&j.state.isVisible&&B()}}function tt(t){if(t){var n=T(t.target,j.props.target);n&&!n._tippy&&Ht(n,v({},j.props,{content:pt(e.content,[n]),appendTo:e.appendTo,target:"",showOnInit:!0}))}}function et(t){j.state.isEnabled&&!ft(t)&&(j.state.isVisible||(n=t.type,t instanceof MouseEvent&&(i=t,Yt.forEach((function(e){return e(t)})))),"click"===t.type&&!1!==j.props.hideOnClick&&j.state.isVisible?Et():St(t))}function nt(e){var n=T(e.target,H)===_,i=P(e.target,(function(e){return e===t}));n||i||Rt(Dt(_),_.getBoundingClientRect(),e,j.props)&&(R(),Et())}function it(t){if(!ft(t))return j.props.interactive?(document.body.addEventListener("mouseleave",Et),document.addEventListener("mousemove",b),void Yt.push(b)):void Et()}function rt(t){t.target===z()&&(j.props.interactive&&t.relatedTarget&&_.contains(t.relatedTarget)||Et())}function at(t){T(t.target,j.props.target)&&St(t)}function dt(t){T(t.target,j.props.target)&&Et()}function ft(t){var e="ontouchstart"in window,n=ht(t.type,"touch"),i=j.props.touchHold;return e&&X&&i&&!n||X&&!i&&n}function mt(){!m&&c&&(m=!0,Nt(_),c())}function _t(){var e=j.props.popperOptions,n=j.popperChildren,i=n.tooltip,r=n.arrow,o=ct(e,"preventOverflow");function a(t){j.props.flip&&!j.props.flipOnUpdate&&(t.flipped&&(j.popperInstance.options.placement=t.placement),gt(j.popperInstance.modifiers,!1)),i.setAttribute(D,t.placement),!1!==t.attributes[N]?i.setAttribute(N,""):i.removeAttribute(N),u&&u!==t.placement&&g&&(i.style.transition="none",requestAnimationFrame((function(){i.style.transition=""}))),u=t.placement,g=j.state.isVisible;var e=Dt(_),n=i.style;n.top=n.bottom=n.left=n.right="",n[e]=zt(j.props.distance);var r=o&&void 0!==o.padding?o.padding:O,a="number"===typeof r,s=v({top:a?r:r.top,bottom:a?r:r.bottom,left:a?r:r.left,right:a?r:r.right},!a&&r);s[e]=a?r+j.props.distance:(r[e]||0)+j.props.distance,j.popperInstance.modifiers.filter((function(t){return"preventOverflow"===t.name}))[0].padding=s,l=s}var s=v({eventsEnabled:!1,placement:j.props.placement},e,{modifiers:v({},e?e.modifiers:{},{preventOverflow:v({boundariesElement:j.props.boundary,padding:O},o),arrow:v({element:r,enabled:!!r},ct(e,"arrow")),flip:v({enabled:j.props.flip,padding:j.props.distance+O,behavior:j.props.flipBehavior},ct(e,"flip")),offset:v({offset:j.props.offset},ct(e,"offset"))}),onCreate:function(t){a(t),mt(),e&&e.onCreate&&e.onCreate(t)},onUpdate:function(t){a(t),mt(),e&&e.onUpdate&&e.onUpdate(t)}});j.popperInstance=new p["default"](t,_,s)}function Mt(){m=!1;var e=G();j.popperInstance?(gt(j.popperInstance.modifiers,j.props.flip),e||(j.popperInstance.reference=t,j.popperInstance.enableEventListeners()),j.popperInstance.scheduleUpdate()):(_t(),e||j.popperInstance.enableEventListeners());var n=j.props.appendTo,i="parent"===n?t.parentNode:pt(n,[t]);i.contains(_)||(i.appendChild(_),j.props.onMount(j),j.state.isMounted=!0)}function St(t,e){if(At(),!j.state.isVisible){if(j.props.target)return tt(t);if(d=!0,t&&!e&&j.props.onTrigger(j,t),j.props.wait)return j.props.wait(j,t);G()&&!j.state.isMounted&&(j.popperInstance||_t(),document.addEventListener("mousemove",J)),F();var n=st(j.props.delay,0,M.delay);n?r=setTimeout((function(){Wt()}),n):Wt()}}function Et(){if(At(),!j.state.isVisible)return B(),void Y();d=!1;var t=st(j.props.delay,1,M.delay);t?o=setTimeout((function(){j.state.isVisible&&Gt()}),t):a=requestAnimationFrame((function(){Gt()}))}function Ct(t){if(!j.props.interactive||!_.contains(t.target)){if(z().contains(t.target)){if(X)return;if(j.state.isVisible&&ht(j.props.trigger,"click"))return}!0===j.props.hideOnClick&&(At(),Gt())}}function Tt(){j.state.isEnabled=!0}function Pt(){j.state.isEnabled=!1}function At(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(a)}function It(e){e=e||{},wt(e,M),K();var n=j.props,r=xt(t,v({},j.props,{},e,{ignoreAttributes:!0}));r.ignoreAttributes=ot(e,"ignoreAttributes")?e.ignoreAttributes||!1:n.ignoreAttributes,j.props=r,$(),R(),b=ut(nt,r.interactiveDebounce),jt(_,n,r),j.popperChildren=kt(_),j.popperInstance&&(k.some((function(t){return ot(e,t)&&e[t]!==n[t]}))?(j.popperInstance.destroy(),_t(),j.state.isVisible&&j.popperInstance.enableEventListeners(),j.props.followCursor&&i&&J(i)):j.popperInstance.update())}function Bt(t){It({content:t})}function Wt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(j.props.duration,0,M.duration[1]);if(!j.state.isDestroyed&&j.state.isEnabled&&(!X||j.props.touch)&&!z().hasAttribute("disabled")&&!1!==j.props.onShow(j)){F(),_.style.visibility="visible",j.state.isVisible=!0,j.props.interactive&&z().classList.add(L);var e=W();yt(e.concat(_),0),c=function(){if(j.state.isVisible){var n=G();n&&i?J(i):n||j.popperInstance.update(),j.popperChildren.backdrop&&(j.popperChildren.content.style.transitionDelay=Math.round(t/12)+"ms"),j.props.sticky&&q(),yt([_],j.props.updateDuration),yt(e,t),bt(e,"visible"),V(t,(function(){j.props.aria&&z().setAttribute("aria-".concat(j.props.aria),_.id),j.props.onShown(j),j.state.isShown=!0}))}},Mt()}}function Gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(j.props.duration,1,M.duration[1]);if(!j.state.isDestroyed&&(j.state.isEnabled||f)&&(!1!==j.props.onHide(j)||f)){Y(),_.style.visibility="hidden",j.state.isVisible=!1,j.state.isShown=!1,g=!1,j.props.interactive&&z().classList.remove(L);var e=W();yt(e,t),bt(e,"hidden"),U(t,(function(){d||B(),j.props.aria&&z().removeAttribute("aria-".concat(j.props.aria)),j.popperInstance.disableEventListeners(),j.popperInstance.options.placement=j.props.placement,_.parentNode.removeChild(_),j.props.onHidden(j),j.state.isMounted=!1}))}}function qt(e){if(!j.state.isDestroyed){f=!0,j.state.isMounted&&Gt(0),K(),delete t._tippy;var n=j.props.target;n&&e&&lt(t)&&C(t.querySelectorAll(n)).forEach((function(t){t._tippy&&t._tippy.destroy()})),j.popperInstance&&j.popperInstance.destroy(),f=!1,j.state.isDestroyed=!0}}}function Wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.delay,i=void 0===n?t[0].props.delay:n,r=e.duration,o=void 0===r?0:r,a=!1;function s(t){a=t,l()}function u(e){e._originalProps.onShow(e),t.forEach((function(t){t.set({duration:o}),t.state.isVisible&&t.hide()})),s(!0)}function c(t){t._originalProps.onHide(t),s(!1)}function h(t){t._originalProps.onShown(t),t.set({duration:t._originalProps.duration})}function l(){t.forEach((function(t){t.set({onShow:u,onShown:h,onHide:c,delay:a?[0,Array.isArray(i)?i[1]:i]:i,duration:a?o:t._originalProps.duration})}))}t.forEach((function(t){t._originalProps?t.set(t._originalProps):t._originalProps=v({},t.props)})),l()}var Gt=!1;function qt(t,e){wt(e||{},M),Gt||(J(),Gt=!0);var n=v({},M,{},e);it(t)&&nt(t);var i=at(t).reduce((function(t,e){var i=e&&Ht(e,n);return i&&t.push(i),t}),[]);return dt(t)?i[0]:i}function Ut(){C(document.querySelectorAll("[data-tippy]")).forEach((function(t){var e=t.getAttribute("data-tippy");e&&qt(t,{content:e})}))}function Vt(t){if(y){var e=document.createElement("style");e.type="text/css",e.textContent=t,e.setAttribute("data-tippy-stylesheet","");var n=document.head,i=n.querySelector("style,link");i?n.insertBefore(e,i):n.appendChild(e)}}qt.version=m,qt.defaults=M,qt.setDefaults=function(t){Object.keys(t).forEach((function(e){M[e]=t[e]}))},qt.hideAll=Bt,qt.group=Wt,y&&setTimeout(Ut),Vt(g);var Xt=qt,Zt=(n("b4ed"),n("6ae8"),n("7a9e"),n("6ecb"),{name:"cytoscapePage",data:function(){var t=this;return{layoutProgress:0,tooltip:{},options:{nodeLegend:{show:!0,formatter:function(t){var e={hospital:"",clothes:"",computer:"",person:""};return Object.keys(e).forEach((function(n){t=t.replace(n,e[n])})),t},orient:"vertical",style:{padding:"10px",top:0,left:0},tagStyle:{borderWidth:"1px",borderStyle:"solid"},inactiveTagStyle:{borderColor:"#ccc"}},edgeLegend:{show:!0,style:{padding:"10px",top:0,right:0},tagStyle:{borderRadius:0,borderWidth:0,borderTopWidth:"2px",height:"0px","line-height":"10px"},inactiveTagStyle:{borderColor:"#ccc",backgroundColor:"none"},formatter:function(t){var e={has:"",love:"",goto:""};return Object.keys(e).forEach((function(n){t=t.replace(n,e[n])})),t}},cytoscape:{style:[{selector:"node",style:{shape:"round-rectangle"}},{selector:"node:parent",style:{"background-opacity":0,"border-width":0}},{selector:"edge",style:{width:1,"curve-style":"bezier","target-arrow-shape":"vee"}},{selector:"node[label]",style:{label:"data(label)","font-size":"9px",color:"#666","z-index":2}},{selector:"edge[label]",style:{"font-size":"9px",color:"#626867","z-index":1}}],layout:{name:"d3-force",animate:!0,linkId:function(t){return t.id},linkDistance:100,manyBodyStrength:-300,xX:500,yY:500,ready:function(){},stop:function(e){console.log("e == ",e),t.layoutProgress=1},tick:function(e){t.layoutProgress=e},randomize:!1,infinite:!0}},contextMenus:{menuItems:[{id:"nextlevel",content:"",selector:"node",onClickFunction:function(e){t.addNode(e)},disabled:!1,show:!0,hasTrailingDivider:!1}]},tooltip:{trigger:"mouseenter",content:function(t){var e=t.target;if(e&&e!==t.cy)return e.isEdge()?'<div style="text-align: left"><div> '.concat(e.data("name"),"</div><div> ").concat(e.data("time"),"</div></div>"):e.isNode()?'<div style="text-align: left"><div>id '.concat(e.data("id"),"</div><div>position ").concat(e.position("x"),", ").concat(e.position("y"),"</div><div>renderedPosition ").concat(e.renderedPosition("x"),", ").concat(e.renderedPosition("y"),"</div><div> ").concat(e.data("x"),", ").concat(e.data("y"),"</div></div>"):void 0},animation:"fade",theme:"light-border"},category:{nodes:{key:"group",styles:{hospital:{"background-image":s.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},clothes:{"background-image":f.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},computer:{"background-image":l.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"},person:{"background-image":c.a,"background-width":"80%","background-height":"80%","background-repeat":"no-repeat"}}},edges:[{name:"love",matching:function(t){return"love"===t.group},style:{"source-arrow-shape":"vee","line-style":"dashed","line-color":"#61a0a8",width:1}},{name:"goto",matching:function(t){return"goto"===t.group},style:{"line-style":"dashed","line-color":"#2f4554",width:1}},{name:"has",matching:function(t){return"has"===t.group},style:{"line-style":"dashed","line-color":"#c23531",width:1}}]}},graphData:[],legendNodeFilterId:"",legendEdgeFilterId:"",legendNodeModel:{},legendEdgeModel:{}}},computed:{progressText:function(){return(100*this.layoutProgress).toFixed(1)+"%"}},watch:{legendNodeModel:{handler:function(t){this.legendChange(t,"nodes")},deep:!0},legendEdgeModel:{handler:function(t){this.legendChange(t,"edges")},deep:!0}},methods:{legendChange:function(t,e){var n=this.$refs.cytoscape,i=Object.keys(t).filter((function(e){return!t[e]}));"nodes"===e?i.length?this.legendNodeFilterId=n.filterByFunction((function(t){return t.filter((function(t){return t.isEdge()||t.isNode()&&!i.includes(t.data("group"))}))}),this.legendNodeFilterId,!0):this.legendNodeFilterId&&n.resetFilter(this.legendNodeFilterId,!0):i.length?this.legendEdgeFilterId=n.filterByFunction((function(t){var e=t.filter((function(t){return t.isEdge()&&!i.includes(t.data("group"))}));return t.filter((function(t){return e.contains(t)||e.some((function(e){return e.source()===t||e.target()===t}))}))}),this.legendEdgeFilterId,!0):this.legendEdgeFilterId&&n.resetFilter(this.legendEdgeFilterId,!0)},cytoscapeInit:function(t){t.cy.contextMenus(this.options.contextMenus)},addNode:function(t){t.target.lock();var e=t.target.id(),n=Object(o["a"])(e,2);this.graphData=this.graphData.concat(n),t.cy.delay(1e3,(function(){t.target.unlock()}))},createTippy:function(t){var e=this;if(this.options.tooltip){var n=t.target;if(n!==t.cy){var i="[object Function]"===Object.prototype.toString.call(this.options.tooltip.content)?this.options.tooltip.content(t):this.options.tooltip.content,r={content:i};Object.keys(this.options.tooltip).forEach((function(t){"content"!==t&&"selector"!==t&&(r[t]=e.options.tooltip[t])})),this.tooltip[n.id()]?this.tooltip[n.id()].setContent(i):this.tooltip[n.id()]=Xt(n.popperRef(),r),setTimeout((function(){Xt.hideAll(),e.tooltip[n.id()].show()}),10)}}}},mounted:function(){var t=this;setTimeout((function(){t.graphData=o["d"]}),100)}}),Qt=Zt,$t=(n("7014"),n("7a3f")),Kt=Object($t["a"])(Qt,i,r,!1,null,"6503dbfc",null);e["default"]=Kt.exports},ab7c:function(t,e,n){},b4cf:function(t,e,n){},b4ed:function(t,e,n){},bb01:function(t,e,n){"use strict";var i=n("007d");e["a"]=function(t,e,n){var r=new i["a"];return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}},c873:function(t,e,n){"use strict";var i=n("b4cf"),r=n.n(i);r.a},c96f:function(t,e,n){var i=n("8f6e"),r=n("36dd");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},d497:function(t,e,n){t.exports=n.p+"img/hospital.8a4eafbc.svg"},f115:function(t,e,n){"use strict";var i=n("87de");n.d(e,"a",(function(){return i["a"]}))}}]);
//# sourceMappingURL=about.3847eaad.js.map