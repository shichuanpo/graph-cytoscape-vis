(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"07d8":function(t,e,i){"use strict";var n=i("5aee"),o=i("9f79"),r="Set";t.exports=i("ada4")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,r),t=0===t?0:t,t)}},n)},"0a0d":function(t,e,i){t.exports=i("e829")},"0a49":function(t,e,i){var n=i("9b43"),o=i("626a"),r=i("4bf8"),s=i("9def"),a=i("cd1c");t.exports=function(t,e){var i=1==t,l=2==t,h=3==t,d=4==t,u=6==t,c=5==t||u,p=e||a;return function(e,a,f){for(var g,v,m=r(e),y=o(m),b=n(a,f,3),w=s(y.length),x=0,_=i?p(e,w):l?p(e,0):void 0;w>x;x++)if((c||x in y)&&(g=y[x],v=b(g,x,m),t))if(i)_[x]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:_.push(g)}else if(d)return!1;return u?-1:h||d?d:_}}},"0b64":function(t,e,i){var n=i("f772"),o=i("9003"),r=i("5168")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},"0bfb":function(t,e,i){"use strict";var n=i("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0f53":function(t,e,i){(function(e,n){t.exports=n(i("5752"),i("cb27"))})(0,function(t,e){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=i(2),s=i(5),a=s.spectralLayout,l=i(4),h=l.coseLayout,d=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:10,nodeDimensionsIncludeLabels:!1,samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!1,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,ready:function(){},stop:function(){}}),u=function(){function t(e){o(this,t),this.options=r({},d,e)}return n(t,[{key:"run",value:function(){var t=this,e=this.options,i=e.eles,n=void 0,o=void 0,r=void 0,s=void 0;e.randomize&&i.nodes().length>2&&(n=a(e),o=n["xCoords"],r=n["yCoords"]),("default"==e.quality||"proof"==e.quality||i.nodes().length<=2)&&(s=h(e,n));var l=function(t,i){if("default"==e.quality||"proof"==e.quality){"number"===typeof t&&(t=i);var n=t.data("id"),a=s[n];return{x:a.getRect().getCenterX(),y:a.getRect().getCenterY()}}return{x:o[i],y:r[i]}};"default"==e.quality||"proof"==e.quality||e.randomize?i.nodes().not(":parent").layoutPositions(t,e,l):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),t}();t.exports=u},function(t,e,i){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach(function(e){Object.keys(e).forEach(function(i){return t[i]=e[i]})}),t}},function(t,e,i){"use strict";var n={multMat:function(t,e){for(var i=[],n=0;n<t.length;n++){i[n]=[];for(var o=0;o<e[0].length;o++){i[n][o]=0;for(var r=0;r<t[0].length;r++)i[n][o]+=t[n][r]*e[r][o]}}return i},multGamma:function(t){for(var e=[],i=0,n=0;n<t.length;n++)i+=t[n];i*=-1/t.length;for(var o=0;o<t.length;o++)e[o]=i+t[o];return e},multL:function(t,e,i){for(var n=[],o=[],r=[],s=0;s<e[0].length;s++){for(var a=0,l=0;l<e.length;l++)a+=-.5*e[l][s]*t[l];o[s]=a}for(var h=0;h<i.length;h++){for(var d=0,u=0;u<i.length;u++)d+=i[h][u]*o[u];r[h]=d}for(var c=0;c<e.length;c++){for(var p=0,f=0;f<e[0].length;f++)p+=e[c][f]*r[f];n[c]=p}return n},multCons:function(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=t[n]*e;return i},minusOp:function(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=t[n]-e[n];return i},dotProduct:function(t,e){for(var i=0,n=0;n<t.length;n++)i+=t[n]*e[n];return i},mag:function(t){return Math.sqrt(this.dotProduct(t,t))},normalize:function(t){for(var e=[],i=this.mag(t),n=0;n<t.length;n++)e[n]=t[n]/i;return e}};t.exports=n},function(t,e,i){"use strict";var n=i(0).CoSELayout,o=i(0).CoSENode,r=i(0).layoutBase.PointD,s=i(0).layoutBase.DimensionD,a=i(0).layoutBase.LayoutConstants,l=i(0).layoutBase.FDLayoutConstants,h=i(0).CoSEConstants,d=function(t,e){var i=t.eles,d=i.nodes(),u=i.edges(),c=void 0,p=void 0,f=void 0,g={};t.randomize&&d.length>2&&(c=e["nodeIndexes"],p=e["xCoords"],f=e["yCoords"]);var v=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].id()]=!0;var n=t.filter(function(t,i){"number"===typeof t&&(t=i);var n=t.parent()[0];while(null!=n){if(e[n.id()])return!1;n=n.parent()[0]}return!0});return n},m=function t(e,i,n,a){for(var l=i.length,h=0;h<l;h++){var u=i[h],v=u.children(),m=void 0,y=u.layoutDimensions({nodeDimensionsIncludeLabels:a.nodeDimensionsIncludeLabels});if(null!=u.outerWidth()&&null!=u.outerHeight())if(a.randomize&&d.length>2)if(u.isParent()){var b=k(u);m=e.add(new o(n.graphManager,new r(b.topLeftX,b.topLeftY),new s(b.width,b.height)))}else m=e.add(new o(n.graphManager,new r(p[c.get(u.id())]-y.w/2,f[c.get(u.id())]-y.h/2),new s(parseFloat(y.w),parseFloat(y.h))));else m=e.add(new o(n.graphManager,new r(u.position("x")-y.w/2,u.position("y")-y.h/2),new s(parseFloat(y.w),parseFloat(y.h))));else m=e.add(new o(this.graphManager));if(m.id=u.data("id"),m.paddingLeft=parseInt(u.css("padding")),m.paddingTop=parseInt(u.css("padding")),m.paddingRight=parseInt(u.css("padding")),m.paddingBottom=parseInt(u.css("padding")),a.nodeDimensionsIncludeLabels&&u.isParent()){var w=u.boundingBox({includeLabels:!0,includeNodes:!1}).w,x=u.boundingBox({includeLabels:!0,includeNodes:!1}).h,_=u.css("text-halign");m.labelWidth=w,m.labelHeight=x,m.labelPos=_}if(g[u.data("id")]=m,isNaN(m.rect.x)&&(m.rect.x=0),isNaN(m.rect.y)&&(m.rect.y=0),null!=v&&v.length>0){var E=void 0;E=n.getGraphManager().add(n.newGraph(),m),t(E,v,n,a)}}function k(t){for(var e=Number.MAX_VALUE,i=Number.MIN_VALUE,n=Number.MAX_VALUE,o=Number.MIN_VALUE,r=void 0,s=void 0,a=void 0,l=void 0,h=t.descendants().not(":parent"),d=h.length,u=0;u<d;u++){var g=h[u];r=p[c.get(g.id())]-g.width()/2,s=p[c.get(g.id())]+g.width()/2,a=f[c.get(g.id())]-g.height()/2,l=f[c.get(g.id())]+g.height()/2,e>r&&(e=r),i<s&&(i=s),n>a&&(n=a),o<l&&(o=l)}var v={};return v.topLeftX=e,v.topLeftY=n,v.width=i-e,v.height=n-o,v}},y=function(t,e,i){for(var n=0;n<i.length;n++){var o=i[n],r=g[o.data("source")],s=g[o.data("target")];if(r!==s&&0==r.getEdgesBetween(s).length){var a=e.add(t.newEdge(),r,s);a.id=o.id()}}};null!=t.nodeRepulsion&&(h.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(h.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(h.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(h.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(h.MAX_ITERATIONS=l.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(h.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(h.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),"proof"==t.quality?a.QUALITY=2:a.QUALITY=0,h.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=a.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,h.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!t.randomize,h.ANIMATE=l.ANIMATE=a.ANIMATE=t.animate,h.TILE=t.tile,h.TILING_PADDING_VERTICAL="function"===typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,h.TILING_PADDING_HORIZONTAL="function"===typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal,h.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!0;var b=new n,w=b.newGraphManager();return m(w.addRoot(),v(d),b,t),y(b,w,u),b.runLayout(),g};t.exports={coseLayout:d}},function(t,e,i){"use strict";var n=i(3),o=i(7),r=i(0).layoutBase.LinkedList,s=function(t){var e=t.cy,i=t.eles,s=i.nodes(),a=new Map,l=new Map,h=new Map,d=[],u=[],c=[],p=[],f=[],g=[],v=[],m=[],y=void 0,b=1e8,w=1e-9,x=t.piTol,_=t.samplingType,E=t.nodeSeparation,k=void 0,T=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].id()]=!0;var n=t.filter(function(t,i){"number"===typeof t&&(t=i);var n=t.parent()[0];while(null!=n){if(e[n.id()])return!1;n=n.parent()[0]}return!0});return n},D=function(t){var e=new r,i=new Set,n=[],o=void 0,s=void 0,l=void 0,h=!1,d=1,u=[];do{var c=t[0],p=c.union(c.descendants());n.push(c),p.forEach(function(t){e.push(t),i.add(t)});while(0!=e.length){c=e.shift();for(var f=c.neighborhood().nodes(),g=0;g<f.length;g++){var v=f[g];if(o=t.intersection(v.union(v.ancestors())),null!=o&&!i.has(o[0])){var m=o.union(o.descendants());m.forEach(function(o){e.push(o),i.add(o),t.has(o)&&n.push(o)})}}}n.length==t.length&&(h=!0),(!h||h&&d>1)&&function(){s=n[0],l=s.connectedEdges().length,n.forEach(function(t){t.connectedEdges().length<l&&(l=t.connectedEdges().length,s=t)}),u.push(s.id());var e=n[0];n.forEach(function(t){e=e.union(t)}),n=[],t=t.difference(e),d++}()}while(!h);u.length>0&&a.set("dummy"+(a.size+1),u)},C=function(){var t=0,e=0,i=!1;while(e<k){t=Math.floor(Math.random()*y),i=!1;for(var n=0;n<e;n++)if(p[n]==t){i=!0;break}i||(p[e]=t,e++)}},S=function(t,e,i){for(var n=[],o=0,r=0,s=0,a=void 0,h=[],u=0,c=1,p=0;p<y;p++)h[p]=b;n[r]=t,h[t]=0;while(r>=o){s=n[o++];for(var v=d[s],m=0;m<v.length;m++)a=l.get(v[m]),h[a]==b&&(h[a]=h[s]+1,n[++r]=a);g[s][e]=h[s]*E}if(i){for(var w=0;w<y;w++)g[w][e]<f[w]&&(f[w]=g[w][e]);for(var x=0;x<y;x++)f[x]>u&&(u=f[x],c=x)}return c},M=function(t){var e=void 0;if(t){e=Math.floor(Math.random()*y),e;for(var i=0;i<y;i++)f[i]=b;for(var n=0;n<k;n++)p[n]=e,e=S(e,n,t)}else{C();for(var o=0;o<k;o++)S(p[o],o,t,!1)}for(var r=0;r<y;r++)for(var s=0;s<k;s++)g[r][s]*=g[r][s];for(var a=0;a<k;a++)v[a]=[];for(var l=0;l<k;l++)for(var h=0;h<k;h++)v[l][h]=g[p[h]][l]},O=function(){for(var t=o.svd(v),e=t.S,i=t.U,r=t.V,s=e[0]*e[0]*e[0],a=[],l=0;l<k;l++){a[l]=[];for(var h=0;h<k;h++)a[l][h]=0,l==h&&(a[l][h]=e[l]/(e[l]*e[l]+s/(e[l]*e[l])))}m=n.multMat(n.multMat(r,a),o.transpose(i))},N=function(){for(var t=void 0,e=void 0,i=[],o=[],r=[],s=[],a=0;a<y;a++)i[a]=Math.random(),o[a]=Math.random();i=n.normalize(i),o=n.normalize(o);var l=w,h=w,d=void 0;while(1){0;for(var p=0;p<y;p++)r[p]=i[p];if(i=n.multGamma(n.multL(n.multGamma(r),g,m)),t=n.dotProduct(r,i),i=n.normalize(i),l=n.dotProduct(r,i),d=Math.abs(l/h),d<=1+x&&d>=1)break;h=l}for(var f=0;f<y;f++)r[f]=i[f];h=w;while(1){0;for(var v=0;v<y;v++)s[v]=o[v];if(s=n.minusOp(s,n.multCons(r,n.dotProduct(r,s))),o=n.multGamma(n.multL(n.multGamma(s),g,m)),e=n.dotProduct(s,o),o=n.normalize(o),l=n.dotProduct(s,o),d=Math.abs(l/h),d<=1+x&&d>=1)break;h=l}for(var b=0;b<y;b++)s[b]=o[b];u=n.multCons(r,Math.sqrt(Math.abs(t))),c=n.multCons(s,Math.sqrt(Math.abs(e)))};D(T(s)),e.nodes(":parent").forEach(function(t){D(T(t.descendants()))});for(var A=0,P=0;P<s.length;P++)s[P].isParent()||l.set(s[P].id(),A++);var I=!0,L=!1,R=void 0;try{for(var B,F=a.keys()[Symbol.iterator]();!(I=(B=F.next()).done);I=!0){var z=B.value;l.set(z,A++)}}catch($){L=!0,R=$}finally{try{!I&&F.return&&F.return()}finally{if(L)throw R}}for(var j=0;j<l.size;j++)d[j]=[];e.nodes(":parent").forEach(function(t){var e=t.children();while(0==e.nodes(":childless").length)e=e.nodes()[0].children();var i=0,n=e.nodes(":childless")[0].connectedEdges().length;e.nodes(":childless").forEach(function(t,e){t.connectedEdges().length<n&&(n=t.connectedEdges().length,i=e)}),h.set(t.id(),e.nodes(":childless")[i].id())}),e.nodes().forEach(function(t){var e=void 0;e=t.isParent()?l.get(h.get(t.id())):l.get(t.id()),t.neighborhood().nodes().forEach(function(t){t.isParent()?d[e].push(h.get(t.id())):d[e].push(t.id())})});var H=function(t){var i=l.get(t),n=void 0;a.get(t).forEach(function(o){n=e.getElementById(o).isParent()?h.get(o):o,d[i].push(n),d[l.get(n)].push(t)})},Y=!0,G=!1,W=void 0;try{for(var V,U=a.keys()[Symbol.iterator]();!(Y=(V=U.next()).done);Y=!0){var q=V.value;H(q)}}catch($){G=!0,W=$}finally{try{!Y&&U.return&&U.return()}finally{if(G)throw W}}y=l.size,k=y<t.sampleSize?y:t.sampleSize;for(var X=0;X<y;X++)g[X]=[];for(var K=0;K<k;K++)m[K]=[];M(_),O(),N();var Z={nodeIndexes:l,xCoords:u,yCoords:c};return Z};t.exports={spectralLayout:s}},function(t,e,i){"use strict";var n=i(1),o=function(t){t&&t("layout","fcose",n)};"undefined"!==typeof cytoscape&&o(cytoscape),t.exports=o},function(t,i){t.exports=e}])})},1157:function(t,e,i){var n,o;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
(function(e,i){"use strict";"object"===typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)})("undefined"!==typeof window?window:this,function(i,r){"use strict";var s=[],a=i.document,l=Object.getPrototypeOf,h=s.slice,d=s.concat,u=s.push,c=s.indexOf,p={},f=p.toString,g=p.hasOwnProperty,v=g.toString,m=v.call(Object),y={},b=function(t){return"function"===typeof t&&"number"!==typeof t.nodeType},w=function(t){return null!=t&&t===t.window},x={type:!0,src:!0,noModule:!0};function _(t,e,i){e=e||a;var n,o=e.createElement("script");if(o.text=t,i)for(n in x)i[n]&&(o[n]=i[n]);e.head.appendChild(o).parentNode.removeChild(o)}function E(t){return null==t?t+"":"object"===typeof t||"function"===typeof t?p[f.call(t)]||"object":typeof t}var k="3.3.1",T=function(t,e){return new T.fn.init(t,e)},D=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(t){var e=!!t&&"length"in t&&t.length,i=E(t);return!b(t)&&!w(t)&&("array"===i||0===e||"number"===typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:k,constructor:T,length:0,toArray:function(){return h.call(this)},get:function(t){return null==t?h.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},T.extend=T.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"===typeof s&&(h=s,s=arguments[a]||{},a++),"object"===typeof s||b(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(h&&n&&(T.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,r=i&&Array.isArray(i)?i:[]):r=i&&T.isPlainObject(i)?i:{},s[e]=T.extend(h,r,n)):void 0!==n&&(s[e]=n));return s},T.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==f.call(t))&&(e=l(t),!e||(i=g.call(e,"constructor")&&e.constructor,"function"===typeof i&&v.call(i)===m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){_(t)},each:function(t,e){var i,n=0;if(C(t)){for(i=t.length;n<i;n++)if(!1===e.call(t[n],n,t[n]))break}else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(D,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(C(Object(t))?T.merge(i,"string"===typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:c.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,s=t.length,a=!i;r<s;r++)n=!e(t[r],r),n!==a&&o.push(t[r]);return o},map:function(t,e,i){var n,o,r=0,s=[];if(C(t))for(n=t.length;r<n;r++)o=e(t[r],r,i),null!=o&&s.push(o);else for(r in t)o=e(t[r],r,i),null!=o&&s.push(o);return d.apply([],s)},guid:1,support:y}),"function"===typeof Symbol&&(T.fn[Symbol.iterator]=s[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var S=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,i,n,o,r,s,a,l,h,d,u,c,p,f,g,v,m,y,b,w="sizzle"+1*new Date,x=t.document,_=0,E=0,k=st(),T=st(),D=st(),C=function(t,e){return t===e&&(u=!0),0},S={}.hasOwnProperty,M=[],O=M.pop,N=M.push,A=M.push,P=M.slice,I=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+B+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+R+"*\\]",z=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(R+"+","g"),H=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),Y=new RegExp("^"+R+"*,"+R+"*"),G=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),W=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),V=new RegExp(z),U=new RegExp("^"+B+"$"),q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){c()},ot=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{A.apply(M=P.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(Tt){A={apply:M.length?function(t,e){N.apply(t,P.call(e))}:function(t,e){var i=t.length,n=0;while(t[i++]=e[n++]);t.length=i-1}}}function rt(t,e,n,o){var r,a,h,d,u,f,m,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(n=n||[],"string"!==typeof t||!t||1!==_&&9!==_&&11!==_)return n;if(!o&&((e?e.ownerDocument||e:x)!==p&&c(e),e=e||p,g)){if(11!==_&&(u=$.exec(t)))if(r=u[1]){if(9===_){if(!(h=e.getElementById(r)))return n;if(h.id===r)return n.push(h),n}else if(y&&(h=y.getElementById(r))&&b(e,h)&&h.id===r)return n.push(h),n}else{if(u[2])return A.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return A.apply(n,e.getElementsByClassName(r)),n}if(i.qsa&&!D[t+" "]&&(!v||!v.test(t))){if(1!==_)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){(d=e.getAttribute("id"))?d=d.replace(et,it):e.setAttribute("id",d=w),f=s(t),a=f.length;while(a--)f[a]="#"+d+" "+mt(f[a]);m=f.join(","),y=Q.test(t)&&gt(e.parentNode)||e}if(m)try{return A.apply(n,y.querySelectorAll(m)),n}catch(E){}finally{d===w&&e.removeAttribute("id")}}}return l(t.replace(H,"$1"),e,n,o)}function st(){var t=[];function e(i,o){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=o}return e}function at(t){return t[w]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(Tt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){var i=t.split("|"),o=i.length;while(o--)n.attrHandle[i[o]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)while(i=i.nextSibling)if(i===e)return-1;return t?1:-1}function ut(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function ct(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return at(function(e){return e=+e,at(function(i,n){var o,r=t([],i.length,e),s=r.length;while(s--)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function gt(t){return t&&"undefined"!==typeof t.getElementsByTagName&&t}for(e in i=rt.support={},r=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},c=rt.setDocument=function(t){var e,o,s=t?t.ownerDocument||t:x;return s!==p&&9===s.nodeType&&s.documentElement?(p=s,f=p.documentElement,g=!r(p),x!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",nt,!1):o.attachEvent&&o.attachEvent("onunload",nt)),i.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=lt(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=Z.test(p.getElementsByClassName),i.getById=lt(function(t){return f.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),i.getById?(n.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find["ID"]=function(t,e){if("undefined"!==typeof e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){var i="undefined"!==typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find["ID"]=function(t,e){if("undefined"!==typeof e.getElementById&&g){var i,n,o,r=e.getElementById(t);if(r){if(i=r.getAttributeNode("id"),i&&i.value===t)return[r];o=e.getElementsByName(t),n=0;while(r=o[n++])if(i=r.getAttributeNode("id"),i&&i.value===t)return[r]}return[]}}),n.find["TAG"]=i.getElementsByTagName?function(t,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){while(i=r[o++])1===i.nodeType&&n.push(i);return n}return r},n.find["CLASS"]=i.getElementsByClassName&&function(t,e){if("undefined"!==typeof e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(i.qsa=Z.test(p.querySelectorAll))&&(lt(function(t){f.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+R+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(i.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt(function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(f.compareDocumentPosition),b=e||Z.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)while(e=e.parentNode)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===x&&b(x,t)?-1:e===p||e.ownerDocument===x&&b(x,e)?1:d?I(d,t)-I(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t===p?-1:e===p?1:o?-1:r?1:d?I(d,t)-I(d,e):0;if(o===r)return dt(t,e);i=t;while(i=i.parentNode)s.unshift(i);i=e;while(i=i.parentNode)a.unshift(i);while(s[n]===a[n])n++;return n?dt(s[n],a[n]):s[n]===x?-1:a[n]===x?1:0},p):p},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&c(t),e=e.replace(W,"='$1']"),i.matchesSelector&&g&&!D[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Tt){}return rt(e,p,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==p&&c(t),b(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==p&&c(t);var o=n.attrHandle[e.toLowerCase()],r=o&&S.call(n.attrHandle,e.toLowerCase())?o(t,e,!g):void 0;return void 0!==r?r:i.attributes||!g?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},rt.escape=function(t){return(t+"").replace(et,it)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,n=[],o=0,r=0;if(u=!i.detectDuplicates,d=!i.sortStable&&t.slice(0),t.sort(C),u){while(e=t[r++])e===t[r]&&(o=n.push(r));while(o--)t.splice(n[o],1)}return d=null,t},o=rt.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"===typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===r||4===r)return t.nodeValue}else while(e=t[n++])i+=o(e);return i},n=rt.selectors={cacheLength:50,createPseudo:at,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return q["CHILD"].test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&V.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&k(t,function(t){return e.test("string"===typeof t.className&&t.className||"undefined"!==typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var o=rt.attr(n,t);return null==o?"!="===e:!e||(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o.replace(j," ")+" ").indexOf(i)>-1:"|="===e&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,d,u,c,p,f,g=r!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(v){if(r){while(g){c=e;while(c=c[g])if(a?c.nodeName.toLowerCase()===m:1===c.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?v.firstChild:v.lastChild],s&&y){c=v,u=c[w]||(c[w]={}),d=u[c.uniqueID]||(u[c.uniqueID]={}),h=d[t]||[],p=h[0]===_&&h[1],b=p&&h[2],c=p&&v.childNodes[p];while(c=++p&&c&&c[g]||(b=p=0)||f.pop())if(1===c.nodeType&&++b&&c===e){d[t]=[_,p,b];break}}else if(y&&(c=e,u=c[w]||(c[w]={}),d=u[c.uniqueID]||(u[c.uniqueID]={}),h=d[t]||[],p=h[0]===_&&h[1],b=p),!1===b)while(c=++p&&c&&c[g]||(b=p=0)||f.pop())if((a?c.nodeName.toLowerCase()===m:1===c.nodeType)&&++b&&(y&&(u=c[w]||(c[w]={}),d=u[c.uniqueID]||(u[c.uniqueID]={}),d[t]=[_,b]),c===e))break;return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,e){var i,o=n.pseudos[t]||n.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return o[w]?o(e):o.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,i){var n,r=o(t,e),s=r.length;while(s--)n=I(t,r[s]),t[n]=!(i[n]=r[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:at(function(t){var e=[],i=[],n=a(t.replace(H,"$1"));return n[w]?at(function(t,e,i,o){var r,s=n(t,null,o,[]),a=t.length;while(a--)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,o,r){return e[0]=t,n(e,null,r,i),e[0]=null,!i.pop()}}),has:at(function(t){return function(e){return rt(t,e).length>0}}),contains:at(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||o(e)).indexOf(t)>-1}}),lang:at(function(t){return U.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos["empty"](t)},header:function(t){return K.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},n.pseudos["nth"]=n.pseudos["eq"],{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ct(e);function vt(){}function mt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(t,e,i){var n=e.dir,o=e.next,r=o||n,s=i&&"parentNode"===r,a=E++;return e.first?function(e,i,o){while(e=e[n])if(1===e.nodeType||s)return t(e,i,o);return!1}:function(e,i,l){var h,d,u,c=[_,a];if(l){while(e=e[n])if((1===e.nodeType||s)&&t(e,i,l))return!0}else while(e=e[n])if(1===e.nodeType||s)if(u=e[w]||(e[w]={}),d=u[e.uniqueID]||(u[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[n]||e;else{if((h=d[r])&&h[0]===_&&h[1]===a)return c[2]=h[2];if(d[r]=c,c[2]=t(e,i,l))return!0}return!1}}function bt(t){return t.length>1?function(e,i,n){var o=t.length;while(o--)if(!t[o](e,i,n))return!1;return!0}:t[0]}function wt(t,e,i){for(var n=0,o=e.length;n<o;n++)rt(t,e[n],i);return i}function xt(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,h=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),h&&e.push(a)));return s}function _t(t,e,i,n,o,r){return n&&!n[w]&&(n=_t(n)),o&&!o[w]&&(o=_t(o,r)),at(function(r,s,a,l){var h,d,u,c=[],p=[],f=s.length,g=r||wt(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?g:xt(g,c,t,a,l),m=i?o||(r?t:f||n)?[]:s:v;if(i&&i(v,m,a,l),n){h=xt(m,p),n(h,[],a,l),d=h.length;while(d--)(u=h[d])&&(m[p[d]]=!(v[p[d]]=u))}if(r){if(o||t){if(o){h=[],d=m.length;while(d--)(u=m[d])&&h.push(v[d]=u);o(null,m=[],h,l)}d=m.length;while(d--)(u=m[d])&&(h=o?I(r,u):c[d])>-1&&(r[h]=!(s[h]=u))}}else m=xt(m===s?m.splice(f,m.length):m),o?o(null,s,m,l):A.apply(s,m)})}function Et(t){for(var e,i,o,r=t.length,s=n.relative[t[0].type],a=s||n.relative[" "],l=s?1:0,d=yt(function(t){return t===e},a,!0),u=yt(function(t){return I(e,t)>-1},a,!0),c=[function(t,i,n){var o=!s&&(n||i!==h)||((e=i).nodeType?d(t,i,n):u(t,i,n));return e=null,o}];l<r;l++)if(i=n.relative[t[l].type])c=[yt(bt(c),i)];else{if(i=n.filter[t[l].type].apply(null,t[l].matches),i[w]){for(o=++l;o<r;o++)if(n.relative[t[o].type])break;return _t(l>1&&bt(c),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(H,"$1"),i,l<o&&Et(t.slice(l,o)),o<r&&Et(t=t.slice(o)),o<r&&mt(t))}c.push(i)}return bt(c)}function kt(t,e){var i=e.length>0,o=t.length>0,r=function(r,s,a,l,d){var u,f,v,m=0,y="0",b=r&&[],w=[],x=h,E=r||o&&n.find["TAG"]("*",d),k=_+=null==x?1:Math.random()||.1,T=E.length;for(d&&(h=s===p||s||d);y!==T&&null!=(u=E[y]);y++){if(o&&u){f=0,s||u.ownerDocument===p||(c(u),a=!g);while(v=t[f++])if(v(u,s||p,a)){l.push(u);break}d&&(_=k)}i&&((u=!v&&u)&&m--,r&&b.push(u))}if(m+=y,i&&y!==m){f=0;while(v=e[f++])v(b,w,s,a);if(r){if(m>0)while(y--)b[y]||w[y]||(w[y]=O.call(l));w=xt(w)}A.apply(l,w),d&&!r&&w.length>0&&m+e.length>1&&rt.uniqueSort(l)}return d&&(_=k,h=x),b};return i?at(r):r}return vt.prototype=n.filters=n.pseudos,n.setFilters=new vt,s=rt.tokenize=function(t,e){var i,o,r,s,a,l,h,d=T[t+" "];if(d)return e?0:d.slice(0);a=t,l=[],h=n.preFilter;while(a){for(s in i&&!(o=Y.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=G.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(H," ")}),a=a.slice(i.length)),n.filter)!(o=q[s].exec(a))||h[s]&&!(o=h[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return e?a.length:a?rt.error(t):T(t,l).slice(0)},a=rt.compile=function(t,e){var i,n=[],o=[],r=D[t+" "];if(!r){e||(e=s(t)),i=e.length;while(i--)r=Et(e[i]),r[w]?n.push(r):o.push(r);r=D(t,kt(o,n)),r.selector=t}return r},l=rt.select=function(t,e,i,o){var r,l,h,d,u,c="function"===typeof t&&t,p=!o&&s(t=c.selector||t);if(i=i||[],1===p.length){if(l=p[0]=p[0].slice(0),l.length>2&&"ID"===(h=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(e=(n.find["ID"](h.matches[0].replace(J,tt),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(l.shift().value.length)}r=q["needsContext"].test(t)?0:l.length;while(r--){if(h=l[r],n.relative[d=h.type])break;if((u=n.find[d])&&(o=u(h.matches[0].replace(J,tt),Q.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(r,1),t=o.length&&mt(l),!t)return A.apply(i,o),i;break}}}return(c||a(t,p))(o,e,!g,i,!e||Q.test(t)&&gt(e.parentNode)||e),i},i.sortStable=w.split("").sort(C).join("")===w,i.detectDuplicates=!!u,c(),i.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ht(L,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),rt}(i);T.find=S,T.expr=S.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=S.uniqueSort,T.text=S.getText,T.isXMLDoc=S.isXML,T.contains=S.contains,T.escapeSelector=S.escape;var M=function(t,e,i){var n=[],o=void 0!==i;while((t=t[e])&&9!==t.nodeType)if(1===t.nodeType){if(o&&T(t).is(i))break;n.push(t)}return n},O=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},N=T.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,i){return b(e)?T.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?T.grep(t,function(t){return t===e!==i}):"string"!==typeof e?T.grep(t,function(t){return c.call(e,t)>-1!==i}):T.filter(e,t,i)}T.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?T.find.matchesSelector(n,t)?[n]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!==typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<n;e++)if(T.contains(o[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)T.find(t,o[e],i);return n>1?T.uniqueSort(i):i},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"===typeof t&&N.test(t)?T(t):t||[],!1).length}});var L,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,B=T.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||L,"string"===typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),P.test(n[1])&&T.isPlainObject(e))for(n in e)b(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return o=a.getElementById(n[2]),o&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==i.ready?i.ready(t):t(T):T.makeArray(t,this)};B.prototype=T.fn,L=T(a);var F=/^(?:parents|prev(?:Until|All))/,z={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){while((t=t[e])&&1!==t.nodeType);return t}T.fn.extend({has:function(t){var e=T(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,o=this.length,r=[],s="string"!==typeof t&&T(t);if(!N.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&T.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?T.uniqueSort(r):r)},index:function(t){return t?"string"===typeof t?c.call(T(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,i){return M(t,"parentNode",i)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,i){return M(t,"nextSibling",i)},prevUntil:function(t,e,i){return M(t,"previousSibling",i)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(t,e){T.fn[t]=function(i,n){var o=T.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"===typeof n&&(o=T.filter(n,o)),this.length>1&&(z[t]||T.uniqueSort(o),F.test(t)&&o.reverse()),this.pushStack(o)}});var H=/[^\x20\t\r\n\f]+/g;function Y(t){var e={};return T.each(t.match(H)||[],function(t,i){e[i]=!0}),e}function G(t){return t}function W(t){throw t}function V(t,e,i,n){var o;try{t&&b(o=t.promise)?o.call(t).done(e).fail(i):t&&b(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}T.Callbacks=function(t){t="string"===typeof t?Y(t):T.extend({},t);var e,i,n,o,r=[],s=[],a=-1,l=function(){for(o=o||t.once,n=e=!0;s.length;a=-1){i=s.shift();while(++a<r.length)!1===r[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=r.length,i=!1)}t.memory||(i=!1),e=!1,o&&(r=i?[]:"")},h={add:function(){return r&&(i&&!e&&(a=r.length-1,s.push(i)),function e(i){T.each(i,function(i,n){b(n)?t.unique&&h.has(n)||r.push(n):n&&n.length&&"string"!==E(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return T.each(arguments,function(t,e){var i;while((i=T.inArray(e,r,i))>-1)r.splice(i,1),i<=a&&a--}),this},has:function(t){return t?T.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=s=[],i||e||(r=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],s.push(i),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return T.Deferred(function(i){T.each(e,function(e,n){var o=b(t[n[4]])&&t[n[4]];r[n[1]](function(){var t=o&&o.apply(this,arguments);t&&b(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(t,n,o){var r=0;function s(t,e,n,o){return function(){var a=this,l=arguments,h=function(){var i,h;if(!(t<r)){if(i=n.apply(a,l),i===e.promise())throw new TypeError("Thenable self-resolution");h=i&&("object"===typeof i||"function"===typeof i)&&i.then,b(h)?o?h.call(i,s(r,e,G,o),s(r,e,W,o)):(r++,h.call(i,s(r,e,G,o),s(r,e,W,o),s(r,e,G,e.notifyWith))):(n!==G&&(a=void 0,l=[i]),(o||e.resolveWith)(a,l))}},d=o?h:function(){try{h()}catch(i){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(i,d.stackTrace),t+1>=r&&(n!==W&&(a=void 0,l=[i]),e.rejectWith(a,l))}};t?d():(T.Deferred.getStackHook&&(d.stackTrace=T.Deferred.getStackHook()),i.setTimeout(d))}}return T.Deferred(function(i){e[0][3].add(s(0,i,b(o)?o:G,i.notifyWith)),e[1][3].add(s(0,i,b(t)?t:G)),e[2][3].add(s(0,i,b(n)?n:W))}).promise()},promise:function(t){return null!=t?T.extend(t,o):o}},r={};return T.each(e,function(t,i){var s=i[2],a=i[5];o[i[1]]=s.add,a&&s.add(function(){n=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(i[3].fire),r[i[0]]=function(){return r[i[0]+"With"](this===r?void 0:this,arguments),this},r[i[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(t){var e=arguments.length,i=e,n=Array(i),o=h.call(arguments),r=T.Deferred(),s=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?h.call(arguments):i,--e||r.resolveWith(n,o)}};if(e<=1&&(V(t,r.done(s(i)).resolve,r.reject,!e),"pending"===r.state()||b(o[i]&&o[i].then)))return r.then();while(i--)V(o[i],s(i),r.reject);return r.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&U.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){i.setTimeout(function(){throw t})};var q=T.Deferred();function X(){a.removeEventListener("DOMContentLoaded",X),i.removeEventListener("load",X),T.ready()}T.fn.ready=function(t){return q.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||q.resolveWith(a,[T]))}}),T.ready.then=q.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(T.ready):(a.addEventListener("DOMContentLoaded",X),i.addEventListener("load",X));var K=function(t,e,i,n,o,r,s){var a=0,l=t.length,h=null==i;if("object"===E(i))for(a in o=!0,i)K(t,e,a,i[a],!0,r,s);else if(void 0!==n&&(o=!0,b(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(T(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:h?e.call(t):l?e(t[0],i):r},Z=/^-ms-/,$=/-([a-z])/g;function Q(t,e){return e.toUpperCase()}function J(t){return t.replace(Z,"ms-").replace($,Q)}var tt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function et(){this.expando=T.expando+et.uid++}et.uid=1,et.prototype={cache:function(t){var e=t[this.expando];return e||(e={},tt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"===typeof e)o[J(e)]=i;else for(n in e)o[J(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,i){return void 0===e||e&&"string"===typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(J):(e=J(e),e=e in n?[e]:e.match(H)||[]),i=e.length;while(i--)delete n[e[i]]}(void 0===e||T.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var it=new et,nt=new et,ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rt=/[A-Z]/g;function st(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:ot.test(t)?JSON.parse(t):t)}function at(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(rt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"===typeof i){try{i=st(i)}catch(o){}nt.set(t,e,i)}else i=void 0;return i}T.extend({hasData:function(t){return nt.hasData(t)||it.hasData(t)},data:function(t,e,i){return nt.access(t,e,i)},removeData:function(t,e){nt.remove(t,e)},_data:function(t,e,i){return it.access(t,e,i)},_removeData:function(t,e){it.remove(t,e)}}),T.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=nt.get(r),1===r.nodeType&&!it.get(r,"hasDataAttrs"))){i=s.length;while(i--)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=J(n.slice(5)),at(r,n,o[n])));it.set(r,"hasDataAttrs",!0)}return o}return"object"===typeof t?this.each(function(){nt.set(this,t)}):K(this,function(e){var i;if(r&&void 0===e)return i=nt.get(r,t),void 0!==i?i:(i=at(r,t),void 0!==i?i:void 0);this.each(function(){nt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){nt.remove(this,t)})}}),T.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=it.get(t,e),i&&(!n||Array.isArray(i)?n=it.access(t,e,T.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=T.queue(t,e),n=i.length,o=i.shift(),r=T._queueHooks(t,e),s=function(){T.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return it.get(t,i)||it.access(t,i,{empty:T.Callbacks("once memory").add(function(){it.remove(t,[e+"queue",i])})})}}),T.fn.extend({queue:function(t,e){var i=2;return"string"!==typeof t&&(e=t,t="fx",i--),arguments.length<i?T.queue(this[0],t):void 0===e?this:this.each(function(){var i=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&T.dequeue(this,t)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=T.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};"string"!==typeof t&&(e=t,t=void 0),t=t||"fx";while(s--)i=it.get(r[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),dt=["Top","Right","Bottom","Left"],ut=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&T.contains(t.ownerDocument,t)&&"none"===T.css(t,"display")},ct=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=i.apply(t,n||[]),e)t.style[r]=s[r];return o};function pt(t,e,i,n){var o,r,s=20,a=n?function(){return n.cur()}:function(){return T.css(t,e,"")},l=a(),h=i&&i[3]||(T.cssNumber[e]?"":"px"),d=(T.cssNumber[e]||"px"!==h&&+l)&&ht.exec(T.css(t,e));if(d&&d[3]!==h){l/=2,h=h||d[3],d=+l||1;while(s--)T.style(t,e,d+h),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),d/=r;d*=2,T.style(t,e,d+h),i=i||[]}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=d,n.end=o)),o}var ft={};function gt(t){var e,i=t.ownerDocument,n=t.nodeName,o=ft[n];return o||(e=i.body.appendChild(i.createElement(n)),o=T.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ft[n]=o,o)}function vt(t,e){for(var i,n,o=[],r=0,s=t.length;r<s;r++)n=t[r],n.style&&(i=n.style.display,e?("none"===i&&(o[r]=it.get(n,"display")||null,o[r]||(n.style.display="")),""===n.style.display&&ut(n)&&(o[r]=gt(n))):"none"!==i&&(o[r]="none",it.set(n,"display",i)));for(r=0;r<s;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}T.fn.extend({show:function(){return vt(this,!0)},hide:function(){return vt(this)},toggle:function(t){return"boolean"===typeof t?t?this.show():this.hide():this.each(function(){ut(this)?T(this).show():T(this).hide()})}});var mt=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,bt=/^$|^module$|\/(?:java|ecma)script/i,wt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var i;return i="undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!==typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?T.merge([t],i):i}function _t(t,e){for(var i=0,n=t.length;i<n;i++)it.set(t[i],"globalEval",!e||it.get(e[i],"globalEval"))}wt.optgroup=wt.option,wt.tbody=wt.tfoot=wt.colgroup=wt.caption=wt.thead,wt.th=wt.td;var Et=/<|&#?\w+;/;function kt(t,e,i,n,o){for(var r,s,a,l,h,d,u=e.createDocumentFragment(),c=[],p=0,f=t.length;p<f;p++)if(r=t[p],r||0===r)if("object"===E(r))T.merge(c,r.nodeType?[r]:r);else if(Et.test(r)){s=s||u.appendChild(e.createElement("div")),a=(yt.exec(r)||["",""])[1].toLowerCase(),l=wt[a]||wt._default,s.innerHTML=l[1]+T.htmlPrefilter(r)+l[2],d=l[0];while(d--)s=s.lastChild;T.merge(c,s.childNodes),s=u.firstChild,s.textContent=""}else c.push(e.createTextNode(r));u.textContent="",p=0;while(r=c[p++])if(n&&T.inArray(r,n)>-1)o&&o.push(r);else if(h=T.contains(r.ownerDocument,r),s=xt(u.appendChild(r),"script"),h&&_t(s),i){d=0;while(r=s[d++])bt.test(r.type||"")&&i.push(r)}return u}(function(){var t=a.createDocumentFragment(),e=t.appendChild(a.createElement("div")),i=a.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue})();var Tt=a.documentElement,Dt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Mt(){return!0}function Ot(){return!1}function Nt(){try{return a.activeElement}catch(t){}}function At(t,e,i,n,o,r){var s,a;if("object"===typeof e){for(a in"string"!==typeof i&&(n=n||i,i=void 0),e)At(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"===typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=Ot;else if(!o)return t;return 1===r&&(s=o,o=function(t){return T().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=T.guid++)),t.each(function(){T.event.add(this,e,o,n,i)})}T.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,h,d,u,c,p,f,g,v=it.get(t);if(v){i.handler&&(r=i,i=r.handler,o=r.selector),o&&T.find.matchesSelector(Tt,o),i.guid||(i.guid=T.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return"undefined"!==typeof T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(H)||[""],h=e.length;while(h--)a=St.exec(e[h])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(u=T.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=T.event.special[p]||{},d=T.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&T.expr.match.needsContext.test(o),namespace:f.join(".")},r),(c=l[p])||(c=l[p]=[],c.delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,d):c.push(d),T.event.global[p]=!0)}},remove:function(t,e,i,n,o){var r,s,a,l,h,d,u,c,p,f,g,v=it.hasData(t)&&it.get(t);if(v&&(l=v.events)){e=(e||"").match(H)||[""],h=e.length;while(h--)if(a=St.exec(e[h])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){u=T.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,c=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=c.length;while(r--)d=c[r],!o&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(c.splice(r,1),d.selector&&c.delegateCount--,u.remove&&u.remove.call(t,d));s&&!c.length&&(u.teardown&&!1!==u.teardown.call(t,f,v.handle)||T.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)T.event.remove(t,p+e[h],i,n,!0);T.isEmptyObject(l)&&it.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,r,s,a=T.event.fix(t),l=new Array(arguments.length),h=(it.get(this,"events")||{})[a.type]||[],d=T.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,a)){s=T.event.handlers.call(this,a,h),e=0;while((o=s[e++])&&!a.isPropagationStopped()){a.currentTarget=o.elem,i=0;while((r=o.handlers[i++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,n=((T.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),void 0!==n&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()))}return d.postDispatch&&d.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,o,r,s,a=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(r=[],s={},i=0;i<l;i++)n=e[i],o=n.selector+" ",void 0===s[o]&&(s[o]=n.needsContext?T(o,this).index(h)>-1:T.find(o,this,null,[h]).length),s[o]&&r.push(n);r.length&&a.push({elem:h,handlers:r})}return h=this,l<e.length&&a.push({elem:h,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Nt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Nt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Mt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Mt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Mt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Mt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Dt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||T.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),T.fn.extend({on:function(t,e,i,n){return At(this,t,e,i,n)},one:function(t,e,i,n){return At(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,T(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!==typeof e||(i=e,e=void 0),!1===i&&(i=Ot),this.each(function(){T.event.remove(this,t,i,e)})}});var Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,It=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function zt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function jt(t,e){var i,n,o,r,s,a,l,h;if(1===e.nodeType){if(it.hasData(t)&&(r=it.access(t),s=it.set(e,r),h=r.events,h))for(o in delete s.handle,s.events={},h)for(i=0,n=h[o].length;i<n;i++)T.event.add(e,o,h[o][i]);nt.hasData(t)&&(a=nt.access(t),l=T.extend({},a),nt.set(e,l))}}function Ht(t,e){var i=e.nodeName.toLowerCase();"input"===i&&mt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Yt(t,e,i,n){e=d.apply([],e);var o,r,s,a,l,h,u=0,c=t.length,p=c-1,f=e[0],g=b(f);if(g||c>1&&"string"===typeof f&&!y.checkClone&&Lt.test(f))return t.each(function(o){var r=t.eq(o);g&&(e[0]=f.call(this,o,r.html())),Yt(r,e,i,n)});if(c&&(o=kt(e,t[0].ownerDocument,!1,t,n),r=o.firstChild,1===o.childNodes.length&&(o=r),r||n)){for(s=T.map(xt(o,"script"),Ft),a=s.length;u<c;u++)l=o,u!==p&&(l=T.clone(l,!0,!0),a&&T.merge(s,xt(l,"script"))),i.call(t[u],l,u);if(a)for(h=s[s.length-1].ownerDocument,T.map(s,zt),u=0;u<a;u++)l=s[u],bt.test(l.type||"")&&!it.access(l,"globalEval")&&T.contains(h,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&T._evalUrl(l.src):_(l.textContent.replace(Rt,""),h,l))}return t}function Gt(t,e,i){for(var n,o=e?T.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||T.cleanData(xt(n)),n.parentNode&&(i&&T.contains(n.ownerDocument,n)&&_t(xt(n,"script")),n.parentNode.removeChild(n));return t}T.extend({htmlPrefilter:function(t){return t.replace(Pt,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),l=T.contains(t.ownerDocument,t);if(!y.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!T.isXMLDoc(t))for(s=xt(a),r=xt(t),n=0,o=r.length;n<o;n++)Ht(r[n],s[n]);if(e)if(i)for(r=r||xt(t),s=s||xt(a),n=0,o=r.length;n<o;n++)jt(r[n],s[n]);else jt(t,a);return s=xt(a,"script"),s.length>0&&_t(s,!l&&xt(t,"script")),a},cleanData:function(t){for(var e,i,n,o=T.event.special,r=0;void 0!==(i=t[r]);r++)if(tt(i)){if(e=i[it.expando]){if(e.events)for(n in e.events)o[n]?T.event.remove(i,n):T.removeEvent(i,n,e.handle);i[it.expando]=void 0}i[nt.expando]&&(i[nt.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Gt(this,t,!0)},remove:function(t){return Gt(this,t)},text:function(t){return K(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.appendChild(t)}})},prepend:function(){return Yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return K(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"===typeof t&&!It.test(t)&&!wt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(T.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Yt(this,arguments,function(e){var i=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(xt(this)),i&&i.replaceChild(e,this))},t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){T.fn[t]=function(t){for(var i,n=[],o=T(t),r=o.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),T(o[s])[e](i),u.apply(n,i.get());return this.pushStack(n)}});var Wt=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Ut=new RegExp(dt.join("|"),"i");function qt(t,e,i){var n,o,r,s,a=t.style;return i=i||Vt(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||T.contains(t.ownerDocument,t)||(s=T.style(t,e)),!y.pixelBoxStyles()&&Wt.test(s)&&Ut.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}(function(){function t(){if(d){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Tt.appendChild(h).appendChild(d);var t=i.getComputedStyle(d);n="1%"!==t.top,l=12===e(t.marginLeft),d.style.right="60%",s=36===e(t.right),o=36===e(t.width),d.style.position="absolute",r=36===d.offsetWidth||"absolute",Tt.removeChild(h),d=null}}function e(t){return Math.round(parseFloat(t))}var n,o,r,s,l,h=a.createElement("div"),d=a.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===d.style.backgroundClip,T.extend(y,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r}}))})();var Kt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Qt={letterSpacing:"0",fontWeight:"400"},Jt=["Webkit","Moz","ms"],te=a.createElement("div").style;function ee(t){if(t in te)return t;var e=t[0].toUpperCase()+t.slice(1),i=Jt.length;while(i--)if(t=Jt[i]+e,t in te)return t}function ie(t){var e=T.cssProps[t];return e||(e=T.cssProps[t]=ee(t)||t),e}function ne(t,e,i){var n=ht.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function oe(t,e,i,n,o,r){var s="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=T.css(t,i+dt[s],!0,o)),n?("content"===i&&(l-=T.css(t,"padding"+dt[s],!0,o)),"margin"!==i&&(l-=T.css(t,"border"+dt[s]+"Width",!0,o))):(l+=T.css(t,"padding"+dt[s],!0,o),"padding"!==i?l+=T.css(t,"border"+dt[s]+"Width",!0,o):a+=T.css(t,"border"+dt[s]+"Width",!0,o));return!n&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-a-.5))),l}function re(t,e,i){var n=Vt(t),o=qt(t,e,n),r="border-box"===T.css(t,"boxSizing",!1,n),s=r;if(Wt.test(o)){if(!i)return o;o="auto"}return s=s&&(y.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===T.css(t,"display",!1,n))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),o=parseFloat(o)||0,o+oe(t,e,i||(r?"border":"content"),s,n,o)+"px"}function se(t,e,i,n,o){return new se.prototype.init(t,e,i,n,o)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=qt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=J(e),l=Zt.test(e),h=t.style;if(l||(e=ie(a)),s=T.cssHooks[e]||T.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:h[e];r=typeof i,"string"===r&&(o=ht.exec(i))&&o[1]&&(i=pt(t,e,o),r="number"),null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(T.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,n){var o,r,s,a=J(e),l=Zt.test(e);return l||(e=ie(a)),s=T.cssHooks[e]||T.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=qt(t,e,n)),"normal"===o&&e in Qt&&(o=Qt[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),T.each(["height","width"],function(t,e){T.cssHooks[e]={get:function(t,i,n){if(i)return!Kt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,n):ct(t,$t,function(){return re(t,e,n)})},set:function(t,i,n){var o,r=Vt(t),s="border-box"===T.css(t,"boxSizing",!1,r),a=n&&oe(t,e,n,s,r);return s&&y.scrollboxSize()===r.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-oe(t,e,"border",!1,r)-.5)),a&&(o=ht.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=T.css(t,e)),ne(t,i,a)}}}),T.cssHooks.marginLeft=Xt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(t,e){T.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"===typeof i?i.split(" "):[i];n<4;n++)o[t+dt[n]+e]=r[n]||r[n-2]||r[0];return o}},"margin"!==t&&(T.cssHooks[t+e].set=ne)}),T.fn.extend({css:function(t,e){return K(this,function(t,e,i){var n,o,r={},s=0;if(Array.isArray(e)){for(n=Vt(t),o=e.length;s<o;s++)r[e[s]]=T.css(t,e[s],!1,n);return r}return void 0!==i?T.style(t,e,i):T.css(t,e)},t,e,arguments.length>1)}}),T.Tween=se,se.prototype={constructor:se,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(T.cssNumber[i]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,i=se.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[T.cssProps[t.prop]]&&!T.cssHooks[t.prop]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=se.prototype.init,T.fx.step={};var ae,le,he=/^(?:toggle|show|hide)$/,de=/queueHooks$/;function ue(){le&&(!1===a.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ue):i.setTimeout(ue,T.fx.interval),T.fx.tick())}function ce(){return i.setTimeout(function(){ae=void 0}),ae=Date.now()}function pe(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)i=dt[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function fe(t,e,i){for(var n,o=(me.tweeners[e]||[]).concat(me.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function ge(t,e,i){var n,o,r,s,a,l,h,d,u="width"in e||"height"in e,c=this,p={},f=t.style,g=t.nodeType&&ut(t),v=it.get(t,"fxshow");for(n in i.queue||(s=T._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()})})),e)if(o=e[n],he.test(o)){if(delete e[n],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!v||void 0===v[n])continue;g=!0}p[n]=v&&v[n]||T.style(t,n)}if(l=!T.isEmptyObject(e),l||!T.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],h=v&&v.display,null==h&&(h=it.get(t,"display")),d=T.css(t,"display"),"none"===d&&(h?d=h:(vt([t],!0),h=t.style.display||h,d=T.css(t,"display"),vt([t]))),("inline"===d||"inline-block"===d&&null!=h)&&"none"===T.css(t,"float")&&(l||(c.done(function(){f.display=h}),null==h&&(d=f.display,h="none"===d?"":d)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(v?"hidden"in v&&(g=v.hidden):v=it.access(t,"fxshow",{display:h}),r&&(v.hidden=!g),g&&vt([t],!0),c.done(function(){for(n in g||vt([t]),it.remove(t,"fxshow"),p)T.style(t,n,p[n])})),l=fe(g?v[n]:0,n,c),n in v||(v[n]=l.start,g&&(l.end=l.start,l.start=0))}function ve(t,e){var i,n,o,r,s;for(i in t)if(n=J(i),o=e[n],r=t[i],Array.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=T.cssHooks[n],s&&"expand"in s)for(i in r=s.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=o);else e[n]=o}function me(t,e,i){var n,o,r=0,s=me.prefilters.length,a=T.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ae||ce(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,r=1-n,s=0,l=h.tweens.length;s<l;s++)h.tweens[s].run(r);return a.notifyWith(t,[h,r,i]),r<1&&l?i:(l||a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},i),originalProperties:e,originalOptions:i,startTime:ae||ce(),duration:i.duration,tweens:[],createTween:function(e,i){var n=T.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)h.tweens[i].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),d=h.props;for(ve(d,h.opts.specialEasing);r<s;r++)if(n=me.prefilters[r].call(h,t,d,h.opts),n)return b(n.stop)&&(T._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return T.map(d,fe,h),b(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}T.Animation=T.extend(me,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return pt(i.elem,t,ht.exec(e),i),i}]},tweener:function(t,e){b(t)?(e=t,t=["*"]):t=t.match(H);for(var i,n=0,o=t.length;n<o;n++)i=t[n],me.tweeners[i]=me.tweeners[i]||[],me.tweeners[i].unshift(e)},prefilters:[ge],prefilter:function(t,e){e?me.prefilters.unshift(t):me.prefilters.push(t)}}),T.speed=function(t,e,i){var n=t&&"object"===typeof t?T.extend({},t):{complete:i||!i&&e||b(t)&&t,duration:t,easing:i&&e||e&&!b(e)&&e};return T.fx.off?n.duration=0:"number"!==typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){b(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=T.isEmptyObject(t),r=T.speed(e,i,n),s=function(){var e=me(this,T.extend({},t),r);(o||it.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!==typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=T.timers,s=it.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&de.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||T.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=it.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=T.timers,s=n?n.length:0;for(i.finish=!0,T.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),T.each(["toggle","show","hide"],function(t,e){var i=T.fn[e];T.fn[e]=function(t,n,o){return null==t||"boolean"===typeof t?i.apply(this,arguments):this.animate(pe(e,!0),t,n,o)}}),T.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){T.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),T.timers=[],T.fx.tick=function(){var t,e=0,i=T.timers;for(ae=Date.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||T.fx.stop(),ae=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){le||(le=!0,ue())},T.fx.stop=function(){le=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,n){var o=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(o)}})},function(){var t=a.createElement("input"),e=a.createElement("select"),i=e.appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=i.selected,t=a.createElement("input"),t.value="t",t.type="radio",y.radioValue="t"===t.value}();var ye,be=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return K(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"===typeof t.getAttribute?T.prop(t,e,i):(1===r&&T.isXMLDoc(t)||(o=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?ye:void 0)),void 0!==i?null===i?void T.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=T.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(H);if(o&&1===t.nodeType)while(i=o[n++])t.removeAttribute(i)}}),ye={set:function(t,e,i){return!1===e?T.removeAttr(t,i):t.setAttribute(i,i),i}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var i=be[e]||T.find.attr;be[e]=function(t,e,n){var o,r,s=e.toLowerCase();return n||(r=be[s],be[s]=o,o=null!=i(t,e,n)?s:null,be[s]=r),o}});var we=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;function _e(t){var e=t.match(H)||[];return e.join(" ")}function Ee(t){return t.getAttribute&&t.getAttribute("class")||""}function ke(t){return Array.isArray(t)?t:"string"===typeof t&&t.match(H)||[]}T.fn.extend({prop:function(t,e){return K(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&T.isXMLDoc(t)||(e=T.propFix[e]||e,o=T.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,l=0;if(b(t))return this.each(function(e){T(this).addClass(t.call(this,e,Ee(this)))});if(e=ke(t),e.length)while(i=this[l++])if(o=Ee(i),n=1===i.nodeType&&" "+_e(o)+" ",n){s=0;while(r=e[s++])n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=_e(n),o!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,l=0;if(b(t))return this.each(function(e){T(this).removeClass(t.call(this,e,Ee(this)))});if(!arguments.length)return this.attr("class","");if(e=ke(t),e.length)while(i=this[l++])if(o=Ee(i),n=1===i.nodeType&&" "+_e(o)+" ",n){s=0;while(r=e[s++])while(n.indexOf(" "+r+" ")>-1)n=n.replace(" "+r+" "," ");a=_e(n),o!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"===typeof e&&n?e?this.addClass(t):this.removeClass(t):b(t)?this.each(function(i){T(this).toggleClass(t.call(this,i,Ee(this),e),e)}):this.each(function(){var e,o,r,s;if(n){o=0,r=T(this),s=ke(t);while(e=s[o++])r.hasClass(e)?r.removeClass(e):r.addClass(e)}else void 0!==t&&"boolean"!==i||(e=Ee(this),e&&it.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":it.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;e=" "+t+" ";while(i=this[n++])if(1===i.nodeType&&(" "+_e(Ee(i))+" ").indexOf(e)>-1)return!0;return!1}});var Te=/\r/g;T.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=b(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,T(this).val()):t,null==o?o="":"number"===typeof o?o+="":Array.isArray(o)&&(o=T.map(o,function(t){return null==t?"":t+""})),e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=T.valHooks[o.type]||T.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"===typeof i?i.replace(Te,""):null==i?"":i)):void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:_e(T.text(t))}},select:{get:function(t){var e,i,n,o=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(i=o[n],(i.selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=T(i).val(),s)return e;a.push(e)}return a},set:function(t,e){var i,n,o=t.options,r=T.makeArray(e),s=o.length;while(s--)n=o[s],(n.selected=T.inArray(T.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},y.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in i;var De=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,n,o){var r,s,l,h,d,u,c,p,f=[n||a],v=g.call(t,"type")?t.type:t,m=g.call(t,"namespace")?t.namespace.split("."):[];if(s=p=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!De.test(v+T.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),d=v.indexOf(":")<0&&"on"+v,t=t[T.expando]?t:new T.Event(v,"object"===typeof t&&t),t.isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),c=T.event.special[v]||{},o||!c.trigger||!1!==c.trigger.apply(n,e))){if(!o&&!c.noBubble&&!w(n)){for(h=c.delegateType||v,De.test(h+v)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(n.ownerDocument||a)&&f.push(l.defaultView||l.parentWindow||i)}r=0;while((s=f[r++])&&!t.isPropagationStopped())p=s,t.type=r>1?h:c.bindType||v,u=(it.get(s,"events")||{})[t.type]&&it.get(s,"handle"),u&&u.apply(s,e),u=d&&s[d],u&&u.apply&&tt(s)&&(t.result=u.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,o||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),e)||!tt(n)||d&&b(n[v])&&!w(n)&&(l=n[d],l&&(n[d]=null),T.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,Ce),n[v](),t.isPropagationStopped()&&p.removeEventListener(v,Ce),T.event.triggered=void 0,l&&(n[d]=l)),t.result}},simulate:function(t,e,i){var n=T.extend(new T.Event,i,{type:t,isSimulated:!0});T.event.trigger(n,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return T.event.trigger(t,e,i,!0)}}),y.focusin||T.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=it.access(n,e);o||n.addEventListener(t,i,!0),it.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=it.access(n,e)-1;o?it.access(n,e,o):(n.removeEventListener(t,i,!0),it.remove(n,e))}}});var Se=i.location,Me=Date.now(),Oe=/\?/;T.parseXML=function(t){var e;if(!t||"string"!==typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Ne=/\[\]$/,Ae=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function Le(t,e,i,n){var o;if(Array.isArray(e))T.each(e,function(e,o){i||Ne.test(t)?n(t,o):Le(t+"["+("object"===typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==E(e))n(t,e);else for(o in e)Le(t+"["+o+"]",e[o],i,n)}T.param=function(t,e){var i,n=[],o=function(t,e){var i=b(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){o(this.name,this.value)});else for(i in t)Le(i,t[i],e,o);return n.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Ie.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var i=T(this).val();return null==i?null:Array.isArray(i)?T.map(i,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:i.replace(Ae,"\r\n")}}).get()}});var Re=/%20/g,Be=/#.*$/,Fe=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,He=/^(?:GET|HEAD)$/,Ye=/^\/\//,Ge={},We={},Ve="*/".concat("*"),Ue=a.createElement("a");function qe(t){return function(e,i){"string"!==typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(H)||[];if(b(i))while(n=r[o++])"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Xe(t,e,i,n){var o={},r=t===We;function s(a){var l;return o[a]=!0,T.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!==typeof h||r||o[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),s(h),!1)}),l}return s(e.dataTypes[0])||!o["*"]&&s("*")}function Ke(t,e){var i,n,o=T.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&T.extend(!0,t,n),t}function Ze(t,e,i){var n,o,r,s,a=t.contents,l=t.dataTypes;while("*"===l[0])l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}function $e(t,e,i,n){var o,r,s,a,l,h={},d=t.dataTypes.slice();if(d[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];r=d.shift();while(r)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift(),r)if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=h[l+" "+r]||h["* "+r],!s)for(o in h)if(a=o.split(" "),a[1]===r&&(s=h[l+" "+a[0]]||h["* "+a[0]],s)){!0===s?s=h[o]:!0!==h[o]&&(r=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}Ue.href=Se.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:je.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ke(Ke(t,T.ajaxSettings),e):Ke(T.ajaxSettings,t)},ajaxPrefilter:qe(Ge),ajaxTransport:qe(We),ajax:function(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var n,o,r,s,l,h,d,u,c,p,f=T.ajaxSetup({},e),g=f.context||f,v=f.context&&(g.nodeType||g.jquery)?T(g):T.event,m=T.Deferred(),y=T.Callbacks("once memory"),b=f.statusCode||{},w={},x={},_="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(d){if(!s){s={};while(e=ze.exec(r))s[e[1].toLowerCase()]=e[2]}e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return d?r:null},setRequestHeader:function(t,e){return null==d&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==d&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(d)E.always(t[E.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return n&&n.abort(e),k(0,e),this}};if(m.promise(E),f.url=((t||f.url||Se.href)+"").replace(Ye,Se.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(H)||[""],null==f.crossDomain){h=a.createElement("a");try{h.href=f.url,h.href=h.href,f.crossDomain=Ue.protocol+"//"+Ue.host!==h.protocol+"//"+h.host}catch(D){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=T.param(f.data,f.traditional)),Xe(Ge,f,e,E),d)return E;for(c in u=T.event&&f.global,u&&0===T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!He.test(f.type),o=f.url.replace(Be,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Re,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"===typeof f.data)&&(o+=(Oe.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Fe,"$1"),p=(Oe.test(o)?"&":"?")+"_="+Me+++p),f.url=o+p),f.ifModified&&(T.lastModified[o]&&E.setRequestHeader("If-Modified-Since",T.lastModified[o]),T.etag[o]&&E.setRequestHeader("If-None-Match",T.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ve+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(g,E,f)||d))return E.abort();if(_="abort",y.add(f.complete),E.done(f.success),E.fail(f.error),n=Xe(We,f,e,E),n){if(E.readyState=1,u&&v.trigger("ajaxSend",[E,f]),d)return E;f.async&&f.timeout>0&&(l=i.setTimeout(function(){E.abort("timeout")},f.timeout));try{d=!1,n.send(w,k)}catch(D){if(d)throw D;k(-1,D)}}else k(-1,"No Transport");function k(t,e,s,a){var h,c,p,w,x,_=e;d||(d=!0,l&&i.clearTimeout(l),n=void 0,r=a||"",E.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(w=Ze(f,E,s)),w=$e(f,w,E,h),h?(f.ifModified&&(x=E.getResponseHeader("Last-Modified"),x&&(T.lastModified[o]=x),x=E.getResponseHeader("etag"),x&&(T.etag[o]=x)),204===t||"HEAD"===f.type?_="nocontent":304===t?_="notmodified":(_=w.state,c=w.data,p=w.error,h=!p)):(p=_,!t&&_||(_="error",t<0&&(t=0))),E.status=t,E.statusText=(e||_)+"",h?m.resolveWith(g,[c,_,E]):m.rejectWith(g,[E,_,p]),E.statusCode(b),b=void 0,u&&v.trigger(h?"ajaxSuccess":"ajaxError",[E,f,h?c:p]),y.fireWith(g,[E,_]),u&&(v.trigger("ajaxComplete",[E,f]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,i){return T.get(t,e,i,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,e){T[e]=function(t,i,n,o){return b(i)&&(o=o||n,n=i,i=void 0),T.ajax(T.extend({url:t,type:e,dataType:o,data:i,success:n},T.isPlainObject(t)&&t))}}),T._evalUrl=function(t){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(b(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){var t=this;while(t.firstElementChild)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return b(t)?this.each(function(e){T(this).wrapInner(t.call(this,e))}):this.each(function(){var e=T(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=b(t);return this.each(function(i){T(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Qe={0:200,1223:204},Je=T.ajaxSettings.xhr();y.cors=!!Je&&"withCredentials"in Je,y.ajax=Je=!!Je,T.ajaxTransport(function(t){var e,n;if(y.cors||Je&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!==typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(e)throw l}},abort:function(){e&&e()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(t){var e,i;if(t.crossDomain)return{send:function(n,o){e=T("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){i&&i()}}});var ti=[],ei=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ti.pop()||T.expando+"_"+Me++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,n){var o,r,s,a=!1!==t.jsonp&&(ei.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ei.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ei,"$1"+o):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||T.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=i[o],i[o]=function(){s=arguments},n.always(function(){void 0===r?T(i).removeProp(o):i[o]=r,t[o]&&(t.jsonpCallback=e.jsonpCallback,ti.push(o)),s&&b(r)&&r(s[0]),s=r=void 0}),"script"}),y.createHTMLDocument=function(){var t=a.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),T.parseHTML=function(t,e,i){return"string"!==typeof t?[]:("boolean"===typeof e&&(i=e,e=!1),e||(y.createHTMLDocument?(e=a.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=a.location.href,e.head.appendChild(n)):e=a),o=P.exec(t),r=!i&&[],o?[e.createElement(o[1])]:(o=kt([t],e,r),r&&r.length&&T(r).remove(),T.merge([],o.childNodes)));var n,o,r},T.fn.load=function(t,e,i){var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=_e(t.slice(a)),t=t.slice(0,a)),b(e)?(i=e,e=void 0):e&&"object"===typeof e&&(o="POST"),s.length>0&&T.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?T("<div>").append(T.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,h,d=T.css(t,"position"),u=T(t),c={};"static"===d&&(t.style.position="relative"),a=u.offset(),r=T.css(t,"top"),l=T.css(t,"left"),h=("absolute"===d||"fixed"===d)&&(r+l).indexOf("auto")>-1,h?(n=u.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),b(e)&&(e=e.call(t,i,T.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):u.css(c)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===T.css(n,"position"))e=n.getBoundingClientRect();else{e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;while(t&&(t===i.body||t===i.documentElement)&&"static"===T.css(t,"position"))t=t.parentNode;t&&t!==n&&1===t.nodeType&&(o=T(t).offset(),o.top+=T.css(t,"borderTopWidth",!0),o.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-T.css(n,"marginTop",!0),left:e.left-o.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var t=this.offsetParent;while(t&&"static"===T.css(t,"position"))t=t.offsetParent;return t||Tt})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;T.fn[t]=function(n){return K(this,function(t,n,o){var r;if(w(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===o)return r?r[e]:t[n];r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):t[n]=o},t,n,arguments.length)}}),T.each(["top","left"],function(t,e){T.cssHooks[e]=Xt(y.pixelPosition,function(t,i){if(i)return i=qt(t,e),Wt.test(i)?T(t).position()[e]+"px":i})}),T.each({Height:"height",Width:"width"},function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){T.fn[n]=function(o,r){var s=arguments.length&&(i||"boolean"!==typeof o),a=i||(!0===o||!0===r?"margin":"border");return K(this,function(e,i,o){var r;return w(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?T.css(e,i,a):T.style(e,i,o,a)},e,s?o:void 0,s)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){T.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),T.proxy=function(t,e){var i,n,o;if("string"===typeof e&&(i=t[e],e=t,t=i),b(t))return n=h.call(arguments,2),o=function(){return t.apply(e||this,n.concat(h.call(arguments)))},o.guid=t.guid=t.guid||T.guid++,o},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=A,T.isFunction=b,T.isWindow=w,T.camelCase=J,T.type=E,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},n=[],o=function(){return T}.apply(e,n),void 0===o||(t.exports=o);var ii=i.jQuery,ni=i.$;return T.noConflict=function(t){return i.$===T&&(i.$=ni),t&&i.jQuery===T&&(i.jQuery=ii),T},r||(i.jQuery=i.$=T),T})},1169:function(t,e,i){var n=i("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},1173:function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},"11e9":function(t,e,i){var n=i("52a7"),o=i("4630"),r=i("6821"),s=i("6a99"),a=i("69a8"),l=i("c69a"),h=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?h:function(t,e){if(t=r(t),e=s(e,!0),l)try{return h(t,e)}catch(i){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},1248:function(t,e,i){var n,o,r;(function(){var i,s,a,l,h,d,u,c,p,f,g,v,m,y,b;a=Math.floor,f=Math.min,s=function(t,e){return t<e?-1:t>e?1:0},p=function(t,e,i,n,o){var r;if(null==i&&(i=0),null==o&&(o=s),i<0)throw new Error("lo must be non-negative");null==n&&(n=t.length);while(i<n)r=a((i+n)/2),o(e,t[r])<0?n=r:i=r+1;return[].splice.apply(t,[i,i-i].concat(e)),e},d=function(t,e,i){return null==i&&(i=s),t.push(e),y(t,0,t.length-1,i)},h=function(t,e){var i,n;return null==e&&(e=s),i=t.pop(),t.length?(n=t[0],t[0]=i,b(t,0,e)):n=i,n},c=function(t,e,i){var n;return null==i&&(i=s),n=t[0],t[0]=e,b(t,0,i),n},u=function(t,e,i){var n;return null==i&&(i=s),t.length&&i(t[0],e)<0&&(n=[t[0],e],e=n[0],t[0]=n[1],b(t,0,i)),e},l=function(t,e){var i,n,o,r,l,h;for(null==e&&(e=s),r=function(){h=[];for(var e=0,i=a(t.length/2);0<=i?e<i:e>i;0<=i?e++:e--)h.push(e);return h}.apply(this).reverse(),l=[],n=0,o=r.length;n<o;n++)i=r[n],l.push(b(t,i,e));return l},m=function(t,e,i){var n;if(null==i&&(i=s),n=t.indexOf(e),-1!==n)return y(t,0,n,i),b(t,n,i)},g=function(t,e,i){var n,o,r,a,h;if(null==i&&(i=s),o=t.slice(0,e),!o.length)return o;for(l(o,i),h=t.slice(e),r=0,a=h.length;r<a;r++)n=h[r],u(o,n,i);return o.sort(i).reverse()},v=function(t,e,i){var n,o,r,a,d,u,c,g,v;if(null==i&&(i=s),10*e<=t.length){if(r=t.slice(0,e).sort(i),!r.length)return r;for(o=r[r.length-1],c=t.slice(e),a=0,u=c.length;a<u;a++)n=c[a],i(n,o)<0&&(p(r,n,0,null,i),r.pop(),o=r[r.length-1]);return r}for(l(t,i),v=[],d=0,g=f(e,t.length);0<=g?d<g:d>g;0<=g?++d:--d)v.push(h(t,i));return v},y=function(t,e,i,n){var o,r,a;null==n&&(n=s),o=t[i];while(i>e){if(a=i-1>>1,r=t[a],!(n(o,r)<0))break;t[i]=r,i=a}return t[i]=o},b=function(t,e,i){var n,o,r,a,l;null==i&&(i=s),o=t.length,l=e,r=t[e],n=2*e+1;while(n<o)a=n+1,a<o&&!(i(t[n],t[a])<0)&&(n=a),t[e]=t[n],e=n,n=2*e+1;return t[e]=r,y(t,l,e,i)},i=function(){function t(t){this.cmp=null!=t?t:s,this.nodes=[]}return t.push=d,t.pop=h,t.replace=c,t.pushpop=u,t.heapify=l,t.updateItem=m,t.nlargest=g,t.nsmallest=v,t.prototype.push=function(t){return d(this.nodes,t,this.cmp)},t.prototype.pop=function(){return h(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return c(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return u(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return l(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return m(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),function(i,s){o=[],n=s,r="function"===typeof n?n.apply(e,o):n,void 0!==r&&(t.exports=r)}(0,function(){return i})}).call(this)},"175a":function(t,e,i){t.exports=i("1248")},1776:function(t,e,i){var n;(function(){"use strict";var o="undefined"===typeof jQuery?null:jQuery,r=function(t,e){if(t){var i,n={menuItems:[],menuItemClasses:[],contextMenuClasses:[]};t("core","contextMenus",function(t){var o=this;o.scratch("cycontextmenus")||o.scratch("cycontextmenus",{});var r=d("options"),s=d("cxtMenu"),a="cy-context-menus-cxt-menuitem",l="cy-context-menus-divider";function h(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}function d(t){return o.scratch("cycontextmenus")[t]}function u(t,e){o.scratch("cycontextmenus")[t]=e}function c(){e(".cy-context-menus-cxt-menu").contextmenu(function(){return!1})}function p(t,e){var i=f(t);return i+=" "+a,e&&(i+=" "+l),i}function f(t){for(var e="",i=0;i<t.length;i++){var n=t[i];e+=n,i!==t.length-1&&(e+=" ")}return e}function g(t){t.css("display","block")}function v(t){t.css("display","none")}function m(){s.children().css("display","none")}function y(t,e){var i;t.on("click",i=function(){e(d("currentCyEvent"))}),t.data("call-on-click-function",i)}function b(t,e,i){function n(e){u("currentCyEvent",e),_(e),t.data("show")&&(s.is(":visible")||g(s),u("anyVisibleChild",!0),g(t)),!d("anyVisibleChild")&&s.is(":visible")&&v(s)}var r,a;i&&o.on("cxttap",a=function(t){var e=t.target||t.cyTarget;e==o&&n(t)}),e&&o.on("cxttap",e,r=function(t){n(t)}),t.data("cy-context-menus-cxtfcn",r),t.data("cy-context-menus-cxtcorefcn",a)}function w(){o.on("tapstart",i=function(){v(s),u("cxtMenuPosition",void 0),u("currentCyEvent",void 0)})}function x(t,e,i,n){y(t,e),b(t,i,n)}function _(t){var i=d("cxtMenuPosition"),n=t.position||t.cyPosition;if(i!=n){m(),u("anyVisibleChild",!1),u("cxtMenuPosition",n);var r=e(o.container()).offset(),a=t.renderedPosition||t.cyRenderedPosition,l=r.left+a.x,h=r.top+a.y;s.css("left",l),s.css("top",h)}}function E(t){for(var e=0;e<t.length;e++)k(t[e])}function k(t){var e=C(t);S(e),x(e,t.onClickFunction,t.selector,t.coreAsWell)}function T(t,e){var i=C(t);M(i,e),x(i,t.onClickFunction,t.selector,t.coreAsWell)}function D(){var t=f(r.contextMenuClasses);return s=e("<div class="+t+"></div>"),s.addClass("cy-context-menus-cxt-menu"),u("cxtMenu",s),e("body").append(s),s}function C(t){var i=p(r.menuItemClasses,t.hasTrailingDivider),n='<button id="'+t.id+'" class="'+i+'"';t.tooltipText&&(n+=' title="'+t.tooltipText+'"'),t.disabled&&(n+=" disabled"),t.image?n+='><img src="'+t.image.src+'" width="'+t.image.width+'px"; height="'+t.image.height+'px"; style="position:absolute; top: '+t.image.y+"px; left: "+t.image.x+'px;">'+t.content+"</button>":n+=">"+t.content+"</button>";var o=e(n);return o.data("selector",t.selector),o.data("on-click-function",t.onClickFunction),o.data("show","undefined"===typeof t.show||t.show),o}function S(t){s.append(t),I(t)}function M(t,i){var n=e("#"+i);t.insertBefore(n)}function O(){d("active")&&(N(),o.off("tapstart",i),s.remove(),s=void 0,u(s,void 0),u("active",!1),u("anyVisibleChild",!1))}function N(){var t=s.children();e(t).each(function(){A(e(this))})}function A(t){var i="string"===typeof t?e("#"+t):t,n=i.data("cy-context-menus-cxtfcn"),r=i.data("selector"),s=i.data("call-on-click-function"),a=i.data("cy-context-menus-cxtcorefcn");n&&o.off("cxttap",r,n),a&&o.off("cxttap",a),s&&i.off("click",s),i.remove()}function P(t,i){if(t!==i){var n=e("#"+t).detach(),o=e("#"+i);n.insertBefore(o)}}function I(t){t.click(function(){v(s),u("cxtMenuPosition",void 0)})}function L(t){e("#"+t).attr("disabled",!0)}function R(t){e("#"+t).attr("disabled",!1)}function B(t,i){var n=e("#"+t);i?n.addClass(l):n.removeClass(l)}function F(t){var i={isActive:function(){return d("active")},appendMenuItem:function(e){return k(e),t},appendMenuItems:function(e){return E(e),t},removeMenuItem:function(e){return A(e),t},setTrailingDivider:function(e,i){return B(e,i),t},insertBeforeMenuItem:function(e,i){return T(e,i),t},moveBeforeOtherMenuItem:function(e,i){return P(e,i),t},disableMenuItem:function(e){return L(e),t},enableMenuItem:function(e){return R(e),t},hideMenuItem:function(i){return e("#"+i).data("show",!1),v(e("#"+i)),t},showMenuItem:function(i){return e("#"+i).data("show",!0),g(e("#"+i)),t},destroy:function(){return O(),t}};return i}if("get"!==t){r=h(n,t),u("options",r),d("active")&&O(),u("active",!0),s=D();var z=r.menuItems;E(z),w(),c()}return F(this)})}};t.exports&&(t.exports=r),n=function(){return r}.call(e,i,e,t),void 0===n||(t.exports=n),"undefined"!==typeof cytoscape&&o&&r(cytoscape,o)})()},"1af6":function(t,e,i){var n=i("63b6");n(n.S,"Array",{isArray:i("9003")})},"20fd":function(t,e,i){"use strict";var n=i("d9f6"),o=i("aebd");t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},"2f37":function(t,e,i){var n=i("63b6");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},"32a6":function(t,e,i){var n=i("241e"),o=i("c3a1");i("ce7e")("keys",function(){return function(t){return o(n(t))}})},3556:function(t,e,i){"use strict";var n=i("4406"),o=i.n(n);o.a},3702:function(t,e,i){var n=i("481b"),o=i("5168")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[o]===t)}},3846:function(t,e,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"40c3":function(t,e,i){var n=i("6b4c"),o=i("5168")("toStringTag"),r="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),o))?i:r?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},"40fd":function(t,e,i){},4406:function(t,e,i){},"44e1":function(t,e,i){"use strict";function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var o=n(i("f7fe")),r=n(i("175a"));function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e){return c(t)||p(t,e)||f()}function c(t){if(Array.isArray(t))return t}function p(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)if(i.push(s.value),e&&i.length===e)break}catch(l){o=!0,r=l}finally{try{n||null==a["return"]||a["return"]()}finally{if(o)throw r}}return i}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var g="undefined"===typeof window?null:window,v=g?g.navigator:null,m=(g&&g.document,s("")),y=s({}),b=s(function(){}),w="undefined"===typeof HTMLElement?"undefined":s(HTMLElement),x=function(t){return t&&t.instanceString&&E(t.instanceString)?t.instanceString():null},_=function(t){return null!=t&&s(t)==m},E=function(t){return null!=t&&s(t)===b},k=function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},T=function(t){return null!=t&&s(t)===y&&!k(t)&&t.constructor===Object},D=function(t){return null!=t&&s(t)===y},C=function(t){return null!=t&&s(t)===s(1)&&!isNaN(t)},S=function(t){return C(t)&&Math.floor(t)===t},M=function(t){return"undefined"===w?void 0:null!=t&&t instanceof HTMLElement},O=function(t){return N(t)||A(t)},N=function(t){return"collection"===x(t)&&t._private.single},A=function(t){return"collection"===x(t)&&!t._private.single},P=function(t){return"core"===x(t)},I=function(t){return"stylesheet"===x(t)},L=function(t){return"event"===x(t)},R=function(t){return void 0===t||null===t||!(""!==t&&!t.match(/^\s+$/))},B=function(t){return"undefined"!==typeof HTMLElement&&t instanceof HTMLElement},F=function(t){return T(t)&&C(t.x1)&&C(t.x2)&&C(t.y1)&&C(t.y2)},z=function(t){return D(t)&&E(t.then)},j=function(){return v&&v.userAgent.match(/msie|trident|edge/i)},H=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var i=function i(){var n,o=this,r=arguments,s=e.apply(o,r),a=i.cache;return(n=a[s])||(n=a[s]=t.apply(o,r)),n};return i.cache={},i},Y=H(function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),G=H(function(t){return t.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),W=H(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),V=function(t){return R(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},U="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",q="rgb[a]?\\(("+U+"[%]?)\\s*,\\s*("+U+"[%]?)\\s*,\\s*("+U+"[%]?)(?:\\s*,\\s*("+U+"))?\\)",X="rgb[a]?\\((?:"+U+"[%]?)\\s*,\\s*(?:"+U+"[%]?)\\s*,\\s*(?:"+U+"[%]?)(?:\\s*,\\s*(?:"+U+"))?\\)",K="hsl[a]?\\(("+U+")\\s*,\\s*("+U+"[%])\\s*,\\s*("+U+"[%])(?:\\s*,\\s*("+U+"))?\\)",Z="hsl[a]?\\((?:"+U+")\\s*,\\s*(?:"+U+"[%])\\s*,\\s*(?:"+U+"[%])(?:\\s*,\\s*(?:"+U+"))?\\)",$="\\#[0-9a-fA-F]{3}",Q="\\#[0-9a-fA-F]{6}",J=function(t,e){return t<e?-1:t>e?1:0},tt=function(t,e){return-1*J(t,e)},et=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,i=1;i<e.length;i++){var n=e[i];if(null!=n)for(var o=Object.keys(n),r=0;r<o.length;r++){var s=o[r];t[s]=n[s]}}return t},it=function(t){if((4===t.length||7===t.length)&&"#"===t[0]){var e,i,n,o=4===t.length,r=16;return o?(e=parseInt(t[1]+t[1],r),i=parseInt(t[2]+t[2],r),n=parseInt(t[3]+t[3],r)):(e=parseInt(t[1]+t[2],r),i=parseInt(t[3]+t[4],r),n=parseInt(t[5]+t[6],r)),[e,i,n]}},nt=function(t){var e,i,n,o,r,s,a,l;function h(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var d=new RegExp("^"+K+"$").exec(t);if(d){if(i=parseInt(d[1]),i<0?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,n=parseFloat(d[2]),n<0||n>100)return;if(n/=100,o=parseFloat(d[3]),o<0||o>100)return;if(o/=100,r=d[4],void 0!==r&&(r=parseFloat(r),r<0||r>1))return;if(0===n)s=a=l=Math.round(255*o);else{var u=o<.5?o*(1+n):o+n-o*n,c=2*o-u;s=Math.round(255*h(c,u,i+1/3)),a=Math.round(255*h(c,u,i)),l=Math.round(255*h(c,u,i-1/3))}e=[s,a,l,r]}return e},ot=function(t){var e,i=new RegExp("^"+q+"$").exec(t);if(i){e=[];for(var n=[],o=1;o<=3;o++){var r=i[o];if("%"===r[r.length-1]&&(n[o]=!0),r=parseFloat(r),n[o]&&(r=r/100*255),r<0||r>255)return;e.push(Math.floor(r))}var s=n[1]||n[2]||n[3],a=n[1]&&n[2]&&n[3];if(s&&!a)return;var l=i[4];if(void 0!==l){if(l=parseFloat(l),l<0||l>1)return;e.push(l)}}return e},rt=function(t){return at[t.toLowerCase()]},st=function(t){return(k(t)?t:null)||rt(t)||it(t)||ot(t)||nt(t)},at={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},lt=function(t){for(var e=t.map,i=t.keys,n=i.length,o=0;o<n;o++){var r=i[o];if(T(r))throw Error("Tried to set map with object key");o<i.length-1?(null==e[r]&&(e[r]={}),e=e[r]):e[r]=t.value}},ht=function(t){for(var e=t.map,i=t.keys,n=i.length,o=0;o<n;o++){var r=i[o];if(T(r))throw Error("Tried to get map with object key");if(e=e[r],null==e)return e}return e},dt=g?g.performance:null,ut=dt&&dt.now?function(){return dt.now()}:function(){return Date.now()},ct=function(){if(g){if(g.requestAnimationFrame)return function(t){g.requestAnimationFrame(t)};if(g.mozRequestAnimationFrame)return function(t){g.mozRequestAnimationFrame(t)};if(g.webkitRequestAnimationFrame)return function(t){g.webkitRequestAnimationFrame(t)};if(g.msRequestAnimationFrame)return function(t){g.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(ut())},1e3/60)}}(),pt=function(t){return ct(t)},ft=ut,gt=function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381,n=i;;){if(e=t.next(),e.done)break;n=33*n^e.value}return n>>>0},vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(33*e^t)>>>0},mt=function(t,e){var i={value:0,done:!1},n=0,o=t.length,r={next:function(){return n<o?i.value=t[n++]:i.done=!0,i}};return gt(r,e)},yt=function(t,e){var i={value:0,done:!1},n=0,o=t.length,r={next:function(){return n<o?i.value=t.charCodeAt(n++):i.done=!0,i}};return gt(r,e)},bt=function(){return wt(arguments)},wt=function(t){for(var e,i=0;i<t.length;i++){var n=t[i];e=0===i?yt(n):yt(n,e)}return e},xt=!0,_t=null!=console.warn,Et=null!=console.trace,kt=Number.MAX_SAFE_INTEGER||9007199254740991,Tt=function(){return!0},Dt=function(){return!1},Ct=function(){return 0},St=function(){},Mt=function(t){throw new Error(t)},Ot=function(t){if(void 0===t)return xt;xt=!!t},Nt=function(t){Ot()&&(_t?console.warn(t):(console.log(t),Et&&console.trace()))},At=function(t){return et({},t)},Pt=function(t){return null==t?t:k(t)?t.slice():T(t)?At(t):t},It=function(t){return t.slice()},Lt=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},Rt={},Bt=function(){return Rt},Ft=function(t){var e=Object.keys(t);return function(i){for(var n={},o=0;o<e.length;o++){var r=e[o],s=null==i?void 0:i[r];n[r]=void 0===s?t[r]:s}return n}},zt=function(t,e,i){for(var n=t.length;n>=0;n--)if(t[n]===e&&(t.splice(n,1),!i))break},jt=function(t){t.splice(0,t.length)},Ht=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];t.push(n)}},Yt=function(t,e,i){return i&&(e=W(i,e)),t[e]},Gt=function(t,e,i,n){i&&(e=W(i,e)),t[e]=n},Wt=function(){function t(){a(this,t),this._obj={}}return h(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Vt="undefined"!==typeof Map?Map:Wt,Ut="undefined",qt=function(){function t(e){if(a(this,t),this._obj=Object.create(null),this.size=0,null!=e){var i;i=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<i.length;n++)this.add(i[n])}}return h(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),Xt=("undefined"===typeof Set?"undefined":s(Set))!==Ut?Set:qt,Kt=function(t,e,i){if(i=!(void 0!==i&&!i),void 0!==t&&void 0!==e&&P(t)){var n=e.group;if(null==n&&(n=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===n||"edges"===n){this.length=1,this[0]=this;var o=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,active:!1,classes:new Xt,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null}};if(null==o.position.x&&(o.position.x=0),null==o.position.y&&(o.position.y=0),e.renderedPosition){var r=e.renderedPosition,s=t.pan(),a=t.zoom();o.position={x:(r.x-s.x)/a,y:(r.y-s.y)/a}}var l=[];k(e.classes)?l=e.classes:_(e.classes)&&(l=e.classes.split(/\s+/));for(var h=0,d=l.length;h<d;h++){var u=l[h];u&&""!==u&&o.classes.add(u)}this.createEmitter();var c=e.style||e.css;c&&(Nt("Setting a `style` bypass at element creation is deprecated"),this.style(c)),(void 0===i||i)&&this.restore()}else Mt("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else Mt("An element must have a core reference and parameters set")},Zt=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,i,n){var o;T(e)&&!O(e)&&(o=e,e=o.roots||o.root,i=o.visit,n=o.directed),n=2!==arguments.length||E(i)?n:i,i=E(i)?i:function(){};for(var r,s=this._private.cy,a=e=_(e)?this.filter(e):e,l=[],h=[],d={},u={},c={},p=0,f=this.byGroup(),g=f.nodes,v=f.edges,m=0;m<a.length;m++){var y=a[m],b=y.id();y.isNode()&&(l.unshift(y),t.bfs&&(c[b]=!0,h.push(y)),u[b]=0)}var w=function(){var e=t.bfs?l.shift():l.pop(),o=e.id();if(t.dfs){if(c[o])return"continue";c[o]=!0,h.push(e)}var s=u[o],a=d[o],f=null!=a?a.source():null,m=null!=a?a.target():null,y=null==a?void 0:e.same(f)?m[0]:f[0],b=void 0;if(b=i(e,a,y,p++,s),!0===b)return r=e,"break";if(!1===b)return"break";for(var w=e.connectedEdges().filter(function(t){return(!n||t.source().same(e))&&v.has(t)}),x=0;x<w.length;x++){var _=w[x],E=_.connectedNodes().filter(function(t){return!t.same(e)&&g.has(t)}),k=E.id();0===E.length||c[k]||(E=E[0],l.push(E),t.bfs&&(c[k]=!0,h.push(E)),d[k]=_,u[k]=u[o]+1)}};t:while(0!==l.length){var x=w();switch(x){case"continue":continue;case"break":break t}}for(var k=s.collection(),D=0;D<h.length;D++){var C=h[D],S=d[C.id()];null!=S&&k.merge(S),k.merge(C)}return{path:s.collection(k),found:s.collection(r)}}},$t={breadthFirstSearch:Zt({bfs:!0}),depthFirstSearch:Zt({dfs:!0})};$t.bfs=$t.breadthFirstSearch,$t.dfs=$t.depthFirstSearch;var Qt=Ft({root:null,weight:function(t){return 1},directed:!1}),Jt={dijkstra:function(t){if(!T(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var i=Qt(t),n=i.root,o=i.weight,s=i.directed,a=this,l=o,h=_(n)?this.filter(n)[0]:n[0],d={},u={},c={},p=this.byGroup(),f=p.nodes,g=p.edges;g.unmergeBy(function(t){return t.isLoop()});for(var v=function(t){return d[t.id()]},m=function(t,e){d[t.id()]=e,y.updateItem(t)},y=new r(function(t,e){return v(t)-v(e)}),b=0;b<f.length;b++){var w=f[b];d[w.id()]=w.same(h)?0:1/0,y.push(w)}var x=function(t,e){for(var i,n=(s?t.edgesTo(e):t.edgesWith(e)).intersect(g),o=1/0,r=0;r<n.length;r++){var a=n[r],h=l(a);(h<o||!i)&&(o=h,i=a)}return{edge:i,dist:o}};while(y.size()>0){var E=y.pop(),k=v(E),D=E.id();if(c[D]=k,k!==1/0)for(var C=E.neighborhood().intersect(f),S=0;S<C.length;S++){var M=C[S],O=M.id(),N=x(E,M),A=k+N.dist;A<v(M)&&(m(M,A),u[O]={node:E,edge:N.edge})}}return{distanceTo:function(t){var e=_(t)?f.filter(t)[0]:t[0];return c[e.id()]},pathTo:function(t){var e=_(t)?f.filter(t)[0]:t[0],i=[],n=e,o=n.id();if(e.length>0){i.unshift(e);while(u[o]){var r=u[o];i.unshift(r.edge),i.unshift(r.node),n=r.node,o=n.id()}}return a.spawn(i)}}}},te={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),i=e.nodes,n=e.edges,o=i.length,r=new Array(o),s=i,a=function(t){for(var e=0;e<r.length;e++){var i=r[e];if(i.has(t))return e}},l=0;l<o;l++)r[l]=this.spawn(i[l]);for(var h=n.sort(function(e,i){return t(e)-t(i)}),d=0;d<h.length;d++){var u=h[d],c=u.source()[0],p=u.target()[0],f=a(c),g=a(p),v=r[f],m=r[g];f!==g&&(s.merge(u),v.merge(m),r.splice(g,1))}return s}},ee=Ft({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),ie={aStar:function(t){var e=this.cy(),i=ee(t),n=i.root,o=i.goal,s=i.heuristic,a=i.directed,l=i.weight;n=e.collection(n)[0],o=e.collection(o)[0];var h,d,u=n.id(),c=o.id(),p={},f={},g={},v=new r(function(t,e){return f[t.id()]-f[e.id()]}),m=new Xt,y={},b={},w=function(t,e){v.push(t),m.add(e)},x=function(){h=v.pop(),d=h.id(),m.delete(d)},_=function(t){return m.has(t)};w(n,u),p[u]=0,f[u]=s(n);var E=0;while(v.size()>0){if(x(),E++,d===c){for(var k=[],T=o,D=c,C=b[D];;){if(k.unshift(T),null!=C&&k.unshift(C),T=y[D],null==T)break;D=T.id(),C=b[D]}return{found:!0,distance:p[d],path:this.spawn(k),steps:E}}g[d]=!0;for(var S=h._private.edges,M=0;M<S.length;M++){var O=S[M];if(this.hasElementWithId(O.id())&&(!a||O.data("source")===d)){var N=O.source(),A=O.target(),P=N.id()!==d?N:A,I=P.id();if(this.hasElementWithId(I)&&!g[I]){var L=p[d]+l(O);_(I)?L<p[I]&&(p[I]=L,f[I]=L+s(P),y[I]=h):(p[I]=L,f[I]=L+s(P),w(P,I),y[I]=h,b[I]=O)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},ne=Ft({weight:function(t){return 1},directed:!1}),oe={floydWarshall:function(t){for(var e=this.cy(),i=ne(t),n=i.weight,o=i.directed,r=n,s=this.byGroup(),a=s.nodes,l=s.edges,h=a.length,d=h*h,u=function(t){return a.indexOf(t)},c=function(t){return a[t]},p=new Array(d),f=0;f<d;f++){var g=f%h,v=(f-g)/h;p[f]=v===g?0:1/0}for(var m=new Array(d),y=new Array(d),b=0;b<l.length;b++){var w=l[b],x=w.source()[0],E=w.target()[0];if(x!==E){var k=u(x),T=u(E),D=k*h+T,C=r(w);if(p[D]>C&&(p[D]=C,m[D]=T,y[D]=w),!o){var S=T*h+k;!o&&p[S]>C&&(p[S]=C,m[S]=k,y[S]=w)}}}for(var M=0;M<h;M++)for(var O=0;O<h;O++)for(var N=O*h+M,A=0;A<h;A++){var P=O*h+A,I=M*h+A;p[N]+p[I]<p[P]&&(p[P]=p[N]+p[I],m[P]=m[N])}var L=function(t){return(_(t)?e.filter(t):t)[0]},R=function(t){return u(L(t))},B={distance:function(t,e){var i=R(t),n=R(e);return p[i*h+n]},path:function(t,i){var n=R(t),o=R(i),r=c(n);if(n===o)return r.collection();if(null==m[n*h+o])return e.collection();var s,a=e.collection(),l=n;a.merge(r);while(n!==o)l=n,n=m[n*h+o],s=y[l*h+n],a.merge(s),a.merge(c(n));return a}};return B}},re=Ft({weight:function(t){return 1},directed:!1,root:null}),se={bellmanFord:function(t){var e=this,i=re(t),n=i.weight,o=i.directed,r=i.root,s=n,a=this,l=this.cy(),h=this.byGroup(),d=h.edges,u=h.nodes,c=u.length,p=new Vt,f=!1,g=[];r=l.collection(r)[0],d.unmergeBy(function(t){return t.isLoop()});for(var v=d.length,m=function(t){var e=p.get(t.id());return e||(e={},p.set(t.id(),e)),e},y=function(t){return(_(t)?l.$(t):t)[0]},b=function(t){return m(y(t)).dist},w=function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=y(t),o=[],s=n;;){if(null==s)return e.spawn();var l=m(s),h=l.edge,d=l.pred;if(o.unshift(s[0]),s.same(i)&&o.length>0)break;null!=h&&o.unshift(h),s=d}return a.spawn(o)},x=0;x<c;x++){var E=u[x],k=m(E);E.same(r)?k.dist=0:k.dist=1/0,k.pred=null,k.edge=null}for(var T=!1,D=function(t,e,i,n,o,r){var s=n.dist+r;s<o.dist&&!i.same(n.edge)&&(o.dist=s,o.pred=t,o.edge=i,T=!0)},C=1;C<c;C++){T=!1;for(var S=0;S<v;S++){var M=d[S],O=M.source(),N=M.target(),A=s(M),P=m(O),I=m(N);D(O,N,M,P,I,A),o||D(N,O,M,I,P,A)}if(!T)break}if(T)for(var L=0;L<v;L++){var R=d[L],B=R.source(),F=R.target(),z=s(R),j=m(B).dist,H=m(F).dist;if(j+z<H||!o&&H+z<j){Nt("Graph contains a negative weight cycle for Bellman-Ford"),f=!0;break}}return{distanceTo:b,pathTo:w,hasNegativeWeightCycle:f,negativeWeightCycles:g}}},ae=Math.sqrt(2),le=function(t,e,i){0===i.length&&Mt("Karger-Stein must be run on a connected (sub)graph");for(var n=i[t],o=n[1],r=n[2],s=e[o],a=e[r],l=i,h=l.length-1;h>=0;h--){var d=l[h],u=d[1],c=d[2];(e[u]===s&&e[c]===a||e[u]===a&&e[c]===s)&&l.splice(h,1)}for(var p=0;p<l.length;p++){var f=l[p];f[1]===a?(l[p]=f.slice(),l[p][1]=s):f[2]===a&&(l[p]=f.slice(),l[p][2]=s)}for(var g=0;g<e.length;g++)e[g]===a&&(e[g]=s);return l},he=function(t,e,i,n){while(i>n){var o=Math.floor(Math.random()*e.length);e=le(o,t,e),i--}return e},de={kargerStein:function(){var t=this.byGroup(),e=t.nodes,i=t.edges;i.unmergeBy(function(t){return t.isLoop()});var n=e.length,o=i.length,r=Math.ceil(Math.pow(Math.log(n)/Math.LN2,2)),s=Math.floor(n/ae);if(!(n<2)){for(var a=[],l=0;l<o;l++){var h=i[l];a.push([l,e.indexOf(h.source()),e.indexOf(h.target())])}for(var d=1/0,u=[],c=new Array(n),p=new Array(n),f=new Array(n),g=function(t,e){for(var i=0;i<n;i++)e[i]=t[i]},v=0;v<=r;v++){for(var m=0;m<n;m++)p[m]=m;var y=he(p,a.slice(),n,s),b=y.slice();g(p,f);var w=he(p,y,s,2),x=he(f,b,s,2);w.length<=x.length&&w.length<d?(d=w.length,u=w,g(p,c)):x.length<=w.length&&x.length<d&&(d=x.length,u=x,g(f,c))}for(var _=this.spawn(u.map(function(t){return i[t[0]]})),E=this.spawn(),k=this.spawn(),T=c[0],D=0;D<c.length;D++){var C=c[D],S=e[D];C===T?E.merge(S):k.merge(S)}var M={cut:_,partition1:E,partition2:k};return M}Mt("At least 2 nodes are required for Karger-Stein algorithm")}},ue=function(t){return{x:t.x,y:t.y}},ce=function(t,e,i){return{x:t.x*e+i.x,y:t.y*e+i.y}},pe=function(t,e,i){return{x:(t.x-i.x)/e,y:(t.y-i.y)/e}},fe=function(t){return{x:t[0],y:t[1]}},ge=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=1/0,o=e;o<i;o++){var r=t[o];isFinite(r)&&(n=Math.min(r,n))}return n},ve=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=-1/0,o=e;o<i;o++){var r=t[o];isFinite(r)&&(n=Math.max(r,n))}return n},me=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,o=0,r=e;r<i;r++){var s=t[r];isFinite(s)&&(n+=s,o++)}return n/o},ye=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n?t=t.slice(e,i):(i<t.length&&t.splice(i,t.length-i),e>0&&t.splice(0,e));for(var s=0,a=t.length-1;a>=0;a--){var l=t[a];r?isFinite(l)||(t[a]=-1/0,s++):t.splice(a,1)}o&&t.sort(function(t,e){return t-e});var h=t.length,d=Math.floor(h/2);return h%2!==0?t[d+1+s]:(t[d-1+s]+t[d+s])/2},be=function(t){return Math.PI*t/180},we=function(t,e){return Math.atan2(e,t)-Math.PI/2},xe=Math.log2||function(t){return Math.log(t)/Math.log(2)},_e=function(t){return t>0?1:t<0?-1:0},Ee=function(t,e){return Math.sqrt(ke(t,e))},ke=function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},Te=function(t){for(var e=t.length,i=0,n=0;n<e;n++)i+=t[n];for(var o=0;o<e;o++)t[o]=t[o]/i;return t},De=function(t,e,i,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*i},Ce=function(t,e,i,n){return{x:De(t.x,e.x,i.x,n),y:De(t.y,e.y,i.y,n)}},Se=function(t,e,i,n){var o={x:e.x-t.x,y:e.y-t.y},r=Ee(t,e),s={x:o.x/r,y:o.y/r};return i=null==i?0:i,n=null!=n?n:i*r,{x:t.x+s.x*n,y:t.y+s.y*n}},Me=function(t,e,i){return Math.max(t,Math.min(i,e))},Oe=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},Ne=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},Ae=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},Pe=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},Ie=function(t,e,i){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,i),t.y2=Math.max(t.y2,i),t.h=t.y2-t.y1},Le=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Re=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Be=function(t,e){t.x1+=e.x,t.x2+=e.x,t.y1+=e.y,t.y2+=e.y},Fe=function(t,e){return!(t.x1>e.x2)&&(!(e.x1>t.x2)&&(!(t.x2<e.x1)&&(!(e.x2<t.x1)&&(!(t.y2<e.y1)&&(!(e.y2<t.y1)&&(!(t.y1>e.y2)&&!(e.y1>t.y2)))))))},ze=function(t,e,i){return t.x1<=e&&e<=t.x2&&t.y1<=i&&i<=t.y2},je=function(t,e){return ze(t,e.x,e.y)},He=function(t,e){return ze(t,e.x1,e.y1)&&ze(t,e.x2,e.y2)},Ye=function(t,e,i,n,o,r,s){var a,l=hi(o,r),h=o/2,d=r/2,u=i-h+l-s,c=n-d-s,p=i+h-l+s,f=c;if(a=ni(t,e,i,n,u,c,p,f,!1),a.length>0)return a;var g=i+h+s,v=n-d+l-s,m=g,y=n+d-l+s;if(a=ni(t,e,i,n,g,v,m,y,!1),a.length>0)return a;var b=i-h+l-s,w=n+d+s,x=i+h-l+s,_=w;if(a=ni(t,e,i,n,b,w,x,_,!1),a.length>0)return a;var E,k=i-h-s,T=n-d+l-s,D=k,C=n+d-l+s;if(a=ni(t,e,i,n,k,T,D,C,!1),a.length>0)return a;var S=i-h+l,M=n-d+l;if(E=ei(t,e,i,n,S,M,l+s),E.length>0&&E[0]<=S&&E[1]<=M)return[E[0],E[1]];var O=i+h-l,N=n-d+l;if(E=ei(t,e,i,n,O,N,l+s),E.length>0&&E[0]>=O&&E[1]<=N)return[E[0],E[1]];var A=i+h-l,P=n+d-l;if(E=ei(t,e,i,n,A,P,l+s),E.length>0&&E[0]>=A&&E[1]>=P)return[E[0],E[1]];var I=i-h+l,L=n+d-l;return E=ei(t,e,i,n,I,L,l+s),E.length>0&&E[0]<=I&&E[1]>=L?[E[0],E[1]]:[]},Ge=function(t,e,i,n,o,r,s){var a=s,l=Math.min(i,o),h=Math.max(i,o),d=Math.min(n,r),u=Math.max(n,r);return l-a<=t&&t<=h+a&&d-a<=e&&e<=u+a},We=function(t,e,i,n,o,r,s,a,l){var h={x1:Math.min(i,s,o)-l,x2:Math.max(i,s,o)+l,y1:Math.min(n,a,r)-l,y2:Math.max(n,a,r)+l};return!(t<h.x1||t>h.x2||e<h.y1||e>h.y2)},Ve=function(t,e,i,n){i-=n;var o=e*e-4*t*i;if(o<0)return[];var r=Math.sqrt(o),s=2*t,a=(-e+r)/s,l=(-e-r)/s;return[a,l]},Ue=function(t,e,i,n,o){var r,s,a,l,h,d,u,c;return e/=t,i/=t,n/=t,s=(3*i-e*e)/9,a=-27*n+e*(9*i-e*e*2),a/=54,r=s*s*s+a*a,o[1]=0,u=e/3,r>0?(h=a+Math.sqrt(r),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),d=a-Math.sqrt(r),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),o[0]=-u+h+d,u+=(h+d)/2,o[4]=o[2]=-u,u=Math.sqrt(3)*(-d+h)/2,o[3]=u,void(o[5]=-u)):(o[5]=o[3]=0,0===r?(c=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),o[0]=2*c-u,void(o[4]=o[2]=-(c+u))):(s=-s,l=s*s*s,l=Math.acos(a/Math.sqrt(l)),c=2*Math.sqrt(s),o[0]=-u+c*Math.cos(l/3),o[2]=-u+c*Math.cos((l+2*Math.PI)/3),void(o[4]=-u+c*Math.cos((l+4*Math.PI)/3))))},qe=function(t,e,i,n,o,r,s,a){var l=1*i*i-4*i*o+2*i*s+4*o*o-4*o*s+s*s+n*n-4*n*r+2*n*a+4*r*r-4*r*a+a*a,h=9*i*o-3*i*i-3*i*s-6*o*o+3*o*s+9*n*r-3*n*n-3*n*a-6*r*r+3*r*a,d=3*i*i-6*i*o+i*s-i*t+2*o*o+2*o*t-s*t+3*n*n-6*n*r+n*a-n*e+2*r*r+2*r*e-a*e,u=1*i*o-i*i+i*t-o*t+n*r-n*n+n*e-r*e,c=[];Ue(l,h,d,u,c);for(var p=1e-7,f=[],g=0;g<6;g+=2)Math.abs(c[g+1])<p&&c[g]>=0&&c[g]<=1&&f.push(c[g]);f.push(1),f.push(0);for(var v,m,y,b=-1,w=0;w<f.length;w++)v=Math.pow(1-f[w],2)*i+2*(1-f[w])*f[w]*o+f[w]*f[w]*s,m=Math.pow(1-f[w],2)*n+2*(1-f[w])*f[w]*r+f[w]*f[w]*a,y=Math.pow(v-t,2)+Math.pow(m-e,2),b>=0?y<b&&(b=y):b=y;return b},Xe=function(t,e,i,n,o,r){var s=[t-i,e-n],a=[o-i,r-n],l=a[0]*a[0]+a[1]*a[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*a[0]+s[1]*a[1],u=d*d/l;return d<0?h:u>l?(t-o)*(t-o)+(e-r)*(e-r):h-u},Ke=function(t,e,i){for(var n,o,r,s,a,l=0,h=0;h<i.length/2;h++)if(n=i[2*h],o=i[2*h+1],h+1<i.length/2?(r=i[2*(h+1)],s=i[2*(h+1)+1]):(r=i[2*(h+1-i.length/2)],s=i[2*(h+1-i.length/2)+1]),n==t&&r==t);else{if(!(n>=t&&t>=r||n<=t&&t<=r))continue;a=(t-n)/(r-n)*(s-o)+o,a>e&&l++}return l%2!==0},Ze=function(t,e,i,n,o,r,s,a,l){var h,d=new Array(i.length);null!=a[0]?(h=Math.atan(a[1]/a[0]),a[0]<0?h+=Math.PI/2:h=-h-Math.PI/2):h=a;for(var u,c=Math.cos(-h),p=Math.sin(-h),f=0;f<d.length/2;f++)d[2*f]=r/2*(i[2*f]*c-i[2*f+1]*p),d[2*f+1]=s/2*(i[2*f+1]*c+i[2*f]*p),d[2*f]+=n,d[2*f+1]+=o;if(l>0){var g=Qe(d,-l);u=$e(g)}else u=d;return Ke(t,e,u)},$e=function(t){for(var e,i,n,o,r,s,a,l,h=new Array(t.length/2),d=0;d<t.length/4;d++){e=t[4*d],i=t[4*d+1],n=t[4*d+2],o=t[4*d+3],d<t.length/4-1?(r=t[4*(d+1)],s=t[4*(d+1)+1],a=t[4*(d+1)+2],l=t[4*(d+1)+3]):(r=t[0],s=t[1],a=t[2],l=t[3]);var u=ni(e,i,n,o,r,s,a,l,!0);h[2*d]=u[0],h[2*d+1]=u[1]}return h},Qe=function(t,e){for(var i,n,o,r,s=new Array(2*t.length),a=0;a<t.length/2;a++){i=t[2*a],n=t[2*a+1],a<t.length/2-1?(o=t[2*(a+1)],r=t[2*(a+1)+1]):(o=t[0],r=t[1]);var l=r-n,h=-(o-i),d=Math.sqrt(l*l+h*h),u=l/d,c=h/d;s[4*a]=i+u*e,s[4*a+1]=n+c*e,s[4*a+2]=o+u*e,s[4*a+3]=r+c*e}return s},Je=function(t,e,i,n,o,r){var s=i-t,a=n-e;s/=o,a/=r;var l=Math.sqrt(s*s+a*a),h=l-1;if(h<0)return[];var d=h/l;return[(i-t)*d+t,(n-e)*d+e]},ti=function(t,e,i,n,o,r,s){return t-=o,e-=r,t/=i/2+s,e/=n/2+s,t*t+e*e<=1},ei=function(t,e,i,n,o,r,s){var a=[i-t,n-e],l=[t-o,e-r],h=a[0]*a[0]+a[1]*a[1],d=2*(l[0]*a[0]+l[1]*a[1]),u=l[0]*l[0]+l[1]*l[1]-s*s,c=d*d-4*h*u;if(c<0)return[];var p=(-d+Math.sqrt(c))/(2*h),f=(-d-Math.sqrt(c))/(2*h),g=Math.min(p,f),v=Math.max(p,f),m=[];if(g>=0&&g<=1&&m.push(g),v>=0&&v<=1&&m.push(v),0===m.length)return[];var y=m[0]*a[0]+t,b=m[0]*a[1]+e;if(m.length>1){if(m[0]==m[1])return[y,b];var w=m[1]*a[0]+t,x=m[1]*a[1]+e;return[y,b,w,x]}return[y,b]},ii=function(t,e,i){return e<=t&&t<=i||i<=t&&t<=e?t:t<=e&&e<=i||i<=e&&e<=t?e:i},ni=function(t,e,i,n,o,r,s,a,l){var h=t-o,d=i-t,u=s-o,c=e-r,p=n-e,f=a-r,g=u*c-f*h,v=d*c-p*h,m=f*d-u*p;if(0!==m){var y=g/m,b=v/m,w=.001,x=0-w,_=1+w;return x<=y&&y<=_&&x<=b&&b<=_?[t+y*d,e+y*p]:l?[t+y*d,e+y*p]:[]}return 0===g||0===v?ii(t,i,s)===s?[s,a]:ii(t,i,o)===o?[o,r]:ii(o,s,i)===i?[i,n]:[]:[]},oi=function(t,e,i,n,o,r,s,a){var l,h,d,u,c,p,f=[],g=new Array(i.length),v=!0;if(null==r&&(v=!1),v){for(var m=0;m<g.length/2;m++)g[2*m]=i[2*m]*r+n,g[2*m+1]=i[2*m+1]*s+o;if(a>0){var y=Qe(g,-a);h=$e(y)}else h=g}else h=i;for(var b=0;b<h.length/2;b++)d=h[2*b],u=h[2*b+1],b<h.length/2-1?(c=h[2*(b+1)],p=h[2*(b+1)+1]):(c=h[0],p=h[1]),l=ni(t,e,n,o,d,u,c,p),0!==l.length&&f.push(l[0],l[1]);return f},ri=function(t,e,i){var n=[t[0]-e[0],t[1]-e[1]],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),r=(o-i)/o;return r<0&&(r=1e-5),[e[0]+r*n[0],e[1]+r*n[1]]},si=function(t,e){var i=li(t,e);return i=ai(i),i},ai=function(t){for(var e,i,n=t.length/2,o=1/0,r=1/0,s=-1/0,a=-1/0,l=0;l<n;l++)e=t[2*l],i=t[2*l+1],o=Math.min(o,e),s=Math.max(s,e),r=Math.min(r,i),a=Math.max(a,i);for(var h=2/(s-o),d=2/(a-r),u=0;u<n;u++)e=t[2*u]=t[2*u]*h,i=t[2*u+1]=t[2*u+1]*d,o=Math.min(o,e),s=Math.max(s,e),r=Math.min(r,i),a=Math.max(a,i);if(r<-1)for(var c=0;c<n;c++)i=t[2*c+1]=t[2*c+1]+(-1-r);return t},li=function(t,e){var i=1/t*2*Math.PI,n=t%2===0?Math.PI/2+i/2:Math.PI/2;n+=e;for(var o,r=new Array(2*t),s=0;s<t;s++)o=s*i+n,r[2*s]=Math.cos(o),r[2*s+1]=Math.sin(-o);return r},hi=function(t,e){return Math.min(t/4,e/4,8)},di=function(){return 8},ui=function(t,e,i){return[t-2*e+i,2*(e-t),t]},ci=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},pi=Ft({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),fi={pageRank:function(t){for(var e=pi(t),i=e.dampingFactor,n=e.precision,o=e.iterations,r=e.weight,s=this._private.cy,a=this.byGroup(),l=a.nodes,h=a.edges,d=l.length,u=d*d,c=h.length,p=new Array(u),f=new Array(d),g=(1-i)/d,v=0;v<d;v++){for(var m=0;m<d;m++){var y=v*d+m;p[y]=0}f[v]=0}for(var b=0;b<c;b++){var w=h[b],x=w.data("source"),_=w.data("target");if(x!==_){var E=l.indexOfId(x),k=l.indexOfId(_),T=r(w),D=k*d+E;p[D]+=T,f[E]+=T}}for(var C=1/d+g,S=0;S<d;S++)if(0===f[S])for(var M=0;M<d;M++){var O=M*d+S;p[O]=C}else for(var N=0;N<d;N++){var A=N*d+S;p[A]=p[A]/f[S]+g}for(var P,I=new Array(d),L=new Array(d),R=0;R<d;R++)I[R]=1;for(var B=0;B<o;B++){for(var F=0;F<d;F++)L[F]=0;for(var z=0;z<d;z++)for(var j=0;j<d;j++){var H=z*d+j;L[z]+=p[H]*I[j]}Te(L),P=I,I=L,L=P;for(var Y=0,G=0;G<d;G++){var W=P[G]-I[G];Y+=W*W}if(Y<n)break}var V={rank:function(t){return t=s.collection(t)[0],I[l.indexOf(t)]}};return V}},gi=Ft({root:null,weight:function(t){return 1},directed:!1,alpha:0}),vi={degreeCentralityNormalized:function(t){t=gi(t);var e=this.cy(),i=this.nodes(),n=i.length;if(t.directed){for(var o={},r={},s=0,a=0,l=0;l<n;l++){var h=i[l],d=h.id();t.root=h;var u=this.degreeCentrality(t);s<u.indegree&&(s=u.indegree),a<u.outdegree&&(a=u.outdegree),o[d]=u.indegree,r[d]=u.outdegree}return{indegree:function(t){return 0==s?0:(_(t)&&(t=e.filter(t)),o[t.id()]/s)},outdegree:function(t){return 0===a?0:(_(t)&&(t=e.filter(t)),r[t.id()]/a)}}}for(var c={},p=0,f=0;f<n;f++){var g=i[f];t.root=g;var v=this.degreeCentrality(t);p<v.degree&&(p=v.degree),c[g.id()]=v.degree}return{degree:function(t){return 0===p?0:(_(t)&&(t=e.filter(t)),c[t.id()]/p)}}},degreeCentrality:function(t){t=gi(t);var e=this.cy(),i=this,n=t,o=n.root,r=n.weight,s=n.directed,a=n.alpha;if(o=e.collection(o)[0],s){for(var l=o.connectedEdges(),h=l.filter(function(t){return t.target().same(o)&&i.has(t)}),d=l.filter(function(t){return t.source().same(o)&&i.has(t)}),u=h.length,c=d.length,p=0,f=0,g=0;g<h.length;g++)p+=r(h[g]);for(var v=0;v<d.length;v++)f+=r(d[v]);return{indegree:Math.pow(u,1-a)*Math.pow(p,a),outdegree:Math.pow(c,1-a)*Math.pow(f,a)}}for(var m=o.connectedEdges().intersection(i),y=m.length,b=0,w=0;w<m.length;w++)b+=r(m[w]);return{degree:Math.pow(y,1-a)*Math.pow(b,a)}}};vi.dc=vi.degreeCentrality,vi.dcn=vi.degreeCentralityNormalised=vi.degreeCentralityNormalized;var mi=Ft({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),yi={closenessCentralityNormalized:function(t){for(var e=mi(t),i=e.harmonic,n=e.weight,o=e.directed,r=this.cy(),s={},a=0,l=this.nodes(),h=this.floydWarshall({weight:n,directed:o}),d=0;d<l.length;d++){for(var u=0,c=l[d],p=0;p<l.length;p++)if(d!==p){var f=h.distance(c,l[p]);u+=i?1/f:f}i||(u=1/u),a<u&&(a=u),s[c.id()]=u}return{closeness:function(t){return 0==a?0:(t=_(t)?r.filter(t)[0].id():t.id(),s[t]/a)}}},closenessCentrality:function(t){var e=mi(t),i=e.root,n=e.weight,o=e.directed,r=e.harmonic;i=this.filter(i)[0];for(var s=this.dijkstra({root:i,weight:n,directed:o}),a=0,l=this.nodes(),h=0;h<l.length;h++){var d=l[h];if(!d.same(i)){var u=s.distanceTo(d);a+=r?1/u:u}}return r?a:1/a}};yi.cc=yi.closenessCentrality,yi.ccn=yi.closenessCentralityNormalised=yi.closenessCentralityNormalized;var bi=Ft({weight:null,directed:!1}),wi={betweennessCentrality:function(t){for(var e=bi(t),i=e.directed,n=e.weight,o=null!=n,s=this.cy(),a=this.nodes(),l={},h={},d=0,u={set:function(t,e){h[t]=e,e>d&&(d=e)},get:function(t){return h[t]}},c=0;c<a.length;c++){var p=a[c],f=p.id();l[f]=i?p.outgoers().nodes():p.openNeighborhood().nodes(),u.set(f,0)}for(var g=function(t){for(var e=a[t].id(),i=[],h={},d={},c={},p=new r(function(t,e){return c[t]-c[e]}),f=0;f<a.length;f++){var g=a[f].id();h[g]=[],d[g]=0,c[g]=1/0}d[e]=1,c[e]=0,p.push(e);while(!p.empty()){var v=p.pop();if(i.push(v),o)for(var m=0;m<l[v].length;m++){var y=l[v][m],b=s.getElementById(v),w=void 0;w=b.edgesTo(y).length>0?b.edgesTo(y)[0]:y.edgesTo(b)[0];var x=n(w);y=y.id(),c[y]>c[v]+x&&(c[y]=c[v]+x,p.nodes.indexOf(y)<0?p.push(y):p.updateItem(y),d[y]=0,h[y]=[]),c[y]==c[v]+x&&(d[y]=d[y]+d[v],h[y].push(v))}else for(var _=0;_<l[v].length;_++){var E=l[v][_].id();c[E]==1/0&&(p.push(E),c[E]=c[v]+1),c[E]==c[v]+1&&(d[E]=d[E]+d[v],h[E].push(v))}}for(var k={},T=0;T<a.length;T++)k[a[T].id()]=0;while(i.length>0)for(var D=i.pop(),C=0;C<h[D].length;C++){var S=h[D][C];k[S]=k[S]+d[S]/d[D]*(1+k[D]),D!=a[t].id()&&u.set(D,u.get(D)+k[D])}},v=0;v<a.length;v++)g(v);var m={betweenness:function(t){var e=s.collection(t).id();return u.get(e)},betweennessNormalized:function(t){if(0==d)return 0;var e=s.collection(t).id();return u.get(e)/d}};return m.betweennessNormalised=m.betweennessNormalized,m}};wi.bc=wi.betweennessCentrality;var xi=Ft({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),_i=function(t){return xi(t)},Ei=function(t,e){for(var i=0,n=0;n<e.length;n++)i+=e[n](t);return i},ki=function(t,e,i){for(var n=0;n<e;n++)t[n*e+n]=i},Ti=function(t,e){for(var i,n=0;n<e;n++){i=0;for(var o=0;o<e;o++)i+=t[o*e+n];for(var r=0;r<e;r++)t[r*e+n]=t[r*e+n]/i}},Di=function(t,e,i){for(var n=new Array(i*i),o=0;o<i;o++){for(var r=0;r<i;r++)n[o*i+r]=0;for(var s=0;s<i;s++)for(var a=0;a<i;a++)n[o*i+a]+=t[o*i+s]*e[s*i+a]}return n},Ci=function(t,e,i){for(var n=t.slice(0),o=1;o<i;o++)t=Di(t,n,e);return t},Si=function(t,e,i){for(var n=new Array(e*e),o=0;o<e*e;o++)n[o]=Math.pow(t[o],i);return Ti(n,e),n},Mi=function(t,e,i,n){for(var o=0;o<i;o++){var r=Math.round(t[o]*Math.pow(10,n))/Math.pow(10,n),s=Math.round(e[o]*Math.pow(10,n))/Math.pow(10,n);if(r!==s)return!1}return!0},Oi=function(t,e,i,n){for(var o=[],r=0;r<e;r++){for(var s=[],a=0;a<e;a++)Math.round(1e3*t[r*e+a])/1e3>0&&s.push(i[a]);0!==s.length&&o.push(n.collection(s))}return o},Ni=function(t,e){for(var i=0;i<t.length;i++)if(!e[i]||t[i].id()!==e[i].id())return!1;return!0},Ai=function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t.length;i++)e!=i&&Ni(t[e],t[i])&&t.splice(i,1);return t},Pi=function(t){for(var e=this.nodes(),i=this.edges(),n=this.cy(),o=_i(t),r={},s=0;s<e.length;s++)r[e[s].id()]=s;for(var a,l=e.length,h=l*l,d=new Array(h),u=0;u<h;u++)d[u]=0;for(var c=0;c<i.length;c++){var p=i[c],f=r[p.source().id()],g=r[p.target().id()],v=Ei(p,o.attributes);d[f*l+g]+=v,d[g*l+f]+=v}ki(d,l,o.multFactor),Ti(d,l);var m=!0,y=0;while(m&&y<o.maxIterations)m=!1,a=Ci(d,l,o.expandFactor),d=Si(a,l,o.inflateFactor),Mi(d,a,h,4)||(m=!0),y++;var b=Oi(d,l,e,n);return b=Ai(b),b},Ii={markovClustering:Pi,mcl:Pi},Li=function(t){return t},Ri=function(t,e){return Math.abs(e-t)},Bi=function(t,e,i){return t+Ri(e,i)},Fi=function(t,e,i){return t+Math.pow(i-e,2)},zi=function(t){return Math.sqrt(t)},ji=function(t,e,i){return Math.max(t,Ri(e,i))},Hi=function(t,e,i,n,o){for(var r,s,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Li,l=n,h=0;h<t;h++)r=e(h),s=i(h),l=o(l,r,s);return a(l)},Yi={euclidean:function(t,e,i){return t>=2?Hi(t,e,i,0,Fi,zi):Hi(t,e,i,0,Bi)},squaredEuclidean:function(t,e,i){return Hi(t,e,i,0,Fi)},manhattan:function(t,e,i){return Hi(t,e,i,0,Bi)},max:function(t,e,i){return Hi(t,e,i,-1/0,ji)}};function Gi(t,e,i,n,o,r){var s;return s=E(t)?t:Yi[t]||Yi.euclidean,0===e&&E(t)?s(o,r):s(e,i,n,o,r)}Yi["squared-euclidean"]=Yi["squaredEuclidean"],Yi["squaredeuclidean"]=Yi["squaredEuclidean"];var Wi=Ft({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Vi=function(t){return Wi(t)},Ui=function(t,e,i,n,o){var r="kMedoids"===o?function(t){return n[t](i)}:function(t){return i[t]},s=function(t){return n[t](e)};return Gi(t,n.length,r,s)},qi=function(t,e,i){for(var n=i.length,o=new Array(n),r=new Array(n),s=new Array(e),a=null,l=0;l<n;l++)o[l]=t.min(i[l]).value,r[l]=t.max(i[l]).value;for(var h=0;h<e;h++){a=[];for(var d=0;d<n;d++)a[d]=Math.random()*(r[d]-o[d])+o[d];s[h]=a}return s},Xi=function(t,e,i,n,o){for(var r=1/0,s=0,a=0;a<e.length;a++){var l=Ui(i,t,e[a],n,o);l<r&&(r=l,s=a)}return s},Ki=function(t,e,i){for(var n=[],o=null,r=0;r<e.length;r++)o=e[r],i[o.id()]===t&&n.push(o);return n},Zi=function(t,e,i){return Math.abs(e-t)<=i},$i=function(t,e,i){for(var n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++){var r=Math.abs(t[n][o]-e[n][o]);if(r>i)return!1}return!0},Qi=function(t,e,i){for(var n=0;n<i;n++)if(t===e[n])return!0;return!1},Ji=function(t,e){var i=new Array(e);if(t.length<50)for(var n=0;n<e;n++){var o=t[Math.floor(Math.random()*t.length)];while(Qi(o,i,n))o=t[Math.floor(Math.random()*t.length)];i[n]=o}else for(var r=0;r<e;r++)i[r]=t[Math.floor(Math.random()*t.length)];return i},tn=function(t,e,i){for(var n=0,o=0;o<e.length;o++)n+=Ui("manhattan",e[o],t,i,"kMedoids");return n},en=function(t){var e,i=this.cy(),n=this.nodes(),o=null,r=Vi(t),a=new Array(r.k),l={};if(r.testMode)if("number"===typeof r.testCentroids){var h=r.testCentroids;e=qi(n,r.k,r.attributes,h)}else e="object"===s(r.testCentroids)?r.testCentroids:qi(n,r.k,r.attributes);else e=qi(n,r.k,r.attributes);var d=!0,u=0;while(d&&u<r.maxIterations){for(var c=0;c<n.length;c++)o=n[c],l[o.id()]=Xi(o,e,r.distance,r.attributes,"kMeans");d=!1;for(var p=0;p<r.k;p++){var f=Ki(p,n,l);if(0!==f.length){for(var g=r.attributes.length,v=e[p],m=new Array(g),y=new Array(g),b=0;b<g;b++){y[b]=0;for(var w=0;w<f.length;w++)o=f[w],y[b]+=r.attributes[b](o);m[b]=y[b]/f.length,Zi(m[b],v[b],r.sensitivityThreshold)||(d=!0)}e[p]=m,a[p]=i.collection(f)}}u++}return a},nn=function(t){var e,i,n=this.cy(),o=this.nodes(),r=null,a=Vi(t),l=new Array(a.k),h={},d=new Array(a.k);a.testMode?"number"===typeof a.testCentroids||(e="object"===s(a.testCentroids)?a.testCentroids:Ji(o,a.k)):e=Ji(o,a.k);var u=!0,c=0;while(u&&c<a.maxIterations){for(var p=0;p<o.length;p++)r=o[p],h[r.id()]=Xi(r,e,a.distance,a.attributes,"kMedoids");u=!1;for(var f=0;f<e.length;f++){var g=Ki(f,o,h);if(0!==g.length){d[f]=tn(e[f],g,a.attributes);for(var v=0;v<g.length;v++)i=tn(g[v],g,a.attributes),i<d[f]&&(d[f]=i,e[f]=g[v],u=!0);l[f]=n.collection(g)}}c++}return l},on=function(t,e,i,n,o){for(var r,s,a=0;a<e.length;a++)for(var l=0;l<t.length;l++)n[a][l]=Math.pow(i[a][l],o.m);for(var h=0;h<t.length;h++)for(var d=0;d<o.attributes.length;d++){r=0,s=0;for(var u=0;u<e.length;u++)r+=n[u][h]*o.attributes[d](e[u]),s+=n[u][h];t[h][d]=r/s}},rn=function(t,e,i,n,o){for(var r=0;r<t.length;r++)e[r]=t[r].slice();for(var s,a,l,h=2/(o.m-1),d=0;d<i.length;d++)for(var u=0;u<n.length;u++){s=0;for(var c=0;c<i.length;c++)a=Ui(o.distance,n[u],i[d],o.attributes,"cmeans"),l=Ui(o.distance,n[u],i[c],o.attributes,"cmeans"),s+=Math.pow(a/l,h);t[u][d]=1/s}},sn=function(t,e,i,n){for(var o,r,s=new Array(i.k),a=0;a<s.length;a++)s[a]=[];for(var l=0;l<e.length;l++){o=-1/0,r=-1;for(var h=0;h<e[0].length;h++)e[l][h]>o&&(o=e[l][h],r=h);s[r].push(t[l])}for(var d=0;d<s.length;d++)s[d]=n.collection(s[d]);return s},an=function(t){var e,i,n,o,r,s=this.cy(),a=this.nodes(),l=Vi(t);o=new Array(a.length);for(var h=0;h<a.length;h++)o[h]=new Array(l.k);n=new Array(a.length);for(var d=0;d<a.length;d++)n[d]=new Array(l.k);for(var u=0;u<a.length;u++){for(var c=0,p=0;p<l.k;p++)n[u][p]=Math.random(),c+=n[u][p];for(var f=0;f<l.k;f++)n[u][f]=n[u][f]/c}i=new Array(l.k);for(var g=0;g<l.k;g++)i[g]=new Array(l.attributes.length);r=new Array(a.length);for(var v=0;v<a.length;v++)r[v]=new Array(l.k);var m=!0,y=0;while(m&&y<l.maxIterations)m=!1,on(i,a,n,r,l),rn(n,o,i,a,l),$i(n,o,l.sensitivityThreshold)||(m=!0),y++;return e=sn(a,n,l,s),{clusters:e,degreeOfMembership:n}},ln={kMeans:en,kMedoids:nn,fuzzyCMeans:an,fcm:an},hn=Ft({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),dn={single:"min",complete:"max"},un=function(t){var e=hn(t),i=dn[e.linkage];return null!=i&&(e.linkage=i),e},cn=function(t,e,i,n,o){for(var r,s=0,a=1/0,l=o.attributes,h=function(t,e){return Gi(o.distance,l.length,function(e){return l[e](t)},function(t){return l[t](e)})},d=0;d<t.length;d++){var u=t[d].key,c=i[u][n[u]];c<a&&(s=u,a=c)}if("threshold"===o.mode&&a>=o.threshold||"dendrogram"===o.mode&&1===t.length)return!1;var p,f=e[s],g=e[n[s]];p="dendrogram"===o.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},t[f.index]=p,t.splice(g.index,1),e[f.key]=p;for(var v=0;v<t.length;v++){var m=t[v];f.key===m.key?r=1/0:"min"===o.linkage?(r=i[f.key][m.key],i[f.key][m.key]>i[g.key][m.key]&&(r=i[g.key][m.key])):"max"===o.linkage?(r=i[f.key][m.key],i[f.key][m.key]<i[g.key][m.key]&&(r=i[g.key][m.key])):r="mean"===o.linkage?(i[f.key][m.key]*f.size+i[g.key][m.key]*g.size)/(f.size+g.size):"dendrogram"===o.mode?h(m.value,f.value):h(m.value[0],f.value[0]),i[f.key][m.key]=i[m.key][f.key]=r}for(var y=0;y<t.length;y++){var b=t[y].key;if(n[b]===f.key||n[b]===g.key){for(var w=b,x=0;x<t.length;x++){var _=t[x].key;i[b][_]<i[b][w]&&(w=_)}n[b]=w}t[y].index=y}return f.key=g.key=f.index=g.index=null,!0},pn=function t(e,i,n){e&&(e.value?i.push(e.value):(e.left&&t(e.left,i,n),e.right&&t(e.right,i,n)))},fn=function t(e,i){if(!e)return"";if(e.left&&e.right){var n=t(e.left,i),o=t(e.right,i),r=i.add({group:"nodes",data:{id:n+","+o}});return i.add({group:"edges",data:{source:n,target:r.id()}}),i.add({group:"edges",data:{source:o,target:r.id()}}),r.id()}return e.value?e.value.id():void 0},gn=function t(e,i,n){if(!e)return[];var o=[],r=[],s=[];return 0===i?(e.left&&pn(e.left,o,n),e.right&&pn(e.right,r,n),s=o.concat(r),[n.collection(s)]):1===i?e.value?[n.collection(e.value)]:(e.left&&pn(e.left,o,n),e.right&&pn(e.right,r,n),[n.collection(o),n.collection(r)]):e.value?[n.collection(e.value)]:(e.left&&(o=t(e.left,i-1,n)),e.right&&(r=t(e.right,i-1,n)),o.concat(r))},vn=function(t){for(var e=this.cy(),i=this.nodes(),n=un(t),o=n.attributes,r=function(t,e){return Gi(n.distance,o.length,function(e){return o[e](t)},function(t){return o[t](e)})},s=[],a=[],l=[],h=[],d=0;d<i.length;d++){var u={value:"dendrogram"===n.mode?i[d]:[i[d]],key:d,index:d};s[d]=u,h[d]=u,a[d]=[],l[d]=0}for(var c=0;c<s.length;c++)for(var p=0;p<=c;p++){var f=void 0;f="dendrogram"===n.mode?c===p?1/0:r(s[c].value,s[p].value):c===p?1/0:r(s[c].value[0],s[p].value[0]),a[c][p]=f,a[p][c]=f,f<a[c][l[c]]&&(l[c]=p)}var g,v=cn(s,h,a,l,n);while(v)v=cn(s,h,a,l,n);return"dendrogram"===n.mode?(g=gn(s[0],n.dendrogramDepth,e),n.addDendrogram&&fn(s[0],e)):(g=new Array(s.length),s.forEach(function(t,i){t.key=t.index=null,g[i]=e.collection(t.value)})),g},mn={hierarchicalClustering:vn,hca:vn},yn=Ft({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),bn=function(t){var e=t.damping,i=t.preference;.5<=e&&e<1||Mt("Damping must range on [0.5, 1).  Got: ".concat(e));var n=["median","mean","min","max"];return n.some(function(t){return t===i})||C(i)||Mt("Preference must be one of [".concat(n.map(function(t){return"'".concat(t,"'")}).join(", "),"] or a number.  Got: ").concat(i)),yn(t)},wn=function(t,e,i,n){var o=function(t,e){return n[e](t)};return-Gi(t,n.length,function(t){return o(e,t)},function(t){return o(i,t)},e,i)},xn=function(t,e){var i=null;return i="median"===e?ye(t):"mean"===e?me(t):"min"===e?ge(t):"max"===e?ve(t):e,i},_n=function(t,e,i){for(var n=[],o=0;o<t;o++)e[o*t+o]+i[o*t+o]>0&&n.push(o);return n},En=function(t,e,i){for(var n=[],o=0;o<t;o++){for(var r=-1,s=-1/0,a=0;a<i.length;a++){var l=i[a];e[o*t+l]>s&&(r=l,s=e[o*t+l])}r>0&&n.push(r)}for(var h=0;h<i.length;h++)n[i[h]]=i[h];return n},kn=function(t,e,i){for(var n=En(t,e,i),o=0;o<i.length;o++){for(var r=[],s=0;s<n.length;s++)n[s]===i[o]&&r.push(s);for(var a=-1,l=-1/0,h=0;h<r.length;h++){for(var d=0,u=0;u<r.length;u++)d+=e[r[u]*t+r[h]];d>l&&(a=h,l=d)}i[o]=r[a]}return n=En(t,e,i),n},Tn=function(t){for(var e,i,n,o,r,s,a=this.cy(),l=this.nodes(),h=bn(t),d={},u=0;u<l.length;u++)d[l[u].id()]=u;e=l.length,i=e*e,n=new Array(i);for(var c=0;c<i;c++)n[c]=-1/0;for(var p=0;p<e;p++)for(var f=0;f<e;f++)p!==f&&(n[p*e+f]=wn(h.distance,l[p],l[f],h.attributes));o=xn(n,h.preference);for(var g=0;g<e;g++)n[g*e+g]=o;r=new Array(i);for(var v=0;v<i;v++)r[v]=0;s=new Array(i);for(var m=0;m<i;m++)s[m]=0;for(var y=new Array(e),b=new Array(e),w=new Array(e),x=0;x<e;x++)y[x]=0,b[x]=0,w[x]=0;for(var _,E=new Array(e*h.minIterations),k=0;k<E.length;k++)E[k]=0;for(_=0;_<h.maxIterations;_++){for(var T=0;T<e;T++){for(var D=-1/0,C=-1/0,S=-1,M=0,O=0;O<e;O++)y[O]=r[T*e+O],M=s[T*e+O]+n[T*e+O],M>=D?(C=D,D=M,S=O):M>C&&(C=M);for(var N=0;N<e;N++)r[T*e+N]=(1-h.damping)*(n[T*e+N]-D)+h.damping*y[N];r[T*e+S]=(1-h.damping)*(n[T*e+S]-C)+h.damping*y[S]}for(var A=0;A<e;A++){for(var P=0,I=0;I<e;I++)y[I]=s[I*e+A],b[I]=Math.max(0,r[I*e+A]),P+=b[I];P-=b[A],b[A]=r[A*e+A],P+=b[A];for(var L=0;L<e;L++)s[L*e+A]=(1-h.damping)*Math.min(0,P-b[L])+h.damping*y[L];s[A*e+A]=(1-h.damping)*(P-b[A])+h.damping*y[A]}for(var R=0,B=0;B<e;B++){var F=s[B*e+B]+r[B*e+B]>0?1:0;E[_%h.minIterations*e+B]=F,R+=F}if(R>0&&(_>=h.minIterations-1||_==h.maxIterations-1)){for(var z=0,j=0;j<e;j++){w[j]=0;for(var H=0;H<h.minIterations;H++)w[j]+=E[H*e+j];0!==w[j]&&w[j]!==h.minIterations||z++}if(z===e)break}}for(var Y=_n(e,r,s),G=kn(e,n,Y,l,d),W={},V=0;V<Y.length;V++)W[Y[V]]=[];for(var U=0;U<l.length;U++){var q=d[l[U].id()],X=G[q];null!=X&&W[X].push(l[U])}for(var K=new Array(Y.length),Z=0;Z<Y.length;Z++)K[Z]=a.collection(W[Y[Z]]);return K},Dn={affinityPropagation:Tn,ap:Tn},Cn={};[$t,Jt,te,ie,oe,se,de,fi,vi,yi,wi,Ii,ln,mn,Dn].forEach(function(t){et(Cn,t)});
/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/
var Sn=0,Mn=1,On=2,Nn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Sn,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"===typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Nn.prototype={fulfill:function(t){return An(this,Mn,"fulfillValue",t)},reject:function(t){return An(this,On,"rejectReason",t)},then:function(t,e){var i=this,n=new Nn;return i.onFulfilled.push(Ln(t,n,"fulfill")),i.onRejected.push(Ln(e,n,"reject")),Pn(i),n.proxy}};var An=function(t,e,i,n){return t.state===Sn&&(t.state=e,t[i]=n,Pn(t)),t},Pn=function(t){t.state===Mn?In(t,"onFulfilled",t.fulfillValue):t.state===On&&In(t,"onRejected",t.rejectReason)},In=function(t,e,i){if(0!==t[e].length){var n=t[e];t[e]=[];var o=function(){for(var t=0;t<n.length;t++)n[t](i)};"function"===typeof setImmediate?setImmediate(o):setTimeout(o,0)}},Ln=function(t,e,i){return function(n){if("function"!==typeof t)e[i].call(e,n);else{var o;try{o=t(n)}catch(r){return void e.reject(r)}Rn(e,o)}}},Rn=function t(e,i){if(e!==i&&e.proxy!==i){var n;if("object"===s(i)&&null!==i||"function"===typeof i)try{n=i.then}catch(r){return void e.reject(r)}if("function"!==typeof n)e.fulfill(i);else{var o=!1;try{n.call(i,function(n){o||(o=!0,n===i?e.reject(new TypeError("circular thenable chain")):t(e,n))},function(t){o||(o=!0,e.reject(t))})}catch(r){o||e.reject(r)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Nn.all=function(t){return new Nn(function(e,i){for(var n=new Array(t.length),o=0,r=function(i,r){n[i]=r,o++,o===t.length&&e(n)},s=0;s<t.length;s++)(function(e){var n=t[e],o=null!=n&&null!=n.then;if(o)n.then(function(t){r(e,t)},function(t){i(t)});else{var s=n;r(e,s)}})(s)})},Nn.resolve=function(t){return new Nn(function(e,i){e(t)})},Nn.reject=function(t){return new Nn(function(e,i){i(t)})};var Bn="undefined"!==typeof Promise?Promise:Nn,Fn=function(t,e,i){var n=P(t),o=!n,r=this._private=et({duration:1e3},e,i);if(r.target=t,r.style=r.style||r.css,r.started=!1,r.playing=!1,r.hooked=!1,r.applying=!1,r.progress=0,r.completes=[],r.frames=[],r.complete&&E(r.complete)&&r.completes.push(r.complete),o){var s=t.position();r.startPosition=r.startPosition||{x:s.x,y:s.y},r.startStyle=r.startStyle||t.cy().style().getAnimationStartStyle(t,r.style)}if(n){var a=t.pan();r.startPan={x:a.x,y:a.y},r.startZoom=t.zoom()}this.length=1,this[0]=this},zn=Fn.prototype;et(zn,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e,i=t.target._private.animation;e=t.queue?i.queue:i.current,e.push(this),O(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,i=e.playing;return void 0===t?e.progress:(i&&this.pause(),e.progress=t,e.started=!1,i&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var i=function(e,i){var n=t[e];null!=n&&(t[e]=t[i],t[i]=n)};if(i("zoom","startZoom"),i("pan","startPan"),i("position","startPosition"),t.style)for(var n=0;n<t.style.length;n++){var o=t.style[n],r=o.name,s=t.startStyle[r];t.startStyle[r]=o,t.style[n]=s}return e&&this.play(),this},promise:function(t){var e,i=this._private;switch(t){case"frame":e=i.frames;break;default:case"complete":case"completed":e=i.completes}return new Bn(function(t,i){e.push(function(){t()})})}}),zn.complete=zn.completed,zn.run=zn.play,zn.running=zn.playing;var jn={animated:function(){return function(){var t=this,e=void 0!==t.length,i=e?t:[t],n=this._private.cy||this;if(!n.styleEnabled())return!1;var o=i[0];return o?o._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=this,e=void 0!==t.length,i=e?t:[t],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var o=0;o<i.length;o++){var r=i[o];r._private.animation.queue=[]}return this}},delay:function(){return function(t,e){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var i=this,n=void 0!==i.length,o=n?i:[i],r=this._private.cy||this,s=!n,a=!s;if(!r.styleEnabled())return this;var l=r.style();t=et({},t,e);var h=0===Object.keys(t).length;if(h)return new Fn(o[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(a&&(t.style=l.getPropsList(t.style||t.css),t.css=void 0),a&&null!=t.renderedPosition){var d=t.renderedPosition,u=r.pan(),c=r.zoom();t.position=pe(d,c,u)}if(s&&null!=t.panBy){var p=t.panBy,f=r.pan();t.pan={x:f.x+p.x,y:f.y+p.y}}var g=t.center||t.centre;if(s&&null!=g){var v=r.getCenterPan(g.eles,t.zoom);null!=v&&(t.pan=v)}if(s&&null!=t.fit){var m=t.fit,y=r.getFitViewport(m.eles||m.boundingBox,m.padding);null!=y&&(t.pan=y.pan,t.zoom=y.zoom)}if(s&&T(t.zoom)){var b=r.getZoomedViewport(t.zoom);null!=b&&(b.zoomed&&(t.zoom=b.zoom),b.panned&&(t.pan=b.pan))}return new Fn(o[0],t)}},animate:function(){return function(t,e){var i=this,n=void 0!==i.length,o=n?i:[i],r=this._private.cy||this;if(!r.styleEnabled())return this;e&&(t=et({},t,e));for(var s=0;s<o.length;s++){var a=o[s],l=a.animated()&&(void 0===t.queue||t.queue),h=a.animation(t,l?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(t,e){var i=this,n=void 0!==i.length,o=n?i:[i],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var s=0;s<o.length;s++){for(var a=o[s],l=a._private,h=l.animation.current,d=0;d<h.length;d++){var u=h[d],c=u._private;e&&(c.duration=0)}t&&(l.animation.queue=[]),e||(l.animation.current=[])}return r.notify("draw"),this}}},Hn={data:function(t){var e={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}};return t=et({},e,t),function(e,i){var n=t,o=this,r=void 0!==o.length,s=r?o:[o],a=r?o[0]:o;if(_(e)){var l;if(n.allowGetting&&void 0===i)return a&&(n.beforeGet(a),l=a._private[n.field][e]),l;if(n.allowSetting&&void 0!==i){var h=!n.immutableKeys[e];if(h){var u=d({},e,i);n.beforeSet(o,u);for(var c=0,p=s.length;c<p;c++){var f=s[c];n.canSet(f)&&(f._private[n.field][e]=i)}n.updateStyle&&o.updateStyle(),n.onSet(o),n.settingTriggersEvent&&o[n.triggerFnName](n.settingEvent)}}}else if(n.allowSetting&&T(e)){var g,v,m=e,y=Object.keys(m);n.beforeSet(o,m);for(var b=0;b<y.length;b++){g=y[b],v=m[g];var w=!n.immutableKeys[g];if(w)for(var x=0;x<s.length;x++){var k=s[x];n.canSet(k)&&(k._private[n.field][g]=v)}}n.updateStyle&&o.updateStyle(),n.onSet(o),n.settingTriggersEvent&&o[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&E(e)){var D=e;o.on(n.bindingEvent,D)}else if(n.allowGetting&&void 0===e){var C;return a&&(n.beforeGet(a),C=a._private[n.field]),C}return o}},removeData:function(t){var e={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=et({},e,t),function(e){var i=t,n=this,o=void 0!==n.length,r=o?n:[n];if(_(e)){for(var s=e.split(/\s+/),a=s.length,l=0;l<a;l++){var h=s[l];if(!R(h)){var d=!i.immutableKeys[h];if(d)for(var u=0,c=r.length;u<c;u++)r[u]._private[i.field][h]=void 0}}i.triggerEvent&&n[i.triggerFnName](i.event)}else if(void 0===e){for(var p=0,f=r.length;p<f;p++)for(var g=r[p]._private[i.field],v=Object.keys(g),m=0;m<v.length;m++){var y=v[m],b=!i.immutableKeys[y];b&&(g[y]=void 0)}i.triggerEvent&&n[i.triggerFnName](i.event)}return n}}},Yn={eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var i=this,n=Array.prototype.slice.call(arguments,0);return new Bn(function(t,e){var o=function(e){i.off.apply(i,s),t(e)},r=n.concat([o]),s=r.concat([]);i.on.apply(i,r)})}}},Gn={};[jn,Hn,Yn].forEach(function(t){et(Gn,t)});var Wn={animate:Gn.animate(),animation:Gn.animation(),animated:Gn.animated(),clearQueue:Gn.clearQueue(),delay:Gn.delay(),delayAnimation:Gn.delayAnimation(),stop:Gn.stop()},Vn={classes:function(t){var e=this;if(void 0===t){var i=[];return e[0]._private.classes.forEach(function(t){return i.push(t)}),i}k(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],o=new Xt(t),r=0;r<e.length;r++){for(var s=e[r],a=s._private,l=a.classes,h=!1,d=0;d<t.length;d++){var u=t[d],c=l.has(u);if(!c){h=!0;break}}h||(h=l.size!==t.length),h&&(a.classes=o,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){k(t)||(t=t.match(/\S+/g)||[]);for(var i=this,n=void 0===e,o=[],r=0,s=i.length;r<s;r++)for(var a=i[r],l=a._private.classes,h=!1,d=0;d<t.length;d++){var u=t[d],c=l.has(u),p=!1;e||n&&!c?(l.add(u),p=!0):(!e||n&&c)&&(l.delete(u),p=!0),!h&&p&&(o.push(a),h=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),i},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var i=this;if(null==e)e=250;else if(0===e)return i;return i.addClass(t),setTimeout(function(){i.removeClass(t)},e),i}};Vn.className=Vn.classNames=Vn.classes;var Un={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:U,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Un.variable="(?:[\\w-]|(?:\\\\"+Un.metaChar+"))+",Un.value=Un.string+"|"+Un.number,Un.className=Un.variable,Un.id=Un.variable,function(){var t,e,i;for(t=Un.comparatorOp.split("|"),i=0;i<t.length;i++)e=t[i],Un.comparatorOp+="|@"+e;for(t=Un.comparatorOp.split("|"),i=0;i<t.length;i++)e=t[i],e.indexOf("!")>=0||"="!==e&&(Un.comparatorOp+="|\\!"+e)}();var qn=function(){return{checks:[]}},Xn={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Kn=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(t,e){return tt(t.selector,e.selector)}),Zn=function(){for(var t,e={},i=0;i<Kn.length;i++)t=Kn[i],e[t.selector]=t.matches;return e}(),$n=function(t,e){return Zn[t](e)},Qn="("+Kn.map(function(t){return t.selector}).join("|")+")",Jn=function(t){return t.replace(new RegExp("\\\\("+Un.metaChar+")","g"),function(t,e){return e})},to=function(t,e,i){t[t.length-1]=i},eo=[{name:"group",query:!0,regex:"("+Un.group+")",populate:function(t,e,i){var n=u(i,1),o=n[0];e.checks.push({type:Xn.GROUP,value:"*"===o?o:o+"s"})}},{name:"state",query:!0,regex:Qn,populate:function(t,e,i){var n=u(i,1),o=n[0];e.checks.push({type:Xn.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+Un.id+")",populate:function(t,e,i){var n=u(i,1),o=n[0];e.checks.push({type:Xn.ID,value:Jn(o)})}},{name:"className",query:!0,regex:"\\.("+Un.className+")",populate:function(t,e,i){var n=u(i,1),o=n[0];e.checks.push({type:Xn.CLASS,value:Jn(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Un.variable+")\\s*\\]",populate:function(t,e,i){var n=u(i,1),o=n[0];e.checks.push({type:Xn.DATA_EXIST,field:Jn(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Un.variable+")\\s*("+Un.comparatorOp+")\\s*("+Un.value+")\\s*\\]",populate:function(t,e,i){var n=u(i,3),o=n[0],r=n[1],s=n[2],a=null!=new RegExp("^"+Un.string+"$").exec(s);s=a?s.substring(1,s.length-1):parseFloat(s),e.checks.push({type:Xn.DATA_COMPARE,field:Jn(o),operator:r,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Un.boolOp+")\\s*("+Un.variable+")\\s*\\]",populate:function(t,e,i){var n=u(i,2),o=n[0],r=n[1];e.checks.push({type:Xn.DATA_BOOL,field:Jn(r),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Un.meta+")\\s*("+Un.comparatorOp+")\\s*("+Un.number+")\\s*\\]\\]",populate:function(t,e,i){var n=u(i,3),o=n[0],r=n[1],s=n[2];e.checks.push({type:Xn.META_COMPARE,field:Jn(o),operator:r,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Un.separator,populate:function(t,e){var i=t.currentSubject,n=t.edgeCount,o=t.compoundCount,r=t[t.length-1];null!=i&&(r.subject=i,t.currentSubject=null),r.edgeCount=n,r.compoundCount=o,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=qn();return s}},{name:"directedEdge",separator:!0,regex:Un.directedEdge,populate:function(t,e){if(null==t.currentSubject){var i=qn(),n=e,o=qn();return i.checks.push({type:Xn.DIRECTED_EDGE,source:n,target:o}),to(t,e,i),t.edgeCount++,o}var r=qn(),s=e,a=qn();return r.checks.push({type:Xn.NODE_SOURCE,source:s,target:a}),to(t,e,r),t.edgeCount++,a}},{name:"undirectedEdge",separator:!0,regex:Un.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var i=qn(),n=e,o=qn();return i.checks.push({type:Xn.UNDIRECTED_EDGE,nodes:[n,o]}),to(t,e,i),t.edgeCount++,o}var r=qn(),s=e,a=qn();return r.checks.push({type:Xn.NODE_NEIGHBOR,node:s,neighbor:a}),to(t,e,r),a}},{name:"child",separator:!0,regex:Un.child,populate:function(t,e){if(null==t.currentSubject){var i=qn(),n=qn(),o=t[t.length-1];return i.checks.push({type:Xn.CHILD,parent:o,child:n}),to(t,e,i),t.compoundCount++,n}if(t.currentSubject===e){var r=qn(),s=t[t.length-1],a=qn(),l=qn(),h=qn(),d=qn();return r.checks.push({type:Xn.COMPOUND_SPLIT,left:s,right:a,subject:l}),l.checks=e.checks,e.checks=[{type:Xn.TRUE}],d.checks.push({type:Xn.TRUE}),a.checks.push({type:Xn.PARENT,parent:d,child:h}),to(t,s,r),t.currentSubject=l,t.compoundCount++,h}var u=qn(),c=qn(),p=[{type:Xn.PARENT,parent:u,child:c}];return u.checks=e.checks,e.checks=p,t.compoundCount++,c}},{name:"descendant",separator:!0,regex:Un.descendant,populate:function(t,e){if(null==t.currentSubject){var i=qn(),n=qn(),o=t[t.length-1];return i.checks.push({type:Xn.DESCENDANT,ancestor:o,descendant:n}),to(t,e,i),t.compoundCount++,n}if(t.currentSubject===e){var r=qn(),s=t[t.length-1],a=qn(),l=qn(),h=qn(),d=qn();return r.checks.push({type:Xn.COMPOUND_SPLIT,left:s,right:a,subject:l}),l.checks=e.checks,e.checks=[{type:Xn.TRUE}],d.checks.push({type:Xn.TRUE}),a.checks.push({type:Xn.ANCESTOR,ancestor:d,descendant:h}),to(t,s,r),t.currentSubject=l,t.compoundCount++,h}var u=qn(),c=qn(),p=[{type:Xn.ANCESTOR,ancestor:u,descendant:c}];return u.checks=e.checks,e.checks=p,t.compoundCount++,c}},{name:"subject",modifier:!0,regex:Un.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return Nt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var i=t[t.length-1],n=i.checks[0],o=null==n?null:n.type;o===Xn.DIRECTED_EDGE?n.type=Xn.NODE_TARGET:o===Xn.UNDIRECTED_EDGE&&(n.type=Xn.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];eo.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var io=function(t){for(var e,i,n,o=0;o<eo.length;o++){var r=eo[o],s=r.name,a=t.match(r.regexObj);if(null!=a){i=a,e=r,n=s;var l=a[0];t=t.substring(l.length);break}}return{expr:e,match:i,name:n,remaining:t}},no=function(t){var e=t.match(/^\s+/);if(e){var i=e[0];t=t.substring(i.length)}return t},oo=function(t){var e=this,i=e.inputText=t,n=e[0]=qn();for(e.length=1,i=no(i);;){var o=io(i);if(null==o.expr)return Nt("The selector `"+t+"`is invalid"),!1;var r=o.match.slice(1),s=o.expr.populate(e,n,r);if(!1===s)return!1;if(null!=s&&(n=s),i=o.remaining,i.match(/^\s*$/))break}var a=e[e.length-1];null!=e.currentSubject&&(a.subject=e.currentSubject),a.edgeCount=e.edgeCount,a.compoundCount=e.compoundCount;for(var l=0;l<e.length;l++){var h=e[l];if(h.compoundCount>0&&h.edgeCount>0)return Nt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return Nt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===h.edgeCount&&Nt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},ro=function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return _(e)?'"'+e+'"':t(e)},i=function(t){return" "+t+" "},n=function(n,r){var s=n.type,a=n.value;switch(s){case Xn.GROUP:var l=t(a);return l.substring(0,l.length-1);case Xn.DATA_COMPARE:var h=n.field,d=n.operator;return"["+h+i(t(d))+e(a)+"]";case Xn.DATA_BOOL:var u=n.operator,c=n.field;return"["+t(u)+c+"]";case Xn.DATA_EXIST:var p=n.field;return"["+p+"]";case Xn.META_COMPARE:var f=n.operator,g=n.field;return"[["+g+i(t(f))+e(a)+"]]";case Xn.STATE:return a;case Xn.ID:return"#"+a;case Xn.CLASS:return"."+a;case Xn.PARENT:case Xn.CHILD:return o(n.parent,r)+i(">")+o(n.child,r);case Xn.ANCESTOR:case Xn.DESCENDANT:return o(n.ancestor,r)+" "+o(n.descendant,r);case Xn.COMPOUND_SPLIT:var v=o(n.left,r),m=o(n.subject,r),y=o(n.right,r);return v+(v.length>0?" ":"")+m+y;case Xn.TRUE:return""}},o=function(t,e){return t.checks.reduce(function(i,o,r){return i+(e===t&&0===r?"$":"")+n(o,e)},"")},r="",s=0;s<this.length;s++){var a=this[s];r+=o(a,a.subject),this.length>1&&s<this.length-1&&(r+=", ")}return this.toStringCache=r,r},so={parse:oo,toString:ro},ao=function(t,e,i){var n,o,r,s=_(t),a=C(t),l=_(i),h=!1,d=!1,u=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),d=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),h=!0),(s||l||h)&&(o=s||a?""+t:"",r=""+i),h&&(t=o=o.toLowerCase(),i=r=r.toLowerCase()),e){case"*=":n=o.indexOf(r)>=0;break;case"$=":n=o.indexOf(r,o.length-r.length)>=0;break;case"^=":n=0===o.indexOf(r);break;case"=":n=t===i;break;case">":u=!0,n=t>i;break;case">=":u=!0,n=t>=i;break;case"<":u=!0,n=t<i;break;case"<=":u=!0,n=t<=i;break;default:n=!1;break}return!d||null==t&&u||(n=!n),n},lo=function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return void 0===t}},ho=function(t){return void 0!==t},uo=function(t,e){return t.data(e)},co=function(t,e){return t[e]()},po=[],fo=function(t,e){return t.checks.every(function(t){return po[t.type](t,e)})};po[Xn.GROUP]=function(t,e){var i=t.value;return"*"===i||i===e.group()},po[Xn.STATE]=function(t,e){var i=t.value;return $n(i,e)},po[Xn.ID]=function(t,e){var i=t.value;return e.id()===i},po[Xn.CLASS]=function(t,e){var i=t.value;return e.hasClass(i)},po[Xn.META_COMPARE]=function(t,e){var i=t.field,n=t.operator,o=t.value;return ao(co(e,i),n,o)},po[Xn.DATA_COMPARE]=function(t,e){var i=t.field,n=t.operator,o=t.value;return ao(uo(e,i),n,o)},po[Xn.DATA_BOOL]=function(t,e){var i=t.field,n=t.operator;return lo(uo(e,i),n)},po[Xn.DATA_EXIST]=function(t,e){var i=t.field,n=t.operator;return ho(uo(e,i),n)},po[Xn.UNDIRECTED_EDGE]=function(t,e){var i=t.nodes[0],n=t.nodes[1],o=e.source(),r=e.target();return fo(i,o)&&fo(n,r)||fo(n,o)&&fo(i,r)},po[Xn.NODE_NEIGHBOR]=function(t,e){return fo(t.node,e)&&e.neighborhood().some(function(e){return e.isNode()&&fo(t.neighbor,e)})},po[Xn.DIRECTED_EDGE]=function(t,e){return fo(t.source,e.source())&&fo(t.target,e.target())},po[Xn.NODE_SOURCE]=function(t,e){return fo(t.source,e)&&e.outgoers().some(function(e){return e.isNode()&&fo(t.target,e)})},po[Xn.NODE_TARGET]=function(t,e){return fo(t.target,e)&&e.incomers().some(function(e){return e.isNode()&&fo(t.source,e)})},po[Xn.CHILD]=function(t,e){return fo(t.child,e)&&fo(t.parent,e.parent())},po[Xn.PARENT]=function(t,e){return fo(t.parent,e)&&e.children().some(function(e){return fo(t.child,e)})},po[Xn.DESCENDANT]=function(t,e){return fo(t.descendant,e)&&e.ancestors().some(function(e){return fo(t.ancestor,e)})},po[Xn.ANCESTOR]=function(t,e){return fo(t.ancestor,e)&&e.descendants().some(function(e){return fo(t.descendant,e)})},po[Xn.COMPOUND_SPLIT]=function(t,e){return fo(t.subject,e)&&fo(t.left,e)&&fo(t.right,e)},po[Xn.TRUE]=function(){return!0},po[Xn.COLLECTION]=function(t,e){var i=t.value;return i.has(e)},po[Xn.FILTER]=function(t,e){var i=t.value;return i(e)};var go=function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&e[0].checks[0].type===Xn.ID)return t.getElementById(e[0].checks[0].value).collection();var i=function(t){for(var i=0;i<e.length;i++){var n=e[i];if(fo(n,t))return!0}return!1};return null==e.text()&&(i=function(){return!0}),t.filter(i)},vo=function(t){for(var e=this,i=0;i<e.length;i++){var n=e[i];if(fo(n,t))return!0}return!1},mo={matches:vo,filter:go},yo=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||_(t)&&t.match(/^\s*$/)||(O(t)?this.addQuery({checks:[{type:Xn.COLLECTION,value:t.collection()}]}):E(t)?this.addQuery({checks:[{type:Xn.FILTER,value:t}]}):_(t)?this.parse(t)||(this.invalid=!0):Mt("A selector must be created from a string; found ",t))},bo=yo.prototype;[so,mo].forEach(function(t){return et(bo,t)}),bo.text=function(){return this.inputText},bo.size=function(){return this.length},bo.eq=function(t){return this[t]},bo.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},bo.addQuery=function(t){this[this.length++]=t},bo.selector=bo.toString;var wo={allAre:function(t){var e=new yo(t);return this.every(function(t){return e.matches(t)})},is:function(t){var e=new yo(t);return this.some(function(t){return e.matches(t)})},some:function(t,e){for(var i=0;i<this.length;i++){var n=e?t.apply(e,[this[i],i,this]):t(this[i],i,this);if(n)return!0}return!1},every:function(t,e){for(var i=0;i<this.length;i++){var n=e?t.apply(e,[this[i],i,this]):t(this[i],i,this);if(!n)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length,i=t.length;return e===i&&(1===e?this[0]===t[0]:this.every(function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(t){return e.hasElementWithId(t.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(t){return e.hasElementWithId(t.id())})}};wo.allAreNeighbours=wo.allAreNeighbors,wo.has=wo.contains,wo.equal=wo.equals=wo.same;var xo,_o,Eo=function(t,e){return function(i,n,o,r){var s,a=i,l=this;if(null==a?s="":O(a)&&1===a.length&&(s=a.id()),1===l.length&&s){var h=l[0]._private,d=h.traversalCache=h.traversalCache||{},u=d[e]=d[e]||[],c=yt(s),p=u[c];return p||(u[c]=t.call(l,i,n,o,r))}return t.call(l,i,n,o,r)}},ko={parent:function(t){var e=[];if(1===this.length){var i=this[0]._private.parent;if(i)return i}for(var n=0;n<this.length;n++){var o=this[n],r=o._private.parent;r&&e.push(r)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){var e=[],i=this.parent();while(i.nonempty()){for(var n=0;n<i.length;n++){var o=i[n];e.push(o)}i=i.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e,i=0;i<this.length;i++){var n=this[i],o=n.parents();e=e||o,e=e.intersect(o)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isChild()}).filter(t)},children:Eo(function(t){for(var e=[],i=0;i<this.length;i++)for(var n=this[i],o=n._private.children,r=0;r<o.length;r++)e.push(o[r]);return this.spawn(e,{unique:!0}).filter(t)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];function i(t){for(var n=0;n<t.length;n++){var o=t[n];e.push(o),o.children().nonempty()&&i(o.children())}}return i(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function To(t,e,i,n){for(var o=[],r=new Xt,s=t.cy(),a=s.hasCompoundNodes(),l=0;l<t.length;l++){var h=t[l];i?o.push(h):a&&n(o,r,h)}while(o.length>0){var d=o.shift();e(d),r.add(d.id()),a&&n(o,r,d)}return t}function Do(t,e,i){if(i.isParent())for(var n=i._private.children,o=0;o<n.length;o++){var r=n[o];e.has(r.id())||t.push(r)}}function Co(t,e,i){if(i.isChild()){var n=i._private.parent;e.has(n.id())||t.push(n)}}function So(t,e,i){Co(t,e,i),Do(t,e,i)}ko.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return To(this,t,e,Do)},ko.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return To(this,t,e,Co)},ko.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return To(this,t,e,So)},ko.ancestors=ko.parents,xo=_o={data:Gn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Gn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Gn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Gn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Gn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Gn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}},xo.attr=xo.data,xo.removeAttr=xo.removeData;var Mo,Oo,No=_o,Ao={};function Po(t){return function(e){var i=this;if(void 0===e&&(e=!0),0!==i.length&&i.isNode()&&!i.removed()){for(var n=0,o=i[0],r=o._private.edges,s=0;s<r.length;s++){var a=r[s];!e&&a.isLoop()||(n+=t(o,a))}return n}}}function Io(t,e){return function(i){for(var n,o=this.nodes(),r=0;r<o.length;r++){var s=o[r],a=s[t](i);void 0===a||void 0!==n&&!e(a,n)||(n=a)}return n}}et(Ao,{degree:Po(function(t,e){return e.source().same(e.target())?2:1}),indegree:Po(function(t,e){return e.target().same(t)?1:0}),outdegree:Po(function(t,e){return e.source().same(t)?1:0})}),et(Ao,{minDegree:Io("degree",function(t,e){return t<e}),maxDegree:Io("degree",function(t,e){return t>e}),minIndegree:Io("indegree",function(t,e){return t<e}),maxIndegree:Io("indegree",function(t,e){return t>e}),minOutdegree:Io("outdegree",function(t,e){return t<e}),maxOutdegree:Io("outdegree",function(t,e){return t>e})}),et(Ao,{totalDegree:function(t){for(var e=0,i=this.nodes(),n=0;n<i.length;n++)e+=i[n].degree(t);return e}});var Lo=function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];if(!o.locked()){var r=o._private.position,s={x:null!=e.x?e.x-r.x:0,y:null!=e.y?e.y-r.y:0};!o.isParent()||0===s.x&&0===s.y||o.children().shift(s,i),o.shiftCachedBoundingBox(s)}}},Ro={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Lo(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Mo=Oo={position:Gn.data(Ro),silentPosition:Gn.data(et({},Ro,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Lo(t,e,!0)}})),positions:function(t,e){if(T(t))e?this.silentPosition(t):this.position(t);else if(E(t)){var i=t,n=this.cy();n.startBatch();for(var o=0;o<this.length;o++){var r=this[o],s=void 0;(s=i(r,o))&&(e?r.silentPosition(s):r.position(s))}n.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,i){var n;if(T(t)?(n={x:C(t.x)?t.x:0,y:C(t.y)?t.y:0},i=e):_(t)&&C(e)&&(n={x:0,y:0},n[t]=e),null!=n){var o=this.cy();o.startBatch();for(var r=0;r<this.length;r++){var s=this[r],a=s.position(),l={x:a.x+n.x,y:a.y+n.y};i?s.silentPosition(l):s.position(l)}o.endBatch()}return this},silentShift:function(t,e){return T(t)?this.shift(t,!0):_(t)&&C(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var i=this[0],n=this.cy(),o=n.zoom(),r=n.pan(),s=T(t)?t:void 0,a=void 0!==s||void 0!==e&&_(t);if(i&&i.isNode()){if(!a){var l=i.position();return s=ce(l,o,r),void 0===t?s:s[t]}for(var h=0;h<this.length;h++){var d=this[h];void 0!==e?d.position(t,(e-r[t])/o):void 0!==s&&d.position(pe(s,o,r))}}else if(!a)return;return this},relativePosition:function(t,e){var i=this[0],n=this.cy(),o=T(t)?t:void 0,r=void 0!==o||void 0!==e&&_(t),s=n.hasCompoundNodes();if(i&&i.isNode()){if(!r){var a=i.position(),l=s?i.parent():null,h=l&&l.length>0,d=h;h&&(l=l[0]);var u=d?l.position():{x:0,y:0};return o={x:a.x-u.x,y:a.y-u.y},void 0===t?o:o[t]}for(var c=0;c<this.length;c++){var p=this[c],f=s?p.parent():null,g=f&&f.length>0,v=g;g&&(f=f[0]);var m=v?f.position():{x:0,y:0};void 0!==e?p.position(t,e+m[t]):void 0!==o&&p.position({x:o.x+m.x,y:o.y+m.y})}}else if(!r)return;return this}},Mo.modelPosition=Mo.point=Mo.position,Mo.modelPositions=Mo.points=Mo.positions,Mo.renderedPoint=Mo.renderedPosition,Mo.relativePoint=Mo.relativePosition;var Bo,Fo,zo=Oo;Bo=Fo={},Fo.renderedBoundingBox=function(t){var e=this.boundingBox(t),i=this.cy(),n=i.zoom(),o=i.pan(),r=e.x1*n+o.x,s=e.x2*n+o.x,a=e.y1*n+o.y,l=e.y2*n+o.y;return{x1:r,x2:s,y1:a,y2:l,w:s-r,h:l-a}},Fo.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var e=t._private;e.compoundBoundsClean=!1,e.bbCache=null,t.emitAndNotify("bounds")}}),this):this},Fo.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function i(t){if(t.isParent()){var e=t._private,i=t.children(),n="include"===t.pstyle("compound-sizing-wrt-labels").value,o={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},r=i.boundingBox({includeLabels:n,includeOverlays:!1,useCache:!1}),s=e.position;0!==r.w&&0!==r.h||(r={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue},r.x1=s.x-r.w/2,r.x2=s.x+r.w/2,r.y1=s.y-r.h/2,r.y2=s.y+r.h/2);var a=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(a=100*a/o.width.val);var l=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(l=100*l/o.width.val);var h=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(h=100*h/o.height.val);var d=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(d=100*d/o.height.val);var u=m(o.width.val-r.w,a,l),c=u.biasDiff,p=u.biasComplementDiff,f=m(o.height.val-r.h,h,d),g=f.biasDiff,v=f.biasComplementDiff;e.autoPadding=y(r.w,r.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(r.w,o.width.val),s.x=(-c+r.x1+r.x2+p)/2,e.autoHeight=Math.max(r.h,o.height.val),s.y=(-g+r.y1+r.y2+v)/2}function m(t,e,i){var n=0,o=0,r=e+i;return t>0&&r>0&&(n=e/r*t,o=i/r*t),{biasDiff:n,biasComplementDiff:o}}function y(t,e,i,n){if("%"!==i.units)return"px"===i.units?i.pfValue:0;switch(n){case"width":return t>0?i.pfValue*t:0;case"height":return e>0?i.pfValue*e:0;case"average":return t>0&&e>0?i.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?i.pfValue*e:i.pfValue*t:0;case"max":return t>0&&e>0?t>e?i.pfValue*t:i.pfValue*e:0;default:return 0}}}for(var n=0;n<this.length;n++){var o=this[n],r=o._private;r.compoundBoundsClean||(i(o),e.batching()||(r.compoundBoundsClean=!0))}return this};var jo=function(t){return t===1/0||t===-1/0?0:t},Ho=function(t,e,i,n,o){n-e!==0&&o-i!==0&&null!=e&&null!=i&&null!=n&&null!=o&&(t.x1=e<t.x1?e:t.x1,t.x2=n>t.x2?n:t.x2,t.y1=i<t.y1?i:t.y1,t.y2=o>t.y2?o:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Yo=function(t,e){return null==e?t:Ho(t,e.x1,e.y1,e.x2,e.y2)},Go=function(t,e,i){return Yt(t,e,i)},Wo=function(t,e,i){if(!e.cy().headless()){var n,o,r=e._private,s=r.rstyle,a=s.arrowWidth/2,l=e.pstyle(i+"-arrow-shape").value;if("none"!==l){"source"===i?(n=s.srcX,o=s.srcY):"target"===i?(n=s.tgtX,o=s.tgtY):(n=s.midX,o=s.midY);var h=r.arrowBounds=r.arrowBounds||{},d=h[i]=h[i]||{};d.x1=n-a,d.y1=o-a,d.x2=n+a,d.y2=o+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,Le(d,1),Ho(t,d.x1,d.y1,d.x2,d.y2)}}},Vo=function(t,e,i){if(!e.cy().headless()){var n;n=i?i+"-":"";var o=e._private,r=o.rstyle,s=e.pstyle(n+"label").strValue;if(s){var a,l,h,d,u=e.pstyle("text-halign"),c=e.pstyle("text-valign"),p=Go(r,"labelWidth",i),f=Go(r,"labelHeight",i),g=Go(r,"labelX",i),v=Go(r,"labelY",i),m=e.pstyle(n+"text-margin-x").pfValue,y=e.pstyle(n+"text-margin-y").pfValue,b=e.isEdge(),w=e.pstyle(n+"text-rotation"),x=e.pstyle("text-outline-width").pfValue,_=e.pstyle("text-border-width").pfValue,E=_/2,k=e.pstyle("text-background-padding").pfValue,T=f+2*k,D=p+2*k,C=D/2,S=T/2;if(b)a=g-C,l=g+C,h=v-S,d=v+S;else{switch(u.value){case"left":a=g-D,l=g;break;case"center":a=g-C,l=g+C;break;case"right":a=g,l=g+D;break}switch(c.value){case"top":h=v-T,d=v;break;case"center":h=v-S,d=v+S;break;case"bottom":h=v,d=v+T;break}}a+=m-Math.max(x,E),l+=m+Math.max(x,E),h+=y-Math.max(x,E),d+=y+Math.max(x,E);var M=i||"main",O=o.labelBounds,N=O[M]=O[M]||{};N.x1=a,N.y1=h,N.x2=l,N.y2=d,N.w=l-a,N.h=d-h,Le(N,1);var A=b&&"autorotate"===w.strValue,P=null!=w.pfValue&&0!==w.pfValue;if(A||P){var I=A?Go(o.rstyle,"labelAngle",i):w.pfValue,L=Math.cos(I),R=Math.sin(I),B=(a+l)/2,F=(h+d)/2;if(!b){switch(u.value){case"left":B=l;break;case"right":B=a;break}switch(c.value){case"top":F=d;break;case"bottom":F=h;break}}var z=function(t,e){return t-=B,e-=F,{x:t*L-e*R+B,y:t*R+e*L+F}},j=z(a,h),H=z(a,d),Y=z(l,h),G=z(l,d);a=Math.min(j.x,H.x,Y.x,G.x),l=Math.max(j.x,H.x,Y.x,G.x),h=Math.min(j.y,H.y,Y.y,G.y),d=Math.max(j.y,H.y,Y.y,G.y)}Ho(t,a,h,l,d),Ho(o.labelBounds.all,a,h,l,d)}return t}},Uo=function(t,e){var i,n,o,r,s,a,l=t._private.cy,h=l.styleEnabled(),d=l.headless(),u=Oe(),c=t._private,p=h?t.pstyle("display").value:"element",f=t.isNode(),g=t.isEdge(),v="none"!==p,m=c.rstyle,y=f&&h?t.pstyle("bounds-expansion").pfValue:0;if(v){var b=0,w=0;h&&e.includeOverlays&&(b=t.pstyle("overlay-opacity").value,0!==b&&(w=t.pstyle("overlay-padding").value));var x=0,_=0;if(h&&(x=t.pstyle("width").pfValue,_=x/2),f&&e.includeNodes){var E=t.position();s=E.x,a=E.y;var k=t.outerWidth(),T=k/2,D=t.outerHeight(),C=D/2;i=s-T,n=s+T,o=a-C,r=a+C,Ho(u,i,o,n,r)}else if(g&&e.includeEdges)if(h&&!d&&(i=Math.min(m.srcX,m.midX,m.tgtX),n=Math.max(m.srcX,m.midX,m.tgtX),o=Math.min(m.srcY,m.midY,m.tgtY),r=Math.max(m.srcY,m.midY,m.tgtY),i-=_,n+=_,o-=_,r+=_,Ho(u,i,o,n,r)),h&&!d&&"haystack"===t.pstyle("curve-style").strValue){var S=m.haystackPts||[];if(i=S[0].x,o=S[0].y,n=S[1].x,r=S[1].y,i>n){var M=i;i=n,n=M}if(o>r){var O=o;o=r,r=O}Ho(u,i-_,o-_,n+_,r+_)}else{for(var N=m.bezierPts||m.linePts||[],A=0;A<N.length;A++){var P=N[A];i=P.x-_,n=P.x+_,o=P.y-_,r=P.y+_,Ho(u,i,o,n,r)}if(0===N.length){var I=t.source(),L=I.position(),R=t.target(),B=R.position();if(i=L.x,n=B.x,o=L.y,r=B.y,i>n){var F=i;i=n,n=F}if(o>r){var z=o;o=r,r=z}i-=_,n+=_,o-=_,r+=_,Ho(u,i,o,n,r)}}if(h&&e.includeEdges&&g&&(Wo(u,t,"mid-source",e),Wo(u,t,"mid-target",e),Wo(u,t,"source",e),Wo(u,t,"target",e)),h){var j="yes"===t.pstyle("ghost").value;if(j){var H=t.pstyle("ghost-offset-x").pfValue,Y=t.pstyle("ghost-offset-y").pfValue;Ho(u,u.x1+H,u.y1+Y,u.x2+H,u.y2+Y)}}var G=c.bodyBounds=c.bodyBounds||{};Re(G,u),Le(G,y),Le(G,1),h&&(i=u.x1,n=u.x2,o=u.y1,r=u.y2,Ho(u,i-w,o-w,n+w,r+w));var W=c.overlayBounds=c.overlayBounds||{};Re(W,u),Le(W,y),Le(W,1);var V=c.labelBounds=c.labelBounds||{};null!=V.all?Ae(V.all):V.all=Oe(),h&&e.includeLabels&&(Vo(u,t,null,e),g&&(Vo(u,t,"source",e),Vo(u,t,"target",e)))}return u.x1=jo(u.x1),u.y1=jo(u.y1),u.x2=jo(u.x2),u.y2=jo(u.y2),u.w=jo(u.x2-u.x1),u.h=jo(u.y2-u.y1),u.w>0&&u.h>0&&v&&(Le(u,y),Le(u,1)),u},qo=function(t){var e=0,i=function(t){return(t?1:0)<<e++},n=0;return n+=i(t.incudeNodes),n+=i(t.includeEdges),n+=i(t.includeLabels),n+=i(t.includeOverlays),n},Xo=function(t){if(t.isEdge()){var e=t.source().position(),i=t.target().position(),n=function(t){return Math.round(t)};return mt([n(e.x),n(e.y),n(i.x),n(i.y)])}return 0},Ko=function(t,e){var i,n=t._private,o=null==e?$o:qo(e),r=o===$o,s=Xo(t),a=n.bbCachePosKey===s,l=e.useCache&&a,h=!l||null==n.bbCache;if(h?(a||t.recalculateRenderedStyle(),i=Uo(t,Zo),n.bbCache=i,n.bbCacheShift.x=n.bbCacheShift.y=0,n.bbCachePosKey=s):i=n.bbCache,!h&&(0!==n.bbCacheShift.x||0!==n.bbCacheShift.y)){var d=Be,u=n.bbCacheShift,c=function(t,e){null!=t&&d(t,e)};d(i,u);var p=n.bodyBounds,f=n.overlayBounds,g=n.labelBounds,v=n.arrowBounds;c(p,u),c(f,u),null!=v&&(c(v.source,u),c(v.target,u),c(v["mid-source"],u),c(v["mid-target"],u)),null!=g&&(c(g.main,u),c(g.all,u),c(g.source,u),c(g.target,u))}if(n.bbCacheShift.x=n.bbCacheShift.y=0,!r){var m=t.isNode();i=Oe(),(e.includeNodes&&m||e.includeEdges&&!m)&&(e.includeOverlays?Yo(i,n.overlayBounds):Yo(i,n.bodyBounds)),e.includeLabels&&Yo(i,n.labelBounds.all),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Zo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},$o=qo(Zo),Qo=Ft(Zo);Fo.boundingBox=function(t){if(1===this.length&&null!=this[0]._private.bbCache&&(void 0===t||void 0===t.useCache||!0===t.useCache))return t=void 0===t?Zo:Qo(t),Ko(this[0],t);var e=Oe();t=t||Zo;var i=Qo(t),n=this,o=n.cy(),r=o.styleEnabled();if(r)for(var s=0;s<n.length;s++){var a=n[s],l=a._private,h=Xo(a),d=l.bbCachePosKey===h,u=i.useCache&&d;a.recalculateRenderedStyle(u)}this.updateCompoundBounds();for(var c=0;c<n.length;c++){var p=n[c];Yo(e,Ko(p,i))}return e.x1=jo(e.x1),e.y1=jo(e.y1),e.x2=jo(e.x2),e.y2=jo(e.y2),e.w=jo(e.x2-e.x1),e.h=jo(e.y2-e.y1),e},Fo.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCacheShift.x=e.bbCacheShift.y=0,e.bbCachePosKey=null}return this.emitAndNotify("bounds"),this},Fo.shiftCachedBoundingBox=function(t){for(var e=0;e<this.length;e++){var i=this[e],n=i._private,o=n.bbCache;null!=o&&(n.bbCacheShift.x+=t.x,n.bbCacheShift.y+=t.y)}return this.emitAndNotify("bounds"),this},Fo.boundingBoxAt=function(t){var e=this.nodes(),i=this.cy(),n=i.hasCompoundNodes();if(n&&(e=e.filter(function(t){return!t.isParent()})),T(t)){var o=t;t=function(){return o}}var r=function(e,i){return e._private.bbAtOldPos=t(e,i)},s=function(t){return t._private.bbAtOldPos};i.startBatch(),e.forEach(r).silentPositions(t),n&&this.updateCompoundBounds(!0);var a=Ne(this.boundingBox({useCache:!1}));return e.silentPositions(s),i.endBatch(),a},Bo.boundingbox=Bo.bb=Bo.boundingBox,Bo.renderedBoundingbox=Bo.renderedBoundingBox;var Jo,tr,er=Fo;Jo=tr={};var ir=function(t){t.uppercaseName=V(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=V(t.outerName),Jo[t.name]=function(){var e=this[0],i=e._private,n=i.cy,o=n._private.styleEnabled;if(e){if(!o)return 1;if(e.isParent())return e.updateCompoundBounds(),i[t.autoName]||0;var r=e.pstyle(t.name);switch(r.strValue){case"label":return e.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return r.pfValue}}},Jo["outer"+t.uppercaseName]=function(){var e=this[0],i=e._private,n=i.cy,o=n._private.styleEnabled;if(e){if(o){var r=e[t.name](),s=e.pstyle("border-width").pfValue,a=2*e.padding();return r+s+a}return 1}},Jo["rendered"+t.uppercaseName]=function(){var e=this[0];if(e){var i=e[t.name]();return i*this.cy().zoom()}},Jo["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e){var i=e[t.outerName]();return i*this.cy().zoom()}}};ir({name:"width"}),ir({name:"height"}),tr.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};var nr=tr,or=function(t,e){if(t.isEdge())return e(t)},rr=function(t,e){if(t.isEdge()){var i=t.cy();return ce(e(t),i.zoom(),i.pan())}},sr=function(t,e){if(t.isEdge()){var i=t.cy(),n=i.pan(),o=i.zoom();return e(t).map(function(t){return ce(t,o,n)})}},ar=function(t){return t.renderer().getControlPoints(t)},lr=function(t){return t.renderer().getSegmentPoints(t)},hr=function(t){return t.renderer().getSourceEndpoint(t)},dr=function(t){return t.renderer().getTargetEndpoint(t)},ur=function(t){return t.renderer().getEdgeMidpoint(t)},cr={controlPoints:{get:ar,mult:!0},segmentPoints:{get:lr,mult:!0},sourceEndpoint:{get:hr},targetEndpoint:{get:dr},midpoint:{get:ur}},pr=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},fr=Object.keys(cr).reduce(function(t,e){var i=cr[e],n=pr(e);return t[e]=function(){return or(this,i.get)},i.mult?t[n]=function(){return sr(this,i.get)}:t[n]=function(){return rr(this,i.get)},t},{}),gr=et({},zo,er,nr,fr),vr=function(t,e){this.recycle(t,e)};function mr(){return!1}function yr(){return!0}vr.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=mr,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?yr:mr):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var i=this.position,n=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:i.x*n+o.x,y:i.y*n+o.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=yr;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=yr;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=yr,this.stopPropagation()},isDefaultPrevented:mr,isPropagationStopped:mr,isImmediatePropagationStopped:mr};var br=/^([^.]+)(\.(?:[^.]+))?$/,wr=".*",xr={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},_r=Object.keys(xr);function Er(t,e){for(var i=0;i<_r.length;i++){var n=_r[i];this[n]=t[n]||xr[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var kr=Er.prototype,Tr=function(t,e,i,n,o,r,s){E(n)&&(o=n,n=null),s&&(r=null==r?s:et({},r,s));for(var a=k(i)?i:i.split(/\s+/),l=0;l<a.length;l++){var h=a[l];if(!R(h)){var d=h.match(br);if(d){var u=d[1],c=d[2]?d[2]:null,p=e(t,h,u,c,n,o,r);if(!1===p)break}}}},Dr=function(t,e){return t.addEventFields(t.context,e),new vr(e.type,e)},Cr=function(t,e,i){if(L(i))e(t,i);else if(T(i))e(t,Dr(t,i));else for(var n=k(i)?i:i.split(/\s+/),o=0;o<n.length;o++){var r=n[o];if(!R(r)){var s=r.match(br);if(s){var a=s[1],l=s[2]?s[2]:null,h=Dr(t,{type:a,namespace:l,target:t.context});e(t,h)}}}};kr.on=kr.addListener=function(t,e,i,n,o){return Tr(this,function(t,e,i,n,o,r,s){E(r)&&t.listeners.push({event:e,callback:r,type:i,namespace:n,qualifier:o,conf:s})},t,e,i,n,o),this},kr.one=function(t,e,i,n){return this.on(t,e,i,n,{one:!0})},kr.removeListener=kr.off=function(t,e,i,n){var o=this;0!==this.emitting&&(this.listeners=It(this.listeners));for(var r=this.listeners,s=function(s){var a=r[s];Tr(o,function(t,e,i,n,o,l){if(a.type===i&&(!n||a.namespace===n)&&(!o||t.qualifierCompare(a.qualifier,o))&&(!l||a.callback===l))return r.splice(s,1),!1},t,e,i,n)},a=r.length-1;a>=0;a--)s(a);return this},kr.emit=kr.trigger=function(t,e,i){var n=this.listeners,o=n.length;return this.emitting++,k(e)||(e=[e]),Cr(this,function(t,r){null!=i&&(n=[{event:r.event,type:r.type,namespace:r.namespace,callback:i}],o=n.length);for(var s=function(i){var o=n[i];if(o.type===r.type&&(!o.namespace||o.namespace===r.namespace||o.namespace===wr)&&t.eventMatches(t.context,o,r)){var s=[r];null!=e&&Ht(s,e),t.beforeEmit(t.context,o,r),o.conf&&o.conf.one&&(t.listeners=t.listeners.filter(function(t){return t!==o}));var a=t.callbackContext(t.context,o,r),l=o.callback.apply(a,s);t.afterEmit(t.context,o,r),!1===l&&(r.stopPropagation(),r.preventDefault())}},a=0;a<o;a++)s(a);t.bubble(t.context)&&!r.isPropagationStopped()&&t.parent(t.context).emit(r,e)},t),this.emitting--,this};var Sr={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return null==n||t!==i.target&&N(i.target)&&n.matches(i.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,i){return null!=e.qualifier?i.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},Mr=function(t){return _(t)?new yo(t):t},Or={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],i=e._private;i.emitter||(i.emitter=new Er(Sr,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,i){for(var n=Mr(e),o=0;o<this.length;o++){var r=this[o];r.emitter().on(t,n,i)}return this},removeListener:function(t,e,i){for(var n=Mr(e),o=0;o<this.length;o++){var r=this[o];r.emitter().removeListener(t,n,i)}return this},one:function(t,e,i){for(var n=Mr(e),o=0;o<this.length;o++){var r=this[o];r.emitter().one(t,n,i)}return this},once:function(t,e,i){for(var n=Mr(e),o=0;o<this.length;o++){var r=this[o];r.emitter().on(t,n,i,{once:!0,onceCollection:this})}},emit:function(t,e){for(var i=0;i<this.length;i++){var n=this[i];n.emitter().emit(t,e)}return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};Gn.eventAliasesOn(Or);var Nr={nodes:function(t){return this.filter(function(t){return t.isNode()}).filter(t)},edges:function(t){return this.filter(function(t){return t.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),i=0;i<this.length;i++){var n=this[i];n.isNode()?t.merge(n):e.merge(n)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(_(t)||O(t))return new yo(t).filter(this);if(E(t)){for(var i=this.spawn(),n=this,o=0;o<n.length;o++){var r=n[o],s=e?t.apply(e,[r,o,n]):t(r,o,n);s&&i.merge(r)}return i}return this.spawn()},not:function(t){if(t){_(t)&&(t=this.filter(t));for(var e=[],i=t._private.map,n=0;n<this.length;n++){var o=this[n],r=i.has(o.id());r||e.push(o)}return this.spawn(e)}return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(_(t)){var e=t;return this.filter(e)}for(var i=[],n=this,o=t,r=this.length<t.length,s=r?o._private.map:n._private.map,a=r?n:o,l=0;l<a.length;l++){var h=a[l]._private.data.id,d=s.get(h);d&&i.push(d.ele)}return this.spawn(i)},xor:function(t){var e=this._private.cy;_(t)&&(t=e.$(t));var i=[],n=this,o=t,r=function(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=o._private.data.id,s=e.hasElementWithId(r);s||i.push(o)}};return r(n,o),r(o,n),this.spawn(i)},diff:function(t){var e=this._private.cy;_(t)&&(t=e.$(t));var i=[],n=[],o=[],r=this,s=t,a=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],s=r._private.data.id,a=e.hasElementWithId(s);a?o.push(r):i.push(r)}};return a(r,s,i),a(s,r,n),{left:this.spawn(i,{unique:!0}),right:this.spawn(n,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if(_(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=[],o=0;o<this.length;o++)n.push(this[o]);for(var r=this._private.map,s=0;s<t.length;s++){var a=!r.has(t[s].id());a&&n.push(t[s])}return this.spawn(n)},merge:function(t){var e=this._private,i=e.cy;if(!t)return this;if(t&&_(t)){var n=t;t=i.mutableElements().filter(n)}for(var o=e.map,r=0;r<t.length;r++){var s=t[r],a=s._private.data.id,l=!o.has(a);if(l){var h=this.length++;this[h]=s,o.set(a,{ele:s,index:h})}else{var d=o.get(a).index;this[d]=s,o.set(a,{ele:s,index:d})}}return this},unmergeAt:function(t){var e=this[t],i=e.id(),n=this._private,o=n.map;this[t]=void 0,o.delete(i);var r=t===this.length-1;if(this.length>1&&!r){var s=this.length-1,a=this[s],l=a._private.data.id;this[s]=void 0,this[t]=a,o.set(l,{ele:a,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var e=this._private,i=t._private.data.id,n=e.map,o=n.get(i);if(!o)return this;var r=o.index;return this.unmergeAt(r),this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&_(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=0;n<t.length;n++)this.unmergeOne(t[n]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--){var i=this[e];t(i)&&this.unmergeAt(e)}return this},map:function(t,e){for(var i=[],n=this,o=0;o<n.length;o++){var r=n[o],s=e?t.apply(e,[r,o,n]):t(r,o,n);i.push(s)}return i},reduce:function(t,e){for(var i=e,n=this,o=0;o<n.length;o++)i=t(i,n[o],o,n);return i},max:function(t,e){for(var i,n=-1/0,o=this,r=0;r<o.length;r++){var s=o[r],a=e?t.apply(e,[s,r,o]):t(s,r,o);a>n&&(n=a,i=s)}return{value:n,ele:i}},min:function(t,e){for(var i,n=1/0,o=this,r=0;r<o.length;r++){var s=o[r],a=e?t.apply(e,[s,r,o]):t(s,r,o);a<n&&(n=a,i=s)}return{value:n,ele:i}}},Ar=Nr;Ar["u"]=Ar["|"]=Ar["+"]=Ar.union=Ar.or=Ar.add,Ar["\\"]=Ar["!"]=Ar["-"]=Ar.difference=Ar.relativeComplement=Ar.subtract=Ar.not,Ar["n"]=Ar["&"]=Ar["."]=Ar.and=Ar.intersection=Ar.intersect,Ar["^"]=Ar["(+)"]=Ar["(-)"]=Ar.symmetricDifference=Ar.symdiff=Ar.xor,Ar.fnFilter=Ar.filterFn=Ar.stdFilter=Ar.filter,Ar.complement=Ar.abscomp=Ar.absoluteComplement;var Pr={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},Ir=function(t,e){var i=t.cy(),n=i.hasCompoundNodes();function o(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?kt:0}var r=o(t)-o(e);if(0!==r)return r;function s(t){var e=t.pstyle("z-index-compare");return"auto"===e.value&&t.isNode()?1:0}var a=s(t)-s(e);if(0!==a)return a;var l=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==l?l:t.poolIndex()-e.poolIndex()},Lr={forEach:function(t,e){if(E(t))for(var i=this.length,n=0;n<i;n++){var o=this[n],r=e?t.apply(e,[o,n,this]):t(o,n,this);if(!1===r)break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var i=[],n=this.length;null==e&&(e=n),null==t&&(t=0),t<0&&(t=n+t),e<0&&(e=n+e);for(var o=t;o>=0&&o<e&&o<n;o++)i.push(this[o]);return this.spawn(i)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!E(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(Ir)},zDepth:function(){var t=this[0];if(t){var e=t._private,i=e.group;if("nodes"===i){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:kt-1}var o=e.source,r=e.target,s=o.zDepth(),a=r.zDepth();return Math.max(s,a,0)}}};Lr.each=Lr.forEach;var Rr=Ft({nodeDimensionsIncludeLabels:!1}),Br={layoutDimensions:function(t){if(t=Rr(t),t.nodeDimensionsIncludeLabels){var e=this.boundingBox();return{w:e.w,h:e.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(t,e,i){var n=this.nodes(),o=this.cy(),r=e.eles,s=function(t){return t.id()},a=H(i,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=function(t,e,i){var n={x:e.x1+e.w/2,y:e.y1+e.h/2},o={x:(i.x-n.x)*t,y:(i.y-n.y)*t};return{x:n.x+o.x,y:n.y+o.y}},h=e.spacingFactor&&1!==e.spacingFactor,d=function(){if(!h)return null;for(var t=Oe(),e=0;e<n.length;e++){var i=n[e],o=a(i,e);Ie(t,o.x,o.y)}return t},u=d(),c=H(function(t,i){var n=a(t,i);if(h){var o=Math.abs(e.spacingFactor);n=l(o,u,n)}return null!=e.transform&&(n=e.transform(t,n)),n},s);if(e.animate){for(var p=0;p<n.length;p++){var f=n[p],g=c(f,p),v=null==e.animateFilter||e.animateFilter(f,p);if(v){var m=f.animation({position:g,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}else f.position(g)}if(e.fit){var y=o.animation({fit:{boundingBox:r.boundingBoxAt(c),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(y)}else if(void 0!==e.zoom&&void 0!==e.pan){var b=o.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(b)}t.animations.forEach(function(t){return t.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Bn.all(t.animations.map(function(t){return t.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else n.positions(c),e.fit&&o.fit(e.eles,e.padding),null!=e.zoom&&o.zoom(e.zoom),e.pan&&o.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var e=this.cy();return e.makeLayout(et({},t,{eles:this}))}};function Fr(t,e,i){var n,o=i._private,r=o.styleCache=o.styleCache||[];return null!=(n=r[t])?n:(n=r[t]=e(i),n)}function zr(t,e){return t=yt(t),function(i){return Fr(t,e,i)}}function jr(t,e){t=yt(t);var i=function(t){return e.call(t)};return function(){var e=this[0];if(e)return Fr(t,i,e)}}Br.createLayout=Br.makeLayout=Br.layout;var Hr={recalculateRenderedStyle:function(t){var e=this.cy(),i=e.renderer(),n=e.styleEnabled();return i&&n&&i.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),i=function(t){return t._private.styleCache=null};e.hasCompoundNodes()?(t=this.spawnSelf().merge(this.descendants()).merge(this.parents()),t.merge(t.connectedEdges()),t.forEach(i)):this.forEach(function(t){i(t),t.connectedEdges().forEach(i)});return this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching()){var i=e._private.batchStyleEles;return i.merge(this),this}var n=e.hasCompoundNodes(),o=e.style(),r=this;t=!(!t&&void 0!==t),n&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=o.apply(r);return t?s.emitAndNotify("style"):s.emit("style"),this},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this[0],n=i.cy();if(n.styleEnabled()&&i){var o=i._private.style[t];return null!=o?o:e?n.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var i=e.pstyle(t);return void 0!==i.pfValue?i.pfValue:i.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=this[0];return i?e.style().getRenderedStyle(i,t):void 0},style:function(t,e){var i=this.cy();if(!i.styleEnabled())return this;var n=!1,o=i.style();if(T(t)){var r=t;o.applyBypass(this,r,n),this.emitAndNotify("style")}else if(_(t)){if(void 0===e){var s=this[0];return s?o.getStylePropertyValue(s,t):void 0}o.applyBypass(this,t,e,n),this.emitAndNotify("style")}else if(void 0===t){var a=this[0];return a?o.getRawStyle(a):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=!1,n=e.style(),o=this;if(void 0===t)for(var r=0;r<o.length;r++){var s=o[r];n.removeAllBypasses(s,i)}else{t=t.split(/\s+/);for(var a=0;a<o.length;a++){var l=o[a];n.removeBypasses(l,t,i)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),i=this[0];if(i){var n=i._private,o=i.pstyle("opacity").value;if(!e)return o;var r=n.data.parent?i.parents():null;if(r)for(var s=0;s<r.length;s++){var a=r[s],l=a.pstyle("opacity").value;o*=l}return o}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0],i=e.cy().hasCompoundNodes();return e?i?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];return!!e._private.backgrounding}};function Yr(t,e){var i=t._private,n=i.data.parent?t.parents():null;if(n)for(var o=0;o<n.length;o++){var r=n[o];if(!e(r))return!1}return!0}function Gr(t){var e=t.ok,i=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var o=this[0],r=t.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!r||Yr(o,n);var a=s.source,l=s.target;return i(a)&&(!r||Yr(a,i))&&(a===l||i(l)&&(!r||Yr(l,i)))}}}var Wr=zr("eleTakesUpSpace",function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())});Hr.takesUpSpace=jr("takesUpSpace",Gr({ok:Wr}));var Vr=zr("eleInteractive",function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&Wr(t)}),Ur=zr("parentInteractive",function(t){return"visible"===t.pstyle("visibility").value&&Wr(t)});Hr.interactive=jr("interactive",Gr({ok:Vr,parentOk:Ur,edgeOkViaNode:Wr})),Hr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var qr=zr("eleVisible",function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&Wr(t)}),Xr=Wr;Hr.visible=jr("visible",Gr({ok:qr,edgeOkViaNode:Xr})),Hr.hidden=function(){var t=this[0];if(t)return!t.visible()},Hr.isBundledBezier=jr("isBundledBezier",function(){return!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Hr.bypass=Hr.css=Hr.style,Hr.renderedCss=Hr.renderedStyle,Hr.removeBypass=Hr.removeCss=Hr.removeStyle,Hr.pstyle=Hr.parsedStyle;var Kr={};function Zr(t){return function(){var e=arguments,i=[];if(2===e.length){var n=e[0],o=e[1];this.on(t.event,n,o)}else if(1===e.length&&E(e[0])){var r=e[0];this.on(t.event,r)}else if(0===e.length||1===e.length&&k(e[0])){for(var s=1===e.length?e[0]:null,a=0;a<this.length;a++){var l=this[a],h=!t.ableField||l._private[t.ableField],d=l._private[t.field]!=t.value;if(t.overrideAble){var u=t.overrideAble(l);if(void 0!==u&&(h=u,!u))return this}h&&(l._private[t.field]=t.value,d&&i.push(l))}var c=this.spawn(i);c.updateStyle(),c.emit(t.event),s&&c.emit(s)}return this}}function $r(t){Kr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var i=t.overrideField(e);if(void 0!==i)return i}return e._private[t.field]}},Kr[t.on]=Zr({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Kr[t.off]=Zr({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}$r({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),$r({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),$r({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),$r({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Kr.deselect=Kr.unselect,Kr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},$r({field:"active",on:"activate",off:"unactivate"}),Kr.inactive=function(){var t=this[0];if(t)return!t._private.active};var Qr={},Jr=function(t){return function(e){for(var i=this,n=[],o=0;o<i.length;o++){var r=i[o];if(r.isNode()){for(var s=!1,a=r.connectedEdges(),l=0;l<a.length;l++){var h=a[l],d=h.source(),u=h.target();if(t.noIncomingEdges&&u===r&&d!==r||t.noOutgoingEdges&&d===r&&u!==r){s=!0;break}}s||n.push(r)}}return this.spawn(n,{unique:!0}).filter(e)}},ts=function(t){return function(e){for(var i=this,n=[],o=0;o<i.length;o++){var r=i[o];if(r.isNode())for(var s=r.connectedEdges(),a=0;a<s.length;a++){var l=s[a],h=l.source(),d=l.target();t.outgoing&&h===r?(n.push(l),n.push(d)):t.incoming&&d===r&&(n.push(l),n.push(h))}}return this.spawn(n,{unique:!0}).filter(e)}},es=function(t){return function(e){for(var i=this,n=[],o={};;){var r=t.outgoing?i.outgoers():i.incomers();if(0===r.length)break;for(var s=!1,a=0;a<r.length;a++){var l=r[a],h=l.id();o[h]||(o[h]=!0,n.push(l),s=!0)}if(!s)break;i=r}return this.spawn(n,{unique:!0}).filter(e)}};function is(t){return function(e){for(var i=[],n=0;n<this.length;n++){var o=this[n],r=o._private[t.attr];r&&i.push(r)}return this.spawn(i,{unique:!0}).filter(e)}}function ns(t){return function(e){var i=[],n=this._private.cy,o=t||{};_(e)&&(e=n.$(e));for(var r=0;r<e.length;r++)for(var s=e[r]._private.edges,a=0;a<s.length;a++){var l=s[a],h=l._private.data,d=this.hasElementWithId(h.source)&&e.hasElementWithId(h.target),u=e.hasElementWithId(h.source)&&this.hasElementWithId(h.target),c=d||u;if(c){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!d)continue;if(o.thisIsTgt&&!u)continue}i.push(l)}}return this.spawn(i,{unique:!0})}}function os(t){var e={codirected:!1};return t=et({},e,t),function(e){for(var i=[],n=this.edges(),o=t,r=0;r<n.length;r++)for(var s=n[r],a=s._private,l=a.source,h=l._private.data.id,d=a.data.target,u=l._private.edges,c=0;c<u.length;c++){var p=u[c],f=p._private.data,g=f.target,v=f.source,m=g===d&&v===h,y=h===g&&d===v;(o.codirected&&m||!o.codirected&&(m||y))&&i.push(p)}return this.spawn(i,{unique:!0}).filter(e)}}Qr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},et(Qr,{roots:Jr({noIncomingEdges:!0}),leaves:Jr({noOutgoingEdges:!0}),outgoers:Eo(ts({outgoing:!0}),"outgoers"),successors:es({outgoing:!0}),incomers:Eo(ts({incoming:!0}),"incomers"),predecessors:es({incoming:!0})}),et(Qr,{neighborhood:Eo(function(t){for(var e=[],i=this.nodes(),n=0;n<i.length;n++)for(var o=i[n],r=o.connectedEdges(),s=0;s<r.length;s++){var a=r[s],l=a.source(),h=a.target(),d=o===l?h:l;d.length>0&&e.push(d[0]),e.push(a[0])}return this.spawn(e,{unique:!0}).filter(t)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Qr.neighbourhood=Qr.neighborhood,Qr.closedNeighbourhood=Qr.closedNeighborhood,Qr.openNeighbourhood=Qr.openNeighborhood,et(Qr,{source:Eo(function(t){var e,i=this[0];return i&&(e=i._private.source||i.cy().collection()),e&&t?e.filter(t):e},"source"),target:Eo(function(t){var e,i=this[0];return i&&(e=i._private.target||i.cy().collection()),e&&t?e.filter(t):e},"target"),sources:is({attr:"source"}),targets:is({attr:"target"})}),et(Qr,{edgesWith:Eo(ns(),"edgesWith"),edgesTo:Eo(ns({thisIsSrc:!0}),"edgesTo")}),et(Qr,{connectedEdges:Eo(function(t){for(var e=[],i=this,n=0;n<i.length;n++){var o=i[n];if(o.isNode())for(var r=o._private.edges,s=0;s<r.length;s++){var a=r[s];e.push(a)}}return this.spawn(e,{unique:!0}).filter(t)},"connectedEdges"),connectedNodes:Eo(function(t){for(var e=[],i=this,n=0;n<i.length;n++){var o=i[n];o.isEdge()&&(e.push(o.source()[0]),e.push(o.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)},"connectedNodes"),parallelEdges:Eo(os(),"parallelEdges"),codirectedEdges:Eo(os({codirected:!0}),"codirectedEdges")}),et(Qr,{components:function(t){var e=this,i=e.cy(),n=i.collection(),o=null==t?e.nodes():t.nodes(),r=[];null!=t&&o.empty()&&(o=t.sources());var s=function(t,e){n.merge(t),o.unmerge(t),e.merge(t)};if(o.empty())return e.spawn();var a=function(){var t=i.collection();r.push(t);var n=o[0];s(n,t),e.bfs({directed:!1,roots:n,visit:function(e){return s(e,t)}}),t.forEach(function(e){e.connectedEdges().forEach(function(e){t.has(e.source())&&t.has(e.target())&&t.merge(e)})})};do{a()}while(o.length>0);return r},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Qr.componentsOf=Qr.components;var rs={generate:function(t,e,i){var n=null!=i?i:Lt();while(t.hasElementWithId(n))n=Lt();return n}},ss=function(t,e,i){if(void 0!==t&&P(t)){var n=new Vt,o=!1;if(e){if(e.length>0&&T(e[0])&&!N(e[0])){o=!0;for(var r=[],s=new Xt,a=0,l=e.length;a<l;a++){var h=e[a];null==h.data&&(h.data={});var d=h.data;if(null==d.id)d.id=rs.generate(t,h);else if(t.hasElementWithId(d.id)||s.has(d.id))continue;var u=new Kt(t,h,!1);r.push(u),s.add(d.id)}e=r}}else e=[];this.length=0;for(var c=0,p=e.length;c<p;c++){var f=e[c];if(null!=f){var g=f._private.data.id;(null==i||i.unique&&!n.has(g))&&(n.set(g,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={cy:t,map:n},o&&this.restore()}else Mt("A collection must have a reference to the core")},as=Kt.prototype=ss.prototype;as.instanceString=function(){return"collection"},as.spawn=function(t,e,i){return P(t)||(i=e,e=t,t=this.cy()),new ss(t,e,i)},as.spawnSelf=function(){return this.spawn(this)},as.cy=function(){return this._private.cy},as.renderer=function(){return this._private.cy.renderer()},as.element=function(){return this[0]},as.collection=function(){return A(this)?this:new ss(this._private.cy,[this])},as.unique=function(){return new ss(this._private.cy,this,{unique:!0})},as.hasElementWithId=function(t){return this._private.map.has(t)},as.getElementById=function(t){var e=this._private.cy,i=this._private.map.get(t);return i?i.ele:new ss(e)},as.$id=as.getElementById,as.poolIndex=function(){var t=this._private.cy,e=t._private.elements,i=this[0]._private.data.id;return e._private.map.get(i).index},as.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},as.indexOfId=function(t){return this._private.map.get(t).index},as.json=function(t){var e=this.element(),i=this.cy();if(null==e&&t)return this;if(null!=e){var n=e._private;if(T(t)){if(i.startBatch(),t.data){e.data(t.data);var o=n.data;if(e.isEdge()){var r=!1,s={},a=t.data.source,l=t.data.target;null!=a&&a!==o.source&&(s.source=a,r=!0),null!=l&&l!==o.target&&(s.target=l,r=!0),r&&(e=e.move(s))}else{var h=t.data.parent;null==h&&null==o.parent||h===o.parent||(void 0===h&&(h=null),e=e.move({parent:h}))}}t.position&&e.position(t.position);var d=function(i,o,r){var s=t[i];null!=s&&s!==n[i]&&(s?e[o]():e[r]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),null!=t.classes&&e.classes(t.classes),i.endBatch(),this}if(void 0===t){var u={data:Pt(n.data),position:Pt(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,classes:null};u.classes="";var c=0;return n.classes.forEach(function(t){return u.classes+=0===c++?t:" "+t}),u}}},as.jsons=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e],n=i.json();t.push(n)}return t},as.clone=function(){for(var t=this.cy(),e=[],i=0;i<this.length;i++){var n=this[i],o=n.json(),r=new Kt(t,o,!1);e.push(r)}return new ss(t,e)},as.copy=as.clone,as.restore=function(){for(var t,e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,r=o.cy(),s=r._private,a=[],l=[],h=0,d=o.length;h<d;h++){var u=o[h];n&&!u.removed()||(u.isNode()?a.push(u):l.push(u))}t=a.concat(l);var c=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var p=t[e],f=p._private,g=f.data;if(p.clearTraversalCache(),n||f.removed)if(void 0===g.id)g.id=rs.generate(r,p);else if(C(g.id))g.id=""+g.id;else{if(R(g.id)||!_(g.id)){Mt("Can not create element with invalid string ID `"+g.id+"`"),c();continue}if(r.hasElementWithId(g.id)){Mt("Can not create second element with ID `"+g.id+"`"),c();continue}}else;var v=g.id;if(p.isNode()){var m=f.position;null==m.x&&(m.x=0),null==m.y&&(m.y=0)}if(p.isEdge()){for(var y=p,b=["source","target"],w=b.length,x=!1,E=0;E<w;E++){var k=b[E],T=g[k];C(T)&&(T=g[k]=""+g[k]),null==T||""===T?(Mt("Can not create edge `"+v+"` with unspecified "+k),x=!0):r.hasElementWithId(T)||(Mt("Can not create edge `"+v+"` with nonexistant "+k+" `"+T+"`"),x=!0)}if(x){c();continue}var D=r.getElementById(g.source),S=r.getElementById(g.target);D._private.edges.push(y),S._private.edges.push(y),y._private.source=D,y._private.target=S}f.map=new Vt,f.map.set(v,{ele:p,index:0}),f.removed=!1,n&&r.addToPool(p)}for(var M=0;M<a.length;M++){var O=a[M],N=O._private.data;C(N.parent)&&(N.parent=""+N.parent);var A=N.parent,P=null!=A;if(P){var I=r.getElementById(A);if(I.empty())N.parent=void 0;else{var L=!1,B=I;while(!B.empty()){if(O.same(B)){L=!0,N.parent=void 0;break}B=B.parent()}L||(I[0]._private.children.push(O),O._private.parent=I[0],s.hasCompoundNodes=!0)}}}if(t.length>0){for(var F,z=new ss(r,t),j=0;j<z.length;j++){var H=z[j];H.isNode()||(H.parallelEdges().clearTraversalCache(),H.source().clearTraversalCache(),H.target().clearTraversalCache())}F=s.hasCompoundNodes?r.collection().merge(z).merge(z.connectedNodes()).merge(z.parent()):z,F.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(i),i?z.emitAndNotify("add"):n&&z.emit("add")}return o},as.removed=function(){var t=this[0];return t&&t._private.removed},as.inside=function(){var t=this[0];return t&&!t._private.removed},as.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,n=[],o={},r=i._private.cy;function s(t){for(var e=t._private.edges,i=0;i<e.length;i++)l(e[i])}function a(t){for(var e=t._private.children,i=0;i<e.length;i++)l(e[i])}function l(t){var i=o[t.id()];e&&t.removed()||i||(o[t.id()]=!0,t.isNode()?(n.push(t),s(t),a(t)):n.unshift(t))}for(var h=0,d=i.length;h<d;h++){var u=i[h];l(u)}function c(t,e){var i=t._private.edges;zt(i,e),t.clearTraversalCache()}function p(t){t.clearTraversalCache()}var f=[];function g(t,e){e=e[0],t=t[0];var i=t._private.children,n=t.id();zt(i,e),e._private.parent=null,f.ids[n]||(f.ids[n]=!0,f.push(t))}f.ids={},i.dirtyCompoundBoundsCache(),e&&r.removeFromPool(n);for(var v=0;v<n.length;v++){var m=n[v];if(m.isEdge()){var y=m.source()[0],b=m.target()[0];c(y,m),c(b,m);for(var w=m.parallelEdges(),x=0;x<w.length;x++){var _=w[x];p(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var E=m.parent();0!==E.length&&g(E,m)}e&&(m._private.removed=!0)}var k=r._private.elements;r._private.hasCompoundNodes=!1;for(var T=0;T<k.length;T++){var D=k[T];if(D.isParent()){r._private.hasCompoundNodes=!0;break}}var C=new ss(this.cy(),n);C.size()>0&&(t?C.emitAndNotify("remove"):e&&C.emit("remove"));for(var S=0;S<f.length;S++){var M=f[S];e&&M.removed()||M.updateStyle()}return C},as.move=function(t){var e=this._private.cy,i=this,n=!1,o=!1;if(void 0!==t.source||void 0!==t.target){var r=t.source,s=t.target,a=null!=r&&e.hasElementWithId(r),l=null!=s&&e.hasElementWithId(s);(a||l)&&(e.batch(function(){i.remove(n,o),i.emitAndNotify("moveout");for(var t=0;t<i.length;t++){var e=i[t],h=e._private.data;e.isEdge()&&(a&&(h.source=r),l&&(h.target=s))}i.restore(n,o)}),i.emitAndNotify("move"))}else if(void 0!==t.parent){var h=t.parent,d=null===h||e.hasElementWithId(h);if(d){var u=null===h?void 0:h;e.batch(function(){var t=i.remove(n,o);t.emitAndNotify("moveout");for(var e=0;e<i.length;e++){var r=i[e],s=r._private.data;r.isNode()&&(s.parent=u)}t.restore(n,o)}),i.emitAndNotify("move")}}return this},[Cn,Wn,Vn,wo,ko,No,Ao,gr,Or,Nr,Pr,Lr,Br,Hr,Kr,Qr].forEach(function(t){et(as,t)});var ls={add:function(t){var e,i=this;if(O(t)){var n=t;if(n._private.cy===i)e=n.restore();else{for(var o=[],r=0;r<n.length;r++){var s=n[r];o.push(s.json())}e=new ss(i,o)}}else if(k(t)){var a=t;e=new ss(i,a)}else if(T(t)&&(k(t.nodes)||k(t.edges))){for(var l=t,h=[],d=["nodes","edges"],u=0,c=d.length;u<c;u++){var p=d[u],f=l[p];if(k(f))for(var g=0,v=f.length;g<v;g++){var m=et({group:p},f[g]);h.push(m)}}e=new ss(i,h)}else{var y=t;e=new Kt(i,y).collection()}return e},remove:function(t){if(O(t));else if(_(t)){var e=t;t=this.$(e)}return t.remove()}};
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function hs(t,e,i,n){var o=4,r=.001,s=1e-7,a=10,l=11,h=1/(l-1),d="undefined"!==typeof Float32Array;if(4!==arguments.length)return!1;for(var u=0;u<4;++u)if("number"!==typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0);var c=d?new Float32Array(l):new Array(l);function p(t,e){return 1-3*e+3*t}function f(t,e){return 3*e-6*t}function g(t){return 3*t}function v(t,e,i){return((p(e,i)*t+f(e,i))*t+g(e))*t}function m(t,e,i){return 3*p(e,i)*t*t+2*f(e,i)*t+g(e)}function y(e,n){for(var r=0;r<o;++r){var s=m(n,t,i);if(0===s)return n;var a=v(n,t,i)-e;n-=a/s}return n}function b(){for(var e=0;e<l;++e)c[e]=v(e*h,t,i)}function w(e,n,o){var r,l,h=0;do{l=n+(o-n)/2,r=v(l,t,i)-e,r>0?o=l:n=l}while(Math.abs(r)>s&&++h<a);return l}function x(e){for(var n=0,o=1,s=l-1;o!==s&&c[o]<=e;++o)n+=h;--o;var a=(e-c[o])/(c[o+1]-c[o]),d=n+a*h,u=m(d,t,i);return u>=r?y(e,d):0===u?d:w(e,n,n+h)}var _=!1;function E(){_=!0,t===e&&i===n||b()}var k=function(o){return _||E(),t===e&&i===n?o:0===o?0:1===o?1:v(x(o),e,n)};k.getControlPoints=function(){return[{x:t,y:e},{x:i,y:n}]};var T="generateBezier("+[t,e,i,n]+")";return k.toString=function(){return T},k}
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var ds=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var o={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function i(i,n){var o={dx:i.v,dv:t(i)},r=e(i,.5*n,o),s=e(i,.5*n,r),a=e(i,n,s),l=1/6*(o.dx+2*(r.dx+s.dx)+a.dx),h=1/6*(o.dv+2*(r.dv+s.dv)+a.dv);return i.x=i.x+l*n,i.v=i.v+h*n,i}return function t(e,n,o){var r,s,a,l={x:-1,v:0,tension:null,friction:null},h=[0],d=0,u=1e-4,c=.016;for(e=parseFloat(e)||500,n=parseFloat(n)||20,o=o||null,l.tension=e,l.friction=n,r=null!==o,r?(d=t(e,n),s=d/o*c):s=c;;)if(a=i(a||l,s),h.push(1+a.x),d+=16,!(Math.abs(a.x)>u&&Math.abs(a.v)>u))break;return r?function(t){return h[t*(h.length-1)|0]}:d}}(),us=function(t,e,i,n){var o=hs(t,e,i,n);return function(t,e,i){return t+(e-t)*o(i)}},cs={linear:function(t,e,i){return t+(e-t)*i},ease:us(.25,.1,.25,1),"ease-in":us(.42,0,1,1),"ease-out":us(0,0,.58,1),"ease-in-out":us(.42,0,.58,1),"ease-in-sine":us(.47,0,.745,.715),"ease-out-sine":us(.39,.575,.565,1),"ease-in-out-sine":us(.445,.05,.55,.95),"ease-in-quad":us(.55,.085,.68,.53),"ease-out-quad":us(.25,.46,.45,.94),"ease-in-out-quad":us(.455,.03,.515,.955),"ease-in-cubic":us(.55,.055,.675,.19),"ease-out-cubic":us(.215,.61,.355,1),"ease-in-out-cubic":us(.645,.045,.355,1),"ease-in-quart":us(.895,.03,.685,.22),"ease-out-quart":us(.165,.84,.44,1),"ease-in-out-quart":us(.77,0,.175,1),"ease-in-quint":us(.755,.05,.855,.06),"ease-out-quint":us(.23,1,.32,1),"ease-in-out-quint":us(.86,0,.07,1),"ease-in-expo":us(.95,.05,.795,.035),"ease-out-expo":us(.19,1,.22,1),"ease-in-out-expo":us(1,0,0,1),"ease-in-circ":us(.6,.04,.98,.335),"ease-out-circ":us(.075,.82,.165,1),"ease-in-out-circ":us(.785,.135,.15,.86),spring:function(t,e,i){if(0===i)return cs.linear;var n=ds(t,e,i);return function(t,e,i){return t+(e-t)*n(i)}},"cubic-bezier":us};function ps(t,e,i,n,o){if(1===n)return i;var r=o(e,i,n);return null==t?r:((t.roundValue||t.color)&&(r=Math.round(r)),void 0!==t.min&&(r=Math.max(r,t.min)),void 0!==t.max&&(r=Math.min(r,t.max)),r)}function fs(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function gs(t,e,i,n,o){var r=null!=o?o.type:null;i<0?i=0:i>1&&(i=1);var s=fs(t,o),a=fs(e,o);if(C(s)&&C(a))return ps(r,s,a,i,n);if(k(s)&&k(a)){for(var l=[],h=0;h<a.length;h++){var d=s[h],u=a[h];if(null!=d&&null!=u){var c=ps(r,d,u,i,n);l.push(c)}else l.push(u)}return l}}function vs(t,e,i,n){var o=!n,r=t._private,s=e._private,a=s.easing,l=s.startTime,h=n?t:t.cy(),d=h.style();if(!s.easingImpl)if(null==a)s.easingImpl=cs["linear"];else{var u,c,p;if(_(a)){var f=d.parse("transition-timing-function",a);u=f.value}else u=a;_(u)?(c=u,p=[]):(c=u[1],p=u.slice(2).map(function(t){return+t})),p.length>0?("spring"===c&&p.push(s.duration),s.easingImpl=cs[c].apply(null,p)):s.easingImpl=cs[c]}var g,v=s.easingImpl;if(g=0===s.duration?1:(i-l)/s.duration,s.applying&&(g=s.progress),g<0?g=0:g>1&&(g=1),null==s.delay){var m=s.startPosition,y=s.position;if(y&&o&&!t.locked()){var b={};ms(m.x,y.x)&&(b.x=gs(m.x,y.x,g,v)),ms(m.y,y.y)&&(b.y=gs(m.y,y.y,g,v)),t.position(b)}var w=s.startPan,x=s.pan,E=r.pan,k=null!=x&&n;k&&(ms(w.x,x.x)&&(E.x=gs(w.x,x.x,g,v)),ms(w.y,x.y)&&(E.y=gs(w.y,x.y,g,v)),t.emit("pan"));var T=s.startZoom,D=s.zoom,C=null!=D&&n;C&&(ms(T,D)&&(r.zoom=gs(T,D,g,v)),t.emit("zoom")),(k||C)&&t.emit("viewport");var S=s.style;if(S&&S.length>0&&o){for(var M=0;M<S.length;M++){var O=S[M],N=O.name,A=O,P=s.startStyle[N],I=d.properties[P.name],L=gs(P,A,g,v,I);d.overrideBypass(t,N,L)}t.emit("style")}}return s.progress=g,g}function ms(t,e){return null!=t&&null!=e&&(!(!C(t)||!C(e))||!(!t||!e))}function ys(t,e,i,n){var o=e._private;o.started=!0,o.startTime=i-o.progress*o.duration}function bs(t,e){var i=e._private.aniEles,n=[];function o(e,i){var o=e._private,r=o.animation.current,s=o.animation.queue,a=!1;if(!i&&"none"===e.pstyle("display").value){r=r.splice(0,r.length).concat(s.splice(0,s.length));for(var l=0;l<r.length;l++)r[l].stop()}if(0===r.length){var h=s.shift();h&&r.push(h)}for(var d=function(t){for(var e=t.length-1;e>=0;e--){var i=t[e];i()}t.splice(0,t.length)},u=r.length-1;u>=0;u--){var c=r[u],p=c._private;p.stopped?(r.splice(u,1),p.hooked=!1,p.playing=!1,p.started=!1,d(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||ys(e,c,t,i),vs(e,c,t,i),p.applying&&(p.applying=!1),d(p.frames),null!=p.step&&p.step(t),c.completed()&&(r.splice(u,1),p.hooked=!1,p.playing=!1,p.started=!1,d(p.completes)),a=!0)}return i||0!==r.length||0!==s.length||n.push(e),a}for(var r=!1,s=0;s<i.length;s++){var a=i[s],l=o(a);r=r||l}var h=o(e,!0);(r||h)&&(i.length>0?e.notify("draw",i):e.notify("draw")),i.unmerge(n),e.emit("step")}var ws={animate:Gn.animate(),animation:Gn.animation(),animated:Gn.animated(),clearQueue:Gn.clearQueue(),delay:Gn.delay(),delayAnimation:Gn.delayAnimation(),stop:Gn.stop(),addToAnimationPool:function(t){var e=this;e.styleEnabled()&&e._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender(function(e,i){bs(i,t)},e.beforeRenderPriorities.animations):i()}function i(){t._private.animationsRunning&&pt(function(e){bs(e,t),i()})}}},xs={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return null==n||t!==i.target&&N(i.target)&&n.matches(i.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,i){return null!=e.qualifier?i.target:t}},_s=function(t){return _(t)?new yo(t):t},Es={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Er(xs,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,i){return this.emitter().on(t,_s(e),i),this},removeListener:function(t,e,i){return this.emitter().removeListener(t,_s(e),i),this},one:function(t,e,i){return this.emitter().one(t,_s(e),i),this},once:function(t,e,i){return this.emitter().one(t,_s(e),i),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Gn.eventAliasesOn(Es);var ks={png:function(t){var e=this._private.renderer;return t=t||{},e.png(t)},jpg:function(t){var e=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",e.jpg(t)}};ks.jpeg=ks.jpg;var Ts={layout:function(t){var e=this;if(null!=t)if(null!=t.name){var i=t.name,n=e.extension("layout",i);if(null!=n){var o;o=_(t.eles)?e.$(t.eles):null!=t.eles?t.eles:e.$();var r=new n(et({},t,{cy:e,eles:o}));return r}Mt("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Mt("A `name` must be specified to make a layout");else Mt("Layout options must be specified to make a layout")}};Ts.createLayout=Ts.makeLayout=Ts.layout;var Ds={notify:function(t,e){var i=this._private;if(this.batching()){i.batchNotifications=i.batchNotifications||{};var n=i.batchNotifications[t]=i.batchNotifications[t]||this.collection();null!=e&&n.merge(e)}else if(i.notificationsEnabled){var o=this.renderer();!this.isDestroyed()&&o&&o.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(i){var n=t.batchNotifications[i];n.empty()?e.notify(i):e.notify(i,n)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var i=Object.keys(t),n=0;n<i.length;n++){var o=i[n],r=t[o],s=e.getElementById(o);s.data(r)}})}},Cs=Ft({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ss={renderTo:function(t,e,i,n){var o=this._private.renderer;return o.renderTo(t,e,i,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this,i=e.extension("renderer",t.name);if(null!=i){void 0!==t.wheelSensitivity&&Nt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=Cs(t);n.cy=e,e._private.renderer=new i(n),this.notify("init")}else Mt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var t=this;t.notify("destroy");var e=t.container();if(e){e._cyreg=null;while(e.childNodes.length>0)e.removeChild(e.childNodes[0])}t._private.renderer=null,t.mutableElements().forEach(function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};Ss.invalidateDimensions=Ss.resize;var Ms={collection:function(t,e){return _(t)?this.$(t):O(t)?t.collection():k(t)?new ss(this,t,e):new ss(this)},nodes:function(t){var e=this.$(function(t){return t.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(t){return t.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};Ms.elements=Ms.filter=Ms.$;var Os={},Ns="t",As="f";Os.apply=function(t){var e=this,i=e._private,n=i.cy,o=n.collection();i.newStyle&&(i.contextStyles={},i.propDiffs={},e.cleanElements(t,!0));for(var r=0;r<t.length;r++){var s=t[r],a=e.getContextMeta(s);if(!a.empty){var l=e.getContextStyle(a),h=e.applyContextStyle(a,l,s);i.newStyle||e.updateTransitions(s,h.diffProps);var d=e.updateStyleHints(s);d&&o.merge(s)}}return i.newStyle=!1,o},Os.getPropertiesDiff=function(t,e){var i=this,n=i._private.propDiffs=i._private.propDiffs||{},o=t+"-"+e,r=n[o];if(r)return r;for(var s=[],a={},l=0;l<i.length;l++){var h=i[l],d=t[l]===Ns,u=e[l]===Ns,c=d!==u,p=h.mappedProperties.length>0;if(c||u&&p){var f=void 0;c&&p?f=h.properties:c?f=h.properties:p&&(f=h.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],m=v.name,y=!1,b=l+1;b<i.length;b++){var w=i[b],x=e[b]===Ns;if(x&&(y=null!=w.properties[v.name],y))break}a[m]||y||(a[m]=!0,s.push(m))}}}return n[o]=s,s},Os.getContextMeta=function(t){var e,i=this,n="",o=t._private.styleCxtKey||"";i._private.newStyle&&(o="");for(var r=0;r<i.length;r++){var s=i[r],a=s.selector&&s.selector.matches(t);n+=a?Ns:As}return e=i.getPropertiesDiff(o,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},Os.getContextStyle=function(t){var e=t.key,i=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var o={_private:{key:e}},r=0;r<i.length;r++){var s=i[r],a=e[r]===Ns;if(a)for(var l=0;l<s.properties.length;l++){var h=s.properties[l];o[h.name]=h}}return n[e]=o,o},Os.applyContextStyle=function(t,e,i){for(var n=this,o=t.diffPropNames,r={},s=n.types,a=0;a<o.length;a++){var l=o[a],h=e[l],d=i.pstyle(l);if(!h){if(!d)continue;h=d.bypass?{name:l,deleteBypassed:!0}:{name:l,delete:!0}}if(d!==h){if(h.mapped===s.fn&&null!=d.mapping&&d.mapping.value===h.value){var u=d.mapping,c=u.fnValue=h.value(i);if(c===u.prevFnValue)continue}var p=r[l]={prev:d};n.applyParsedProperty(i,h),p.next=i.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:r}},Os.updateStyleHints=function(t){var e=t._private,i=this,n=i.propertyGroupNames,o=i.propertyGroupKeys,r=function(t,e,n){return i.getPropertiesHash(t,e,n)},s=e.styleKey;if(t.removed())return!1;var a="nodes"===e.group,l=t._private.style;n=Object.keys(l);for(var h=0;h<o.length;h++){var d=o[h];e.styleKeys[d]=0}for(var u=function(t,i){return e.styleKeys[i]=vt(t,e.styleKeys[i])},c=function(t){return-128<t&&t<128&&Math.floor(t)!==t?-(1024*t|0):t},p=0;p<n.length;p++){var f=n[p],g=l[f];if(null!=g){var v=this.properties[f],m=v.type,y=v.groupKey;if(m.number){var b=null!=g.pfValue?g.pfValue:g.value;if(m.multiple)for(var w=0;w<b.length;w++)u(c(b[w]),y);else u(c(b),y)}else for(var x=g.strValue,_=0;_<x.length;_++)u(x.charCodeAt(_),y)}}for(var E=0,k=0;k<o.length;k++){var T=o[k],D=e.styleKeys[T];E=vt(D,E)}e.styleKey=E;var C=e.labelDimsKey=e.styleKeys.labelDimensions;if(e.labelKey=r(t,["label"],C),e.labelStyleKey=vt(e.styleKeys.commonLabel,e.labelKey),a||(e.sourceLabelKey=r(t,["source-label"],C),e.sourceLabelStyleKey=vt(e.styleKeys.commonLabel,e.sourceLabelKey),e.targetLabelKey=r(t,["target-label"],C),e.targetLabelStyleKey=vt(e.styleKeys.commonLabel,e.targetLabelKey)),a){var S=e.styleKeys,M=S.nodeBody,O=S.nodeBorder,N=S.backgroundImage,A=S.compound,P=S.pie;e.nodeKey=mt([O,N,A,P],M),e.hasPie=0!=P}return s!==e.styleKey},Os.clearStyleHints=function(t){var e=t._private;e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},Os.applyParsedProperty=function(t,e){var i,n=this,o=e,r=t._private.style,s=n.types,a=n.properties[o.name].type,l=o.bypass,h=r[o.name],d=h&&h.bypass,u=t._private,c="mapping",p=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},f=function(){var e=p(h),i=p(o);n.checkTriggers(t,o.name,e,i)};if("curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(o=e=this.parse(e.name,"bezier",l)),o.delete)return r[o.name]=void 0,f(),!0;if(o.deleteBypassed)return h?!!h.bypass&&(h.bypassed=void 0,f(),!0):(f(),!0);if(o.deleteBypass)return h?!!h.bypass&&(r[o.name]=h.bypassed,f(),!0):(f(),!0);var g=function(){Nt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case s.mapData:for(var v,m=o.field.split("."),y=u.data,b=0;b<m.length&&y;b++){var w=m[b];y=y[w]}if(null==y)return g(),!1;if(!C(y))return Nt("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var x=o.fieldMax-o.fieldMin;if(v=0===x?0:(y-o.fieldMin)/x,v<0?v=0:v>1&&(v=1),a.color){var _=o.valueMin[0],E=o.valueMax[0],k=o.valueMin[1],T=o.valueMax[1],D=o.valueMin[2],S=o.valueMax[2],M=null==o.valueMin[3]?1:o.valueMin[3],O=null==o.valueMax[3]?1:o.valueMax[3],N=[Math.round(_+(E-_)*v),Math.round(k+(T-k)*v),Math.round(D+(S-D)*v),Math.round(M+(O-M)*v)];i={bypass:o.bypass,name:o.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!a.number)return!1;var A=o.valueMin+(o.valueMax-o.valueMin)*v;i=this.parse(o.name,A,o.bypass,c)}if(!i)return g(),!1;i.mapping=o,o=i;break;case s.data:for(var P=o.field.split("."),I=u.data,L=0;L<P.length&&I;L++){var R=P[L];I=I[R]}if(null!=I&&(i=this.parse(o.name,I,o.bypass,c)),!i)return g(),!1;i.mapping=o,o=i;break;case s.fn:var B=o.value,F=null!=o.fnValue?o.fnValue:B(t);if(o.prevFnValue=F,null==F)return Nt("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(o.name,F,o.bypass,c),!i)return Nt("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Pt(o),o=i;break;case void 0:break;default:return!1}return l?(o.bypassed=d?h.bypassed:h,r[o.name]=o):d?h.bypassed=o:r[o.name]=o,f(),!0},Os.cleanElements=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),e)for(var o=n._private.style,r=Object.keys(o),s=0;s<r.length;s++){var a=r[s],l=o[a];null!=l&&(l.bypass?l.bypassed=null:o[a]=null)}else n._private.style={}}},Os.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()},Os.updateTransitions=function(t,e){var i=this,n=t._private,o=t.pstyle("transition-property").value,r=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(o.length>0&&r>0){for(var a={},l=!1,h=0;h<o.length;h++){var d=o[h],u=t.pstyle(d),c=e[d];if(c){var p=c.prev,f=p,g=null!=c.next?c.next:u,v=!1,m=void 0,y=1e-6;f&&(C(f.pfValue)&&C(g.pfValue)?(v=g.pfValue-f.pfValue,m=f.pfValue+y*v):C(f.value)&&C(g.value)?(v=g.value-f.value,m=f.value+y*v):k(f.value)&&k(g.value)&&(v=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],m=f.strValue),v&&(a[d]=g.strValue,this.applyBypass(t,d,m),l=!0))}}if(!l)return;n.transitioning=!0,new Bn(function(e){s>0?t.delayAnimation(s).play().promise().then(e):e()}).then(function(){return t.animation({style:a,duration:r,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){i.removeBypasses(t,o),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,o),t.emitAndNotify("style"),n.transitioning=!1)},Os.checkTrigger=function(t,e,i,n,o,r){var s=this.properties[e],a=o(s);null!=a&&a(i,n)&&r(s)},Os.checkZOrderTrigger=function(t,e,i,n){var o=this;this.checkTrigger(t,e,i,n,function(t){return t.triggersZOrder},function(){o._private.cy.notify("zorder",t)})},Os.checkBoundsTrigger=function(t,e,i,n){this.checkTrigger(t,e,i,n,function(t){return t.triggersBounds},function(o){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"bezier"!==t.pstyle("curve-style").value&&("curve-style"!==e||"bezier"!==i&&"bezier"!==n)||!o.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach(function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()})})},Os.checkTriggers=function(t,e,i,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,i,n),this.checkBoundsTrigger(t,e,i,n)};var Ps={applyBypass:function(t,e,i,n){var o=this,r=[],s=!0;if("*"===e||"**"===e){if(void 0!==i)for(var a=0;a<o.properties.length;a++){var l=o.properties[a],h=l.name,d=this.parse(h,i,!0);d&&r.push(d)}}else if(_(e)){var u=this.parse(e,i,!0);u&&r.push(u)}else{if(!T(e))return!1;var c=e;n=i;for(var p=Object.keys(c),f=0;f<p.length;f++){var g=p[f],v=c[g];if(void 0===v&&(v=c[G(g)]),void 0!==v){var m=this.parse(g,v,!0);m&&r.push(m)}}}if(0===r.length)return!1;for(var y=!1,b=0;b<t.length;b++){for(var w=t[b],x={},E=void 0,k=0;k<r.length;k++){var D=r[k];if(n){var C=w.pstyle(D.name);E=x[D.name]={prev:C}}y=this.applyParsedProperty(w,D)||y,n&&(E.next=w.pstyle(D.name))}y&&this.updateStyleHints(w),n&&this.updateTransitions(w,x,s)}return y},overrideBypass:function(t,e,i){e=Y(e);for(var n=0;n<t.length;n++){var o=t[n],r=o._private.style[e],s=this.properties[e].type,a=s.color,l=s.mutiple,h=r?null!=r.pfValue?r.pfValue:r.value:null;r&&r.bypass?(r.value=i,null!=r.pfValue&&(r.pfValue=i),r.strValue=a?"rgb("+i.join(",")+")":l?i.join(" "):""+i,this.updateStyleHints(o)):this.applyBypass(o,e,i),this.checkTriggers(o,e,h,i)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,i){for(var n=!0,o=0;o<t.length;o++){for(var r=t[o],s={},a=0;a<e.length;a++){var l=e[a],h=this.properties[l],d=r.pstyle(h.name);if(d&&d.bypass){var u="",c=this.parse(l,u,!0),p=s[h.name]={prev:d};this.applyParsedProperty(r,c),p.next=r.pstyle(h.name)}}this.updateStyleHints(r),i&&this.updateTransitions(r,s,n)}}},Is={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy,i=e.container();if(g&&i&&g.getComputedStyle)return g.getComputedStyle(i).getPropertyValue(t)}},Ls={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){var i=this;if(t=t[0],t){for(var n={},o=0;o<i.properties.length;o++){var r=i.properties[o],s=i.getStylePropertyValue(t,r.name,e);null!=s&&(n[r.name]=s,n[G(r.name)]=s)}return n}},getIndexedStyle:function(t,e,i,n){var o=t.pstyle(e)[i][n];return null!=o?o:t.cy().style().getDefaultProperty(e)[i][0]},getStylePropertyValue:function(t,e,i){var n=this;if(t=t[0],t){var o=n.properties[e];o.alias&&(o=o.pointsTo);var r=o.type,s=t.pstyle(o.name);if(s){var a=s.value,l=s.units,h=s.strValue;if(i&&r.number&&null!=a&&C(a)){var d=t.cy().zoom(),u=function(t){return t*d},c=function(t,e){return u(t)+e},p=k(a),f=p?l.every(function(t){return null!=t}):null!=l;return f?p?a.map(function(t,e){return c(t,l[e])}).join(" "):c(a,l):p?a.map(function(t){return _(t)?t:""+u(t)}).join(" "):""+u(a)}if(null!=h)return h}return null}},getAnimationStartStyle:function(t,e){for(var i={},n=0;n<e.length;n++){var o=e[n],r=o.name,s=t.pstyle(r);void 0!==s&&(s=T(s)?this.parse(r,s.strValue):this.parse(r,s)),s&&(i[r]=s)}return i},getPropsList:function(t){var e=this,i=[],n=t,o=e.properties;if(n)for(var r=Object.keys(n),s=0;s<r.length;s++){var a=r[s],l=n[a],h=o[a]||o[Y(a)],d=this.parse(h.name,l);d&&i.push(d)}return i},getNonDefaultPropertiesHash:function(t,e,i){var n,o,r,s,a,l,h=i;for(a=0;a<e.length;a++)if(n=e[a],o=t.pstyle(n,!1),null!=o)if(null!=o.pfValue)h=vt(s,h);else for(r=o.strValue,l=0;l<r.length;l++)s=r.charCodeAt(l),h=vt(s,h);return h}};Ls.getPropertiesHash=Ls.getNonDefaultPropertiesHash;var Rs={appendFromJson:function(t){for(var e=this,i=0;i<t.length;i++){var n=t[i],o=n.selector,r=n.style||n.css,s=Object.keys(r);e.selector(o);for(var a=0;a<s.length;a++){var l=s[a],h=r[l];e.css(l,h)}}return e},fromJson:function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var i=this[e],n=i.selector,o=i.properties,r={},s=0;s<o.length;s++){var a=o[s];r[a.name]=a.strValue}t.push({selector:n?n.toString():"core",style:r})}return t}},Bs={appendFromString:function(t){var e,i,n,o=this,r=this,s=""+t;function a(){s=s.length>e.length?s.substr(e.length):""}function l(){i=i.length>n.length?i.substr(n.length):""}for(s=s.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var h=s.match(/^\s*$/);if(h)break;var d=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){Nt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}e=d[0];var u=d[1];if("core"!==u){var c=new yo(u);if(c.invalid){Nt("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),a();continue}}var p=d[2],f=!1;i=p;for(var g=[];;){var v=i.match(/^\s*$/);if(v)break;var m=i.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!m){Nt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}n=m[0];var y=m[1],b=m[2],w=o.properties[y];if(w){var x=r.parse(y,b);x?(g.push({name:y,val:b}),l()):(Nt("Skipping property: Invalid property definition in: "+n),l())}else Nt("Skipping property: Invalid property name in: "+n),l()}if(f){a();break}r.selector(u);for(var _=0;_<g.length;_++){var E=g[_];r.css(E.name,E.val)}a()}return r},fromString:function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e}},Fs={};(function(){var t=U,e=X,i=Z,n=$,o=Q,r=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(r){var s=t+"|\\w+|"+e+"|"+i+"|"+n+"|"+o;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+s+")\\s*\\,\\s*("+s+")\\)$"},a=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Fs.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:r("data")},layoutData:{mapping:!0,regex:r("layoutData")},scratch:{mapping:!0,regex:r("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:a,singleRegexMatchValue:!0},urls:{regexes:a,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return _(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]}};var l={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||(0==t&&0!=e||0!=t&&0==e)},any:function(t,e){return t!=e}},h=Fs.types,d=[{name:"label",type:h.text,triggersBounds:l.any},{name:"text-rotation",type:h.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:h.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:h.bidirectionalSize,triggersBounds:l.any}],u=[{name:"source-label",type:h.text,triggersBounds:l.any},{name:"source-text-rotation",type:h.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:h.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:h.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:h.size,triggersBounds:l.any}],c=[{name:"target-label",type:h.text,triggersBounds:l.any},{name:"target-text-rotation",type:h.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:h.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:h.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:h.size,triggersBounds:l.any}],p=[{name:"font-family",type:h.fontFamily,triggersBounds:l.any},{name:"font-style",type:h.fontStyle,triggersBounds:l.any},{name:"font-weight",type:h.fontWeight,triggersBounds:l.any},{name:"font-size",type:h.size,triggersBounds:l.any},{name:"text-transform",type:h.textTransform,triggersBounds:l.any},{name:"text-wrap",type:h.textWrap,triggersBounds:l.any},{name:"text-max-width",type:h.size,triggersBounds:l.any},{name:"text-outline-width",type:h.size,triggersBounds:l.any}],f=[{name:"text-valign",type:h.valign,triggersBounds:l.any},{name:"text-halign",type:h.halign,triggersBounds:l.any},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size,triggersBounds:l.any},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size,triggersBounds:l.any},{name:"text-border-style",type:h.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:h.textBackgroundShape,triggersBounds:l.any}],g=[{name:"events",type:h.bool},{name:"text-events",type:h.bool}],v=[{name:"display",type:h.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:h.visibility,triggersZOrder:l.any},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:h.zeroOneNumber},{name:"min-zoomed-font-size",type:h.size},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:h.nonNegativeInt,triggersZOrder:l.any}],m=[{name:"overlay-padding",type:h.size,triggersBounds:l.any},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber,triggersBounds:l.zeroNonZero}],y=[{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing}],b=[{name:"height",type:h.nodeSize,triggersBounds:l.any},{name:"width",type:h.nodeSize,triggersBounds:l.any},{name:"shape",type:h.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:h.polygonPointList,triggersBounds:l.any},{name:"background-color",type:h.color},{name:"background-fill",type:h.fill},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"background-gradient-stop-colors",type:h.colors},{name:"background-gradient-stop-positions",type:h.percentages},{name:"background-gradient-direction",type:h.gradientDirection},{name:"padding",type:h.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:h.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:h.size,triggersBounds:l.any}],w=[{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size,triggersBounds:l.any},{name:"border-style",type:h.borderStyle}],x=[{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"background-offset-x",type:h.bgPos},{name:"background-offset-y",type:h.bgPos}],E=[{name:"position",type:h.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:h.size,triggersBounds:l.any},{name:"min-width-bias-left",type:h.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:h.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:h.size,triggersBounds:l.any},{name:"min-height-bias-top",type:h.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:h.sizeMaybePercent,triggersBounds:l.any}],k=[{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"line-fill",type:h.fill},{name:"line-cap",type:h.lineCap},{name:"line-dash-pattern",type:h.numbers},{name:"line-dash-offset",type:h.number},{name:"line-gradient-stop-colors",type:h.colors},{name:"line-gradient-stop-positions",type:h.percentages},{name:"curve-style",type:h.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:h.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:h.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:h.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:h.size,triggersBounds:l.any},{name:"control-point-distances",type:h.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:h.numbers,triggersBounds:l.any},{name:"segment-distances",type:h.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:h.numbers,triggersBounds:l.any},{name:"taxi-turn",type:h.sizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:h.size,triggersBounds:l.any},{name:"taxi-direction",type:h.axisDirection,triggersBounds:l.any},{name:"edge-distances",type:h.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:h.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:h.angle,triggersBounds:l.any},{name:"loop-sweep",type:h.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:h.size,triggersBounds:l.any},{name:"target-distance-from-node",type:h.size,triggersBounds:l.any}],T=[{name:"ghost",type:h.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:h.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:h.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:h.zeroOneNumber}],D=[{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],C=[];Fs.pieBackgroundN=16,C.push({name:"pie-size",type:h.sizeMaybePercent});for(var S=1;S<=Fs.pieBackgroundN;S++)C.push({name:"pie-"+S+"-background-color",type:h.color}),C.push({name:"pie-"+S+"-background-size",type:h.percent}),C.push({name:"pie-"+S+"-background-opacity",type:h.zeroOneNumber});var M=[],O=Fs.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill}].forEach(function(t){O.forEach(function(e){var i=e+"-"+t.name,n=t.type;M.push({name:i,type:n})})},{});var N=Fs.properties=[].concat(g,y,v,m,T,f,p,d,u,c,b,w,x,C,E,k,M,D),A=Fs.propertyGroups={behavior:g,transition:y,visibility:v,overlay:m,ghost:T,commonLabel:f,labelDimensions:p,mainLabel:d,sourceLabel:u,targetLabel:c,nodeBody:b,nodeBorder:w,backgroundImage:x,pie:C,compound:E,edgeLine:k,edgeArrow:M,core:D},P=Fs.propertyGroupNames={},I=Fs.propertyGroupKeys=Object.keys(A);I.forEach(function(t){P[t]=A[t].map(function(t){return t.name}),A[t].forEach(function(e){return e.groupKey=t})});var L=Fs.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Fs.propertyNames=N.map(function(t){return t.name});for(var R=0;R<N.length;R++){var B=N[R];N[B.name]=B}for(var F=0;F<L.length;F++){var z=L[F],j=N[z.pointsTo],H={name:z.name,alias:!0,pointsTo:j};N.push(H),N[z.name]=H}})(),Fs.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},Fs.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=et({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(t,e){for(var i=1;i<=Fs.pieBackgroundN;i++){var n=e.name.replace("{{i}}",i),o=e.value;t[n]=o}return t},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(t,e){return Fs.arrowPrefixes.forEach(function(i){var n=i+"-"+e.name,o=e.value;t[n]=o}),t},{})),i={},n=0;n<this.properties.length;n++){var o=this.properties[n];if(!o.pointsTo){var r=o.name,s=e[r],a=this.parse(r,s);i[r]=a}}return t.defaultProperties=i,t.defaultProperties},Fs.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var zs={parse:function(t,e,i,n){var o=this;if(E(e))return o.parseImplWarn(t,e,i,n);var r,s="mapping"===n||!0===n||!1===n||null==n?"dontcare":n,a=i?"t":"f",l=""+e,h=bt(t,l,a,s),d=o.propCache=o.propCache||[];return(r=d[h])||(r=d[h]=o.parseImplWarn(t,e,i,n)),(i||"mapping"===n)&&(r=Pt(r),r&&(r.value=Pt(r.value))),r},parseImplWarn:function(t,e,i,n){var o=this.parseImpl(t,e,i,n);return o||null==e||Nt("The style property `".concat(t,": ").concat(e,"` is invalid")),o},parseImpl:function(t,e,i,n){var o=this;t=Y(t);var r=o.properties[t],s=e,a=o.types;if(!r)return null;if(void 0===e)return null;r.alias&&(r=r.pointsTo,t=r.name);var l=_(e);l&&(e=e.trim());var h,d,u=r.type;if(!u)return null;if(i&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(E(e))return{name:t,value:e,strValue:"fn",mapped:a.fn,bypass:i};if(!l||n||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(h=new RegExp(a.data.regex).exec(e))){if(i)return!1;var c=a.data;return{name:t,value:h,strValue:""+e,mapped:c,field:h[1],bypass:i}}if(e.length>=10&&"m"===e[0]&&(d=new RegExp(a.mapData.regex).exec(e))){if(i)return!1;if(u.multiple)return!1;var p=a.mapData;if(!u.color&&!u.number)return!1;var f=this.parse(t,d[4]);if(!f||f.mapped)return!1;var g=this.parse(t,d[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return Nt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+f.strValue+"`"),this.parse(t,f.strValue);if(u.color){var v=f.value,m=g.value,y=v[0]===m[0]&&v[1]===m[1]&&v[2]===m[2]&&(v[3]===m[3]||(null==v[3]||1===v[3])&&(null==m[3]||1===m[3]));if(y)return!1}return{name:t,value:d,strValue:""+e,mapped:p,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:f.value,valueMax:g.value,bypass:i}}}if(u.multiple&&"multiple"!==n){var b;if(b=l?e.split(/\s+/):k(e)?e:[e],u.evenMultiple&&b.length%2!==0)return null;for(var w=[],x=[],T=[],D="",C=!1,M=0;M<b.length;M++){var O=o.parse(t,b[M],i,"multiple");C=C||_(O.value),w.push(O.value),T.push(null!=O.pfValue?O.pfValue:O.value),x.push(O.units),D+=(M>0?" ":"")+O.strValue}return u.validate&&!u.validate(w,x)?null:u.singleEnum&&C?1===w.length&&_(w[0])?{name:t,value:w[0],strValue:w[0],bypass:i}:null:{name:t,value:w,pfValue:T,strValue:D,bypass:i,units:x}}var N=function(){for(var n=0;n<u.enums.length;n++){var o=u.enums[n];if(o===e)return{name:t,value:e,strValue:""+e,bypass:i}}return null};if(u.number){var A,P="px";if(u.units&&(A=u.units),u.implicitUnits&&(P=u.implicitUnits),!u.unitless)if(l){var I="px|em"+(u.allowPercent?"|\\%":"");A&&(I=A);var L=e.match("^("+U+")("+I+")?$");L&&(e=L[1],A=L[2]||P)}else A&&!u.implicitUnits||(A=P);if(e=parseFloat(e),isNaN(e)&&void 0===u.enums)return null;if(isNaN(e)&&void 0!==u.enums)return e=s,N();if(u.integer&&!S(e))return null;if(void 0!==u.min&&(e<u.min||u.strictMin&&e===u.min)||void 0!==u.max&&(e>u.max||u.strictMax&&e===u.max))return null;var R={name:t,value:e,strValue:""+e+(A||""),units:A,bypass:i};return u.unitless||"px"!==A&&"em"!==A?R.pfValue=e:R.pfValue="px"!==A&&A?this.getEmSizeInPixels()*e:e,"ms"!==A&&"s"!==A||(R.pfValue="ms"===A?e:1e3*e),"deg"!==A&&"rad"!==A||(R.pfValue="rad"===A?e:be(e)),"%"===A&&(R.pfValue=e/100),R}if(u.propList){var B=[],F=""+e;if("none"===F);else{for(var z=F.split(/\s*,\s*|\s+/),j=0;j<z.length;j++){var H=z[j].trim();o.properties[H]?B.push(H):Nt("`"+H+"` is not a valid property name")}if(0===B.length)return null}return{name:t,value:B,strValue:0===B.length?"none":B.join(" "),bypass:i}}if(u.color){var G=st(e);return G?{name:t,value:G,pfValue:G,strValue:"rgb("+G[0]+","+G[1]+","+G[2]+")",bypass:i}:null}if(u.regex||u.regexes){if(u.enums){var W=N();if(W)return W}for(var V=u.regexes?u.regexes:[u.regex],q=0;q<V.length;q++){var X=new RegExp(V[q]),K=X.exec(e);if(K)return{name:t,value:u.singleRegexMatchValue?K[1]:K,strValue:""+e,bypass:i}}return null}return u.string?{name:t,value:""+e,strValue:""+e,bypass:i}:u.enums?N():null}},js=function t(e){if(!(this instanceof t))return new t(e);P(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):Mt("A style must have a core reference")},Hs=js.prototype;Hs.instanceString=function(){return"style"},Hs.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;this.length=0;var e=this._private;return e.newStyle=!0,this},Hs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Hs.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},Hs.selector=function(t){var e="core"===t?null:new yo(t),i=this.length++;return this[i]={selector:e,properties:[],mappedProperties:[],index:i},this},Hs.css=function(){var t=this,e=arguments;if(1===e.length)for(var i=e[0],n=0;n<t.properties.length;n++){var o=t.properties[n],r=i[o.name];void 0===r&&(r=i[G(o.name)]),void 0!==r&&this.cssRule(o.name,r)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},Hs.style=Hs.css,Hs.cssRule=function(t,e){var i=this.parse(t,e);if(i){var n=this.length-1;this[n].properties.push(i),this[n].properties[i.name]=i,i.name.match(/pie-(\d+)-background-size/)&&i.value&&(this._private.hasPie=!0),i.mapped&&this[n].mappedProperties.push(i);var o=!this[n].selector;o&&(this._private.coreStyle[i.name]=i)}return this},Hs.append=function(t){return I(t)?t.appendToStyle(this):k(t)?this.appendFromJson(t):_(t)&&this.appendFromString(t),this},js.fromJson=function(t,e){var i=new js(t);return i.fromJson(e),i},js.fromString=function(t,e){return new js(t).fromString(e)},[Os,Ps,Is,Ls,Rs,Bs,Fs,zs].forEach(function(t){et(Hs,t)}),js.types=Hs.types,js.properties=Hs.properties,js.propertyGroups=Hs.propertyGroups,js.propertyGroupNames=Hs.propertyGroupNames,js.propertyGroupKeys=Hs.propertyGroupKeys;var Ys={style:function(t){if(t){var e=this.setStyle(t);e.update()}return this._private.style},setStyle:function(t){var e=this._private;return I(t)?e.style=t.generateStyle(this):k(t)?e.style=js.fromJson(this,t):_(t)?e.style=js.fromString(this,t):e.style=js(this),e.style}},Gs="single",Ws={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType=Gs),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,i,n,o,r=arguments,s=this._private.pan;switch(r.length){case 0:return s;case 1:if(_(r[0]))return t=r[0],s[t];if(T(r[0])){if(!this._private.panningEnabled)return this;i=r[0],n=i.x,o=i.y,C(n)&&(s.x=n),C(o)&&(s.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=r[0],e=r[1],"x"!==t&&"y"!==t||!C(e)||(s[t]=e),this.emit("pan viewport");break;default:break}return this.notify("viewport"),this},panBy:function(t,e){var i,n,o,r,s,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:T(t)&&(o=a[0],r=o.x,s=o.y,C(r)&&(l.x+=r),C(s)&&(l.y+=s),this.emit("pan viewport"));break;case 2:i=t,n=e,"x"!==i&&"y"!==i||!C(n)||(l[i]+=n),this.emit("pan viewport");break;default:break}return this.notify("viewport"),this},fit:function(t,e){var i=this.getFitViewport(t,e);if(i){var n=this._private;n.zoom=i.zoom,n.pan=i.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){if(C(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var i;if(_(t)){var n=t;t=this.$(n)}else if(F(t)){var o=t;i={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},i.w=i.x2-i.x1,i.h=i.y2-i.y1}else O(t)||(t=this.mutableElements());if(!O(t)||!t.empty()){i=i||t.boundingBox();var r,s=this.width(),a=this.height();if(e=C(e)?e:0,!isNaN(s)&&!isNaN(a)&&s>0&&a>0&&!isNaN(i.w)&&!isNaN(i.h)&&i.w>0&&i.h>0){r=Math.min((s-2*e)/i.w,(a-2*e)/i.h),r=r>this._private.maxZoom?this._private.maxZoom:r,r=r<this._private.minZoom?this._private.minZoom:r;var l={x:(s-r*(i.x1+i.x2))/2,y:(a-r*(i.y1+i.y2))/2};return{zoom:r,pan:l}}}}},zoomRange:function(t,e){var i=this._private;if(null==e){var n=t;t=n.min,e=n.max}return C(t)&&C(e)&&t<=e?(i.minZoom=t,i.maxZoom=e):C(t)&&void 0===e&&t<=i.maxZoom?i.minZoom=t:C(e)&&void 0===t&&e>=i.minZoom&&(i.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,i,n=this._private,o=n.pan,r=n.zoom,s=!1;if(n.zoomingEnabled||(s=!0),C(t)?i=t:T(t)&&(i=t.level,null!=t.position?e=ce(t.position,r,o):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||n.panningEnabled||(s=!0)),i=i>n.maxZoom?n.maxZoom:i,i=i<n.minZoom?n.minZoom:i,s||!C(i)||i===r||null!=e&&(!C(e.x)||!C(e.y)))return null;if(null!=e){var a=o,l=r,h=i,d={x:-h/l*(e.x-a.x)+e.x,y:-h/l*(e.y-a.y)+e.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}return{zoomed:!0,panned:!1,zoom:i,pan:o}},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),i=this._private;return null!=e&&e.zoomed?(i.zoom=e.zoom,e.panned&&(i.pan.x=e.pan.x,i.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,i=!0,n=!0,o=[],r=!1,s=!1;if(!t)return this;if(C(t.zoom)||(i=!1),T(t.pan)||(n=!1),!i&&!n)return this;if(i){var a=t.zoom;a<e.minZoom||a>e.maxZoom||!e.zoomingEnabled?r=!0:(e.zoom=a,o.push("zoom"))}if(n&&(!r||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;C(l.x)&&(e.pan.x=l.x,s=!1),C(l.y)&&(e.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(_(t)){var i=t;t=this.mutableElements().filter(i)}else O(t)||(t=this.mutableElements());if(0!==t.length){var n=t.boundingBox(),o=this.width(),r=this.height();e=void 0===e?this._private.zoom:e;var s={x:(o-e*(n.x1+n.x2))/2,y:(r-e*(n.y1+n.y2))/2};return s}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,e=t.container;return t.sizeCache=t.sizeCache||(e?function(){var t=g.getComputedStyle(e),i=function(e){return parseFloat(t.getPropertyValue(e))};return{width:e.clientWidth-i("padding-left")-i("padding-right"),height:e.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,i=this.renderedExtent(),n={x1:(i.x1-t.x)/e,x2:(i.x2-t.x)/e,y1:(i.y1-t.y)/e,y2:(i.y2-t.y)/e};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};Ws.centre=Ws.center,Ws.autolockNodes=Ws.autolock,Ws.autoungrabifyNodes=Ws.autoungrabify;var Vs=function(t){var e=this;t=et({},t);var i=t.container;i&&!M(i)&&M(i[0])&&(i=i[0]);var n=i?i._cyreg:null;n=n||{},n&&n.cy&&(n.cy.destroy(),n={});var o=n.readies=n.readies||[];i&&(i._cyreg=n),n.cy=e;var r=void 0!==g&&void 0!==i&&!t.headless,s=t;s.layout=et({name:r?"grid":"null"},s.layout),s.renderer=et({name:r?"canvas":"null"},s.renderer);var a=function(t,e,i){return void 0!==e?e:void 0!==i?i:t},l=this._private={container:i,ready:!1,options:s,elements:new ss(this),listeners:[],aniEles:new ss(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,s.zoomingEnabled),userZoomingEnabled:a(!0,s.userZoomingEnabled),panningEnabled:a(!0,s.panningEnabled),userPanningEnabled:a(!0,s.userPanningEnabled),boxSelectionEnabled:a(!0,s.boxSelectionEnabled),autolock:a(!1,s.autolock,s.autolockNodes),autoungrabify:a(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:a(!1,s.autounselectify),styleEnabled:void 0===s.styleEnabled?r:s.styleEnabled,zoom:C(s.zoom)?s.zoom:1,pan:{x:T(s.pan)&&C(s.pan.x)?s.pan.x:0,y:T(s.pan)&&C(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var h=function(t,e){var i=t.some(z);if(i)return Bn.all(t).then(e);e(t)};l.styleEnabled&&e.setStyle([]);var d=et({},s,s.renderer);e.initRenderer(d);var u=function(t,i,n){e.notifications(!1);var o=e.mutableElements();o.length>0&&o.remove(),null!=t&&(T(t)||k(t))&&e.add(t),e.one("layoutready",function(t){e.notifications(!0),e.emit(t),e.one("load",i),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",n),e.emit("done")});var r=et({},e._private.options.layout);r.eles=e.elements(),e.layout(r).run()};h([s.style,s.elements],function(t){var i=t[0],r=t[1];l.styleEnabled&&e.style().append(i),u(r,function(){e.startAnimationLoop(),l.ready=!0,E(s.ready)&&e.on("ready",s.ready);for(var t=0;t<o.length;t++){var i=o[t];e.on("ready",i)}n&&(n.readies=[]),e.emit("ready")},s.done)})},Us=Vs.prototype;et(Us,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.isDestroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t,e){if(null!=t){var i=this,n=i._private,o=n.options,r=e||{name:"canvas"};return o.renderer=r,!M(t)&&M(t[0])&&(t=t[0]),i.stopAnimationLoop(),i.destroyRenderer(),n.container=t,n.styleEnabled=!0,i.initRenderer(r),i.startAnimationLoop(),i.style(o.style),i.emit("mount"),i}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Pt(this._private.options)},json:function(t){var e=this,i=e._private,n=e.mutableElements(),o=function(t){return e.getElementById(t.id())};if(T(t)){if(e.startBatch(),t.elements){var r={},s=function(t,i){for(var n=[],o=[],s=0;s<t.length;s++){var a=t[s],l=a.data.id,h=e.getElementById(l);r[l]=!0,0!==h.length?o.push({ele:h,json:a}):i?(a.group=i,n.push(a)):n.push(a)}e.add(n);for(var d=0;d<o.length;d++){var u=o[d],c=u.ele,p=u.json;c.json(p)}};if(k(t.elements))s(t.elements);else for(var a=["nodes","edges"],l=0;l<a.length;l++){var h=a[l],d=t.elements[h];k(d)&&s(d,h)}var u=e.collection();n.filter(function(t){return!r[t.id()]}).forEach(function(t){t.isParent()?u.merge(t):t.remove()}),u.forEach(function(t){return t.children().move({parent:null})}),u.forEach(function(t){return o(t).remove()})}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==i.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===i.pan.x&&t.pan.y===i.pan.y||e.pan(t.pan));for(var c=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],p=0;p<c.length;p++){var f=c[p];null!=t[f]&&e[f](t[f])}return e.endBatch(),this}var g=!!t,v={};g?v.elements=this.elements().map(function(t){return t.json()}):(v.elements={},n.forEach(function(t){var e=t.group();v.elements[e]||(v.elements[e]=[]),v.elements[e].push(t.json())})),this._private.styleEnabled&&(v.style=e.style().json());var m=i.options;return v.zoomingEnabled=i.zoomingEnabled,v.userZoomingEnabled=i.userZoomingEnabled,v.zoom=i.zoom,v.minZoom=i.minZoom,v.maxZoom=i.maxZoom,v.panningEnabled=i.panningEnabled,v.userPanningEnabled=i.userPanningEnabled,v.pan=Pt(i.pan),v.boxSelectionEnabled=i.boxSelectionEnabled,v.renderer=Pt(m.renderer),v.hideEdgesOnViewport=m.hideEdgesOnViewport,v.textureOnViewport=m.textureOnViewport,v.wheelSensitivity=m.wheelSensitivity,v.motionBlur=m.motionBlur,v},scratch:Gn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:Gn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),Us.$id=Us.getElementById,[ls,ws,Es,ks,Ts,Ds,Ss,Ms,Ys,Ws].forEach(function(t){et(Us,t)});var qs={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},Xs=function(t){return t.scratch("breadthfirst")},Ks=function(t,e){return t.scratch("breadthfirst",e)};function Zs(t){this.options=et({},qs,t)}Zs.prototype.run=function(){var t,e=this.options,i=e,n=e.cy,o=i.eles,r=o.nodes().filter(function(t){return!t.isParent()}),s=o,a=i.directed,l=i.maximal||i.maximalAdjustments>0,h=Oe(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(O(i.roots))t=i.roots;else if(k(i.roots)){for(var d=[],u=0;u<i.roots.length;u++){var c=i.roots[u],p=n.getElementById(c);d.push(p)}t=n.collection(d)}else if(_(i.roots))t=n.$(i.roots);else if(a)t=r.roots();else{var f=o.components();t=n.collection();for(var g=function(e){var i=f[e],n=i.maxDegree(!1),o=i.filter(function(t){return t.degree(!1)===n});t=t.add(o)},v=0;v<f.length;v++)g(v)}var m=[],y={},b=function(t,e){null==m[e]&&(m[e]=[]);var i=m[e].length;m[e].push(t),Ks(t,{index:i,depth:e})},w=function(t,e){var i=Xs(t),n=i.depth,o=i.index;m[n][o]=null,b(t,e)};s.bfs({roots:t,directed:i.directed,visit:function(t,e,i,n,o){var r=t[0],s=r.id();b(r,o),y[s]=!0}});for(var x=[],E=0;E<r.length;E++){var T=r[E];y[T.id()]||x.push(T)}var D=function(t){for(var e=m[t],i=0;i<e.length;i++){var n=e[i];null!=n?Ks(n,{depth:t,index:i}):(e.splice(i,1),i--)}},C=function(){for(var t=0;t<m.length;t++)D(t)},S=function(t,e){for(var i=Xs(t),n=t.incomers().filter(function(t){return t.isNode()&&o.has(t)}),r=-1,s=t.id(),a=0;a<n.length;a++){var l=n[a],h=Xs(l);r=Math.max(r,h.depth)}return i.depth<=r&&(e[s]?null:(w(t,r+1),e[s]=!0,!0))};if(a&&l){var M=[],N={},A=function(t){return M.push(t)},P=function(){return M.shift()};r.forEach(function(t){return M.push(t)});while(M.length>0){var I=P(),L=S(I,N);if(L)I.outgoers().filter(function(t){return t.isNode()&&o.has(t)}).forEach(A);else if(null===L){Nt("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var R=0;if(i.avoidOverlap)for(var B=0;B<r.length;B++){var F=r[B],z=F.layoutDimensions(i),j=z.w,H=z.h;R=Math.max(R,j,H)}for(var Y={},G=function(t){if(Y[t.id()])return Y[t.id()];for(var e=Xs(t).depth,i=t.neighborhood(),n=0,o=0,s=0;s<i.length;s++){var a=i[s];if(!a.isEdge()&&!a.isParent()&&r.has(a)){var l=Xs(a),h=l.index,d=l.depth;if(null!=h&&null!=d){var u=m[d].length;d<e&&(n+=h/(u-1),o++)}}}return o=Math.max(1,o),n/=o,0===o&&(n=0),Y[t.id()]=n,n},W=function(t,e){var i=G(t),n=G(e),o=i-n;return 0===o?J(t.id(),e.id()):o},V=0;V<m.length;V++)m[V].sort(W),D(V);for(var U=[],q=0;q<x.length;q++)U.push(x[q]);m.unshift(U),C();for(var X=0,K=0;K<m.length;K++)X=Math.max(m[K].length,X);var Z={x:h.x1+h.w/2,y:h.x1+h.h/2},$=m.reduce(function(t,e){return Math.max(t,e.length)},0),Q=function(t){var e=Xs(t),n=e.depth,o=e.index,r=m[n].length,s=Math.max(h.w/((i.grid?$:r)+1),R),a=Math.max(h.h/(m.length+1),R),l=Math.min(h.w/2/m.length,h.h/2/m.length);if(l=Math.max(l,R),i.circle){var d=l*n+l-(m.length>0&&m[0].length<=3?l/2:0),u=2*Math.PI/m[n].length*o;return 0===n&&1===m[0].length&&(d=1),{x:Z.x+d*Math.cos(u),y:Z.y+d*Math.sin(u)}}var c={x:Z.x+(o+1-(r+1)/2)*s,y:(n+1)*a};return c};return r.layoutPositions(this,i,Q),this};var $s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Qs(t){this.options=et({},$s,t)}Qs.prototype.run=function(){var t=this.options,e=t,i=t.cy,n=e.eles,o=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,r=n.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));for(var s,a=Oe(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),l={x:a.x1+a.w/2,y:a.y1+a.h/2},h=void 0===e.sweep?2*Math.PI-2*Math.PI/r.length:e.sweep,d=h/Math.max(1,r.length-1),u=0,c=0;c<r.length;c++){var p=r[c],f=p.layoutDimensions(e),g=f.w,v=f.h;u=Math.max(u,g,v)}if(s=C(e.radius)?e.radius:r.length<=1?0:Math.min(a.h,a.w)/2-u,r.length>1&&e.avoidOverlap){u*=1.75;var m=Math.cos(d)-Math.cos(0),y=Math.sin(d)-Math.sin(0),b=Math.sqrt(u*u/(m*m+y*y));s=Math.max(b,s)}var w=function(t,i){var n=e.startAngle+i*d*(o?1:-1),r=s*Math.cos(n),a=s*Math.sin(n),h={x:l.x+r,y:l.y+a};return h};return r.layoutPositions(this,e,w),this};var Js,ta={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ea(t){this.options=et({},ta,t)}ea.prototype.run=function(){for(var t=this.options,e=t,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,n=t.cy,o=e.eles,r=o.nodes().not(":parent"),s=Oe(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),a={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],h=0,d=0;d<r.length;d++){var u=r[d],c=void 0;c=e.concentric(u),l.push({value:c,node:u}),u._private.scratch.concentric=c}r.updateStyle();for(var p=0;p<r.length;p++){var f=r[p],g=f.layoutDimensions(e);h=Math.max(h,g.w,g.h)}l.sort(function(t,e){return e.value-t.value});for(var v=e.levelWidth(r),m=[[]],y=m[0],b=0;b<l.length;b++){var w=l[b];if(y.length>0){var x=Math.abs(y[0].value-w.value);x>=v&&(y=[],m.push(y))}y.push(w)}var _=h+e.minNodeSpacing;if(!e.avoidOverlap){var E=m.length>0&&m[0].length>1,k=Math.min(s.w,s.h)/2-_,T=k/(m.length+E?1:0);_=Math.min(_,T)}for(var D=0,C=0;C<m.length;C++){var S=m[C],M=void 0===e.sweep?2*Math.PI-2*Math.PI/S.length:e.sweep,O=S.dTheta=M/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var N=Math.cos(O)-Math.cos(0),A=Math.sin(O)-Math.sin(0),P=Math.sqrt(_*_/(N*N+A*A));D=Math.max(P,D)}S.r=D,D+=_}if(e.equidistant){for(var I=0,L=0,R=0;R<m.length;R++){var B=m[R],F=B.r-L;I=Math.max(I,F)}L=0;for(var z=0;z<m.length;z++){var j=m[z];0===z&&(L=j.r),j.r=L,L+=I}}for(var H={},Y=0;Y<m.length;Y++)for(var G=m[Y],W=G.dTheta,V=G.r,U=0;U<G.length;U++){var q=G[U],X=e.startAngle+(i?1:-1)*W*U,K={x:a.x+V*Math.cos(X),y:a.y+V*Math.sin(X)};H[q.node.id()]=K}return r.layoutPositions(this,e,function(t){var e=t.id();return H[e]}),this};var ia={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function na(t){this.options=et({},ia,t),this.options.layout=this}na.prototype.run=function(){var t=this.options,e=t.cy,i=this,n=this.thread,o=t.weaver?t.weaver.Thread:null,r={listeners:[],on:function(t,e){return this.listeners.push({event:t,callback:e}),this},trigger:function(t){_(t)&&(t={type:t});var e=function(e){return e.event===t.type},i=function(e){e.callback(t)};return this.listeners.filter(e).forEach(i),this},pass:function(t){return this.pass=t,this},run:function(t){var e=this.pass;return new Bn(function(i){i(t(e))})},stop:function(){return this},stopped:function(){return!0}};function s(t){var e={type:"message",message:t};r.trigger(e)}n&&!n.stopped()||(n=this.thread=o?new o:r),i.stopped=!1,!0!==t.animate&&!1!==t.animate||i.emit({type:"layoutstart",layout:i}),Js=!0===t.debug;var a=ra(e,i,t);Js&&oa(a),t.randomize&&la(a,e);var l=Date.now(),h=!1,d=function(i){i=i||{},h&&!i.next||!i.force&&Date.now()-l<t.animationThreshold||(h=!0,pt(function(){ha(a,e,t),!0===t.fit&&e.fit(t.padding),h=!1,i.next&&i.next()}))};n.on("message",function(t){var e=t.message;a.layoutNodes=e,d()}),n.pass({layoutInfo:a,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run(function(t){var e=t.layoutInfo,i=t.options,n=function(t,e,i){o(t,e),d(t,e),u(t,e),c(t,e),p(t,e)},o=function(t,e){for(var i=0;i<t.graphSet.length;i++)for(var n=t.graphSet[i],o=n.length,r=0;r<o;r++)for(var s=t.layoutNodes[t.idToIndex[n[r]]],l=r+1;l<o;l++){var h=t.layoutNodes[t.idToIndex[n[l]]];a(s,h,t,e)}},r=function(t){return-t+2*t*Math.random()},a=function(t,e,i,n){var o=t.cmptId,s=e.cmptId;if(o===s||i.isCompound){var a=e.positionX-t.positionX,d=e.positionY-t.positionY,u=1;0===a&&0===d&&(a=r(u),d=r(u));var c=l(t,e,a,d);if(c>0)var p=n.nodeOverlap*c,f=Math.sqrt(a*a+d*d),g=p*a/f,v=p*d/f;else{var m=h(t,a,d),y=h(e,-1*a,-1*d),b=y.x-m.x,w=y.y-m.y,x=b*b+w*w;f=Math.sqrt(x),p=(t.nodeRepulsion+e.nodeRepulsion)/x,g=p*b/f,v=p*w/f}t.isLocked||(t.offsetX-=g,t.offsetY-=v),e.isLocked||(e.offsetX+=g,e.offsetY+=v)}},l=function(t,e,i,n){if(i>0)var o=t.maxX-e.minX;else o=e.maxX-t.minX;if(n>0)var r=t.maxY-e.minY;else r=e.maxY-t.minY;return o>=0&&r>=0?Math.sqrt(o*o+r*r):0},h=function(t,e,i){var n=t.positionX,o=t.positionY,r=t.height||1,s=t.width||1,a=i/e,l=r/s,h={};return 0===e&&0<i?(h.x=n,h.y=o+r/2,h):0===e&&0>i?(h.x=n,h.y=o+r/2,h):0<e&&-1*l<=a&&a<=l?(h.x=n+s/2,h.y=o+s*i/2/e,h):0>e&&-1*l<=a&&a<=l?(h.x=n-s/2,h.y=o-s*i/2/e,h):0<i&&(a<=-1*l||a>=l)?(h.x=n+r*e/2/i,h.y=o+r/2,h):0>i&&(a<=-1*l||a>=l)?(h.x=n-r*e/2/i,h.y=o-r/2,h):h},d=function(t,e){for(var i=0;i<t.edgeSize;i++){var n=t.layoutEdges[i],o=t.idToIndex[n.sourceId],r=t.layoutNodes[o],s=t.idToIndex[n.targetId],a=t.layoutNodes[s],l=a.positionX-r.positionX,d=a.positionY-r.positionY;if(0!==l||0!==d){var u=h(r,l,d),c=h(a,-1*l,-1*d),p=c.x-u.x,f=c.y-u.y,g=Math.sqrt(p*p+f*f),v=Math.pow(n.idealLength-g,2)/n.elasticity;if(0!==g)var m=v*p/g,y=v*f/g;else m=0,y=0;r.isLocked||(r.offsetX+=m,r.offsetY+=y),a.isLocked||(a.offsetX-=m,a.offsetY-=y)}}},u=function(t,e){for(var i=1,n=0;n<t.graphSet.length;n++){var o=t.graphSet[n],r=o.length;if(0===n)var s=t.clientHeight/2,a=t.clientWidth/2;else{var l=t.layoutNodes[t.idToIndex[o[0]]],h=t.layoutNodes[t.idToIndex[l.parentId]];s=h.positionX,a=h.positionY}for(var d=0;d<r;d++){var u=t.layoutNodes[t.idToIndex[o[d]]];if(!u.isLocked){var c=s-u.positionX,p=a-u.positionY,f=Math.sqrt(c*c+p*p);if(f>i){var g=e.gravity*c/f,v=e.gravity*p/f;u.offsetX+=g,u.offsetY+=v}}}}},c=function(t,e){var i=[],n=0,o=-1;i.push.apply(i,t.graphSet[0]),o+=t.graphSet[0].length;while(n<=o){var r=i[n++],s=t.idToIndex[r],a=t.layoutNodes[s],l=a.children;if(0<l.length&&!a.isLocked){for(var h=a.offsetX,d=a.offsetY,u=0;u<l.length;u++){var c=t.layoutNodes[t.idToIndex[l[u]]];c.offsetX+=h,c.offsetY+=d,i[++o]=l[u]}a.offsetX=0,a.offsetY=0}}},p=function(t,e){for(var i=0;i<t.nodeSize;i++){var n=t.layoutNodes[i];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(i=0;i<t.nodeSize;i++){n=t.layoutNodes[i];if(!(0<n.children.length||n.isLocked)){var o=f(n.offsetX,n.offsetY,t.temperature);n.positionX+=o.x,n.positionY+=o.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,g(n,t)}}for(i=0;i<t.nodeSize;i++){n=t.layoutNodes[i];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},f=function(t,e,i){var n=Math.sqrt(t*t+e*e);if(n>i)var o={x:i*t/n,y:i*e/n};else o={x:t,y:e};return o},g=function t(e,i){var n=e.parentId;if(null!=n){var o=i.layoutNodes[i.idToIndex[n]],r=!1;return(null==o.maxX||e.maxX+o.padRight>o.maxX)&&(o.maxX=e.maxX+o.padRight,r=!0),(null==o.minX||e.minX-o.padLeft<o.minX)&&(o.minX=e.minX-o.padLeft,r=!0),(null==o.maxY||e.maxY+o.padBottom>o.maxY)&&(o.maxY=e.maxY+o.padBottom,r=!0),(null==o.minY||e.minY-o.padTop<o.minY)&&(o.minY=e.minY-o.padTop,r=!0),r?t(o,i):void 0}},v=function(t,i){for(var n=e.layoutNodes,o=[],r=0;r<n.length;r++){var s=n[r],a=s.cmptId,l=o[a]=o[a]||[];l.push(s)}var h=0;for(r=0;r<o.length;r++){var d=o[r];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var u=0;u<d.length;u++){var c=d[u];d.x1=Math.min(d.x1,c.positionX-c.width/2),d.x2=Math.max(d.x2,c.positionX+c.width/2),d.y1=Math.min(d.y1,c.positionY-c.height/2),d.y2=Math.max(d.y2,c.positionY+c.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,h+=d.w*d.h}}o.sort(function(t,e){return e.w*e.h-t.w*t.h});var p=0,f=0,g=0,v=0,m=Math.sqrt(h)*e.clientWidth/e.clientHeight;for(r=0;r<o.length;r++){d=o[r];if(d){for(u=0;u<d.length;u++){c=d[u];c.isLocked||(c.positionX+=p,c.positionY+=f)}p+=d.w+i.componentSpacing,g+=d.w+i.componentSpacing,v=Math.max(v,d.h),g>m&&(f+=v+i.componentSpacing,p=0,g=0,v=0)}}},m=function(t){return n(e,i,t),e.temperature=e.temperature*i.coolingFactor,!(e.temperature<i.minTemp)},y=0;do{var b=0;while((b<i.refresh||0===i.refresh)&&y<i.numIter){var w=m(y);if(!w)break;b++,y++}!0===i.animate&&s(e.layoutNodes)}while(w&&y+1<i.numIter);return v(e,i),e}).then(function(t){a.layoutNodes=t.layoutNodes,n.stop(),u()});var u=function(){!0===t.animate||!1===t.animate?d({force:!0,next:function(){i.one("layoutstop",t.stop),i.emit({type:"layoutstop",layout:i})}}):t.eles.nodes().layoutPositions(i,t,function(t){var e=a.layoutNodes[a.idToIndex[t.data("id")]];return{x:e.positionX,y:e.positionY}})};return this},na.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},na.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var oa,ra=function(t,e,i){for(var n=i.eles.edges(),o=i.eles.nodes(),r={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:i.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:Oe(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},s=i.eles.components(),a={},l=0;l<s.length;l++)for(var h=s[l],d=0;d<h.length;d++){var u=h[d];a[u.id()]=l}for(l=0;l<r.nodeSize;l++){var c=o[l],p=c.layoutDimensions(i),f={};f.isLocked=c.locked(),f.id=c.data("id"),f.parentId=c.data("parent"),f.cmptId=a[c.id()],f.children=[],f.positionX=c.position("x"),f.positionY=c.position("y"),f.offsetX=0,f.offsetY=0,f.height=p.w,f.width=p.h,f.maxX=f.positionX+f.width/2,f.minX=f.positionX-f.width/2,f.maxY=f.positionY+f.height/2,f.minY=f.positionY-f.height/2,f.padLeft=parseFloat(c.style("padding")),f.padRight=parseFloat(c.style("padding")),f.padTop=parseFloat(c.style("padding")),f.padBottom=parseFloat(c.style("padding")),f.nodeRepulsion=E(i.nodeRepulsion)?i.nodeRepulsion(c):i.nodeRepulsion,r.layoutNodes.push(f),r.idToIndex[f.id]=l}var g=[],v=0,m=-1,y=[];for(l=0;l<r.nodeSize;l++){c=r.layoutNodes[l];var b=c.parentId;null!=b?r.layoutNodes[r.idToIndex[b]].children.push(c.id):(g[++m]=c.id,y.push(c.id))}r.graphSet.push(y);while(v<=m){var w=g[v++],x=r.idToIndex[w],_=(u=r.layoutNodes[x],u.children);if(_.length>0){r.graphSet.push(_);for(l=0;l<_.length;l++)g[++m]=_[l]}}for(l=0;l<r.graphSet.length;l++){var k=r.graphSet[l];for(d=0;d<k.length;d++){var T=r.idToIndex[k[d]];r.indexToGraph[T]=l}}for(l=0;l<r.edgeSize;l++){var D=n[l],C={};C.id=D.data("id"),C.sourceId=D.data("source"),C.targetId=D.data("target");var S=E(i.idealEdgeLength)?i.idealEdgeLength(D):i.idealEdgeLength,M=E(i.edgeElasticity)?i.edgeElasticity(D):i.edgeElasticity,O=r.idToIndex[C.sourceId],N=r.idToIndex[C.targetId],A=r.indexToGraph[O],P=r.indexToGraph[N];if(A!=P){var I=sa(C.sourceId,C.targetId,r),L=r.graphSet[I],R=0;f=r.layoutNodes[O];while(-1===L.indexOf(f.id))f=r.layoutNodes[r.idToIndex[f.parentId]],R++;f=r.layoutNodes[N];while(-1===L.indexOf(f.id))f=r.layoutNodes[r.idToIndex[f.parentId]],R++;S*=R*i.nestingFactor}C.idealLength=S,C.elasticity=M,r.layoutEdges.push(C)}return r},sa=function(t,e,i){var n=aa(t,e,0,i);return 2>n.count?0:n.graph},aa=function t(e,i,n,o){var r=o.graphSet[n];if(-1<r.indexOf(e)&&-1<r.indexOf(i))return{count:2,graph:n};for(var s=0,a=0;a<r.length;a++){var l=r[a],h=o.idToIndex[l],d=o.layoutNodes[h].children;if(0!==d.length){var u=o.indexToGraph[o.idToIndex[d[0]]],c=t(e,i,u,o);if(0!==c.count){if(1!==c.count)return c;if(s++,2===s)break}}}return{count:s,graph:n}},la=function(t,e){for(var i=t.clientWidth,n=t.clientHeight,o=0;o<t.nodeSize;o++){var r=t.layoutNodes[o];0!==r.children.length||r.isLocked||(r.positionX=Math.random()*i,r.positionY=Math.random()*n)}},ha=function(t,e,i){var n=i.layout,o=i.eles.nodes(),r=t.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};i.boundingBox&&(o.forEach(function(e){var i=t.layoutNodes[t.idToIndex[e.data("id")]];s.x1=Math.min(s.x1,i.positionX),s.x2=Math.max(s.x2,i.positionX),s.y1=Math.min(s.y1,i.positionY),s.y2=Math.max(s.y2,i.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),o.positions(function(e,n){var o=t.layoutNodes[t.idToIndex[e.data("id")]];if(i.boundingBox){var a=(o.positionX-s.x1)/s.w,l=(o.positionY-s.y1)/s.h;return{x:r.x1+a*r.w,y:r.y1+l*r.h}}return{x:o.positionX,y:o.positionY}}),!0!==t.ready&&(t.ready=!0,n.one("layoutready",i.ready),n.emit({type:"layoutready",layout:this}))},da={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ua(t){this.options=et({},da,t)}ua.prototype.run=function(){var t=this.options,e=t,i=t.cy,n=e.eles,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));var r=Oe(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(0===r.h||0===r.w)o.layoutPositions(this,e,function(t){return{x:r.x1,y:r.y1}});else{var s=o.size(),a=Math.sqrt(s*r.h/r.w),l=Math.round(a),h=Math.round(r.w/r.h*a),d=function(t){if(null==t)return Math.min(l,h);var e=Math.min(l,h);e==l?l=t:h=t},u=function(t){if(null==t)return Math.max(l,h);var e=Math.max(l,h);e==l?l=t:h=t},c=e.rows,p=null!=e.cols?e.cols:e.columns;if(null!=c&&null!=p)l=c,h=p;else if(null!=c&&null==p)l=c,h=Math.ceil(s/l);else if(null==c&&null!=p)h=p,l=Math.ceil(s/h);else if(h*l>s){var f=d(),g=u();(f-1)*g>=s?d(f-1):(g-1)*f>=s&&u(g-1)}else while(h*l<s){var v=d(),m=u();(m+1)*v>=s?u(m+1):d(v+1)}var y=r.w/h,b=r.h/l;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var w=0;w<o.length;w++){var x=o[w],_=x._private.position;null!=_.x&&null!=_.y||(_.x=0,_.y=0);var E=x.layoutDimensions(e),k=e.avoidOverlapPadding,T=E.w+k,D=E.h+k;y=Math.max(y,T),b=Math.max(b,D)}for(var C={},S=function(t,e){return!!C["c-"+t+"-"+e]},M=function(t,e){C["c-"+t+"-"+e]=!0},O=0,N=0,A=function(){N++,N>=h&&(N=0,O++)},P={},I=0;I<o.length;I++){var L=o[I],R=e.position(L);if(R&&(void 0!==R.row||void 0!==R.col)){var B={row:R.row,col:R.col};if(void 0===B.col){B.col=0;while(S(B.row,B.col))B.col++}else if(void 0===B.row){B.row=0;while(S(B.row,B.col))B.row++}P[L.id()]=B,M(B.row,B.col)}}var F=function(t,e){var i,n;if(t.locked()||t.isParent())return!1;var o=P[t.id()];if(o)i=o.col*y+y/2+r.x1,n=o.row*b+b/2+r.y1;else{while(S(O,N))A();i=N*y+y/2+r.x1,n=O*b+b/2+r.y1,M(O,N),A()}return{x:i,y:n}};o.layoutPositions(this,e,F)}return this};var ca={ready:function(){},stop:function(){}};function pa(t){this.options=et({},ca,t)}pa.prototype.run=function(){var t=this.options,e=t.eles,i=this;t.cy;return i.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),i.one("layoutready",t.ready),i.emit("layoutready"),i.one("layoutstop",t.stop),i.emit("layoutstop"),this},pa.prototype.stop=function(){return this};var fa={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ga(t){this.options=et({},fa,t)}ga.prototype.run=function(){var t=this.options,e=t.eles,i=e.nodes(),n=E(t.positions);function o(e){if(null==t.positions)return ue(e.position());if(n)return t.positions(e);var i=t.positions[e._private.data.id];return null==i?null:i}return i.layoutPositions(this,t,function(t,e){var i=o(t);return!t.locked()&&null!=i&&i}),this};var va={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ma(t){this.options=et({},va,t)}ma.prototype.run=function(){var t=this.options,e=t.cy,i=t.eles,n=i.nodes().not(":parent"),o=Oe(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),r=function(t,e){return{x:o.x1+Math.round(Math.random()*o.w),y:o.y1+Math.round(Math.random()*o.h)}};return n.layoutPositions(this,t,r),this};var ya=[{name:"breadthfirst",impl:Zs},{name:"circle",impl:Qs},{name:"concentric",impl:ea},{name:"cose",impl:na},{name:"grid",impl:ua},{name:"null",impl:pa},{name:"preset",impl:ga},{name:"random",impl:ma}];function ba(t){this.options=t,this.notifications=0}var wa=function(){};ba.prototype={recalculateRenderedStyle:wa,notify:function(){this.notifications++},init:wa,isHeadless:function(){return!0}};var xa={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,i=function(t,e,i,n,o,r,s){var a=o.x-i/2-s,l=o.x+i/2+s,h=o.y-i/2-s,d=o.y+i/2+s,u=a<=t&&t<=l&&h<=e&&e<=d;return u},n=function(t,e,i,n,o){var r=t*Math.cos(n)-e*Math.sin(n),s=t*Math.sin(n)+e*Math.cos(n),a=r*i,l=s*i,h=a+o.x,d=l+o.y;return{x:h,y:d}},o=function(t,e,i,o){for(var r=[],s=0;s<t.length;s+=2){var a=t[s],l=t[s+1];r.push(n(a,l,e,i,o))}return r},r=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(n.x,n.y)}return e},s=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},a=function(n,a){_(a)&&(a=t[a]),t[n]=et({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,i,n,s,a){var l=r(o(this.points,i+2*a,n,s)),h=Ke(t,e,l);return h},roughCollide:i,draw:function(t,i,n,r){var s=o(this.points,i,n,r);e.arrowShapeImpl("polygon")(t,s)},spacing:function(t){return 0},gap:s},a)};a("none",{collide:Dt,roughCollide:Dt,draw:St,spacing:Ct,gap:Ct}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:t["triangle"].points,controlPoint:[0,-.15],roughCollide:i,draw:function(t,i,r,s,a){var l=o(this.points,i,r,s),h=this.controlPoint,d=n(h[0],h[1],i,r,s);e.arrowShapeImpl(this.name)(t,l,d)},gap:function(t){return.8*s(t)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,i,n,s,a,l){var h=r(o(this.points,i+2*l,n,s)),d=r(o(this.pointsTee,i+2*l,n,s)),u=Ke(t,e,h)||Ke(t,e,d);return u},draw:function(t,i,n,r,s){var a=o(this.points,i,n,r),l=o(this.pointsTee,i,n,r);e.arrowShapeImpl(this.name)(t,a,l)}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var i=this.baseCrossLinePts.slice(),n=e/t,o=3,r=5;return i[o]=i[o]-n,i[r]=i[r]-n,i},collide:function(t,e,i,n,s,a,l){var h=r(o(this.points,i+2*l,n,s)),d=r(o(this.crossLinePts(i,a),i+2*l,n,s)),u=Ke(t,e,h)||Ke(t,e,d);return u},draw:function(t,i,n,r,s){var a=o(this.points,i,n,r),l=o(this.crossLinePts(i,s),i,n,r);e.arrowShapeImpl(this.name)(t,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*s(t)}}),a("circle",{radius:.15,collide:function(t,e,i,n,o,r,s){var a=o,l=Math.pow(a.x-t,2)+Math.pow(a.y-e,2)<=Math.pow((i+2*s)*this.radius,2);return l},draw:function(t,i,n,o,r){e.arrowShapeImpl(this.name)(t,o.x,o.y,this.radius*i)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},_a={projectIntoViewport:function(t,e){var i=this.cy,n=this.findContainerClientCoords(),o=n[0],r=n[1],s=n[4],a=i.pan(),l=i.zoom(),h=((t-o)/s-a.x)/l,d=((e-r)/s-a.y)/l;return[h,d]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),i=g.getComputedStyle(t),n=function(t){return parseFloat(i.getPropertyValue(t))},o={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},r={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,a=t.clientHeight,l=o.left+o.right,h=o.top+o.bottom,d=r.left+r.right,u=e.width/(s+d),c=s-l,p=a-h,f=e.left+o.left+r.left,v=e.top+o.top+r.top;return this.containerBB=[f,v,c,p,u]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,i,n){return this.findNearestElements(t,e,i,n)[0]},findNearestElements:function(t,e,i,n){var o,r,s=this,a=this,l=a.getCachedZSortedEles(),h=[],d=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/d,p=(n?8:2)/d,f=(n?8:2)/d,g=1/0;function v(t,e){if(t.isNode()){if(r)return;r=t,h.push(t)}if(t.isEdge()&&(null==e||e<g))if(o){if(o.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&o.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var i=0;i<h.length;i++)if(h[i].isEdge()){h[i]=t,o=t,g=null!=e?e:g;break}}else h.push(t),o=t,g=null!=e?e:g}function m(i){var n=i.outerWidth()+2*p,o=i.outerHeight()+2*p,r=n/2,l=o/2,h=i.position();if(h.x-r<=t&&t<=h.x+r&&h.y-l<=e&&e<=h.y+l){var d=a.nodeShapes[s.getNodeShape(i)];if(d.checkPoint(t,e,0,n,o,h.x,h.y))return v(i,0),!0}}function y(i){var n,o=i._private,r=o.rscratch,l=i.pstyle("width").pfValue,d=i.pstyle("arrow-scale").value,p=l/2+c,f=p*p,g=2*p,y=o.source,b=o.target;if("segments"===r.edgeType||"straight"===r.edgeType||"haystack"===r.edgeType){for(var w=r.allpts,x=0;x+3<w.length;x+=2)if(Ge(t,e,w[x],w[x+1],w[x+2],w[x+3],g)&&f>(n=Xe(t,e,w[x],w[x+1],w[x+2],w[x+3])))return v(i,n),!0}else if("bezier"===r.edgeType||"multibezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType)for(w=r.allpts,x=0;x+5<r.allpts.length;x+=4)if(We(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],g)&&f>(n=qe(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return v(i,n),!0;y=y||o.source,b=b||o.target;var _=s.getArrowWidth(l,d),E=[{name:"source",x:r.arrowStartX,y:r.arrowStartY,angle:r.srcArrowAngle},{name:"target",x:r.arrowEndX,y:r.arrowEndY,angle:r.tgtArrowAngle},{name:"mid-source",x:r.midX,y:r.midY,angle:r.midsrcArrowAngle},{name:"mid-target",x:r.midX,y:r.midY,angle:r.midtgtArrowAngle}];for(x=0;x<E.length;x++){var k=E[x],T=a.arrowShapes[i.pstyle(k.name+"-arrow-shape").value],D=i.pstyle("width").pfValue;if(T.roughCollide(t,e,_,k.angle,{x:k.x,y:k.y},D,c)&&T.collide(t,e,_,k.angle,{x:k.x,y:k.y},D,c))return v(i),!0}u&&h.length>0&&(m(y),m(b))}function b(t,e,i){return Yt(t,e,i)}function w(i,n){var o,r=i._private,s=f;o=n?n+"-":"";var a=i.pstyle(o+"label").value,l="yes"===i.pstyle("text-events").strValue;if(l&&a){var h=r.rstyle,d=i.pstyle("text-border-width").pfValue,u=i.pstyle("text-background-padding").pfValue,c=b(h,"labelWidth",n)+d+2*s+2*u,p=b(h,"labelHeight",n)+d+2*s+2*u,g=b(h,"labelX",n),m=b(h,"labelY",n),y=b(r.rscratch,"labelAngle",n),w=g-c/2,x=g+c/2,_=m-p/2,E=m+p/2;if(y){var k=Math.cos(y),T=Math.sin(y),D=function(t,e){return t-=g,e-=m,{x:t*k-e*T+g,y:t*T+e*k+m}},C=D(w,_),S=D(w,E),M=D(x,_),O=D(x,E),N=[C.x,C.y,M.x,M.y,O.x,O.y,S.x,S.y];if(Ke(t,e,N))return v(i),!0}else{var A={w:c,h:p,x1:w,x2:x,y1:_,y2:E};if(ze(A,t,e))return v(i),!0}}}i&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var _=l[x];_.isNode()?m(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return h},getAllInBox:function(t,e,i,n){var o=this.getCachedZSortedEles().interactive,r=[],s=Math.min(t,i),a=Math.max(t,i),l=Math.min(e,n),h=Math.max(e,n);t=s,i=a,e=l,n=h;for(var d=Oe({x1:t,y1:e,x2:i,y2:n}),u=0;u<o.length;u++){var c=o[u];if(c.isNode()){var p=c,f=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Fe(d,f)&&!He(f,d)&&r.push(p)}else{var g=c,v=g._private,m=v.rscratch;if(null!=m.startX&&null!=m.startY&&!ze(d,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!ze(d,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,b=!0,w=0;w<y.length;w++)if(!je(d,y[w])){b=!1;break}b&&r.push(g)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||r.push(g)}}return r}},Ea={calculateArrowAngles:function(t){var e,i,n,o,r,s,a=t._private.rscratch,l="haystack"===a.edgeType,h="bezier"===a.edgeType,d="multibezier"===a.edgeType,u="segments"===a.edgeType,c="compound"===a.edgeType,p="self"===a.edgeType;if(l?(n=a.haystackPts[0],o=a.haystackPts[1],r=a.haystackPts[2],s=a.haystackPts[3]):(n=a.arrowStartX,o=a.arrowStartY,r=a.arrowEndX,s=a.arrowEndY),m=a.midX,y=a.midY,u)e=n-a.segpts[0],i=o-a.segpts[1];else if(d||c||p||h){var f=a.allpts,g=De(f[0],f[2],f[4],.1),v=De(f[1],f[3],f[5],.1);e=n-g,i=o-v}else e=n-m,i=o-y;a.srcArrowAngle=we(e,i);var m=a.midX,y=a.midY;if(l&&(m=(n+r)/2,y=(o+s)/2),e=r-n,i=s-o,u){f=a.allpts;if(f.length/2%2===0){var b=f.length/2,w=b-2;e=f[b]-f[w],i=f[b+1]-f[w+1]}else{b=f.length/2-1,w=b-2;var x=b+2;e=f[b]-f[w],i=f[b+1]-f[w+1]}}else if(d||c||p){f=a.allpts;var _,E,k,T,D=a.ctrlpts;if(D.length/2%2===0){var C=f.length/2-1,S=C+2,M=S+2;_=De(f[C],f[S],f[M],0),E=De(f[C+1],f[S+1],f[M+1],0),k=De(f[C],f[S],f[M],1e-4),T=De(f[C+1],f[S+1],f[M+1],1e-4)}else{S=f.length/2-1,C=S-2,M=S+2;_=De(f[C],f[S],f[M],.4999),E=De(f[C+1],f[S+1],f[M+1],.4999),k=De(f[C],f[S],f[M],.5),T=De(f[C+1],f[S+1],f[M+1],.5)}e=k-_,i=T-E}if(a.midtgtArrowAngle=we(e,i),a.midDispX=e,a.midDispY=i,e*=-1,i*=-1,u){f=a.allpts;if(f.length/2%2===0);else{b=f.length/2-1,x=b+2;e=-(f[x]-f[b]),i=-(f[x+1]-f[b+1])}}if(a.midsrcArrowAngle=we(e,i),u)e=r-a.segpts[a.segpts.length-2],i=s-a.segpts[a.segpts.length-1];else if(d||c||p||h){f=a.allpts;var O=f.length;g=De(f[O-6],f[O-4],f[O-2],.9),v=De(f[O-5],f[O-3],f[O-1],.9);e=r-g,i=s-v}else e=r-m,i=s-y;a.tgtArrowAngle=we(e,i)}};Ea.getArrowWidth=Ea.getArrowHeight=function(t,e){var i=this.arrowWidthCache=this.arrowWidthCache||{},n=i[t+", "+e];return n||(n=Math.max(Math.pow(13.37*t,.9),29)*e,i[t+", "+e]=n,n)};var ka={};function Ta(t){var e=[];if(null!=t){for(var i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e.push({x:n,y:o})}return e}}ka.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i._private,o=n.rscratch;if(!o.haystack){var r=2*Math.random()*Math.PI;o.source={x:Math.cos(r),y:Math.sin(r)},r=2*Math.random()*Math.PI,o.target={x:Math.cos(r),y:Math.sin(r)}}var s=n.source,a=n.target,l=s.position(),h=a.position(),d=s.width(),u=a.width(),c=s.height(),p=a.height(),f=i.pstyle("haystack-radius").value,g=f/2;o.haystackPts=o.allpts=[o.source.x*d*g+l.x,o.source.y*c*g+l.y,o.target.x*u*g+h.x,o.target.y*p*g+h.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(i),this.calculateArrowAngles(i),this.recalculateEdgeLabelProjections(i),this.calculateLabelAngles(i)}},ka.findSegmentsPoints=function(t,e){var i=t._private.rscratch,n=e.posPts,o=e.intersectionPts,r=e.vectorNormInverse,s=t.pstyle("edge-distances").value,a=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),h=Math.min(a.pfValue.length,l.pfValue.length);i.edgeType="segments",i.segpts=[];for(var d=0;d<h;d++){var u=a.pfValue[d],c=l.pfValue[d],p=1-u,f=u,g="node-position"===s?n:o,v={x:g.x1*p+g.x2*f,y:g.y1*p+g.y2*f};i.segpts.push(v.x+r.x*c,v.y+r.y*c)}},ka.findLoopPoints=function(t,e,i,n){var o=t._private.rscratch,r=e.dirCounts,s=e.srcPos,a=t.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,h=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,u=t.pstyle("control-point-step-size").pfValue;o.edgeType="self";var c=i,p=u;n&&(c=0,p=l);var f=h-Math.PI/2,g=f-d/2,v=f+d/2,m=String(h+"_"+d);c=void 0===r[m]?r[m]=0:++r[m],o.ctrlpts=[s.x+1.4*Math.cos(g)*p*(c/3+1),s.y+1.4*Math.sin(g)*p*(c/3+1),s.x+1.4*Math.cos(v)*p*(c/3+1),s.y+1.4*Math.sin(v)*p*(c/3+1)]},ka.findCompoundLoopPoints=function(t,e,i,n){var o=t._private.rscratch;o.edgeType="compound";var r=e.srcPos,s=e.tgtPos,a=e.srcW,l=e.srcH,h=e.tgtW,d=e.tgtH,u=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),p=c?c.pfValue[0]:void 0,f=i,g=u;n&&(f=0,g=p);var v=50,m={x:r.x-a/2,y:r.y-l/2},y={x:s.x-h/2,y:s.y-d/2},b={x:Math.min(m.x,y.x),y:Math.min(m.y,y.y)},w=.5,x=Math.max(w,Math.log(.01*a)),_=Math.max(w,Math.log(.01*h));o.ctrlpts=[b.x,b.y-(1+Math.pow(v,1.12)/100)*g*(f/3+1)*x,b.x-(1+Math.pow(v,1.12)/100)*g*(f/3+1)*_,b.y]},ka.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},ka.findBezierPoints=function(t,e,i,n,o){var r=t._private.rscratch,s=e.vectorNormInverse,a=e.posPts,l=e.intersectionPts,h=t.pstyle("edge-distances").value,d=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),c=t.pstyle("control-point-weights"),p=u&&c?Math.min(u.value.length,c.value.length):1,f=u?u.pfValue[0]:void 0,g=c.value[0],v=n;r.edgeType=v?"multibezier":"bezier",r.ctrlpts=[];for(var m=0;m<p;m++){var y=(.5-e.eles.length/2+i)*d*(o?-1:1),b=void 0,w=_e(y);v&&(f=u?u.pfValue[m]:d,g=c.value[m]),b=n?f:void 0!==f?w*f:void 0;var x=void 0!==b?b:y,_=1-g,E=g,k="node-position"===h?a:l,T={x:k.x1*_+k.x2*E,y:k.y1*_+k.y2*E};r.ctrlpts.push(T.x+s.x*x,T.y+s.y*x)}},ka.findTaxiPoints=function(t,e){var i=t._private.rscratch;i.edgeType="segments";var n="vertical",o="horizontal",r="leftward",s="rightward",a="downward",l="upward",h="auto",d=e.posPts,u=e.srcW,c=e.srcH,p=e.tgtW,f=e.tgtH,g=t.pstyle("edge-distances").value,v="node-position"!==g,m=t.pstyle("taxi-direction").value,y=m,b=t.pstyle("taxi-turn"),w=b.pfValue,x=t.pstyle("taxi-turn-min-distance").pfValue,_="%"===b.units,E=v?(u+p)/2:0,k=v?(c+f)/2:0,T=d.x2-d.x1,D=d.y2-d.y1,C=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},S=C(T,E),M=C(D,k),O=!1;m===h?m=Math.abs(S)>Math.abs(M)?o:n:m===l||m===a?(m=n,O=!0):m!==r&&m!==s||(m=o,O=!0);var N=m===n,A=N?M:S,P=N?D:T,I=_e(P),L=!1;O&&_||!(y===a&&P<0||y===l&&P>0||y===r&&P>0||y===s&&P<0)||(I*=-1,A=I*Math.abs(A),L=!0);var R=_?w*A:w*I,B=function(t){return Math.abs(t)<x||Math.abs(t)>=Math.abs(A)},F=B(R),z=B(A-R),j=F||z;if(j&&!L)if(N){var H=Math.abs(P)<=c/2,Y=Math.abs(T)<=p/2;if(H){var G=(d.x1+d.x2)/2,W=d.y1,V=d.y2;i.segpts=[G,W,G,V]}else if(Y){var U=(d.y1+d.y2)/2,q=d.x1,X=d.x2;i.segpts=[q,U,X,U]}else i.segpts=[d.x1,d.y2]}else{var K=Math.abs(P)<=u/2,Z=Math.abs(D)<=f/2;if(K){var $=(d.y1+d.y2)/2,Q=d.x1,J=d.x2;i.segpts=[Q,$,J,$]}else if(Z){var tt=(d.x1+d.x2)/2,et=d.y1,it=d.y2;i.segpts=[tt,et,tt,it]}else i.segpts=[d.x2,d.y1]}else if(N){var nt=d.y1+R+(v?c/2*I:0),ot=d.x1,rt=d.x2;i.segpts=[ot,nt,rt,nt]}else{var st=d.x1+R+(v?u/2*I:0),at=d.y1,lt=d.y2;i.segpts=[st,at,st,lt]}},ka.tryToCorrectInvalidPoints=function(t,e){var i=t._private.rscratch;if("bezier"===i.edgeType){var n=e.srcPos,o=e.tgtPos,r=e.srcW,s=e.srcH,a=e.tgtW,l=e.tgtH,h=e.srcShape,d=e.tgtShape,u=!C(i.startX)||!C(i.startY),c=!C(i.arrowStartX)||!C(i.arrowStartY),p=!C(i.endX)||!C(i.endY),f=!C(i.arrowEndX)||!C(i.arrowEndY),g=3,v=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,m=g*v,y=Ee({x:i.ctrlpts[0],y:i.ctrlpts[1]},{x:i.startX,y:i.startY}),b=y<m,w=Ee({x:i.ctrlpts[0],y:i.ctrlpts[1]},{x:i.endX,y:i.endY}),x=w<m,_=!1;if(u||c||b){_=!0;var E={x:i.ctrlpts[0]-n.x,y:i.ctrlpts[1]-n.y},k=Math.sqrt(E.x*E.x+E.y*E.y),T={x:E.x/k,y:E.y/k},D=Math.max(r,s),S={x:i.ctrlpts[0]+2*T.x*D,y:i.ctrlpts[1]+2*T.y*D},M=h.intersectLine(n.x,n.y,r,s,S.x,S.y,0);b?(i.ctrlpts[0]=i.ctrlpts[0]+T.x*(m-y),i.ctrlpts[1]=i.ctrlpts[1]+T.y*(m-y)):(i.ctrlpts[0]=M[0]+T.x*m,i.ctrlpts[1]=M[1]+T.y*m)}if(p||f||x){_=!0;var O={x:i.ctrlpts[0]-o.x,y:i.ctrlpts[1]-o.y},N=Math.sqrt(O.x*O.x+O.y*O.y),A={x:O.x/N,y:O.y/N},P=Math.max(r,s),I={x:i.ctrlpts[0]+2*A.x*P,y:i.ctrlpts[1]+2*A.y*P},L=d.intersectLine(o.x,o.y,a,l,I.x,I.y,0);x?(i.ctrlpts[0]=i.ctrlpts[0]+A.x*(m-w),i.ctrlpts[1]=i.ctrlpts[1]+A.y*(m-w)):(i.ctrlpts[0]=L[0]+A.x*m,i.ctrlpts[1]=L[1]+A.y*m)}_&&this.findEndpoints(t)}},ka.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var i=0;i+1<e.ctrlpts.length;i+=2)e.allpts.push(e.ctrlpts[i],e.ctrlpts[i+1]),i+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[i]+e.ctrlpts[i+2])/2,(e.ctrlpts[i+1]+e.ctrlpts[i+3])/2);var n,o;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,o=.5,e.midX=De(e.allpts[n],e.allpts[n+2],e.allpts[n+4],o),e.midY=De(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],o))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var r=e.segpts.length/2,s=r-2;e.midX=(e.segpts[s]+e.segpts[r])/2,e.midY=(e.segpts[s+1]+e.segpts[r+1])/2}else{var a=e.segpts.length/2-1;e.midX=e.segpts[a],e.midY=e.segpts[a+1]}},ka.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||C(e.startX)&&C(e.startY)&&C(e.endX)&&C(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Nt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ka.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var i=this,n=i.cy,o=n.hasCompoundNodes(),r=new Vt,s=[],a=[],l=0;l<t.length;l++){var h=t[l],d=h._private,u=h.pstyle("curve-style").value;if(!h.removed()&&h.takesUpSpace())if("haystack"!==u){var c="unbundled-bezier"===u||"segments"===u||"straight"===u||"taxi"===u,p="unbundled-bezier"===u||"bezier"===u,f=d.source.poolIndex(),g=d.target.poolIndex(),v=(c?-1:1)*mt([f,g].sort()),m=v,y=r.get(m);null==y&&(y={eles:[]},r.set(m,y),s.push(m)),y.eles.push(h),c&&(y.hasUnbundled=!0),p&&(y.hasBezier=!0)}else a.push(h)}for(var b=function(t){var n=s[t],a=r.get(n),l=void 0;if(!a.hasUnbundled){var h=a.eles[0].parallelEdges().filter(function(t){return t.isBundledBezier()});jt(a.eles),h.forEach(function(t){return a.eles.push(t)}),a.eles.sort(function(t,e){return t.poolIndex()-e.poolIndex()})}var d=a.eles[0],u=d.source(),c=d.target();if(u.poolIndex()>c.poolIndex()){var p=u;u=c,c=p}var f=a.srcPos=u.position(),g=a.tgtPos=c.position(),v=a.srcW=u.outerWidth(),m=a.srcH=u.outerHeight(),y=a.tgtW=c.outerWidth(),b=a.tgtH=c.outerHeight(),w=a.srcShape=i.nodeShapes[e.getNodeShape(u)],x=a.tgtShape=i.nodeShapes[e.getNodeShape(c)];a.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<a.eles.length;_++){var E=a.eles[_],k=E[0]._private.rscratch,T=E.pstyle("curve-style").value,D="unbundled-bezier"===T||"segments"===T||"taxi"===T,S=!u.same(E.source());if(!a.calculatedIntersection&&u!==c&&(a.hasBezier||a.hasUnbundled)){a.calculatedIntersection=!0;var M=w.intersectLine(f.x,f.y,v,m,g.x,g.y,0),O=a.srcIntn=M,N=x.intersectLine(g.x,g.y,y,b,f.x,f.y,0),A=a.tgtIntn=N,P=a.intersectionPts={x1:M[0],x2:N[0],y1:M[1],y2:N[1]},I=a.posPts={x1:f.x,x2:g.x,y1:f.y,y2:g.y},L=N[1]-M[1],R=N[0]-M[0],B=Math.sqrt(R*R+L*L),F=a.vector={x:R,y:L},z=a.vectorNorm={x:F.x/B,y:F.y/B},j={x:-z.y,y:z.x};a.nodesOverlap=!C(B)||x.checkPoint(M[0],M[1],0,y,b,g.x,g.y)||w.checkPoint(N[0],N[1],0,v,m,f.x,f.y),a.vectorNormInverse=j,l={nodesOverlap:a.nodesOverlap,dirCounts:a.dirCounts,calculatedIntersection:!0,hasBezier:a.hasBezier,hasUnbundled:a.hasUnbundled,eles:a.eles,srcPos:g,tgtPos:f,srcW:y,srcH:b,tgtW:v,tgtH:m,srcIntn:A,tgtIntn:O,srcShape:x,tgtShape:w,posPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},intersectionPts:{x1:P.x2,y1:P.y2,x2:P.x1,y2:P.y1},vector:{x:-F.x,y:-F.y},vectorNorm:{x:-z.x,y:-z.y},vectorNormInverse:{x:-j.x,y:-j.y}}}var H=S?l:a;k.nodesOverlap=H.nodesOverlap,k.srcIntn=H.srcIntn,k.tgtIntn=H.tgtIntn,o&&(u.isParent()||u.isChild()||c.isParent()||c.isChild())&&(u.parents().anySame(c)||c.parents().anySame(u)||u.same(c))?e.findCompoundLoopPoints(E,H,_,D):u===c?e.findLoopPoints(E,H,_,D):"segments"===T?e.findSegmentsPoints(E,H):"taxi"===T?e.findTaxiPoints(E,H):"straight"===T||!D&&a.eles.length%2===1&&_===Math.floor(a.eles.length/2)?e.findStraightEdgePoints(E):e.findBezierPoints(E,H,_,D,S),e.findEndpoints(E),e.tryToCorrectInvalidPoints(E,H),e.checkForInvalidEdgeWarning(E),e.storeAllpts(E),e.storeEdgeProjections(E),e.calculateArrowAngles(E),e.recalculateEdgeLabelProjections(E),e.calculateLabelAngles(E)}},w=0;w<s.length;w++)b(w);this.findHaystackPoints(a)}},ka.getSegmentPoints=function(t){var e=t[0]._private.rscratch,i=e.edgeType;if("segments"===i)return this.recalculateRenderedStyle(t),Ta(e.segpts)},ka.getControlPoints=function(t){var e=t[0]._private.rscratch,i=e.edgeType;if("bezier"===i||"multibezier"===i||"self"===i||"compound"===i)return this.recalculateRenderedStyle(t),Ta(e.ctrlpts)},ka.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Da={manualEndptToPx:function(t,e){var i=this,n=t.position(),o=t.outerWidth(),r=t.outerHeight();if(2===e.value.length){var s=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(s[0]=s[0]*o),"%"===e.units[1]&&(s[1]=s[1]*r),s[0]+=n.x,s[1]+=n.y,s}var a=e.pfValue[0];a=-Math.PI/2+a;var l=2*Math.max(o,r),h=[n.x+Math.cos(a)*l,n.y+Math.sin(a)*l];return i.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,o,r,h[0],h[1],0)},findEndpoints:function(t){var e,i,n,o,r,s=this,a=t.source()[0],l=t.target()[0],h=a.position(),d=l.position(),u=t.pstyle("target-arrow-shape").value,c=t.pstyle("source-arrow-shape").value,p=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,g=t._private.rscratch,v=g.edgeType,m="self"===v||"compound"===v,y="bezier"===v||"multibezier"===v||m,b="bezier"!==v,w="straight"===v||"segments"===v,x="segments"===v,_=y||b||w,E=t.pstyle("source-endpoint"),k=m?"outside-to-node":E.value,T=t.pstyle("target-endpoint"),D=m?"outside-to-node":T.value;if(g.srcManEndpt=E,g.tgtManEndpt=T,y){var S=[g.ctrlpts[0],g.ctrlpts[1]],M=b?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:S;i=M,n=S}else if(w){var O=x?g.segpts.slice(0,2):[d.x,d.y],N=x?g.segpts.slice(g.segpts.length-2):[h.x,h.y];i=N,n=O}if("inside-to-node"===D)e=[d.x,d.y];else if(T.units)e=this.manualEndptToPx(l,T);else if("outside-to-line"===D)e=g.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?o=i:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(o=[h.x,h.y]),e=s.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var A=l._private.rscratch,P=A.labelWidth,I=A.labelHeight,L=A.labelX,R=A.labelY,B=l.pstyle("text-valign").value;"top"===B?R-=I/2:"bottom"===B&&(R+=I/2);var F=l.pstyle("text-halign").value;"left"===F?L-=P/2:"right"===F&&(L+=P/2);var z=s.nodeShapes["rectangle"].intersectLine(L,R,P,I,o[0],o[1],0),j=h,H=ke(j,fe(e)),Y=ke(j,fe(z));Y<H&&(e=z)}var G=ri(e,i,s.arrowShapes[u].spacing(t)+p),W=ri(e,i,s.arrowShapes[u].gap(t)+p);if(g.endX=W[0],g.endY=W[1],g.arrowEndX=G[0],g.arrowEndY=G[1],"inside-to-node"===k)e=[h.x,h.y];else if(E.units)e=this.manualEndptToPx(a,E);else if("outside-to-line"===k)e=g.srcIntn;else if("outside-to-node"===k||"outside-to-node-or-label"===k?r=n:"outside-to-line"!==k&&"outside-to-line-or-label"!==k||(r=[d.x,d.y]),e=s.nodeShapes[this.getNodeShape(a)].intersectLine(h.x,h.y,a.outerWidth(),a.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===k||"outside-to-line-or-label"===k){var V=a._private.rscratch,U=V.labelWidth,q=V.labelHeight,X=V.labelX,K=V.labelY,Z=a.pstyle("text-valign").value;"top"===Z?K-=q/2:"bottom"===Z&&(K+=q/2);var $=a.pstyle("text-halign").value;"left"===$?X-=U/2:"right"===$&&(X+=U/2);var Q=s.nodeShapes["rectangle"].intersectLine(X,K,U,q,r[0],r[1],0),J=d,tt=ke(J,fe(e)),et=ke(J,fe(Q));et<tt&&(e=Q)}var it=ri(e,n,s.arrowShapes[c].spacing(t)+f),nt=ri(e,n,s.arrowShapes[c].gap(t)+f);g.startX=nt[0],g.startY=nt[1],g.arrowStartX=it[0],g.arrowStartY=it[1],_&&(C(g.startX)&&C(g.startY)&&C(g.endX)&&C(g.endY)?g.badLine=!1:g.badLine=!0)},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},Ca={};function Sa(t,e,i){for(var n=function(t,e,i,n){return De(t,e,i,n)},o=e._private,r=o.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var a=t.bezierProjPcts[s];r.push({x:n(i[0],i[2],i[4],a),y:n(i[1],i[3],i[5],a)})}}Ca.storeEdgeProjections=function(t){var e=t._private,i=e.rscratch,n=i.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){e.rstyle.bezierPts=[];for(var o=0;o+5<i.allpts.length;o+=4)Sa(this,t,i.allpts.slice(o,o+6))}else if("segments"===n){var r=e.rstyle.linePts=[];for(o=0;o+1<i.allpts.length;o+=2)r.push({x:i.allpts[o],y:i.allpts[o+1]})}else if("haystack"===n){var s=i.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},Ca.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Ma={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!R(e)){var i,n,o=t._private,r=t.width(),s=t.height(),a=t.padding(),l=t.position(),h=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,u=o.rscratch,c=o.rstyle;switch(h){case"left":i=l.x-r/2-a;break;case"right":i=l.x+r/2+a;break;default:i=l.x}switch(d){case"top":n=l.y-s/2-a;break;case"bottom":n=l.y+s/2+a;break;default:n=l.y}u.labelX=i,u.labelY=n,c.labelX=i,c.labelY=n,this.applyLabelDimensions(t)}}},Oa=function(t,e){var i=Math.atan(e/t);return 0===t&&i<0&&(i*=-1),i},Na=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Oa(i,n)},Aa=function(t,e,i,n){var o=Me(0,n-.001,1),r=Me(0,n+.001,1),s=Ce(t,e,i,o),a=Ce(t,e,i,r);return Na(s,a)};Ma.recalculateEdgeLabelProjections=function(t){var e,i=t._private,n=i.rscratch,o=this,r={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(r.mid||r.source||r.target){e={x:n.midX,y:n.midY};var s=function(t,e,n){Gt(i.rscratch,t,e,n),Gt(i.rstyle,t,e,n)};s("labelX",null,e.x),s("labelY",null,e.y);var a=Oa(n.midDispX,n.midDispY);s("labelAutoAngle",null,a);var l=function t(){if(t.cache)return t.cache;for(var e=[],r=0;r+5<n.allpts.length;r+=4){var s={x:n.allpts[r],y:n.allpts[r+1]},a={x:n.allpts[r+2],y:n.allpts[r+3]},l={x:n.allpts[r+4],y:n.allpts[r+5]};e.push({p0:s,p1:a,p2:l,startDist:0,length:0,segments:[]})}var h=i.rstyle.bezierPts,d=o.bezierProjPcts.length;function u(t,e,i,n,o){var r=Ee(e,i),s=t.segments[t.segments.length-1],a={p0:e,p1:i,t0:n,t1:o,startDist:s?s.startDist+s.length:0,length:r};t.segments.push(a),t.length+=r}for(r=0;r<e.length;r++){var c=e[r],p=e[r-1];p&&(c.startDist=p.startDist+p.length),u(c,c.p0,h[r*d],0,o.bezierProjPcts[0]);for(var f=0;f<d-1;f++)u(c,h[r*d+f],h[r*d+f+1],o.bezierProjPcts[f],o.bezierProjPcts[f+1]);u(c,h[r*d+d-1],c.p2,o.bezierProjPcts[d-1],1)}return t.cache=e},h=function(i){var o,a="source"===i;if(r[i]){var h=t.pstyle(i+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,u=l(),c=0,p=0,f=0;f<u.length;f++){for(var g=u[a?f:u.length-1-f],v=0;v<g.segments.length;v++){var m=g.segments[a?v:g.segments.length-1-v],y=f===u.length-1&&v===g.segments.length-1;if(c=p,p+=m.length,p>=h||y){d={cp:g,segment:m};break}}if(d)break}g=d.cp,m=d.segment;var b=(h-c)/m.length,w=m.t1-m.t0,x=a?m.t0+w*b:m.t1-w*b;x=Me(0,x,1),e=Ce(g.p0,g.p1,g.p2,x),o=Aa(g.p0,g.p1,g.p2,x,e);break;case"straight":case"segments":case"haystack":var _,E,k,T,D=0,C=n.allpts.length;for(f=0;f+3<C;f+=2)if(a?(k={x:n.allpts[f],y:n.allpts[f+1]},T={x:n.allpts[f+2],y:n.allpts[f+3]}):(k={x:n.allpts[C-2-f],y:n.allpts[C-1-f]},T={x:n.allpts[C-4-f],y:n.allpts[C-3-f]}),_=Ee(k,T),E=D,D+=_,D>=h)break;var S=h-E;x=S/_;x=Me(0,x,1),e=Se(k,T,x),o=Na(k,T);break}s("labelX",i,e.x),s("labelY",i,e.y),s("labelAutoAngle",i,o)}};h("source"),h("target"),this.applyLabelDimensions(t)}},Ma.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},Ma.applyPrefixedLabelDimensions=function(t,e){var i=t._private,n=this.getLabelText(t,e),o=this.calculateLabelDimensions(t,n);Gt(i.rstyle,"labelWidth",e,o.width),Gt(i.rscratch,"labelWidth",e,o.width),Gt(i.rstyle,"labelHeight",e,o.height),Gt(i.rscratch,"labelHeight",e,o.height)},Ma.getLabelText=function(t,e){var i=t._private,n=e?e+"-":"",o=t.pstyle(n+"label").strValue,r=t.pstyle("text-transform").value,s=function(t,n){return n?(Gt(i.rscratch,t,e,n),n):Yt(i.rscratch,t,e)};if(!o)return"";"none"==r||("uppercase"==r?o=o.toUpperCase():"lowercase"==r&&(o=o.toLowerCase()));var a=t.pstyle("text-wrap").value;if("wrap"===a){var l=s("labelKey");if(null!=l&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var h=o.split("\n"),d=t.pstyle("text-max-width").pfValue,u=[],c=0;c<h.length;c++){var p=h[c],f=this.calculateLabelDimensions(t,p),g=f.width;if(g>d){for(var v=p.split(/\s+/),m="",y=0;y<v.length;y++){var b=v[y],w=0===m.length?b:m+" "+b,x=this.calculateLabelDimensions(t,w),_=x.width;_<=d?m+=b+" ":(u.push(m),m=b+" ")}m.match(/^\s+$/)||u.push(m)}else u.push(p)}s("labelWrapCachedLines",u),o=s("labelWrapCachedText",u.join("\n")),s("labelWrapKey",l)}else if("ellipsis"===a){d=t.pstyle("text-max-width").pfValue;for(var E="",k="â¦",T=!1,D=0;D<o.length;D++){var C=this.calculateLabelDimensions(t,E+o[D]+k).width;if(C>d)break;E+=o[D],D===o.length-1&&(T=!0)}return T||(E+=k),E}return o},Ma.calculateLabelDimensions=function(t,e){var i=this,n=yt(e,t._private.labelDimsKey),o=i.labelDimCache||(i.labelDimCache=[]),r=o[n];if(null!=r)return r;var s=1,a=t.pstyle("font-style").strValue,l=s*t.pstyle("font-size").pfValue+"px",h=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=h,c.fontStyle=a,c.fontSize=l,c.fontWeight=d,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===t.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=e,o[n]={width:Math.ceil(u.clientWidth/s),height:Math.ceil(u.clientHeight/s)}},Ma.calculateLabelAngle=function(t,e){var i=t._private,n=i.rscratch,o=t.isEdge(),r=e?e+"-":"",s=t.pstyle(r+"text-rotation"),a=s.strValue;return"none"===a?0:o&&"autorotate"===a?n.labelAutoAngle:"autorotate"===a?0:s.pfValue},Ma.calculateLabelAngles=function(t){var e=this,i=t.isEdge(),n=t._private,o=n.rscratch;o.labelAngle=e.calculateLabelAngle(t),i&&(o.sourceLabelAngle=e.calculateLabelAngle(t,"source"),o.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Pa={},Ia=28,La=!1;Pa.getNodeShape=function(t){var e=this,i=t.pstyle("shape").value;if("cutrectangle"===i&&(t.width()<Ia||t.height()<Ia))return La||(Nt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),La=!0),"rectangle";if(t.isParent())return"rectangle"===i||"roundrectangle"===i||"cutrectangle"===i||"barrel"===i?i:"rectangle";if("polygon"===i){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return i};var Ra={registerCalculationListeners:function(){var t=this.cy,e=t.collection(),i=this,n=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),i)for(var n=0;n<t.length;n++){var o=t[n],r=o._private,s=r.rstyle;s.clean=!1}};i.binder(t).on("bounds.* dirty.*",function(t){var e=t.target;n(e)}).on("style.* background.*",function(t){var e=t.target;n(e,!1)});var o=function(o){if(o){for(var r=i.onUpdateEleCalcsFns,s=0;s<e.length;s++){var a=e[s];a.isNode()&&!a._private.rstyle.clean&&n(a.connectedEdges())}if(r)for(s=0;s<r.length;s++){var l=r[s];l(o,e)}i.recalculateRenderedStyle(e),e=t.collection()}};i.flushRenderedStyleQueue=function(){o(!0)},i.beforeRender(o,i.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)},recalculateRenderedStyle:function(t,e){var i=[],n=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var r=t[o],s=r._private,a=s.rstyle;e&&a.clean||r.removed()||"none"!==r.pstyle("display").value&&("nodes"===s.group?n.push(r):i.push(r),a.clean=!0)}for(o=0;o<n.length;o++){r=n[o],s=r._private,a=s.rstyle;var l=r.position();this.recalculateNodeLabelProjection(r),a.nodeX=l.x,a.nodeY=l.y,a.nodeW=r.pstyle("width").pfValue,a.nodeH=r.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(o=0;o<i.length;o++){r=i[o],s=r._private,a=s.rstyle;var h=s.rscratch;a.srcX=h.arrowStartX,a.srcY=h.arrowStartY,a.tgtX=h.arrowEndX,a.tgtY=h.arrowEndY,a.midX=h.midX,a.midY=h.midY,a.labelAngle=h.labelAngle,a.sourceLabelAngle=h.sourceLabelAngle,a.targetLabelAngle=h.targetLabelAngle}}}},Ba={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],i=0;i<t.length;i++){var n=t[i],o=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):o.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(i=0;i<e.length;i++){n=e[i];t.drag.push(n)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Ir),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}},Fa={};[_a,Ea,ka,Da,Ca,Ma,Pa,Ra,Ba].forEach(function(t){et(Fa,t)});var za={getCachedImage:function(t,e,i){var n=this,o=n.imageCache=n.imageCache||{},r=o[t];if(r)return r.image.complete||r.image.addEventListener("load",i),r.image;r=o[t]=o[t]||{};var s=r.image=new Image;s.addEventListener("load",i),s.addEventListener("error",function(){s.error=!0});var a="data:",l=t.substring(0,a.length).toLowerCase()===a;return l||(s.crossOrigin=e),s.src=t,s}},ja={registerBinding:function(t,e,i,n){var o=Array.prototype.slice.apply(arguments,[1]),r=this.binder(t);return r.on.apply(r,o)},binder:function(t){var e=this,i=t===window||t===document||t===document.body||B(t);if(null==e.supportsPassiveEvents){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,o)}catch(s){}e.supportsPassiveEvents=n}var r=function(n,o,r){var s=Array.prototype.slice.call(arguments);return i&&e.supportsPassiveEvents&&(s[2]={capture:null!=r&&r,passive:!1,once:!1}),e.bindings.push({target:t,args:s}),(t.addEventListener||t.on).apply(t,s),this};return{on:r,addEventListener:r,addListener:r,bind:r}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()},load:function(){var t=this,e=function(t){return t.selected()},i=function(e,i,n,o){null==e&&(e=t.cy);for(var r=0;r<i.length;r++){var s=i[r];e.emit({originalEvent:n,type:s,position:o})}},n=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},r=function(e,i){var n=!0;if(t.cy.hasCompoundNodes()&&e&&e.isEdge())for(var o=0;i&&o<i.length;o++){e=i[o];if(e.isNode()&&e.isParent()){n=!1;break}}else n=!0;return n},s=function(t){t[0]._private.grabbed=!0},a=function(t){t[0]._private.grabbed=!1},l=function(t){t[0]._private.rscratch.inDragLayer=!0},h=function(t){t[0]._private.rscratch.inDragLayer=!1},d=function(t){t[0]._private.rscratch.isGrabTarget=!0},u=function(t){t[0]._private.rscratch.isGrabTarget=!1},c=function(t,e){var i=e.addToList,n=i.has(t);n||(i.merge(t),s(t))},p=function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var i=t.descendants();e.inDragLayer&&(i.forEach(l),i.connectedEdges().forEach(l)),e.addToList&&e.addToList.unmerge(i)}},f=function(e,i){i=i||{};var n=e.cy().hasCompoundNodes();i.inDragLayer&&(e.forEach(l),e.neighborhood().stdFilter(function(t){return!n||t.isEdge()}).forEach(l)),i.addToList&&e.forEach(function(t){c(t,i)}),p(e,i),m(e,{inDragLayer:i.inDragLayer}),t.updateCachedGrabbedEles()},g=f,v=function(e){e&&(t.getCachedZSortedEles().forEach(function(t){a(t),h(t),u(t)}),t.updateCachedGrabbedEles())},m=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var i=t.ancestors().orphans();if(!i.same(t)){var n=i.descendants().spawnSelf().merge(i).unmerge(t).unmerge(t.descendants()),o=n.connectedEdges();e.inDragLayer&&(o.forEach(l),n.forEach(l)),e.addToList&&n.forEach(function(t){c(t,e)})}}},y=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},b="undefined"!==typeof MutationObserver;b?(t.removeObserver=new MutationObserver(function(e){for(var i=0;i<e.length;i++){var n=e[i],o=n.removedNodes;if(o)for(var r=0;r<o.length;r++){var s=o[r];if(s===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(e){t.destroy()});var w=o(function(){t.cy.resize()},100);b&&(t.styleObserver=new MutationObserver(w),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",w);var x=function(t,e){while(null!=t)e(t),t=t.parentNode},_=function(){t.invalidateContainerClientCoordsCache()};x(t.container,function(e){t.registerBinding(e,"transitionend",_),t.registerBinding(e,"animationend",_),t.registerBinding(e,"scroll",_)}),t.registerBinding(t.container,"contextmenu",function(t){t.preventDefault()});var E=function(){return 0!==t.selection[4]},k=function(e){for(var i=t.findContainerClientCoords(),n=i[0],o=i[1],r=i[2],s=i[3],a=e.touches?e.touches:[e],l=!1,h=0;h<a.length;h++){var d=a[h];if(n<=d.clientX&&d.clientX<=n+r&&o<=d.clientY&&d.clientY<=o+s){l=!0;break}}if(!l)return!1;var u=t.container,c=e.target,p=c.parentNode,f=!1;while(p){if(p===u){f=!0;break}p=p.parentNode}return!!f};t.registerBinding(t.container,"mousedown",function(e){if(k(e)){e.preventDefault(),y(),t.hoverData.capture=!0,t.hoverData.which=e.which;var n=t.cy,o=[e.clientX,e.clientY],r=t.projectIntoViewport(o[0],o[1]),s=t.selection,a=t.findNearestElements(r[0],r[1],!0,!1),l=a[0],h=t.dragData.possibleDragElements;t.hoverData.mdownPos=r,t.hoverData.mdownGPos=o;var u=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var i=t.hoverData.down;i?i.emit({originalEvent:e,type:"taphold",position:{x:r[0],y:r[1]}}):n.emit({originalEvent:e,type:"taphold",position:{x:r[0],y:r[1]}})}},t.tapholdDuration)};if(3==e.which){t.hoverData.cxtStarted=!0;var c={originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}};l?(l.activate(),l.emit(c),t.hoverData.down=l):n.emit(c),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(l&&l.activate(),null!=l&&t.nodeIsGrabbable(l)){var p=function(t){return{originalEvent:e,type:t,position:{x:r[0],y:r[1]}}},v=function(t){t.emit(p("grab"))};if(d(l),l.selected()){h=t.dragData.possibleDragElements=n.collection();var m=n.$(function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)});f(m,{addToList:h}),l.emit(p("grabon")),m.forEach(v)}else h=t.dragData.possibleDragElements=n.collection(),g(l,{addToList:h}),l.emit(p("grabon")).emit(p("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=l,t.hoverData.downs=a,t.hoverData.downTime=(new Date).getTime(),i(l,["mousedown","tapstart","vmousedown"],e,{x:r[0],y:r[1]}),null==l?(s[4]=1,t.data.bgActivePosistion={x:r[0],y:r[1]},t.redrawHint("select",!0),t.redraw()):l.isEdge()&&(s[4]=1),u()}s[0]=s[2]=r[0],s[1]=s[3]=r[1]}},!1),t.registerBinding(window,"mousemove",function(e){var o=t.hoverData.capture;if(o||k(e)){var s=!1,a=t.cy,l=a.zoom(),h=[e.clientX,e.clientY],d=t.projectIntoViewport(h[0],h[1]),u=t.hoverData.mdownPos,c=t.hoverData.mdownGPos,p=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(d[0],d[1],!0,!1));var m,y=t.hoverData.last,b=t.hoverData.down,w=[d[0]-p[2],d[1]-p[3]],x=t.dragData.possibleDragElements;if(c){var _=h[0]-c[0],E=_*_,T=h[1]-c[1],D=T*T,S=E+D;t.hoverData.isOverThresholdDrag=m=S>=t.desktopTapThreshold2}var M=n(e);m&&(t.hoverData.tapholdCancelled=!0);var O=function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(w[0]),e.push(w[1])):(e[0]+=w[0],e[1]+=w[1])};s=!0,i(g,["mousemove","vmousemove","tapdrag"],e,{x:d[0],y:d[1]});var N=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||a.emit({originalEvent:e,type:"boxstart",position:{x:d[0],y:d[1]}}),p[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(m){var A={originalEvent:e,type:"cxtdrag",position:{x:d[0],y:d[1]}};b?b.emit(A):a.emit(A),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:d[0],y:d[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(t.hoverData.dragging){if(s=!0,a.panningEnabled()&&a.userPanningEnabled()){var P;if(t.hoverData.justStartedPan){var I=t.hoverData.mdownPos;P={x:(d[0]-I[0])*l,y:(d[1]-I[1])*l},t.hoverData.justStartedPan=!1}else P={x:w[0]*l,y:w[1]*l};a.panBy(P),t.hoverData.dragged=!0}d=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=p[4]||null!=b&&!b.isEdge()){if(b&&b.isEdge()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==y||(y&&i(y,["mouseout","tapdragout"],e,{x:d[0],y:d[1]}),g&&i(g,["mouseover","tapdragover"],e,{x:d[0],y:d[1]}),t.hoverData.last=g),b)if(m){if(a.boxSelectionEnabled()&&M)b&&b.grabbed()&&(v(x),b.emit("freeon"),x.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),x.emit("dragfree"))),N();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var L=!t.dragData.didDrag;L&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var R=a.collection();t.hoverData.draggingEles||f(x,{inDragLayer:!0});var B={x:0,y:0};if(C(w[0])&&C(w[1])&&(B.x+=w[0],B.y+=w[1],L)){var F=t.hoverData.dragDelta;F&&C(F[0])&&C(F[1])&&(B.x+=F[0],B.y+=F[1])}for(var z=0;z<x.length;z++){var j=x[z];t.nodeIsDraggable(j)&&j.grabbed()&&R.merge(j)}t.hoverData.draggingEles=!0,R.silentShift(B).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else O();s=!0}else if(m){if(t.hoverData.dragging||!a.boxSelectionEnabled()||!M&&a.panningEnabled()&&a.userPanningEnabled()){if(!t.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()){var H=r(b,t.hoverData.downs);H&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,p[4]=0,t.data.bgActivePosistion=fe(u),t.redrawHint("select",!0),t.redraw())}}else N();b&&b.isEdge()&&b.active()&&b.unactivate()}return p[2]=d[0],p[3]=d[1],s?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}},!1),t.registerBinding(window,"mouseup",function(o){var r=t.hoverData.capture;if(r){t.hoverData.capture=!1;var s=t.cy,a=t.projectIntoViewport(o.clientX,o.clientY),l=t.selection,h=t.findNearestElement(a[0],a[1],!0,!1),d=t.dragData.possibleDragElements,u=t.hoverData.down,c=n(o);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,u&&u.unactivate(),3===t.hoverData.which){var p={originalEvent:o,type:"cxttapend",position:{x:a[0],y:a[1]}};if(u?u.emit(p):s.emit(p),!t.hoverData.cxtDragged){var f={originalEvent:o,type:"cxttap",position:{x:a[0],y:a[1]}};u?u.emit(f):s.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(i(h,["mouseup","tapend","vmouseup"],o,{x:a[0],y:a[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||i(u,["click","tap","vclick"],o,{x:a[0],y:a[1]}),null!=u||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||n(o)||(s.$(e).unselect(["tapunselect"]),d.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=d=s.collection()),h!=u||t.dragData.didDrag||t.hoverData.selecting||null!=h&&h._private.selectable&&(t.hoverData.dragging||("additive"===s.selectionType()||c?h.selected()?h.unselect(["tapunselect"]):h.select(["tapselect"]):c||(s.$(e).unmerge(h).unselect(["tapunselect"]),h.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=s.collection(t.getAllInBox(l[0],l[1],l[2],l[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),s.emit({type:"boxend",originalEvent:o,position:{x:a[0],y:a[1]}});var m=function(t){return t.selectable()&&!t.selected()};"additive"===s.selectionType()?g.emit("box").stdFilter(m).select().emit("boxselect"):(c||s.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(m).select().emit("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!l[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var y=u&&u.grabbed();v(d),y&&(u.emit("freeon"),d.emit("free"),t.dragData.didDrag&&(u.emit("dragfreeon"),d.emit("dragfree")))}}l[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var T,D,S,M,O,N,A,P,I,L,R,B,F,z=function(e){if(!t.scrollingPage){var i=t.cy,n=t.projectIntoViewport(e.clientX,e.clientY),o=[n[0]*i.zoom()+i.pan().x,n[1]*i.zoom()+i.pan().y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||E())e.preventDefault();else if(i.panningEnabled()&&i.userPanningEnabled()&&i.zoomingEnabled()&&i.userZoomingEnabled()){var r;e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),r=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,r*=t.wheelSensitivity;var s=1===e.deltaMode;s&&(r*=33),i.zoom({level:i.zoom()*Math.pow(10,r),renderedPosition:{x:o[0],y:o[1]}})}}};t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"mouseout",function(e){var i=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:i[0],y:i[1]}})},!1),t.registerBinding(t.container,"mouseover",function(e){var i=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:i[0],y:i[1]}})},!1);var j,H,Y,G,W=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},V=function(t,e,i,n){return(i-t)*(i-t)+(n-e)*(n-e)};if(t.registerBinding(t.container,"touchstart",j=function(e){if(k(e)){y(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var n=t.cy,o=t.touchData.now,r=t.touchData.earlier;if(e.touches[0]){var s=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);o[0]=s[0],o[1]=s[1]}if(e.touches[1]){s=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);o[2]=s[0],o[3]=s[1]}if(e.touches[2]){s=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);o[4]=s[0],o[5]=s[1]}if(e.touches[1]){v(t.dragData.touchDragEles);var a=t.findContainerClientCoords();I=a[0],L=a[1],R=a[2],B=a[3],T=e.touches[0].clientX-I,D=e.touches[0].clientY-L,S=e.touches[1].clientX-I,M=e.touches[1].clientY-L,F=0<=T&&T<=R&&0<=S&&S<=R&&0<=D&&D<=B&&0<=M&&M<=B;var l=n.pan(),h=n.zoom();O=W(T,D,S,M),N=V(T,D,S,M),A=[(T+S)/2,(D+M)/2],P=[(A[0]-l.x)/h,(A[1]-l.y)/h];var u=200,c=u*u;if(N<c&&!e.touches[2]){var p=t.findNearestElement(o[0],o[1],!0,!0),m=t.findNearestElement(o[2],o[3],!0,!0);return p&&p.isNode()?(p.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start=p):m&&m.isNode()?(m.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start=m):n.emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2]);else if(e.touches[1]);else if(e.touches[0]){var b=t.findNearestElements(o[0],o[1],!0,!0),w=b[0];if(null!=w&&(w.activate(),t.touchData.start=w,t.touchData.starts=b,t.nodeIsGrabbable(w))){var x=t.dragData.touchDragEles=n.collection(),_=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),w.selected()?(_=n.$(function(e){return e.selected()&&t.nodeIsGrabbable(e)}),f(_,{addToList:x})):g(w,{addToList:x}),d(w);var E=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};w.emit(E("grabon")),_?_.forEach(function(t){t.emit(E("grab"))}):w.emit(E("grab"))}i(w,["touchstart","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==w&&(t.data.bgActivePosistion={x:s[0],y:s[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||i(t.touchData.start,["taphold"],e,{x:o[0],y:o[1]})},t.tapholdDuration)}if(e.touches.length>=1){for(var C=t.touchData.startPosition=[],z=0;z<o.length;z++)C[z]=r[z]=o[z];var j=e.touches[0];t.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),t.registerBinding(window,"touchmove",H=function(e){var n=t.touchData.capture;if(n||k(e)){var o=t.selection,s=t.cy,a=t.touchData.now,l=t.touchData.earlier,h=s.zoom();if(e.touches[0]){var d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=d[0],a[1]=d[1]}if(e.touches[1]){d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);a[2]=d[0],a[3]=d[1]}if(e.touches[2]){d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);a[4]=d[0],a[5]=d[1]}var u,c=t.touchData.startGPosition;if(n&&e.touches[0]&&c){for(var p=[],g=0;g<a.length;g++)p[g]=a[g]-l[g];var m=e.touches[0].clientX-c[0],y=m*m,b=e.touches[0].clientY-c[1],w=b*b,x=y+w;u=x>=t.touchTapThreshold2}if(n&&t.touchData.cxt){e.preventDefault();var _=e.touches[0].clientX-I,E=e.touches[0].clientY-L,A=e.touches[1].clientX-I,R=e.touches[1].clientY-L,B=V(_,E,A,R),z=B/N,j=150,H=j*j,Y=1.5,G=Y*Y;if(z>=G||B>=H){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var U={originalEvent:e,type:"cxttapend",position:{x:a[0],y:a[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(U),t.touchData.start=null):s.emit(U)}}if(n&&t.touchData.cxt){U={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(U):s.emit(U),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var q=t.findNearestElement(a[0],a[1],!0,!0);t.touchData.cxtOver&&q===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),t.touchData.cxtOver=q,q&&q.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(n&&e.touches[2]&&s.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:a[0],y:a[1]}}),t.touchData.selecting=!0,t.redrawHint("select",!0),o&&0!==o.length&&void 0!==o[0]?(o[2]=(a[0]+a[2]+a[4])/3,o[3]=(a[1]+a[3]+a[5])/3):(o[0]=(a[0]+a[2]+a[4])/3,o[1]=(a[1]+a[3]+a[5])/3,o[2]=(a[0]+a[2]+a[4])/3+1,o[3]=(a[1]+a[3]+a[5])/3+1),o[4]=1,t.touchData.selecting=!0,t.redraw();else if(n&&e.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var X=t.dragData.touchDragEles;if(X){t.redrawHint("drag",!0);for(var K=0;K<X.length;K++){var Z=X[K]._private;Z.grabbed=!1,Z.rscratch.inDragLayer=!1}}var $=t.touchData.start,Q=(_=e.touches[0].clientX-I,E=e.touches[0].clientY-L,A=e.touches[1].clientX-I,R=e.touches[1].clientY-L,W(_,E,A,R)),J=Q/O;if(F){var tt=_-T,et=E-D,it=A-S,nt=R-M,ot=(tt+it)/2,rt=(et+nt)/2,st=s.zoom(),at=st*J,lt=s.pan(),ht=P[0]*st+lt.x,dt=P[1]*st+lt.y,ut={x:-at/st*(ht-lt.x-ot)+ht,y:-at/st*(dt-lt.y-rt)+dt};if($&&$.active()){X=t.dragData.touchDragEles;v(X),t.redrawHint("drag",!0),t.redrawHint("eles",!0),$.unactivate().emit("freeon"),X.emit("free"),t.dragData.didDrag&&($.emit("dragfreeon"),X.emit("dragfree"))}s.viewport({zoom:at,pan:ut,cancelOnFailedZoom:!0}),O=Q,T=_,D=E,S=A,M=R,t.pinching=!0}if(e.touches[0]){d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=d[0],a[1]=d[1]}if(e.touches[1]){d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);a[2]=d[0],a[3]=d[1]}if(e.touches[2]){d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);a[4]=d[0],a[5]=d[1]}}else if(e.touches[0]){var ct=t.touchData.start,pt=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(q=t.findNearestElement(a[0],a[1],!0,!0)),n&&null!=ct&&e.preventDefault(),n&&null!=ct&&t.nodeIsDraggable(ct))if(u){X=t.dragData.touchDragEles;var ft=!t.dragData.didDrag;ft&&f(X,{inDragLayer:!0}),t.dragData.didDrag=!0;var gt={x:0,y:0};if(C(p[0])&&C(p[1])&&(gt.x+=p[0],gt.y+=p[1],ft)){t.redrawHint("eles",!0);var vt=t.touchData.dragDelta;vt&&C(vt[0])&&C(vt[1])&&(gt.x+=vt[0],gt.y+=vt[1])}t.hoverData.draggingEles=!0,X.silentShift(gt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==l[0]&&t.touchData.startPosition[1]==l[1]&&t.redrawHint("eles",!0),t.redraw()}else{vt=t.touchData.dragDelta=t.touchData.dragDelta||[];0===vt.length?(vt.push(p[0]),vt.push(p[1])):(vt[0]+=p[0],vt[1]+=p[1])}if(i(ct||q,["touchmove","tapdrag","vmousemove"],e,{x:a[0],y:a[1]}),ct&&ct.grabbed()||q==pt||(pt&&pt.emit({originalEvent:e,type:"tapdragout",position:{x:a[0],y:a[1]}}),q&&q.emit({originalEvent:e,type:"tapdragover",position:{x:a[0],y:a[1]}})),t.touchData.last=q,n)for(K=0;K<a.length;K++)a[K]&&t.touchData.startPosition[K]&&u&&(t.touchData.singleTouchMoved=!0);if(n&&(null==ct||ct.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){var mt=r(ct,t.touchData.starts);mt&&(e.preventDefault(),t.swipePanning?s.panBy({x:p[0]*h,y:p[1]*h}):u&&(t.swipePanning=!0,s.panBy({x:m*h,y:b*h}),ct&&(ct.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion=fe(t.touchData.startPosition)),t.redrawHint("select",!0),t.touchData.start=null)));d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=d[0],a[1]=d[1]}}for(g=0;g<a.length;g++)l[g]=a[g];n&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",Y=function(e){var i=t.touchData.start;t.touchData.capture=!1,i&&i.unactivate()}),t.registerBinding(window,"touchend",G=function(n){var o=t.touchData.start,r=t.touchData.capture;if(r){0===n.touches.length&&(t.touchData.capture=!1),n.preventDefault();var s=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var a,l=t.cy,h=l.zoom(),d=t.touchData.now,u=t.touchData.earlier;if(n.touches[0]){var c=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);d[0]=c[0],d[1]=c[1]}if(n.touches[1]){c=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);d[2]=c[0],d[3]=c[1]}if(n.touches[2]){c=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);d[4]=c[0],d[5]=c[1]}if(o&&o.unactivate(),t.touchData.cxt){if(a={originalEvent:n,type:"cxttapend",position:{x:d[0],y:d[1]}},o?o.emit(a):l.emit(a),!t.touchData.cxtDragged){var p={originalEvent:n,type:"cxttap",position:{x:d[0],y:d[1]}};o?o.emit(p):l.emit(p)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&l.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=l.collection(t.getAllInBox(s[0],s[1],s[2],s[3]));s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,t.redrawHint("select",!0),l.emit({type:"boxend",originalEvent:n,position:{x:d[0],y:d[1]}});var g=function(t){return t.selectable()&&!t.selected()};f.emit("box").stdFilter(g).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=o&&o.unactivate(),n.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var m=t.dragData.touchDragEles;if(null!=o){var y=o._private.grabbed;v(m),t.redrawHint("drag",!0),t.redrawHint("eles",!0),y&&(o.emit("freeon"),m.emit("free"),t.dragData.didDrag&&(o.emit("dragfreeon"),m.emit("dragfree"))),i(o,["touchend","tapend","vmouseup","tapdragout"],n,{x:d[0],y:d[1]}),o.unactivate(),t.touchData.start=null}else{var b=t.findNearestElement(d[0],d[1],!0,!0);i(b,["touchend","tapend","vmouseup","tapdragout"],n,{x:d[0],y:d[1]})}var w=t.touchData.startPosition[0]-d[0],x=w*w,_=t.touchData.startPosition[1]-d[1],E=_*_,k=x+E,T=k*h*h;t.touchData.singleTouchMoved||(o||l.$(":selected").unselect(["tapunselect"]),i(o,["tap","vclick"],n,{x:d[0],y:d[1]})),null!=o&&!t.dragData.didDrag&&o._private.selectable&&T<t.touchTapThreshold2&&!t.pinching&&("single"===l.selectionType()?(l.$(e).unmerge(o).unselect(["tapunselect"]),o.select(["tapselect"])):o.selected()?o.unselect(["tapunselect"]):o.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var D=0;D<d.length;D++)u[D]=d[D];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null),n.touches.length<2&&(t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"===typeof TouchEvent){var U=[],q=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},X=function(t){return{event:t,touch:q(t)}},K=function(t){U.push(X(t))},Z=function(t){for(var e=0;e<U.length;e++){var i=U[e];if(i.event.pointerId===t.pointerId)return void U.splice(e,1)}},$=function(t){var e=U.filter(function(e){return e.event.pointerId===t.pointerId})[0];e.event=t,e.touch=q(t)},Q=function(t){t.touches=U.map(function(t){return t.touch})},J=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",function(t){J(t)||(t.preventDefault(),K(t),Q(t),j(t))}),t.registerBinding(t.container,"pointerup",function(t){J(t)||(Z(t),Q(t),G(t))}),t.registerBinding(t.container,"pointercancel",function(t){J(t)||(Z(t),Q(t),Y(t))}),t.registerBinding(t.container,"pointermove",function(t){J(t)||(t.preventDefault(),$(t),Q(t),H(t))})}}},Ha={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl("polygon",t,e,i,n,o,this.points)},intersectLine:function(t,e,i,n,o,r,s){return oi(o,r,this.points,t,e,i/2,n/2,s)},checkPoint:function(t,e,i,n,o,r,s){return Ze(t,e,this.points,r,s,n,o,[0,-1],i)}}},generateEllipse:function(){return this.nodeShapes["ellipse"]={renderer:this,name:"ellipse",draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){return Je(o,r,t,e,i/2+s,n/2+s)},checkPoint:function(t,e,i,n,o,r,s){return ti(t,e,n,o,r,s,i)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes["roundrectangle"]={renderer:this,name:"round-rectangle",points:si(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){return Ye(o,r,t,e,i,n,s)},checkPoint:function(t,e,i,n,o,r,s){var a=hi(n,o),l=2*a;return!!Ze(t,e,this.points,r,s,n,o-l,[0,-1],i)||(!!Ze(t,e,this.points,r,s,n-l,o,[0,-1],i)||(!!ti(t,e,l,l,r-n/2+a,s-o/2+a,i)||(!!ti(t,e,l,l,r+n/2-a,s-o/2+a,i)||(!!ti(t,e,l,l,r+n/2-a,s+o/2-a,i)||!!ti(t,e,l,l,r-n/2+a,s+o/2-a,i)))))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes["cutrectangle"]={renderer:this,name:"cut-rectangle",cornerLength:di(),points:si(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},generateCutTrianglePts:function(t,e,i,n){var o=this.cornerLength,r=e/2,s=t/2,a=i-s,l=i+s,h=n-r,d=n+r;return{topLeft:[a,h+o,a+o,h,a+o,h+o],topRight:[l-o,h,l,h+o,l-o,h+o],bottomRight:[l,d-o,l-o,d,l-o,d-o],bottomLeft:[a+o,d,a,d-o,a+o,d-o]}},intersectLine:function(t,e,i,n,o,r,s){var a=this.generateCutTrianglePts(i+2*s,n+2*s,t,e),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return oi(o,r,l,t,e)},checkPoint:function(t,e,i,n,o,r,s){if(Ze(t,e,this.points,r,s,n,o-2*this.cornerLength,[0,-1],i))return!0;if(Ze(t,e,this.points,r,s,n-2*this.cornerLength,o,[0,-1],i))return!0;var a=this.generateCutTrianglePts(n,o,r,s);return Ke(t,e,a.topLeft)||Ke(t,e,a.topRight)||Ke(t,e,a.bottomRight)||Ke(t,e,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes["barrel"]={renderer:this,name:"barrel",points:si(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){var a=.15,l=.5,h=.85,d=this.generateBarrelBezierPts(i+2*s,n+2*s,t,e),u=function(t){var e=Ce({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},a),i=Ce({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},l),n=Ce({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},h);return[t[0],t[1],e.x,e.y,i.x,i.y,n.x,n.y,t[4],t[5]]},c=[].concat(u(d.topLeft),u(d.topRight),u(d.bottomRight),u(d.bottomLeft));return oi(o,r,c,t,e)},generateBarrelBezierPts:function(t,e,i,n){var o=e/2,r=t/2,s=i-r,a=i+r,l=n-o,h=n+o,d=ci(t,e),u=d.heightOffset,c=d.widthOffset,p=d.ctrlPtOffsetPct*t,f={topLeft:[s,l+u,s+p,l,s+c,l],topRight:[a-c,l,a-p,l,a,l+u],bottomRight:[a,h-u,a-p,h,a-c,h],bottomLeft:[s+c,h,s+p,h,s,h-u]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(t,e,i,n,o,r,s){var a=ci(n,o),l=a.heightOffset,h=a.widthOffset;if(Ze(t,e,this.points,r,s,n,o-2*l,[0,-1],i))return!0;if(Ze(t,e,this.points,r,s,n-2*h,o,[0,-1],i))return!0;for(var d=this.generateBarrelBezierPts(n,o,r,s),u=function(t,e,i){var n=i[4],o=i[2],r=i[0],s=i[5],a=i[1],l=Math.min(n,r),h=Math.max(n,r),d=Math.min(s,a),u=Math.max(s,a);if(l<=t&&t<=h&&d<=e&&e<=u){var c=ui(n,o,r),p=Ve(c[0],c[1],c[2],t),f=p.filter(function(t){return 0<=t&&t<=1});if(f.length>0)return f[0]}return null},c=Object.keys(d),p=0;p<c.length;p++){var f=c[p],g=d[f],v=u(t,e,g);if(null!=v){var m=g[5],y=g[3],b=g[1],w=De(m,y,b,v);if(g.isTop&&w<=e)return!0;if(g.isBottom&&e<=w)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes["bottomroundrectangle"]={renderer:this,name:"bottom-round-rectangle",points:si(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){var a=t-(i/2+s),l=e-(n/2+s),h=l,d=t+(i/2+s),u=ni(o,r,t,e,a,l,d,h,!1);return u.length>0?u:Ye(o,r,t,e,i,n,s)},checkPoint:function(t,e,i,n,o,r,s){var a=hi(n,o),l=2*a;if(Ze(t,e,this.points,r,s,n,o-l,[0,-1],i))return!0;if(Ze(t,e,this.points,r,s,n-l,o,[0,-1],i))return!0;var h=n/2+2*i,d=o/2+2*i,u=[r-h,s-d,r-h,s,r+h,s,r+h,s-d];return!!Ke(t,e,u)||(!!ti(t,e,l,l,r+n/2-a,s+o/2-a,i)||!!ti(t,e,l,l,r-n/2+a,s+o/2-a,i))}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",si(3,0)),this.generatePolygon("rectangle",si(4,0)),t["square"]=t["rectangle"],this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",si(5,0)),this.generatePolygon("hexagon",si(6,0)),this.generatePolygon("heptagon",si(7,0)),this.generatePolygon("octagon",si(8,0));var i=new Array(20),n=li(5,0),o=li(5,Math.PI/5),r=.5*(3-Math.sqrt(5));r*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=r,o[2*s+1]*=r;for(s=0;s<5;s++)i[4*s]=n[2*s],i[4*s+1]=n[2*s+1],i[4*s+2]=o[2*s],i[4*s+3]=o[2*s+1];i=ai(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes["concavehexagon"]=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),t.makePolygon=function(t){var i,n=t.join("$"),o="polygon-"+n;return(i=this[o])?i:e.generatePolygon(o,t)}}},Ya={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||Bt();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&Mt("Priority is not optional for beforeRender");var i=this.beforeRenderCallbacks;i.push({fn:t,priority:e}),i.sort(function(t,e){return e.priority-t.priority})}}},Ga=function(t,e,i){for(var n=t.beforeRenderCallbacks,o=0;o<n.length;o++)n[o].fn(e,i)};Ya.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var i=function i(n){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){Ga(t,!0,n);var o=ft();t.render(t.renderOptions);var r=t.lastDrawTime=ft();void 0===t.averageRedrawTime&&(t.averageRedrawTime=r-o),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=r-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Ga(t,!1,n);t.skipFrame=!1,pt(i)}};pt(i)}};var Wa=function(t){this.init(t)},Va=Wa,Ua=Va.prototype;Ua.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ua.init=function(t){var e=this;e.options=t,e.cy=t.cy;var i=e.container=t.cy.container();if(g){var n=g.document,o=n.head,r="__________cytoscape_stylesheet",s="__________cytoscape_container",a=null!=n.getElementById(r);if(i.className.indexOf(s)<0&&(i.className=(i.className||"")+" "+s),!a){var l=n.createElement("style");l.id=r,l.innerHTML="."+s+" { position: relative; }",o.insertBefore(l,o.children[0])}var h=g.getComputedStyle(i),d=h.getPropertyValue("position");"static"===d&&Nt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.hideLabelsOnViewport=t.hideLabelsOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=C(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Ua.notify=function(t,e){var i=this,n=i.cy;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&n.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&i.invalidateCachedZSortedEles(),"viewport"===t&&i.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(i.invalidateContainerClientCoordsCache(),i.matchCanvasSize(i.container)),i.redrawHint("eles",!0),i.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):i.destroy():i.load())},Ua.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var i=t.bindings[e],n=i,o=n.target;(o.off||o.removeEventListener).apply(o,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(r){}},Ua.isHeadless=function(){return!1},[xa,Fa,za,ja,Ha,Ya].forEach(function(t){et(Ua,t)});var qa=1e3/60,Xa={setupDequeueing:function(t){return function(){var e=this,i=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var n=o(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold),r=function(o,r){var s=ft(),a=i.averageRedrawTime,l=i.lastRedrawTime,h=[],d=i.cy.extent(),u=i.getPixelRatio();o||i.flushRenderedStyleQueue();while(1){var c=ft(),p=c-s,f=c-r;if(l<qa){var g=qa-(o?a:0);if(f>=t.deqFastCost*g)break}else if(o){if(p>=t.deqCost*l||p>=t.deqAvgCost*a)break}else if(f>=t.deqNoDrawCost*qa)break;var v=t.deq(e,u,d);if(!(v.length>0))break;for(var m=0;m<v.length;m++)h.push(v[m])}h.length>0&&(t.onDeqd(e,h),!o&&t.shouldRedraw(e,h,u,d)&&n())},s=t.priority||St;i.beforeRender(r,s(e))}}}},Ka=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;a(this,t),this.idsByKey=new Vt,this.keyForId=new Vt,this.cachesByLvl=new Vt,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=i}return h(t,[{key:"getIdsFor",value:function(t){null==t&&Mt("Can not get id list for null key");var e=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Xt,e.set(t,i)),i}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),i=this.keyForId.get(e),n=this.getKey(t);this.deleteIdForKey(i,e),this.addIdForKey(n,e),this.keyForId.set(e,n)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),i=this.keyForId.get(e);this.deleteIdForKey(i,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id(),i=this.keyForId.get(e),n=this.getKey(t);return i!==n}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,i=this.lvls,n=e.get(t);return n||(n=new Vt,e.set(t,n),i.push(t)),n}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var i=this.getKey(t),n=this.getCache(i,e);return null!=n&&this.updateKeyMappingFor(t),n}},{key:"getForCachedKey",value:function(t,e){var i=this.keyForId.get(t.id()),n=this.getCache(i,e);return n}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var i=this.getKey(t);return this.hasCache(i,e)}},{key:"setCache",value:function(t,e,i){i.key=t,this.getCachesAt(e).set(t,i)}},{key:"set",value:function(t,e,i){var n=this.getKey(t);this.setCache(n,e,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var i=this.getKey(t);this.deleteCache(i,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach(function(i){return e.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var e=t.id(),i=this.keyForId.get(e);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(i),n||0===this.getNumberOfIdsForKey(i)}}]),t}(),Za=25,$a=50,Qa=-4,Ja=3,tl=7.99,el=8,il=1024,nl=1024,ol=1024,rl=.2,sl=.8,al=10,ll=.15,hl=.1,dl=.9,ul=.9,cl=100,pl=1,fl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},gl=Ft({getKey:null,doesEleInvalidateKey:Dt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Tt,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),vl=function(t,e){var i=this;i.renderer=t,i.onDequeues=[];var n=gl(e);et(i,n),i.lookup=new Ka(n.getKey,n.doesEleInvalidateKey),i.setupDequeueing()},ml=vl.prototype;ml.reasons=fl,ml.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},ml.getRetiredTextureQueue=function(t){var e=this,i=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=i[t]=i[t]||[];return n},ml.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new r(function(t,e){return e.reqs-t.reqs});return e},ml.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e},ml.getElement=function(t,e,i,n,o){var r=this,s=this.renderer,a=s.cy.zoom(),l=this.lookup;if(0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible())return null;if(!r.allowEdgeTxrCaching&&t.isEdge()||!r.allowParentTxrCaching&&t.isParent())return null;if(null==n&&(n=Math.ceil(xe(a*i))),n<Qa)n=Qa;else if(a>=tl||n>Ja)return null;var h=Math.pow(2,n),d=e.h*h,u=e.w*h,c=s.eleTextBiggerThanMin(t,h);if(!this.isVisible(t,c))return null;var p,f=l.get(t,n);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=d<=Za?Za:d<=$a?$a:Math.ceil(d/$a)*$a,d>ol||u>nl)return null;var g=r.getTextureQueue(p),v=g[g.length-2],m=function(){return r.recycleTexture(p,u)||r.addTexture(p,u)};v||(v=g[g.length-1]),v||(v=m()),v.width-v.usedWidth<u&&(v=m());for(var y,b=function(t){return t&&t.scaledLabelShown===c},w=o&&o===fl.dequeue,x=o&&o===fl.highQuality,_=o&&o===fl.downscale,E=n+1;E<=Ja;E++){var k=l.get(t,E);if(k){y=k;break}}var T=y&&y.level===n+1?y:null,D=function(){v.context.drawImage(T.texture.canvas,T.x,0,T.width,T.height,v.usedWidth,0,u,d)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,u,p),b(T))D();else if(b(y)){if(!x)return r.queueElement(t,y.level-1),y;for(var C=y.level;C>n;C--)T=r.getElement(t,e,i,C,fl.downscale);D()}else{var S;if(!w&&!x&&!_)for(var M=n-1;M>=Qa;M--){var O=l.get(t,M);if(O){S=O;break}}if(b(S))return r.queueElement(t,n),S;v.context.translate(v.usedWidth,0),v.context.scale(h,h),this.drawElement(v.context,t,e,c,!1),v.context.scale(1/h,1/h),v.context.translate(-v.usedWidth,0)}return f={x:v.usedWidth,texture:v,level:n,scale:h,width:u,height:d,scaledLabelShown:c},v.usedWidth+=Math.ceil(u+el),v.eleCaches.push(f),l.set(t,n,f),r.checkTextureFullness(v),f},ml.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},ml.invalidateElement=function(t){var e=this,i=e.lookup,n=[],o=i.isInvalid(t);if(o){for(var r=Qa;r<=Ja;r++){var s=i.getForCachedKey(t,r);s&&n.push(s)}var a=i.invalidate(t);if(a)for(var l=0;l<n.length;l++){var h=n[l],d=h.texture;d.invalidatedWidth+=h.width,h.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(t)}},ml.checkTextureUtility=function(t){t.invalidatedWidth>=rl*t.width&&this.retireTexture(t)},ml.checkTextureFullness=function(t){var e=this,i=e.getTextureQueue(t.height);t.usedWidth/t.width>sl&&t.fullnessChecks>=al?zt(i,t):t.fullnessChecks++},ml.retireTexture=function(t){var e=this,i=t.height,n=e.getTextureQueue(i),o=this.lookup;zt(n,t),t.retired=!0;for(var r=t.eleCaches,s=0;s<r.length;s++){var a=r[s];o.deleteCache(a.key,a.level)}jt(r);var l=e.getRetiredTextureQueue(i);l.push(t)},ml.addTexture=function(t,e){var i=this,n=i.getTextureQueue(t),o={};return n.push(o),o.eleCaches=[],o.height=t,o.width=Math.max(il,e),o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,o.canvas=i.renderer.makeOffscreenCanvas(o.width,o.height),o.context=o.canvas.getContext("2d"),o},ml.recycleTexture=function(t,e){for(var i=this,n=i.getTextureQueue(t),o=i.getRetiredTextureQueue(t),r=0;r<o.length;r++){var s=o[r];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,jt(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),zt(o,s),n.push(s),s}},ml.queueElement=function(t,e){var i=this,n=i.getElementQueue(),o=i.getElementKeyToQueue(),r=this.getKey(t),s=o[r];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var a={eles:t.spawn().merge(t),level:e,reqs:1,key:r};n.push(a),o[r]=a}},ml.dequeue=function(t){for(var e=this,i=e.getElementQueue(),n=e.getElementKeyToQueue(),o=[],r=e.lookup,s=0;s<pl;s++){if(!(i.size()>0))break;var a=i.pop(),l=a.key,h=a.eles[0],d=r.hasCache(h,a.level);if(n[l]=null,!d){o.push(a);var u=e.getBoundingBox(h);e.getElement(h,u,t,a.level,fl.dequeue)}}return o},ml.removeFromQueue=function(t){var e=this,i=e.getElementQueue(),n=e.getElementKeyToQueue(),o=this.getKey(t),r=n[o];null!=r&&(1===r.eles.length?(r.reqs=kt,i.updateItem(r),i.pop(),n[o]=null):r.eles.unmerge(t))},ml.onDequeue=function(t){this.onDequeues.push(t)},ml.offDequeue=function(t){zt(this.onDequeues,t)},ml.setupDequeueing=Xa.setupDequeueing({deqRedrawThreshold:cl,deqCost:ll,deqAvgCost:hl,deqNoDrawCost:dl,deqFastCost:ul,deq:function(t,e,i){return t.dequeue(e,i)},onDeqd:function(t,e){for(var i=0;i<t.onDequeues.length;i++){var n=t.onDequeues[i];n(e)}},shouldRedraw:function(t,e,i,n){for(var o=0;o<e.length;o++)for(var r=e[o].eles,s=0;s<r.length;s++){var a=r[s].boundingBox();if(Fe(a,n))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var yl=1,bl=-4,wl=2,xl=3.99,_l=50,El=50,kl=.15,Tl=.1,Dl=.9,Cl=.9,Sl=1,Ml=250,Ol=16e6,Nl=!0,Al=function(t){var e=this,i=e.renderer=t,n=i.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=ft()-2*Ml,e.skipping=!1,e.eleTxrDeqs=n.collection(),e.scheduleElementRefinement=o(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},El),i.beforeRender(function(t,i){i-e.lastInvalidationTime<=Ml?e.skipping=!0:e.skipping=!1},i.beforeRenderPriorities.lyrTxrSkip);var s=function(t,e){return e.reqs-t.reqs};e.layersQueue=new r(s),e.setupDequeueing()},Pl=Al.prototype,Il=0,Ll=Math.pow(2,53)-1;Pl.makeLayer=function(t,e){var i=Math.pow(2,e),n=Math.ceil(t.w*i),o=Math.ceil(t.h*i),r=this.renderer.makeOffscreenCanvas(n,o),s={id:Il=++Il%Ll,bb:t,level:e,width:n,height:o,canvas:r,context:r.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,l=-s.bb.x1,h=-s.bb.y1;return a.scale(i,i),a.translate(l,h),s},Pl.getLayers=function(t,e,i){var n=this,o=n.renderer,r=o.cy,s=r.zoom(),a=n.firstGet;if(n.firstGet=!1,null==i)if(i=Math.ceil(xe(s*e)),i<bl)i=bl;else if(s>=xl||i>wl)return null;n.validateLayersElesOrdering(i,t);var l,h,d=n.layersByLevel,u=Math.pow(2,i),c=d[i]=d[i]||[],p=n.levelIsComplete(i,t),f=function(){var e=function(e){if(n.validateLayersElesOrdering(e,t),n.levelIsComplete(e,t))return h=d[e],!0},o=function(t){if(!h)for(var n=i+t;bl<=n&&n<=wl;n+=t)if(e(n))break};o(1),o(-1);for(var r=c.length-1;r>=0;r--){var s=c[r];s.invalid&&zt(c,s)}};if(p)return c;f();var g=function(){if(!l){l=Oe();for(var e=0;e<t.length;e++)Pe(l,t[e].boundingBox())}return l},v=function(t){t=t||{};var e=t.after;g();var o=l.w*u*(l.h*u);if(o>Ol)return null;var r=n.makeLayer(l,i);if(null!=e){var s=c.indexOf(e)+1;c.splice(s,0,r)}else(void 0===t.insert||t.insert)&&c.unshift(r);return r};if(n.skipping&&!a)return null;for(var m=null,y=t.length/yl,b=!a,w=0;w<t.length;w++){var x=t[w],_=x._private.rscratch,E=_.imgLayerCaches=_.imgLayerCaches||{},k=E[i];if(k)m=k;else{if((!m||m.eles.length>=y||!He(m.bb,x.boundingBox()))&&(m=v({insert:!0,after:m}),!m))return null;h||b?n.queueLayer(m,x):n.drawEleInLayer(m,x,i,e),m.eles.push(x),E[i]=m}}return h||(b?null:c)},Pl.getEleLevelForLayerLevel=function(t,e){return t},Pl.drawEleInLayer=function(t,e,i,n){var o=this,r=this.renderer,s=t.context,a=e.boundingBox();0!==a.w&&0!==a.h&&e.visible()&&(i=o.getEleLevelForLayerLevel(i,n),r.setImgSmoothing(s,!1),r.drawCachedElement(s,e,null,null,i,Nl),r.setImgSmoothing(s,!0))},Pl.levelIsComplete=function(t,e){var i=this,n=i.layersByLevel[t];if(!n||0===n.length)return!1;for(var o=0,r=0;r<n.length;r++){var s=n[r];if(s.reqs>0)return!1;if(s.invalid)return!1;o+=s.eles.length}return o===e.length},Pl.validateLayersElesOrdering=function(t,e){var i=this.layersByLevel[t];if(i)for(var n=0;n<i.length;n++){for(var o=i[n],r=-1,s=0;s<e.length;s++)if(o.eles[0]===e[s]){r=s;break}if(r<0)this.invalidateLayer(o);else{var a=r;for(s=0;s<o.eles.length;s++)if(o.eles[s]!==e[a+s]){this.invalidateLayer(o);break}}}},Pl.updateElementsInLayers=function(t,e){for(var i=this,n=N(t[0]),o=0;o<t.length;o++)for(var r=n?null:t[o],s=n?t[o]:t[o].ele,a=s._private.rscratch,l=a.imgLayerCaches=a.imgLayerCaches||{},h=bl;h<=wl;h++){var d=l[h];d&&(r&&i.getEleLevelForLayerLevel(d.level)!==r.level||e(d,s,r))}},Pl.haveLayers=function(){for(var t=this,e=!1,i=bl;i<=wl;i++){var n=t.layersByLevel[i];if(n&&n.length>0){e=!0;break}}return e},Pl.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=ft(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,function(t,i,n){e.invalidateLayer(t)}))},Pl.invalidateLayer=function(t){if(this.lastInvalidationTime=ft(),!t.invalid){var e=t.level,i=t.eles,n=this.layersByLevel[e];zt(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var o=0;o<i.length;o++){var r=i[o]._private.rscratch.imgLayerCaches;r&&(r[e]=null)}}},Pl.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(t,i,n){var o=t.replacement;if(o||(o=t.replacement=e.makeLayer(t.bb,t.level),o.replaces=t,o.eles=t.eles),!o.reqs)for(var r=0;r<o.eles.length;r++)e.queueLayer(o,o.eles[r])})},Pl.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},Pl.queueLayer=function(t,e){var i=this,n=i.layersQueue,o=t.elesQueue,r=o.hasId=o.hasId||{};if(!t.replacement){if(e){if(r[e.id()])return;o.push(e),r[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},Pl.dequeue=function(t){var e=this,i=e.layersQueue,n=[],o=0;while(o<Sl){if(0===i.size())break;var r=i.peek();if(r.replacement)i.pop();else if(r.replaces&&r!==r.replaces.replacement)i.pop();else if(r.invalid)i.pop();else{var s=r.elesQueue.shift();s&&(e.drawEleInLayer(r,s,r.level,t),o++),0===n.length&&n.push(!0),0===r.elesQueue.length&&(i.pop(),r.reqs=0,r.replaces&&e.applyLayerReplacement(r),e.requestRedraw())}}return n},Pl.applyLayerReplacement=function(t){var e=this,i=e.layersByLevel[t.level],n=t.replaces,o=i.indexOf(n);if(!(o<0||n.invalid)){i[o]=t;for(var r=0;r<t.eles.length;r++){var s=t.eles[r]._private,a=s.imgLayerCaches=s.imgLayerCaches||{};a&&(a[t.level]=t)}e.requestRedraw()}},Pl.requestRedraw=o(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),Pl.setupDequeueing=Xa.setupDequeueing({deqRedrawThreshold:_l,deqCost:kl,deqAvgCost:Tl,deqNoDrawCost:Dl,deqFastCost:Cl,deq:function(t,e){return t.dequeue(e)},onDeqd:St,shouldRedraw:Tt,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Rl,Bl={};function Fl(t,e){for(var i=0;i<e.length;i++){var n=e[i];t.lineTo(n.x,n.y)}}function zl(t,e,i){for(var n,o=0;o<e.length;o++){var r=e[o];0===o&&(n=r),t.lineTo(r.x,r.y)}t.quadraticCurveTo(i.x,i.y,n.x,n.y)}function jl(t,e,i){t.beginPath&&t.beginPath();for(var n=e,o=0;o<n.length;o++){var r=n[o];t.lineTo(r.x,r.y)}var s=i,a=i[0];t.moveTo(a.x,a.y);for(o=1;o<s.length;o++){r=s[o];t.lineTo(r.x,r.y)}t.closePath&&t.closePath()}function Hl(t,e,i,n){t.arc(e,i,n,0,2*Math.PI,!1)}Bl.arrowShapeImpl=function(t){return(Rl||(Rl={polygon:Fl,"triangle-backcurve":zl,"triangle-tee":jl,"triangle-cross":jl,circle:Hl}))[t]};var Yl={drawElement:function(t,e,i,n,o,r){var s=this;e.isNode()?s.drawNode(t,e,i,n,o,r):s.drawEdge(t,e,i,n,o,r)},drawElementOverlay:function(t,e){var i=this;e.isNode()?i.drawNodeOverlay(t,e):i.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,i,n,o,r,s){var a=this,l=i.getBoundingBox(e);if(0!==l.w&&0!==l.h){var h=i.getElement(e,l,n,o,r);if(null!=h){var d=e.effectiveOpacity();if(0===d)return;var u,c,p,f,g,v,m=s(a,e),y=l.x1,b=l.y1,w=l.w,x=l.h;if(0!==m){var _=i.getRotationPoint(e);p=_.x,f=_.y,t.translate(p,f),t.rotate(m),g=a.getImgSmoothing(t),g||a.setImgSmoothing(t,!0);var E=i.getRotationOffset(e);u=E.x,c=E.y}else u=y,c=b;1!==d&&(v=t.globalAlpha,t.globalAlpha=v*d),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,u,c,w,x),1!==d&&(t.globalAlpha=v),0!==m&&(t.rotate(-m),t.translate(-p,-f),g||a.setImgSmoothing(t,!1))}else i.drawElement(t,e)}}},Gl=function(){return 0},Wl=function(t,e){return t.getTextAngle(e,null)},Vl=function(t,e){return t.getTextAngle(e,"source")},Ul=function(t,e){return t.getTextAngle(e,"target")};Yl.drawCachedElement=function(t,e,i,n,o,r){var s=this,a=s.data,l=a.eleTxrCache,h=a.lblTxrCache,d=a.slbTxrCache,u=a.tlbTxrCache,c=e.boundingBox(),p=!0===r?l.reasons.highQuality:null;0!==c.w&&0!==c.h&&e.visible()&&(n&&!Fe(c,n)||(s.drawCachedElementPortion(t,e,l,i,o,p,Gl),s.drawCachedElementPortion(t,e,h,i,o,p,Wl),e.isEdge()&&(s.drawCachedElementPortion(t,e,d,i,o,p,Vl),s.drawCachedElementPortion(t,e,u,i,o,p,Ul)),s.drawElementOverlay(t,e)))},Yl.drawElements=function(t,e){for(var i=this,n=0;n<e.length;n++){var o=e[n];i.drawElement(t,o)}},Yl.drawCachedElements=function(t,e,i,n){for(var o=this,r=0;r<e.length;r++){var s=e[r];o.drawCachedElement(t,s,i,n)}},Yl.drawCachedNodes=function(t,e,i,n){for(var o=this,r=0;r<e.length;r++){var s=e[r];s.isNode()&&o.drawCachedElement(t,s,i,n)}},Yl.drawLayeredElements=function(t,e,i,n){var o=this,r=o.data.lyrTxrCache.getLayers(e,i);if(r)for(var s=0;s<r.length;s++){var a=r[s],l=a.bb;0!==l.w&&0!==l.h&&t.drawImage(a.canvas,l.x1,l.y1,l.w,l.h)}else o.drawCachedElements(t,e,i,n)};var ql={drawEdge:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=e._private.rscratch;if(e.visible()&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;i&&(l=i,t.translate(-l.x1,-l.y1));var h=r?e.pstyle("opacity").value:1,d=e.pstyle("line-style").value,u=e.pstyle("width").pfValue,c=e.pstyle("line-cap").value,p=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;t.lineWidth=u,t.lineCap=c,s.eleStrokeStyle(t,e,i),s.drawEdgePath(e,t,a.allpts,d),t.lineCap="butt"},f=function(){o&&s.drawEdgeOverlay(t,e)},g=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;s.drawArrowheads(t,e,i)},v=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var m="yes"===e.pstyle("ghost").value;if(m){var y=e.pstyle("ghost-offset-x").pfValue,b=e.pstyle("ghost-offset-y").pfValue,w=e.pstyle("ghost-opacity").value,x=h*w;t.translate(y,b),p(x),g(x),t.translate(-y,-b)}p(),g(),f(),v(),i&&t.translate(l.x1,l.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var i=e.pstyle("overlay-opacity").value;if(0!==i){var n=this,o=n.usePaths(),r=e._private.rscratch,s=e.pstyle("overlay-padding").pfValue,a=2*s,l=e.pstyle("overlay-color").value;t.lineWidth=a,"self"!==r.edgeType||o?t.lineCap="round":t.lineCap="butt",n.colorStrokeStyle(t,l[0],l[1],l[2],i),n.drawEdgePath(e,t,r.allpts,"solid")}}},drawEdgePath:function(t,e,i,n){var o,r=t._private.rscratch,s=e,a=!1,l=this.usePaths(),h=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(l){var u=i.join("$"),c=r.pathCacheKey&&r.pathCacheKey===u;c?(o=e=r.pathCache,a=!0):(o=e=new Path2D,r.pathCacheKey=u,r.pathCache=o)}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(h),s.lineDashOffset=d;break;case"solid":s.setLineDash([]);break}if(!a&&!r.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(i[0],i[1]),r.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<i.length;p+=4)e.quadraticCurveTo(i[p],i[p+1],i[p+2],i[p+3]);break;case"straight":case"segments":case"haystack":for(var f=2;f+1<i.length;f+=2)e.lineTo(i[f],i[f+1]);break}e=s,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,i){var n=e._private.rscratch,o="haystack"===n.edgeType;o||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,i),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,i),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,i),o||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,i)},drawArrowhead:function(t,e,i,n,o,r,s){if(!(isNaN(n)||null==n||isNaN(o)||null==o||isNaN(r)||null==r)){var a=this,l=e.pstyle(i+"-arrow-shape").value;if("none"!==l){var h="hollow"===e.pstyle(i+"-arrow-fill").value?"both":"filled",d=e.pstyle(i+"-arrow-fill").value,u=e.pstyle("width").pfValue,c=e.pstyle("opacity").value;void 0===s&&(s=c);var p=t.globalCompositeOperation;1===s&&"hollow"!==d||(t.globalCompositeOperation="destination-out",a.colorFillStyle(t,255,255,255,1),a.colorStrokeStyle(t,255,255,255,1),a.drawArrowShape(e,t,h,u,l,n,o,r),t.globalCompositeOperation=p);var f=e.pstyle(i+"-arrow-color").value;a.colorFillStyle(t,f[0],f[1],f[2],s),a.colorStrokeStyle(t,f[0],f[1],f[2],s),a.drawArrowShape(e,t,d,u,l,n,o,r)}}},drawArrowShape:function(t,e,i,n,o,r,s,a){var l,h=this,d=this.usePaths()&&"triangle-cross"!==o,u=!1,c=e,p={x:r,y:s},f=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,f),v=h.arrowShapes[o];if(d){var m=h.arrowPathCache=h.arrowPathCache||[],y=yt(o),b=m[y];null!=b?(l=e=b,u=!0):(l=e=new Path2D,m[y]=l)}e.beginPath&&e.beginPath(),u||(d?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,g,a,p,n)),e.closePath&&e.closePath(),e=c,d&&(e.translate(r,s),e.rotate(a),e.scale(g,g)),"filled"!==i&&"both"!==i||(d?e.fill(l):e.fill()),"hollow"!==i&&"both"!==i||(e.lineWidth=(v.matchEdgeWidth?n:1)/(d?g:1),e.lineJoin="miter",d?e.stroke(l):e.stroke()),d&&(e.scale(1/g,1/g),e.rotate(-a),e.translate(-r,-s))}},Xl={safeDrawImage:function(t,e,i,n,o,r,s,a,l,h){o<=0||r<=0||l<=0||h<=0||t.drawImage(e,i,n,o,r,s,a,l,h)},drawInscribedImage:function(t,e,i,n,o){var r=this,s=i.position(),a=s.x,l=s.y,h=i.cy().style(),d=h.getIndexedStyle.bind(h),u=d(i,"background-fit","value",n),c=d(i,"background-repeat","value",n),p=i.width(),f=i.height(),g=2*i.padding(),v=p+("inner"===d(i,"background-width-relative-to","value",n)?0:g),m=f+("inner"===d(i,"background-height-relative-to","value",n)?0:g),y=i._private.rscratch,b=i.pstyle("background-clip").value,w="node"===b,x=d(i,"background-image-opacity","value",n)*o,_=e.width||e.cachedW,E=e.height||e.cachedH;null!=_&&null!=E||(document.body.appendChild(e),_=e.cachedW=e.width||e.offsetWidth,E=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var k=_,T=E;if("auto"!==d(i,"background-width","value",n)&&(k="%"===d(i,"background-width","units",n)?d(i,"background-width","pfValue",n)*v:d(i,"background-width","pfValue",n)),"auto"!==d(i,"background-height","value",n)&&(T="%"===d(i,"background-height","units",n)?d(i,"background-height","pfValue",n)*m:d(i,"background-height","pfValue",n)),0!==k&&0!==T){if("contain"===u){var D=Math.min(v/k,m/T);k*=D,T*=D}else if("cover"===u){D=Math.max(v/k,m/T);k*=D,T*=D}var C=a-v/2,S=d(i,"background-position-x","units",n),M=d(i,"background-position-x","pfValue",n);C+="%"===S?(v-k)*M:M;var O=d(i,"background-offset-x","units",n),N=d(i,"background-offset-x","pfValue",n);C+="%"===O?(v-k)*N:N;var A=l-m/2,P=d(i,"background-position-y","units",n),I=d(i,"background-position-y","pfValue",n);A+="%"===P?(m-T)*I:I;var L=d(i,"background-offset-y","units",n),R=d(i,"background-offset-y","pfValue",n);A+="%"===L?(m-T)*R:R,y.pathCache&&(C-=a,A-=l,a=0,l=0);var B=t.globalAlpha;if(t.globalAlpha=x,"no-repeat"===c)w&&(t.save(),y.pathCache?t.clip(y.pathCache):(r.nodeShapes[r.getNodeShape(i)].draw(t,a,l,v,m),t.clip())),r.safeDrawImage(t,e,0,0,_,E,C,A,k,T),w&&t.restore();else{var F=t.createPattern(e,c);t.fillStyle=F,r.nodeShapes[r.getNodeShape(i)].draw(t,a,l,v,m),t.translate(C,A),t.fill(),t.translate(-C,-A)}t.globalAlpha=B}}},Kl={};function Zl(t,e,i,n,o,r){r=r||5;t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.quadraticCurveTo(e+n,i,e+n,i+r),t.lineTo(e+n,i+o-r),t.quadraticCurveTo(e+n,i+o,e+n-r,i+o),t.lineTo(e+r,i+o),t.quadraticCurveTo(e,i+o,e,i+o-r),t.lineTo(e,i+r),t.quadraticCurveTo(e,i,e+r,i),t.closePath(),t.fill()}Kl.eleTextBiggerThanMin=function(t,e){if(!e){var i=t.cy().zoom(),n=this.getPixelRatio(),o=Math.ceil(xe(i*n));e=Math.pow(2,o)}var r=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(r<s)},Kl.drawElementText=function(t,e,i,n,o){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==n){if(!s.eleTextBiggerThanMin(e))return}else if(!1===n)return;if(e.isNode()){var a=e.pstyle("label");if(!a||!a.value)return;var l=e.pstyle("text-halign").strValue;switch(l){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}t.textBaseline="bottom"}else{a=e.pstyle("label");var h=e.pstyle("source-label"),d=e.pstyle("target-label");if((!a||!a.value)&&(!h||!h.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var u,c=!i;i&&(u=i,t.translate(-u.x1,-u.y1)),null==o?(s.drawText(t,e,null,c,r),e.isEdge()&&(s.drawText(t,e,"source",c,r),s.drawText(t,e,"target",c,r))):s.drawText(t,e,o,c,r),i&&t.translate(u.x1,u.y1)},Kl.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var i=0;i<this.fontCaches.length;i++)if(e=this.fontCaches[i],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e},Kl.setupTextStyle=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue+"px",r=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,a=e.pstyle("text-opacity").value*(i?e.effectiveOpacity():1),l=e.pstyle("text-outline-opacity").value*a,h=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+o+" "+r,t.lineJoin="round",this.colorFillStyle(t,h[0],h[1],h[2],a),this.colorStrokeStyle(t,d[0],d[1],d[2],l)},Kl.getTextAngle=function(t,e){var i,n=t._private,o=n.rscratch,r=e?e+"-":"",s=t.pstyle(r+"text-rotation"),a=Yt(o,"labelAngle",e);return i="autorotate"===s.strValue?t.isEdge()?a:0:"none"===s.strValue?0:s.pfValue,i},Kl.drawText=function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=e._private,s=r.rscratch,a=o?e.effectiveOpacity():1;if(0!==a&&0!==e.pstyle("text-opacity").value){"main"===i&&(i=null);var l=Yt(s,"labelX",i),h=Yt(s,"labelY",i),d=this.getLabelText(e,i);if(null!=d&&""!==d&&!isNaN(l)&&!isNaN(h)){this.setupTextStyle(t,e,o);var u,c=i?i+"-":"",p=Yt(s,"labelWidth",i),f=Yt(s,"labelHeight",i),g=e.pstyle(c+"text-margin-x").pfValue,v=e.pstyle(c+"text-margin-y").pfValue,m=e.isEdge(),y=e.pstyle("text-halign").value,b=e.pstyle("text-valign").value;if(m&&(y="center",b="center"),l+=g,h+=v,u=n?this.getTextAngle(e,i):0,0!==u){var w=l,x=h;t.translate(w,x),t.rotate(u),l=0,h=0}switch(b){case"top":break;case"center":h+=f/2;break;case"bottom":h+=f;break}var _=e.pstyle("text-background-opacity").value,E=e.pstyle("text-border-opacity").value,k=e.pstyle("text-border-width").pfValue,T=e.pstyle("text-background-padding").pfValue;if(_>0||k>0&&E>0){var D=l-T;switch(y){case"left":D-=p;break;case"center":D-=p/2;break;case"right":break}var C=h-f-T,S=p+2*T,M=f+2*T;if(_>0){var O=t.fillStyle,N=e.pstyle("text-background-color").value;t.fillStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+_*a+")";var A=e.pstyle("text-background-shape").strValue;"roundrectangle"==A?Zl(t,D,C,S,M,2):t.fillRect(D,C,S,M),t.fillStyle=O}if(k>0&&E>0){var P=t.strokeStyle,I=t.lineWidth,L=e.pstyle("text-border-color").value,R=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+E*a+")",t.lineWidth=k,t.setLineDash)switch(R){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=k/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(D,C,S,M),"double"===R){var B=k/2;t.strokeRect(D+B,C+B,S-2*B,M-2*B)}t.setLineDash&&t.setLineDash([]),t.lineWidth=I,t.strokeStyle=P}}var F=2*e.pstyle("text-outline-width").pfValue;if(F>0&&(t.lineWidth=F),"wrap"===e.pstyle("text-wrap").value){var z=Yt(s,"labelWrapCachedLines",i),j=f/z.length;switch(b){case"top":h-=(z.length-1)*j;break;case"center":case"bottom":h-=(z.length-1)*j;break}for(var H=0;H<z.length;H++)F>0&&t.strokeText(z[H],l,h),t.fillText(z[H],l,h),h+=j}else F>0&&t.strokeText(d,l,h),t.fillText(d,l,h);0!==u&&(t.rotate(-u),t.translate(-w,-x))}}};var $l={drawNode:function(t,e,i){var n,o,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,h=e._private,d=h.rscratch,u=e.position();if(C(u.x)&&C(u.y)&&e.visible()){var c,p,f=a?e.effectiveOpacity():1,g=l.usePaths(),v=!1,m=e.padding();n=e.width()+2*m,o=e.height()+2*m,i&&(p=i,t.translate(-p.x1,-p.y1));for(var y=e.pstyle("background-image"),b=y.value,w=new Array(b.length),x=new Array(b.length),_=0,E=0;E<b.length;E++){var k=b[E],T=w[E]=null!=k&&"none"!==k;if(T){var D=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",E);_++,x[E]=l.getCachedImage(k,D,function(){h.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var S=e.pstyle("background-blacken").value,M=e.pstyle("border-width").pfValue,O=e.pstyle("background-opacity").value*f,N=e.pstyle("border-color").value,A=e.pstyle("border-style").value,P=e.pstyle("border-opacity").value*f;t.lineJoin="miter";var I=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;l.eleFillStyle(t,e,i)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(t,N[0],N[1],N[2],e)},R=e.pstyle("shape").strValue,B=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(u.x,u.y);var F=l.nodePathCache=l.nodePathCache||[],z=bt("polygon"===R?R+","+B.join(","):R,""+o,""+n),j=F[z];null!=j?(c=j,v=!0,d.pathCache=c):(c=new Path2D,F[z]=d.pathCache=c)}var H=function(){if(!v){var i=u;g&&(i={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(c||t,i.x,i.y,n,o)}g?t.fill(c):t.fill()},Y=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=h.backgrounding,o=0,r=0;r<x.length;r++)w[r]&&x[r].complete&&!x[r].error&&(o++,l.drawInscribedImage(t,x[r],e,r,i));h.backgrounding=!(o===_),n!==h.backgrounding&&e.updateStyle(!1)},G=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(e)&&(l.drawPie(t,e,r),i&&(g||l.nodeShapes[l.getNodeShape(e)].draw(t,u.x,u.y,n,o)))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,i=(S>0?S:-S)*e,n=S>0?0:255;0!==S&&(l.colorFillStyle(t,n,n,n,i),g?t.fill(c):t.fill())},V=function(){if(M>0){if(t.lineWidth=M,t.lineCap="butt",t.setLineDash)switch(A){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(g?t.stroke(c):t.stroke(),"double"===A){t.lineWidth=M/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(c):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}},U=function(){s&&l.drawNodeOverlay(t,e,u,n,o)},q=function(){l.drawElementText(t,e,null,r)},X="yes"===e.pstyle("ghost").value;if(X){var K=e.pstyle("ghost-offset-x").pfValue,Z=e.pstyle("ghost-offset-y").pfValue,$=e.pstyle("ghost-opacity").value,Q=$*f;t.translate(K,Z),I($*O),H(),Y(Q),G(0!==S||0!==M),W(Q),L($*P),V(),t.translate(-K,-Z)}I(),H(),Y(),G(0!==S||0!==M),W(),L(),V(),g&&t.translate(-u.x,-u.y),q(),U(),i&&t.translate(p.x1,p.y1)}},drawNodeOverlay:function(t,e,i,n,o){var r=this;if(e.visible()){var s=e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-opacity").value,l=e.pstyle("overlay-color").value;if(a>0){if(i=i||e.position(),null==n||null==o){var h=e.padding();n=e.width()+2*h,o=e.height()+2*h}r.colorFillStyle(t,l[0],l[1],l[2],a),r.nodeShapes["roundrectangle"].draw(t,i.x,i.y,n+2*s,o+2*s),t.fill()}}},hasPie:function(t){return t=t[0],t._private.hasPie},drawPie:function(t,e,i,n){e=e[0],n=n||e.position();var o=e.cy().style(),r=e.pstyle("pie-size"),s=n.x,a=n.y,l=e.width(),h=e.height(),d=Math.min(l,h)/2,u=0,c=this.usePaths();c&&(s=0,a=0),"%"===r.units?d*=r.pfValue:void 0!==r.pfValue&&(d=r.pfValue/2);for(var p=1;p<=o.pieBackgroundN;p++){var f=e.pstyle("pie-"+p+"-background-size").value,g=e.pstyle("pie-"+p+"-background-color").value,v=e.pstyle("pie-"+p+"-background-opacity").value*i,m=f/100;m+u>1&&(m=1-u);var y=1.5*Math.PI+2*Math.PI*u,b=2*Math.PI*m,w=y+b;0===f||u>=1||u+m>1||(t.beginPath(),t.moveTo(s,a),t.arc(s,a,d,y,w),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],v),t.fill(),u+=m)}}},Ql={},Jl=100;Ql.getPixelRatio=function(){var t=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},Ql.paintCache=function(t){for(var e,i=this.paintCaches=this.paintCaches||[],n=!0,o=0;o<i.length;o++)if(e=i[o],e.context===t){n=!1;break}return n&&(e={context:t},i.push(e)),e},Ql.createGradientStyleFor=function(t,e,i,n,o){var r,s=this.usePaths(),a=i.pstyle(e+"-gradient-stop-colors").value,l=i.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(i.isEdge()){var h=i.sourceEndpoint(),d=i.targetEndpoint(),u=i.midpoint(),c=Ee(h,u),p=Ee(d,u);r=t.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(c,p))}else{var f=s?{x:0,y:0}:i.position(),g=i.width(),v=i.height();r=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,v))}else if(i.isEdge()){var m=i.sourceEndpoint(),y=i.targetEndpoint();r=t.createLinearGradient(m.x,m.y,y.x,y.y)}else{var b=s?{x:0,y:0}:i.position(),w=i.width(),x=i.height(),_=w/2,E=x/2,k=i.pstyle("background-gradient-direction").value;switch(k){case"to-bottom":r=t.createLinearGradient(b.x,b.y-E,b.x,b.y+E);break;case"to-top":r=t.createLinearGradient(b.x,b.y+E,b.x,b.y-E);break;case"to-left":r=t.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-right":r=t.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-bottom-right":case"to-right-bottom":r=t.createLinearGradient(b.x-_,b.y-E,b.x+_,b.y+E);break;case"to-top-right":case"to-right-top":r=t.createLinearGradient(b.x-_,b.y+E,b.x+_,b.y-E);break;case"to-bottom-left":case"to-left-bottom":r=t.createLinearGradient(b.x+_,b.y-E,b.x-_,b.y+E);break;case"to-top-left":case"to-left-top":r=t.createLinearGradient(b.x+_,b.y+E,b.x-_,b.y-E);break}}if(!r)return null;for(var T=l.length===a.length,D=a.length,C=0;C<D;C++)r.addColorStop(T?l[C]:C/(D-1),"rgba("+a[C][0]+","+a[C][1]+","+a[C][2]+","+o+")");return r},Ql.gradientFillStyle=function(t,e,i,n){var o=this.createGradientStyleFor(t,"background",e,i,n);if(!o)return null;t.fillStyle=o},Ql.colorFillStyle=function(t,e,i,n,o){t.fillStyle="rgba("+e+","+i+","+n+","+o+")"},Ql.eleFillStyle=function(t,e,i){var n=e.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(t,e,n,i);else{var o=e.pstyle("background-color").value;this.colorFillStyle(t,o[0],o[1],o[2],i)}},Ql.gradientStrokeStyle=function(t,e,i,n){var o=this.createGradientStyleFor(t,"line",e,i,n);if(!o)return null;t.strokeStyle=o},Ql.colorStrokeStyle=function(t,e,i,n,o){t.strokeStyle="rgba("+e+","+i+","+n+","+o+")"},Ql.eleStrokeStyle=function(t,e,i){var n=e.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(t,e,n,i);else{var o=e.pstyle("line-color").value;this.colorStrokeStyle(t,o[0],o[1],o[2],i)}},Ql.matchCanvasSize=function(t){var e=this,i=e.data,n=e.findContainerClientCoords(),o=n[2],r=n[3],s=e.getPixelRatio(),a=e.motionBlurPxRatio;t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(s=a);var l,h=o*s,d=r*s;if(h!==e.canvasWidth||d!==e.canvasHeight){e.fontCaches=null;var u=i.canvasContainer;u.style.width=o+"px",u.style.height=r+"px";for(var c=0;c<e.CANVAS_LAYERS;c++)l=i.canvases[c],l.width=h,l.height=d,l.style.width=o+"px",l.style.height=r+"px";for(c=0;c<e.BUFFER_COUNT;c++)l=i.bufferCanvases[c],l.width=h,l.height=d,l.style.width=o+"px",l.style.height=r+"px";e.textureMult=1,s<=1&&(l=i.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,l.width=h*e.textureMult,l.height=d*e.textureMult),e.canvasWidth=h,e.canvasHeight=d}},Ql.renderTo=function(t,e,i,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:i,drawAllLayers:!0,forcedPxRatio:n})},Ql.render=function(t){t=t||Bt();var e=t.forcedContext,i=t.drawAllLayers,n=t.drawOnlyNodeLayer,o=t.forcedZoom,r=t.forcedPan,s=this,a=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=s.cy,h=s.data,d=h.canvasNeedsRedraw,u=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),c=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,f=l.hasCompoundNodes(),g=s.hoverData.draggingEles,v=!(!s.hoverData.selecting&&!s.touchData.selecting);c=c&&!e&&s.motionBlurEnabled&&!v;var m=c;e||(s.prevPxRatio!==a&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=a),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),c&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!u&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),w=void 0!==o?o:b,x=l.pan(),_={x:x.x,y:x.y},E={zoom:b,pan:{x:x.x,y:x.y}},k=s.prevViewport,T=void 0===k||E.zoom!==k.zoom||E.pan.x!==k.pan.x||E.pan.y!==k.pan.y;T||g&&!f||(s.motionBlurPxRatio=1),r&&(_=r),w*=a,_.x*=a,_.y*=a;var D=s.getCachedZSortedEles();function C(t,e,i,n,o){var r=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,i,n,o),t.globalCompositeOperation=r}function S(t,n){var a,l,d,u;s.clearingMotionBlur||t!==h.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==h.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(a=_,l=w,d=s.canvasWidth,u=s.canvasHeight):(a={x:x.x*p,y:x.y*p},l=b*p,d=s.canvasWidth*p,u=s.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===n?C(t,0,0,d,u):e||void 0!==n&&!n||t.clearRect(0,0,d,u),i||(t.translate(a.x,a.y),t.scale(l,l)),r&&t.translate(r.x,r.y),o&&t.scale(o,o)}if(u||(s.textureDrawLastFrame=!1),u){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var M=s.data.bufferContexts[s.TEXTURE_BUFFER];M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:M,drawOnlyNodeLayer:!0,forcedPxRatio:a*s.textureMult});E=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight};E.mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var O=h.contexts[s.NODE],N=s.textureCache.texture;E=s.textureCache.viewport;O.setTransform(1,0,0,1,0,0),c?C(O,0,0,E.width,E.height):O.clearRect(0,0,E.width,E.height);var A=y.core("outside-texture-bg-color").value,P=y.core("outside-texture-bg-opacity").value;s.colorFillStyle(O,A[0],A[1],A[2],P),O.fillRect(0,0,E.width,E.height);b=l.zoom();S(O,!1),O.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/a,E.height/E.zoom/a),O.drawImage(N,E.mpan.x,E.mpan.y,E.width/E.zoom/a,E.height/E.zoom/a)}else s.textureOnViewport&&!e&&(s.textureCache=null);var I=l.extent(),L=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles,R=s.hideEdgesOnViewport&&L,B=[];if(B[s.NODE]=!d[s.NODE]&&c&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,B[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),B[s.DRAG]=!d[s.DRAG]&&c&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,B[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||i||n||B[s.NODE]){var F=c&&!B[s.NODE]&&1!==p,z=(O=e||(F?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:h.contexts[s.NODE]),c&&!F?"motionBlur":void 0);S(O,z),R?s.drawCachedNodes(O,D.nondrag,a,I):s.drawLayeredElements(O,D.nondrag,a,I),s.debug&&s.drawDebugPoints(O,D.nondrag),i||c||(d[s.NODE]=!1)}if(!n&&(d[s.DRAG]||i||B[s.DRAG])){F=c&&!B[s.DRAG]&&1!==p,O=e||(F?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:h.contexts[s.DRAG]);S(O,c&&!F?"motionBlur":void 0),R?s.drawCachedNodes(O,D.drag,a,I):s.drawCachedElements(O,D.drag,a,I),s.debug&&s.drawDebugPoints(O,D.drag),i||c||(d[s.DRAG]=!1)}if(s.showFps||!n&&d[s.SELECT_BOX]&&!i){O=e||h.contexts[s.SELECT_BOX];if(S(O),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){b=s.cy.zoom();var j=y.core("selection-box-border-width").value/b;O.lineWidth=j,O.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",O.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),j>0&&(O.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",O.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(h.bgActivePosistion&&!s.hoverData.selecting){b=s.cy.zoom();var H=h.bgActivePosistion;O.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",O.beginPath(),O.arc(H.x,H.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),O.fill()}var Y=s.lastRedrawTime;if(s.showFps&&Y){Y=Math.round(Y);var G=Math.round(1e3/Y);O.setTransform(1,0,0,1,0,0),O.fillStyle="rgba(255, 0, 0, 0.75)",O.strokeStyle="rgba(255, 0, 0, 0.75)",O.lineWidth=1,O.fillText("1 frame = "+Y+" ms = "+G+" fps",0,20);var W=60;O.strokeRect(0,30,250,20),O.fillRect(0,30,250*Math.min(G/W,1),20)}i||(d[s.SELECT_BOX]=!1)}if(c&&1!==p){var V=h.contexts[s.NODE],U=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],q=h.contexts[s.DRAG],X=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],K=function(t,e,i){t.setTransform(1,0,0,1,0,0),i||!m?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):C(t,0,0,s.canvasWidth,s.canvasHeight);var n=p;t.drawImage(e,0,0,s.canvasWidth*n,s.canvasHeight*n,0,0,s.canvasWidth,s.canvasHeight)};(d[s.NODE]||B[s.NODE])&&(K(V,U,B[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||B[s.DRAG])&&(K(q,X,B[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=E,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),c&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!u,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()},Jl)),e||l.emit("render")};for(var th={drawPolygonPath:function(t,e,i,n,o,r){var s=n/2,a=o/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*r[0],i+a*r[1]);for(var l=1;l<r.length/2;l++)t.lineTo(e+s*r[2*l],i+a*r[2*l+1]);t.closePath()},drawRoundRectanglePath:function(t,e,i,n,o){var r=n/2,s=o/2,a=hi(n,o);t.beginPath&&t.beginPath(),t.moveTo(e,i-s),t.arcTo(e+r,i-s,e+r,i,a),t.arcTo(e+r,i+s,e,i+s,a),t.arcTo(e-r,i+s,e-r,i,a),t.arcTo(e-r,i-s,e,i-s,a),t.lineTo(e,i-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,i,n,o){var r=n/2,s=o/2,a=hi(n,o);t.beginPath&&t.beginPath(),t.moveTo(e,i-s),t.lineTo(e+r,i-s),t.lineTo(e+r,i),t.arcTo(e+r,i+s,e,i+s,a),t.arcTo(e-r,i+s,e-r,i,a),t.lineTo(e-r,i-s),t.lineTo(e,i-s),t.closePath()},drawCutRectanglePath:function(t,e,i,n,o){var r=n/2,s=o/2,a=di();t.beginPath&&t.beginPath(),t.moveTo(e-r+a,i-s),t.lineTo(e+r-a,i-s),t.lineTo(e+r,i-s+a),t.lineTo(e+r,i+s-a),t.lineTo(e+r-a,i+s),t.lineTo(e-r+a,i+s),t.lineTo(e-r,i+s-a),t.lineTo(e-r,i-s+a),t.closePath()},drawBarrelPath:function(t,e,i,n,o){var r=n/2,s=o/2,a=e-r,l=e+r,h=i-s,d=i+s,u=ci(n,o),c=u.widthOffset,p=u.heightOffset,f=u.ctrlPtOffsetPct*c;t.beginPath&&t.beginPath(),t.moveTo(a,h+p),t.lineTo(a,d-p),t.quadraticCurveTo(a+f,d,a+c,d),t.lineTo(l-c,d),t.quadraticCurveTo(l-f,d,l,d-p),t.lineTo(l,h+p),t.quadraticCurveTo(l-f,h,l-c,h),t.lineTo(a+c,h),t.quadraticCurveTo(a+f,h,a,h+p),t.closePath()}},eh=Math.sin(0),ih=Math.cos(0),nh={},oh={},rh=Math.PI/40,sh=0*Math.PI;sh<2*Math.PI;sh+=rh)nh[sh]=Math.sin(sh),oh[sh]=Math.cos(sh);th.drawEllipsePath=function(t,e,i,n,o){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,i,n/2,o/2,0,0,2*Math.PI);else for(var r,s,a=n/2,l=o/2,h=0*Math.PI;h<2*Math.PI;h+=rh)r=e-a*nh[h]*eh+a*oh[h]*ih,s=i+l*oh[h]*eh+l*nh[h]*ih,0===h?t.moveTo(r,s):t.lineTo(r,s);t.closePath()};var ah={};function lh(t,e){for(var i=atob(t),n=new ArrayBuffer(i.length),o=new Uint8Array(n),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);return new Blob([n],{type:e})}function hh(t){var e=t.indexOf(",");return t.substr(e+1)}function dh(t,e,i){var n=function(){return e.toDataURL(i,t.quality)};switch(t.output){case"blob-promise":return new Bn(function(n,o){try{e.toBlob(function(t){null!=t?n(t):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},i,t.quality)}catch(r){o(r)}});case"blob":return lh(hh(n()),i);case"base64":return hh(n());case"base64uri":default:return n()}}ah.createBuffer=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,[i,i.getContext("2d")]},ah.bufferCanvasImage=function(t){var e=this.cy,i=e.mutableElements(),n=i.boundingBox(),o=this.findContainerClientCoords(),r=t.full?Math.ceil(n.w):o[2],s=t.full?Math.ceil(n.h):o[3],a=C(t.maxWidth)||C(t.maxHeight),l=this.getPixelRatio(),h=1;if(void 0!==t.scale)r*=t.scale,s*=t.scale,h=t.scale;else if(a){var d=1/0,u=1/0;C(t.maxWidth)&&(d=h*t.maxWidth/r),C(t.maxHeight)&&(u=h*t.maxHeight/s),h=Math.min(d,u),r*=h,s*=h}a||(r*=l,s*=l,h*=l);var c=document.createElement("canvas");c.width=r,c.height=s,c.style.width=r+"px",c.style.height=s+"px";var p=c.getContext("2d");if(r>0&&s>0){p.clearRect(0,0,r,s),p.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*h,-n.y1*h),p.scale(h,h),this.drawElements(p,f),p.scale(1/h,1/h),p.translate(n.x1*h,n.y1*h);else{var g=e.pan(),v={x:g.x*h,y:g.y*h};h*=e.zoom(),p.translate(v.x,v.y),p.scale(h,h),this.drawElements(p,f),p.scale(1/h,1/h),p.translate(-v.x,-v.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,r,s),p.fill())}return c},ah.png=function(t){return dh(t,this.bufferCanvasImage(t),"image/png")},ah.jpg=function(t){return dh(t,this.bufferCanvasImage(t),"image/jpeg")};var uh={nodeShapeImpl:function(t,e,i,n,o,r,s){switch(t){case"ellipse":return this.drawEllipsePath(e,i,n,o,r);case"polygon":return this.drawPolygonPath(e,i,n,o,r,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,i,n,o,r);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,i,n,o,r);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,i,n,o,r);case"barrel":return this.drawBarrelPath(e,i,n,o,r)}}},ch=fh,ph=fh.prototype;function fh(t){var e=this;e.data={canvases:new Array(ph.CANVAS_LAYERS),contexts:new Array(ph.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ph.CANVAS_LAYERS),bufferCanvases:new Array(ph.BUFFER_COUNT),bufferContexts:new Array(ph.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color: rgba(0,0,0,0);";e.data.canvasContainer=document.createElement("div");var n=e.data.canvasContainer.style;e.data.canvasContainer.setAttribute("style",i),n.position="relative",n.zIndex="0",n.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),(o.getAttribute("style")||"").indexOf(i)<0&&o.setAttribute("style",(o.getAttribute("style")||"")+i);for(var r=0;r<ph.CANVAS_LAYERS;r++){var s=e.data.canvases[r]=document.createElement("canvas");e.data.contexts[r]=s.getContext("2d"),s.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(j()?" -ms-touch-action: none; touch-action: none; ":"")),s.style.position="absolute",s.setAttribute("data-id","layer"+r),s.style.zIndex=String(ph.CANVAS_LAYERS-r),e.data.canvasContainer.appendChild(s),e.data.canvasNeedsRedraw[r]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ph.NODE].setAttribute("data-id","layer"+ph.NODE+"-node"),e.data.canvases[ph.SELECT_BOX].setAttribute("data-id","layer"+ph.SELECT_BOX+"-selectbox"),e.data.canvases[ph.DRAG].setAttribute("data-id","layer"+ph.DRAG+"-drag");for(r=0;r<ph.BUFFER_COUNT;r++)e.data.bufferCanvases[r]=document.createElement("canvas"),e.data.bufferContexts[r]=e.data.bufferCanvases[r].getContext("2d"),e.data.bufferCanvases[r].style.position="absolute",e.data.bufferCanvases[r].setAttribute("data-id","buffer"+r),e.data.bufferCanvases[r].style.zIndex=String(-r-1),e.data.bufferCanvases[r].style.visibility="hidden";e.pathsEnabled=!0;var a=Oe(),l=function(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}},h=function(t){return{x:-t.w/2,y:-t.h/2}},d=function(t){var e=t[0]._private,i=e.oldBackgroundTimestamp===e.backgroundTimestamp;return!i},u=function(t){return t[0]._private.nodeKey},c=function(t){return t[0]._private.labelStyleKey},p=function(t){return t[0]._private.sourceLabelStyleKey},f=function(t){return t[0]._private.targetLabelStyleKey},g=function(t,i,n,o,r){return e.drawElement(t,i,n,!1,!1,r)},v=function(t,i,n,o,r){return e.drawElementText(t,i,n,o,"main",r)},m=function(t,i,n,o,r){return e.drawElementText(t,i,n,o,"source",r)},y=function(t,i,n,o,r){return e.drawElementText(t,i,n,o,"target",r)},b=function(t){return t.boundingBox(),t[0]._private.bodyBounds},w=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||a},x=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||a},_=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||a},E=function(t,e){return e},k=function(t){return l(b(t))},T=function(t,e){return{x:t.x+e.pstyle("text-margin-x").pfValue,y:t.y+e.pstyle("text-margin-y").pfValue}},D=function(t,e,i){var n=t[0]._private.rscratch;return{x:n[e],y:n[i]}},C=function(t){return T(D(t,"labelX","labelY"),t)},S=function(t){return T(D(t,"sourceLabelX","sourceLabelY"),t)},M=function(t){return T(D(t,"targetLabelX","targetLabelY"),t)},O=function(t){return h(b(t))},N=function(t){return h(x(t))},A=function(t){return h(_(t))},P=function(t){var e=w(t),i=h(w(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":i.x=-e.w;break;case"right":i.x=0;break}switch(t.pstyle("text-valign").value){case"top":i.y=-e.h;break;case"bottom":i.y=0;break}}return i},I=e.data.eleTxrCache=new vl(e,{getKey:u,doesEleInvalidateKey:d,drawElement:g,getBoundingBox:b,getRotationPoint:k,getRotationOffset:O,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),L=e.data.lblTxrCache=new vl(e,{getKey:c,drawElement:v,getBoundingBox:w,getRotationPoint:C,getRotationOffset:P,isVisible:E}),R=e.data.slbTxrCache=new vl(e,{getKey:p,drawElement:m,getBoundingBox:x,getRotationPoint:S,getRotationOffset:N,isVisible:E}),B=e.data.tlbTxrCache=new vl(e,{getKey:f,drawElement:y,getBoundingBox:_,getRotationPoint:M,getRotationOffset:A,isVisible:E}),F=e.data.lyrTxrCache=new Al(e);e.onUpdateEleCalcs(function(t,e){I.invalidateElements(e),L.invalidateElements(e),R.invalidateElements(e),B.invalidateElements(e),F.invalidateElements(e);for(var i=0;i<e.length;i++){var n=e[i]._private;n.oldBackgroundTimestamp=n.backgroundTimestamp}});var z=function(t){for(var e=0;e<t.length;e++)F.enqueueElementRefinement(t[e].ele)};I.onDequeue(z),L.onDequeue(z),R.onDequeue(z),B.onDequeue(z)}ph.CANVAS_LAYERS=3,ph.SELECT_BOX=0,ph.DRAG=1,ph.NODE=2,ph.BUFFER_COUNT=3,ph.TEXTURE_BUFFER=0,ph.MOTIONBLUR_BUFFER_NODE=1,ph.MOTIONBLUR_BUFFER_DRAG=2,ph.redrawHint=function(t,e){var i=this;switch(t){case"eles":i.data.canvasNeedsRedraw[ph.NODE]=e;break;case"drag":i.data.canvasNeedsRedraw[ph.DRAG]=e;break;case"select":i.data.canvasNeedsRedraw[ph.SELECT_BOX]=e;break}};var gh="undefined"!==typeof Path2D;ph.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},ph.usePaths=function(){return gh&&this.pathsEnabled},ph.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},ph.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},ph.makeOffscreenCanvas=function(t,e){var i;return"undefined"!==("undefined"===typeof OffscreenCanvas?"undefined":s(OffscreenCanvas))?i=new OffscreenCanvas(t,e):(i=document.createElement("canvas"),i.width=t,i.height=e),i},[Bl,Yl,ql,Xl,Kl,$l,Ql,th,ah,uh].forEach(function(t){et(ph,t)});var vh=[{name:"null",impl:ba},{name:"base",impl:Va},{name:"canvas",impl:ch}],mh=[{type:"layout",extensions:ya},{type:"renderer",extensions:vh}],yh={},bh={};function wh(t,e,i){var n=i,o=function(i){Mt("Can not register `"+e+"` for `"+t+"` since `"+i+"` already exists in the prototype and can not be overridden")};if("core"===t){if(Vs.prototype[e])return o(e);Vs.prototype[e]=i}else if("collection"===t){if(ss.prototype[e])return o(e);ss.prototype[e]=i}else if("layout"===t){for(var r=function(t){this.options=t,i.call(this,t),T(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},s=r.prototype=Object.create(i.prototype),a=[],l=0;l<a.length;l++){var h=a[l];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=i.prototype.stop;s.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var i=0;i<e.length;i++)e[i].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var u=function(t){return t._private.cy},c={addEventFields:function(t,e){e.layout=t,e.cy=u(t),e.target=t},bubble:function(){return!0},parent:function(t){return u(t)}};et(s,{createEmitter:function(){return this._private.emitter=new Er(c,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),Gn.eventAliasesOn(s),n=r}else if("renderer"===t&&"null"!==e&&"base"!==e){var p=xh("renderer","base"),f=p.prototype,g=i,v=i.prototype,m=function(){p.apply(this,arguments),g.apply(this,arguments)},y=m.prototype;for(var b in f){var w=f[b],x=null!=v[b];if(x)return o(b);y[b]=w}for(var _ in v)y[_]=v[_];f.clientFunctions.forEach(function(t){y[t]=y[t]||function(){Mt("Renderer does not implement `renderer."+t+"()` on its prototype")}}),n=m}return lt({map:yh,keys:[t,e],value:n})}function xh(t,e){return ht({map:yh,keys:[t,e]})}function _h(t,e,i,n,o){return lt({map:bh,keys:[t,e,i,n],value:o})}function Eh(t,e,i,n){return ht({map:bh,keys:[t,e,i,n]})}var kh=function(){return 2===arguments.length?xh.apply(null,arguments):3===arguments.length?wh.apply(null,arguments):4===arguments.length?Eh.apply(null,arguments):5===arguments.length?_h.apply(null,arguments):void Mt("Invalid extension access syntax")};Vs.prototype.extension=kh,mh.forEach(function(t){t.extensions.forEach(function(e){wh(t.type,e.name,e.impl)})});var Th=function t(){if(!(this instanceof t))return new t;this.length=0},Dh=Th.prototype;Dh.instanceString=function(){return"stylesheet"},Dh.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this},Dh.css=function(t,e){var i=this.length-1;if(_(t))this[i].properties.push({name:t,value:e});else if(T(t))for(var n=t,o=Object.keys(n),r=0;r<o.length;r++){var s=o[r],a=n[s];if(null!=a){var l=js.properties[s]||js.properties[G(s)];if(null!=l){var h=l.name,d=a;this[i].properties.push({name:h,value:d})}}}return this},Dh.style=Dh.css,Dh.generateStyle=function(t){var e=new js(t);return this.appendToStyle(e)},Dh.appendToStyle=function(t){for(var e=0;e<this.length;e++){var i=this[e],n=i.selector,o=i.properties;t.selector(n);for(var r=0;r<o.length;r++){var s=o[r];t.css(s.name,s.value)}}return t};var Ch="3.5.1",Sh=function(t){return void 0===t&&(t={}),T(t)?new Vs(t):_(t)?kh.apply(kh,arguments):void 0};Sh.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Sh),t.apply(null,e),this},Sh.warnings=function(t){return Ot(t)},Sh.version=Ch,Sh.stylesheet=Sh.Stylesheet=Th,t.exports=Sh},4517:function(t,e,i){var n=i("a22a");t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},"454f":function(t,e,i){i("46a7");var n=i("584a").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},"46a7":function(t,e,i){var n=i("63b6");n(n.S+n.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"4c95":function(t,e,i){"use strict";var n=i("e53d"),o=i("584a"),r=i("d9f6"),s=i("8e60"),a=i("5168")("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];s&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},"4ee1":function(t,e,i){var n=i("5168")("iterator"),o=!1;try{var r=[7][n]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:i=!0}},r[n]=function(){return a},t(r)}catch(s){}return i}},"4f27":function(t,e,i){"use strict";
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
(function(e,i){t.exports=i()})(0,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=123)}([function(t,e,i){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var n=i(169),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){var n=i(77),o=u(n),r=i(29),s=u(r),a=i(8),l=u(a),h=i(6),d=u(h);function u(t){return t&&t.__esModule?t:{default:t}}var c=i(9),p=i(157);function f(t,e,i,n){var o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)while(!0===t.hasChildNodes())e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,n){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i=g.exec(t);if(i)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return p.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,d["default"])(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)void 0!==i[o]&&(null===i[o]||"object"!==(0,d["default"])(i[o])?f(t,i,o,n):"object"===(0,d["default"])(t[o])&&e.fillIfDefined(t[o],i[o],n))},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],r=0;r<t.length;r++){var s=t[r];o&&o.hasOwnProperty(s)&&(e[s]=o[s])}return e},e.selectiveDeepExtend=function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(n.hasOwnProperty(s))if(n[s]&&n[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],n[s],!1,o):f(i,n,s,o);else{if(Array.isArray(n[s]))throw new TypeError("Arrays are not supported by deepExtend");f(i,n,s,o)}}return i},e.selectiveNotDeepExtend=function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r)&&-1===t.indexOf(r))if(n[r]&&n[r].constructor===Object)void 0===i[r]&&(i[r]={}),i[r].constructor===Object?e.deepExtend(i[r],n[r]):f(i,n,r,o);else if(Array.isArray(n[r])){i[r]=[];for(var s=0;s<n[r].length;s++)i[r].push(n[r][s])}else f(i,n,r,o);return i},e.deepExtend=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in i)if(i.hasOwnProperty(r)||!0===n)if(i[r]&&i[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?e.deepExtend(t[r],i[r],n):f(t,i,r,o);else if(Array.isArray(i[r])){t[r]=[];for(var s=0;s<i[r].length;s++)t[r].push(i[r][s])}else f(t,i,r,o);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var n;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!==typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?c(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(c.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return n=g.exec(t),n?new Date(Number(n[1])):c(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return c(t);if(t instanceof Date)return c(t.valueOf());if(c.isMoment(t))return c(t);if(e.isString(t))return n=g.exec(t),c(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(c.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return n=g.exec(t),n?new Date(Number(n[1])).toISOString():c(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";var o;if(e.isString(t))return n=g.exec(t),o=n?new Date(Number(n[1])).valueOf():new Date(t).valueOf(),"/Date("+o+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var g=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e="undefined"===typeof t?"undefined":(0,d["default"])(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(t){return i.indexOf(t)<0})),t.className=i.join(" ")},e.removeClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(t){return n.indexOf(t)<0}),t.className=i.join(" ")},e.forEach=function(t,e){var i,n;if(Array.isArray(t))for(i=0,n=t.length;i<n;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){var i=t;while(i){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){var n;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?(n=t.substr(t.indexOf("(")+1).replace(")","").split(","),"rgba("+n[0]+","+n[1]+","+n[2]+","+i+")"):(n=e.hexToRGB(t),null==n?t:"rgba("+n.r+","+n.g+","+n.b+","+i+")")},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(n[0],n[1],n[2])}if(!0===e.isValidHex(t)){var o=e.hexToHSV(t),r={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},a=e.HSVToHex(s.h,s.s,s.v),l=e.HSVToHex(r.h,r.s,r.v);i={background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(n==o)return{h:0,s:0,v:n};var r=t==n?e-i:i==n?t-e:i-t,s=t==n?3:i==n?1:5,a=60*(s-r/(o-n))/360,l=(o-n)/o,h=o;return{h:a,s:l,v:h}};var v={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),n=i[0].trim(),o=i[1].trim();e[n]=o}}),e},join:function(t){return(0,l["default"])(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var n=v.split(t.style.cssText),o=v.split(i),r=e.extend(n,o);t.style.cssText=v.join(r)},e.removeCssText=function(t,e){var i=v.split(t.style.cssText),n=v.split(e);for(var o in n)n.hasOwnProperty(o)&&delete i[o];t.style.cssText=v.join(i)},e.HSVToRGB=function(t,e,i){var n,o,r,s=Math.floor(6*t),a=6*t-s,l=i*(1-e),h=i*(1-a*e),d=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=d,r=l;break;case 1:n=h,o=i,r=l;break;case 2:n=l,o=i,r=d;break;case 3:n=l,o=h,r=i;break;case 4:n=d,o=l,r=i;break;case 5:n=i,o=l,r=h;break}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},e.HSVToHex=function(t,i,n){var o=e.HSVToRGB(t,i,n);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e},e.isValidRGBA=function(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);return e},e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===("undefined"===typeof i?"undefined":(0,d["default"])(i))){for(var n=(0,s["default"])(i),o=0;o<t.length;o++)i.hasOwnProperty(t[o])&&"object"==(0,d["default"])(i[t[o]])&&(n[t[o]]=e.bridgeObject(i[t[o]]));return n}return null},e.bridgeObject=function(t){if(null!==t&&"object"===("undefined"===typeof t?"undefined":(0,d["default"])(t))){var i=(0,s["default"])(t);if(t instanceof Element)i=t;else for(var n in i=(0,s["default"])(t),t)t.hasOwnProperty(n)&&"object"==(0,d["default"])(t[n])&&(i[n]=e.bridgeObject(t[n]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],o=i;o>0&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},e.mergeOptions=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t){return null!==t&&void 0!==t},r=function(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":(0,d["default"])(t))},a=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!r(n))throw new Error("Parameter globalOptions must be an object");var l=function(t,e,i){r(t[i])||(t[i]={});var n=e[i],o=t[i];for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s])},h=e[i],u=r(n)&&!a(n),c=u?n[i]:void 0,p=c?c.enabled:void 0;if(void 0!==h){if("boolean"===typeof h)return r(t[i])||(t[i]={}),void(t[i].enabled=h);if(null===h&&!r(t[i])){if(!o(c))return;t[i]=(0,s["default"])(c)}if(r(h)){var f=!0;void 0!==h.enabled?f=h.enabled:void 0!==p&&(f=c.enabled),l(t,e,i),t[i].enabled=f}}},e.binarySearchCustom=function(t,e,i,n){var o=1e4,r=0,s=0,a=t.length-1;while(s<=a&&r<o){var l=Math.floor((s+a)/2),h=t[l],d=void 0===n?h[i]:h[i][n],u=e(d);if(0==u)return l;-1==u?s=l+1:a=l-1,r++}return-1},e.binarySearchValue=function(t,e,i,n,o){var r,s,a,l,h=1e4,d=0,u=0,c=t.length-1;o=void 0!=o?o:function(t,e){return t==e?0:t<e?-1:1};while(u<=c&&d<h){if(l=Math.floor(.5*(c+u)),r=t[Math.max(0,l-1)][i],s=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==o(s,e))return l;if(o(r,e)<0&&o(s,e)>0)return"before"==n?Math.max(0,l-1):l;if(o(s,e)<0&&o(a,e)>0)return"before"==n?l:Math.min(t.length-1,l+1);o(s,e)<0?u=l+1:c=l-1,d++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n},e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var n=!0,r=!1,s=void 0;try{for(var a,l=(0,o["default"])(t);!(n=(a=l.next()).done);n=!0){var h=a.value;if(h){i=h[e[0]];for(var d=1;d<e.length;d++)i&&(i=i[e[d]]);if("undefined"!=typeof i)break}}}catch(u){r=!0,s=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw s}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var n=i(6),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"===typeof e?"undefined":(0,o.default)(e))&&"function"!==typeof e?t:e}},function(t,e,i){e.__esModule=!0;var n=i(196),o=h(n),r=i(29),s=h(r),a=i(6),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":(0,l.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,i){e.__esModule=!0;var n=i(142),o=l(n),r=i(144),s=l(r),a="function"===typeof s.default&&"symbol"===typeof o.default?function(t){return typeof t}:function(t){return t&&"function"===typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};function l(t){return t&&t.__esModule?t:{default:t}}e.default="function"===typeof s.default&&"symbol"===a(o.default)?function(t){return"undefined"===typeof t?"undefined":a(t)}:function(t){return t&&"function"===typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"===typeof t?"undefined":a(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!==typeof window&&window["moment"]||i(154)},function(t,e,i){function n(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(e){return{set:t}}}}if("undefined"!==typeof window){var o=i(175),r=window["Hammer"]||i(176);t.exports=o(r,{preventDefault:"mouse"})}else t.exports=function(){return n()}},function(t,e,i){var n=i(19),o=h(n),r=i(6),s=h(r),a=i(8),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=i(2),u=i(43);function c(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,l["default"])(this._options.type),n=0,o=i.length;n<o;n++){var r=i[n],s=this._options.type[r];this._type[r]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}this._subscribers={},t&&this.add(t),this.setOptions(e)}c.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=u.extend(this,{replace:["add","update","remove"]})),"object"===(0,s["default"])(t.queue)&&this._queue.setOptions(t.queue)))},c.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},c.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},c.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0,r=n.length;o<r;o++){var s=n[o];s.callback&&s.callback(t,e,i||null)}},c.prototype.add=function(t,e){var i,n=[],o=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)i=o._addItem(t[r]),n.push(i);else{if(!t||"object"!==("undefined"===typeof t?"undefined":(0,s["default"])(t)))throw new Error("Unknown dataType");i=o._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n},c.prototype.update=function(t,e){var i=[],n=[],o=[],r=[],a=this,l=a._fieldId,h=function(t){var e=t[l];if(a._data[e]){var s=d.extend({},a._data[e]);e=a._updateItem(t),n.push(e),r.push(t),o.push(s)}else e=a._addItem(t),i.push(e)};if(Array.isArray(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===(0,s["default"])(t[u])?h(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==("undefined"===typeof t?"undefined":(0,s["default"])(t)))throw new Error("Unknown dataType");h(t)}if(i.length&&this._trigger("add",{items:i},e),n.length){var p={items:n,oldData:o,data:r};this._trigger("update",p,e)}return i.concat(n)},c.prototype.get=function(t){var e,i,n,o,r=this,s=d.getType(arguments[0]);if("String"==s||"Number"==s?(e=arguments[0],n=arguments[1]):"Array"==s?(i=arguments[0],n=arguments[1]):n=arguments[0],n&&n.returnType){var a=["Array","Object"];o=-1==a.indexOf(n.returnType)?"Array":n.returnType}else o="Array";var h,u,c,p,f,g=n&&n.type||this._options.type,v=n&&n.filter,m=[];if(void 0!=e)h=r._getItem(e,g),h&&v&&!v(h)&&(h=null);else if(void 0!=i)for(p=0,f=i.length;p<f;p++)h=r._getItem(i[p],g),v&&!v(h)||m.push(h);else for(u=(0,l["default"])(this._data),p=0,f=u.length;p<f;p++)c=u[p],h=r._getItem(c,g),v&&!v(h)||m.push(h);if(n&&n.order&&void 0==e&&this._sort(m,n.order),n&&n.fields){var y=n.fields;if(void 0!=e)h=this._filterFields(h,y);else for(p=0,f=m.length;p<f;p++)m[p]=this._filterFields(m[p],y)}if("Object"==o){var b,w={};for(p=0,f=m.length;p<f;p++)b=m[p],w[b.id]=b;return w}return void 0!=e?h:m},c.prototype.getIds=function(t){var e,i,n,o,r,s=this._data,a=t&&t.filter,h=t&&t.order,d=t&&t.type||this._options.type,u=(0,l["default"])(s),c=[];if(a)if(h){for(r=[],e=0,i=u.length;e<i;e++)n=u[e],o=this._getItem(n,d),a(o)&&r.push(o);for(this._sort(r,h),e=0,i=r.length;e<i;e++)c.push(r[e][this._fieldId])}else for(e=0,i=u.length;e<i;e++)n=u[e],o=this._getItem(n,d),a(o)&&c.push(o[this._fieldId]);else if(h){for(r=[],e=0,i=u.length;e<i;e++)n=u[e],r.push(s[n]);for(this._sort(r,h),e=0,i=r.length;e<i;e++)c.push(r[e][this._fieldId])}else for(e=0,i=u.length;e<i;e++)n=u[e],o=s[n],c.push(o[this._fieldId]);return c},c.prototype.getDataSet=function(){return this},c.prototype.forEach=function(t,e){var i,n,o,r,s=e&&e.filter,a=e&&e.type||this._options.type,h=this._data,d=(0,l["default"])(h);if(e&&e.order){var u=this.get(e);for(i=0,n=u.length;i<n;i++)o=u[i],r=o[this._fieldId],t(o,r)}else for(i=0,n=d.length;i<n;i++)r=d[i],o=this._getItem(r,a),s&&!s(o)||t(o,r)},c.prototype.map=function(t,e){var i,n,o,r,s=e&&e.filter,a=e&&e.type||this._options.type,h=[],d=this._data,u=(0,l["default"])(d);for(i=0,n=u.length;i<n;i++)o=u[i],r=this._getItem(o,a),s&&!s(r)||h.push(t(r,o));return e&&e.order&&this._sort(h,e.order),h},c.prototype._filterFields=function(t,e){if(!t)return t;var i,n,o={},r=(0,l["default"])(t),s=r.length;if(Array.isArray(e))for(i=0;i<s;i++)n=r[i],-1!=e.indexOf(n)&&(o[n]=t[n]);else for(i=0;i<s;i++)n=r[i],e.hasOwnProperty(n)&&(o[e[n]]=t[n]);return o},c.prototype._sort=function(t,e){if(d.isString(e)){var i=e;t.sort(function(t,e){var n=t[i],o=e[i];return n>o?1:n<o?-1:0})}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},c.prototype.remove=function(t,e){var i,n,o,r,s=[],a=[],l=[];for(l=Array.isArray(t)?t:[t],i=0,n=l.length;i<n;i++)r=this._remove(l[i]),r&&(o=r[this._fieldId],void 0!=o&&(s.push(o),a.push(r)));return s.length&&this._trigger("remove",{items:s,oldData:a},e),s},c.prototype._remove=function(t){var e,i;return d.isNumber(t)||d.isString(t)?i=t:t&&"object"===("undefined"===typeof t?"undefined":(0,s["default"])(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},c.prototype.clear=function(t){var e,i,n=(0,l["default"])(this._data),o=[];for(e=0,i=n.length;e<i;e++)o.push(this._data[n[e]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:o},t),n},c.prototype.max=function(t){var e,i,n=this._data,o=(0,l["default"])(n),r=null,s=null;for(e=0,i=o.length;e<i;e++){var a=o[e],h=n[a],d=h[t];null!=d&&(!r||d>s)&&(r=h,s=d)}return r},c.prototype.min=function(t){var e,i,n=this._data,o=(0,l["default"])(n),r=null,s=null;for(e=0,i=o.length;e<i;e++){var a=o[e],h=n[a],d=h[t];null!=d&&(!r||d<s)&&(r=h,s=d)}return r},c.prototype.distinct=function(t){var e,i,n,o=this._data,r=(0,l["default"])(o),s=[],a=this._options.type&&this._options.type[t]||null,h=0;for(e=0,n=r.length;e<n;e++){var u=r[e],c=o[u],p=c[t],f=!1;for(i=0;i<h;i++)if(s[i]==p){f=!0;break}f||void 0===p||(s[h]=p,h++)}if(a)for(e=0,n=s.length;e<n;e++)s[e]=d.convert(s[e],a);return s},c.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=d.randomUUID(),t[this._fieldId]=e;var i,n,o={},r=(0,l["default"])(t);for(i=0,n=r.length;i<n;i++){var s=r[i],a=this._type[s];o[s]=d.convert(t[s],a)}return this._data[e]=o,this.length++,e},c.prototype._getItem=function(t,e){var i,n,o,r,s=this._data[t];if(!s)return null;var a={},h=(0,l["default"])(s);if(e)for(o=0,r=h.length;o<r;o++)i=h[o],n=s[i],a[i]=d.convert(n,e[i]);else for(o=0,r=h.length;o<r;o++)i=h[o],n=s[i],a[i]=n;return a[this._fieldId]||(a[this._fieldId]=s.id),a},c.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+(0,o["default"])(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var n=(0,l["default"])(t),r=0,s=n.length;r<s;r++){var a=n[r],h=this._type[a];i[a]=d.convert(t[a],h)}return e},t.exports=c},function(t,e,i){var n=i(8),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(11);function l(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}l.prototype.setData=function(t){var e,i,n,o,r;if(this._data){for(this._data.off&&this._data.off("*",this.listener),e=this._data.getIds({filter:this._options&&this._options.filter}),r=[],n=0,o=e.length;n<o;n++)r.push(this._data._data[e[n]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:r})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),n=0,o=e.length;n<o;n++)i=e[n],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},l.prototype.refresh=function(){var t,e,i,n=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,o["default"])(this._ids),s={},a=[],l=[],h=[];for(e=0,i=n.length;e<i;e++)t=n[e],s[t]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,i=r.length;e<i;e++)t=r[e],s[t]||(l.push(t),h.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a}),l.length&&this._trigger("remove",{items:l,oldData:h})},l.prototype.get=function(t){var e,i,n,o=this,r=s.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(e=arguments[0],i=arguments[1],n=arguments[2]):(i=arguments[0],n=arguments[1]);var a=s.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return o._options.filter(t)&&i.filter(t)});var l=[];return void 0!=e&&l.push(e),l.push(a),l.push(n),this._data&&this._data.get.apply(this._data,l)},l.prototype.getIds=function(t){var e;if(this._data){var i,n=this._options.filter;i=t&&t.filter?n?function(e){return n(e)&&t.filter(e)}:t.filter:n,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},l.prototype.map=function(t,e){var i=[];if(this._data){var n,o=this._options.filter;n=e&&e.filter?o?function(t){return o(t)&&e.filter(t)}:e.filter:o,i=this._data.map(t,{filter:n,order:e&&e.order})}else i=[];return i},l.prototype.getDataSet=function(){var t=this;while(t instanceof l)t=t._data;return t||null},l.prototype._onEvent=function(t,e,i){var n,o,r,s,a=e&&e.items,l=[],h=[],d=[],u=[],c=[],p=[];if(a&&this._data){switch(t){case"add":for(n=0,o=a.length;n<o;n++)r=a[n],s=this.get(r),s&&(this._ids[r]=!0,l.push(r));break;case"update":for(n=0,o=a.length;n<o;n++)r=a[n],s=this.get(r),s?this._ids[r]?(h.push(r),c.push(e.data[n]),u.push(e.oldData[n])):(this._ids[r]=!0,l.push(r)):this._ids[r]&&(delete this._ids[r],d.push(r),p.push(e.oldData[n]));break;case"remove":for(n=0,o=a.length;n<o;n++)r=a[n],this._ids[r]&&(delete this._ids[r],d.push(r),p.push(e.oldData[n]));break}this.length+=l.length-d.length,l.length&&this._trigger("add",{items:l},i),h.length&&this._trigger("update",{items:h,oldData:u,data:c},i),d.length&&this._trigger("remove",{items:d,oldData:p},i)}},l.prototype.on=a.prototype.on,l.prototype.off=a.prototype.off,l.prototype._trigger=a.prototype._trigger,l.prototype.subscribe=l.prototype.on,l.prototype.unsubscribe=l.prototype.off,t.exports=l},function(t,e,i){var n=i(57)("wks"),o=i(40),r=i(18).Symbol,s="function"==typeof r,a=t.exports=function(t){return n[t]||(n[t]=s&&r[t]||(s?r:o)("Symbol."+t))};a.store=n},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,i,n,o,r,s){var a;if("circle"==n.style?(a=e.getSVGElement("circle",o,r),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):(a=e.getSVGElement("rect",o,r),a.setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),s){var l=e.getSVGElement("text",o,r);s.xOffset&&(t+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(l.textContent=s.content),s.className&&l.setAttributeNS(null,"class",s.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,o,r,s,a,l){if(0!=o){o<0&&(o*=-1,i-=o);var h=e.getSVGElement("rect",s,a);h.setAttributeNS(null,"x",t-.5*n),h.setAttributeNS(null,"y",i),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",o),h.setAttributeNS(null,"class",r),l&&h.setAttributeNS(null,"style",l)}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var n=i(19),o=p(n),r=i(6),s=p(r),a=i(8),l=p(a),h=i(0),d=p(h),u=i(1),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2),g=!1,v=void 0,m="background: #FFeeee; color: #dd0000",y=function(){function t(){(0,d["default"])(this,t)}return(0,c["default"])(t,null,[{key:"validate",value:function(e,i,n){g=!1,v=i;var o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),g}},{key:"parse",value:function(e,i,n){for(var o in e)e.hasOwnProperty(o)&&t.check(o,e,i,n)}},{key:"check",value:function(e,i,n,o){if(void 0!==n[e]||void 0!==n.__any__){var r=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(r="__any__",s="object"===t.getType(i[e]));var a=n[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,r,a,o)}else t.getSuggestion(e,n,o)}},{key:"checkFields",value:function(e,i,n,o,r,s){var a=function(i){console.log("%c"+i+t.printLocation(s,e),m)},h=t.getType(i[e]),d=r[h];void 0!==d?"array"===t.getType(d)&&-1===d.indexOf(i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(d)+' not "'+i[e]+'". '),g=!0):"object"===h&&"__any__"!==o&&(s=f.copyAndExtendArray(s,e),t.parse(i[e],n[o],s)):void 0===r["any"]&&(a('Invalid type received for "'+e+'". Expected: '+t.print((0,l["default"])(r))+". Received ["+h+'] "'+i[e]+'"'),g=!0)}},{key:"getType",value:function(t){var e="undefined"===typeof t?"undefined":(0,s["default"])(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var o=t.findInOptions(e,i,n,!1),r=t.findInOptions(e,v,[],!0),s=8,a=4,h=void 0;h=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=a&&o.distance>r.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""):o.distance<=s?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print((0,l["default"])(i))+t.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+h,m),g=!0}},{key:"findInOptions",value:function(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],l=e.toLowerCase(),h=void 0;for(var d in i){var u=void 0;if(void 0!==i[d].__type__&&!0===o){var c=t.findInOptions(e,i[d],f.copyAndExtendArray(n,d));r>c.distance&&(s=c.closestMatch,a=c.path,r=c.distance,h=c.indexMatch)}else-1!==d.toLowerCase().indexOf(l)&&(h=d),u=t.levenshteinDistance(e,d),r>u&&(s=d,a=f.copyArray(n),r=u)}return{closestMatch:s,path:a,distance:r,indexMatch:h}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",o=0;o<t.length;o++){for(var r=0;r<o+1;r++)n+="  ";n+=t[o]+": {\n"}for(var s=0;s<t.length+1;s++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return(0,o["default"])(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,o=[];for(i=0;i<=e.length;i++)o[i]=[i];for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}]),t}();e["default"]=y,e.printStyle=m},function(t,e,i){var n=i(2);function o(t,e){this.options=null,this.props=null}o.prototype.setOptions=function(t){t&&n.extend(this.options,t)},o.prototype.redraw=function(){return!1},o.prototype.destroy=function(){},o.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=o},function(t,e,i){var n=i(18),o=i(7),r=i(80),s=i(26),a="prototype",l=function(t,e,i){var h,d,u,c=t&l.F,p=t&l.G,f=t&l.S,g=t&l.P,v=t&l.B,m=t&l.W,y=p?o:o[e]||(o[e]={}),b=y[a],w=p?n:f?n[e]:(n[e]||{})[a];for(h in p&&(i=e),i)d=!c&&w&&void 0!==w[h],d&&h in y||(u=d?w[h]:i[h],y[h]=p&&"function"!=typeof w[h]?i[h]:v&&d?r(u,n):m&&w[h]==u?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e[a]=t[a],e}(u):g&&"function"==typeof u?r(Function.call,u):u,g&&((y.virtual||(y.virtual={}))[h]=u,t&l.R&&b&&!b[h]&&s(b,h,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var n=i(27),o=i(81),r=i(53),s=Object.defineProperty;e.f=i(21)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return s(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=h(n),r=i(0),s=h(r),a=i(1),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e,i,n){(0,s["default"])(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,l["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,o["default"])(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,o=this.textSize.height,r=14;return 0===n&&(n=r,o=r),{width:n,height:o}}}]),t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var o=2*n.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,o,r,s,a){if(this.resize(t,r,s,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),t[e](n,o,a.size),this.performFill(t,a),void 0!==this.options.label){this.labelModule.calculateLabelSize(t,r,s,n,o,"hanging");var l=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,l,r,s,"hanging")}this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(f["default"]);e["default"]=v},function(t,e,i){var n=i(78),o=i(51);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(20),o=i(39);t.exports=i(21)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(32);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){e.__esModule=!0;var n=i(188),o=a(n),r=i(77),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(h){o=!0,r=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,i){var n=i(84),o=i(58);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){function n(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}n.subtract=function(t,e){var i=new n;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},n.add=function(t,e){var i=new n;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},n.avg=function(t,e){return new n((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},n.crossProduct=function(t,e){var i=new n;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=n},function(t,e,i){var n,o,r;(function(i,s){o=[],n=s,r="function"===typeof n?n.apply(e,o):n,void 0===r||(t.exports=r)})(0,function(){function t(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s["left"]={code:37,shift:!1},s["up"]={code:38,shift:!1},s["right"]={code:39,shift:!1},s["down"]={code:40,shift:!1},s["space"]={code:32,shift:!1},s["enter"]={code:13,shift:!1},s["shift"]={code:16,shift:void 0},s["esc"]={code:27,shift:!1},s["backspace"]={code:8,shift:!1},s["tab"]={code:9,shift:!1},s["ctrl"]={code:17,shift:!1},s["alt"]={code:18,shift:!1},s["delete"]={code:46,shift:!1},s["pageup"]={code:33,shift:!1},s["pagedown"]={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==r[e][t.keyCode]){for(var n=r[e][t.keyCode],o=0;o<n.length;o++)void 0===n[o].shift?n[o].fn(t):1==n[o].shift&&1==t.shiftKey?n[o].fn(t):0==n[o].shift&&0==t.shiftKey&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=r[i][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==s[t].shift||n.push(r[i][s[t].code][a]);r[i][s[t].code]=n}else r[i][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),o}return t})},function(t,e,i){e.convertHiddenOptions=function(t,i,n){if(n&&!Array.isArray(n))return e.convertHiddenOptions(t,i,[n]);if(i.hiddenDates=[],n&&1==Array.isArray(n)){for(var o=0;o<n.length;o++)if(void 0===n[o].repeat){var r={};r.start=t(n[o].start).toDate().valueOf(),r.end=t(n[o].end).toDate().valueOf(),i.hiddenDates.push(r)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,n){if(n&&!Array.isArray(n))return e.updateHiddenDates(t,i,[n]);if(n&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,n);for(var o=t(i.range.start),r=t(i.range.end),s=i.range.end-i.range.start,a=s/i.domProps.centerContainer.width,l=0;l<n.length;l++)if(void 0!==n[l].repeat){var h=t(n[l].start),d=t(n[l].end);if("Invalid Date"==h._d)throw new Error("Supplied start date is not valid: "+n[l].start);if("Invalid Date"==d._d)throw new Error("Supplied end date is not valid: "+n[l].end);var u=d-h;if(u>=4*a){var c=0,p=r.clone();switch(n[l].repeat){case"daily":h.day()!=d.day()&&(c=1),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7,"days"),d.dayOfYear(o.dayOfYear()),d.year(o.year()),d.subtract(7-c,"days"),p.add(1,"weeks");break;case"weekly":var f=d.diff(h,"days"),g=h.day();h.date(o.date()),h.month(o.month()),h.year(o.year()),d=h.clone(),h.day(g),d.day(g),d.add(f,"days"),h.subtract(1,"weeks"),d.subtract(1,"weeks"),p.add(1,"weeks");break;case"monthly":h.month()!=d.month()&&(c=1),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),d.month(o.month()),d.year(o.year()),d.subtract(1,"months"),d.add(c,"months"),p.add(1,"months");break;case"yearly":h.year()!=d.year()&&(c=1),h.year(o.year()),h.subtract(1,"years"),d.year(o.year()),d.subtract(1,"years"),d.add(c,"years"),p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat)}while(h<p)switch(i.hiddenDates.push({start:h.valueOf(),end:d.valueOf()}),n[l].repeat){case"daily":h.add(1,"days"),d.add(1,"days");break;case"weekly":h.add(1,"weeks"),d.add(1,"weeks");break;case"monthly":h.add(1,"months"),d.add(1,"months");break;case"yearly":h.add(1,"y"),d.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[l].repeat)}i.hiddenDates.push({start:h.valueOf(),end:d.valueOf()})}}e.removeDuplicates(i);var v=e.isHidden(i.range.start,i.hiddenDates),m=e.isHidden(i.range.end,i.hiddenDates),y=i.range.start,b=i.range.end;1==v.hidden&&(y=1==i.range.startToFront?v.startDate-1:v.endDate+1),1==m.hidden&&(b=1==i.range.endToFront?m.startDate-1:m.endDate+1),1!=v.hidden&&1!=m.hidden||i.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var n=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].start,a=e.hiddenDates[r].end;if(o>=s&&o<a){n=!0;break}}if(1==n&&o<e._end.valueOf()&&o!=i){var l=t(i),h=t(a);l.year()!=h.year()?e.switchedYear=!0:l.month()!=h.month()?e.switchedMonth=!0:l.dayOfYear()!=h.dayOfYear()&&(e.switchedDay=!0),e.current=h}},e.toScreen=function(t,i,n){var o;if(0==t.body.hiddenDates.length)return o=t.range.conversion(n),(i.valueOf()-o.offset)*o.scale;var r=e.isHidden(i,t.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){o=t.range.conversion(n,s);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,o.offset);return i=t.options.moment(i).toDate().valueOf(),i+=a,-(o.offset-i.valueOf())*o.scale}if(i>t.range.end){var l={start:t.range.start,end:i};return i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,l,i),o=t.range.conversion(n,s),(i.valueOf()-o.offset)*o.scale}return i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i),o=t.range.conversion(n,s),(i.valueOf()-o.offset)*o.scale},e.toTime=function(t,i,n){if(0==t.body.hiddenDates.length){var o=t.range.conversion(n);return new Date(i/o.scale+o.offset)}var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),s=t.range.end-t.range.start-r,a=s*i/n,l=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a);return new Date(l+a+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&s<i&&(n+=s-r)}return n},e.getHiddenDurationBeforeStart=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&s<=i&&(n+=s-r)}return n},e.correctTimeForHidden=function(t,i,n,o){return o=t(o).toDate().valueOf(),o-=e.getHiddenDurationBefore(t,i,n,o),o},e.getHiddenDurationBefore=function(t,e,i,n){var o=0;n=t(n).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=i.start&&a<i.end&&n>=a&&(o+=a-s)}return o},e.getAccumulatedHiddenDuration=function(t,e,i){for(var n=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,o>=i)break;n+=l-a}}return n},e.snapAwayFromHidden=function(t,i,n,o){var r=e.isHidden(i,t);return 1==r.hidden?n<0?1==o?r.startDate-(r.endDate-i)-1:r.startDate-1:1==o?r.endDate+(i-r.startDate)+1:r.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(t>=n&&t<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){var e="pan-y";return t.getTouchAction=function(){return[e]},t}},function(t,e,i){var n=i(6),o=a(n),r=i(8),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(10),h=i(2),d=i(9);function u(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}u.prototype.stack=!0,u.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},u.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},u.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0);var i=void 0!=t.subgroup&&this.data.subgroup!=t.subgroup;i&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},u.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},u.prototype.isVisible=function(t){return!1},u.prototype.show=function(){return!1},u.prototype.hide=function(){return!1},u.prototype.redraw=function(){},u.prototype.repositionX=function(){},u.prototype.repositionY=function(){},u.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var i=new l(e);i.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),i.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},u.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var i=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete",n.title="Delete this item",new l(n).on("tap",function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)}),t.appendChild(n),this.dom.deleteButton=n}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},u.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip",t.appendChild(i),this.dom.onItemUpdateTimeTooltip=i}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var n,o=50,r=this.parent.itemSet.body.domProps.scrollTop;n="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height;var s,a,l=n+this.parent.top-o<-r;l?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(a=this.options.tooltipOnItemUpdateTime.template.bind(this),s=a(this.data)):(s="start: "+d(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(s+="<br> end: "+d(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=s}}},u.prototype._updateContents=function(t){var e,i,n,o,r,s=this.parent.itemSet.itemsData.get(this.id),a=this.dom.box||this.dom.point,l=a.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(r=this.options.visibleFrameTemplate.bind(this),o=r(s,a)):o="",l)if(o instanceof Object&&!(o instanceof Element))r(s,l);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),i){if(o instanceof Element)l.innerHTML="",l.appendChild(o);else if(void 0!=o)l.innerHTML=o;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=o}if(this.options.template?(n=this.options.template.bind(this),e=n(s,t,this.data)):e=this.data.content,e instanceof Object&&!(e instanceof Element))n(s,t);else if(i=this._contentToString(this.content)!==this._contentToString(e),i){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},u.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,s["default"])(this.data)}for(var i=0;i<e.length;i++){var n=e[i],o=this.data[n];null!=o?t.setAttribute("data-"+n,o):t.removeAttribute("data-"+n)}}},u.prototype._updateStyle=function(t){this.style&&(h.removeCssText(t,this.style),this.style=null),this.data.style&&(h.addCssText(t,this.data.style),this.style=this.data.style)},u.prototype._contentToString=function(t){return"string"===typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},u.prototype._updateEditStatus=function(){this.options&&("boolean"===typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,o["default"])(this.options.editable)&&(this.editable={},h.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"===typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,o["default"])(this.data.editable)&&(this.editable={},h.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},u.prototype.getWidthLeft=function(){return 0},u.prototype.getWidthRight=function(){return 0},u.prototype.getTitle=function(){return this.data.title},t.exports=u},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(51);t.exports=function(t){return Object(n(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function n(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}n.prototype.setOptions=function(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay),t&&"undefined"!==typeof t.max&&(this.max=t.max),this._flushIfNeeded()},n.extend=function(t,e){var i=new n(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var r=0;r<e.replace.length;r++){var s=e.replace[r];o.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:o},i},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}},n.prototype.replace=function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:n,context:this})}},n.prototype.queue=function(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"===typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},n.prototype.flush=function(){while(this._queue.length>0){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=n},function(t,e){function i(t){if(t)return n(t)}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){var i=this;function n(){i.off(t,n),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o=0;o<n.length;o++)if(i=n[o],i===e||i.fn===e){n.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,o=i.length;n<o;++n)i[n].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){var n=i(6),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(16),l=i(66),h=i(36),d=i(9);function u(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:l.FORMAT,moment:d,timeAxis:null},this.options=s.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}u.prototype=new a,u.prototype.setOptions=function(t){t&&(s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),s.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"===typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,o["default"])(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"===typeof d.locale?d.locale(t.locale):d.lang(t.locale)))},u.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},u.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},u.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n;this._calculateCharSize();var r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=s?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,l=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?n.insertBefore(e,a):n.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(i,l):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},u.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=s.convert(this.body.range.start,"Number"),i=s.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=n-h.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();var r=new l(new Date(e),new Date(i),o,this.body.hiddenDates,this.options);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var a,d,u,p,f,g=this.dom;g.redundant.lines=g.lines,g.redundant.majorTexts=g.majorTexts,g.redundant.minorTexts=g.minorTexts,g.lines=[],g.majorTexts=[],g.minorTexts=[];var v,m,y,b,w=0,x=void 0,_=0,E=1e3;r.start(),a=r.getCurrent(),u=this.body.util.toScreen(a);while(r.hasNext()&&_<E){switch(_++,p=r.isMajor(),b=r.getClassName(),y=r.getLabelMinor(),a,d=u,r.next(),a=r.getCurrent(),r.isMajor(),u=this.body.util.toScreen(a),v=w,w=u-d,r.scale){case"week":f=!0;break;default:f=w>=.4*v;break}if(this.options.showMinorLabels&&f){var k=this._repaintMinorText(d,y,t,b);k.style.width=w+"px"}p&&this.options.showMajorLabels?(d>0&&(void 0==x&&(x=d),k=this._repaintMajorText(d,r.getLabelMajor(),t,b)),m=this._repaintMajorLine(d,w,t,b)):f?m=this._repaintMinorLine(d,w,t,b):m&&(m.style.width=parseInt(m.style.width)+w+"px")}if(_!==E||c||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+E+" lines."),c=!0),this.options.showMajorLabels){var T=this.body.util.toTime(0),D=r.getLabelMajor(T),C=D.length*(this.props.majorCharWidth||10)+10;(void 0==x||C<x)&&this._repaintMajorText(0,D,t,b)}s.forEach(this.dom.redundant,function(t){while(t.length){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},u.prototype._repaintMinorText=function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");o=document.createElement("div"),o.appendChild(r),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+n,o},u.prototype._repaintMajorText=function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createElement("div");o=document.createElement("div"),o.appendChild(r),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+n,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},u.prototype._repaintMinorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=r.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+n):(o.style.left=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+n),o.style.width=e+"px",o},u.prototype._repaintMajorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+n):(o.style.left=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+n),o.style.height=r.majorLineHeight+"px",o.style.width=e+"px",o},u.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var c=!1;t.exports=u},function(t,e,i){var n=i(10),o=i(2),r=i(16),s=i(9),a=i(98);function l(t,e){this.body=t,this.defaultOptions={moment:s,locales:a,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}l.prototype=new r,l.prototype.setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},l.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",i.bind(this),!1),e.addEventListener("DOMMouseScroll",i.bind(this),!1)):e.attachEvent("onmousewheel",i.bind(this)),t.appendChild(e),this.hammer=new n(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},l.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},l.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales["en"]);var n=this.options.title;return void 0===n?(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),n=n.charAt(0).toUpperCase()+n.substring(1)):"function"===typeof n&&(n=n.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=n,!1},l.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},l.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},l.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},l.prototype.setCustomTitle=function(t){this.options.title=t},l.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},l.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},l.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},l.customTimeFromTarget=function(t){var e=t.target;while(e){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(117)["default"],d=i(48)["default"],u=i(193)["default"],c=i(200)["default"],p=i(201)["default"],f=i(202)["default"],g=i(203)["default"],v=i(204)["default"],m=i(205)["default"],y=i(206)["default"],b=i(207)["default"],w=i(208)["default"],x=i(209)["default"],_=i(210)["default"],E=i(211)["default"],k=i(212)["default"],T=i(213)["default"],D=i(15),C=D.printStyle,S=function(){function t(e,i,n,r,s,a){(0,o["default"])(this,t),this.options=l.bridgeObject(s),this.globalOptions=s,this.defaultOptions=a,this.body=i,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new h(this.body,this.options,!1),this.setOptions(e)}return(0,s["default"])(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=d.choosify("node",n),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"===typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"===typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1),n=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new u(this.options,this.body,this.labelModule);break;case"circle":this.shape=new c(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new f(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g(this.options,this.body,this.labelModule);break;case"dot":this.shape=new v(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new m(this.options,this.body,this.labelModule);break;case"icon":this.shape=new y(this.options,this.body,this.labelModule);break;case"image":this.shape=new b(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new w(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new x(this.options,this.body,this.labelModule);break;case"star":this.shape=new _(this.options,this.body,this.labelModule);break;case"text":this.shape=new E(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new k(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new T(this.options,this.body,this.labelModule);break;default:this.shape=new m(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&d.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),d.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");var o="number"===typeof n||"string"===typeof n&&""!=n;if(o){var r=i.get(n);l.selectiveNotDeepExtend(["font"],t,r),t.color=l.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments[4],s=["color","fixed","shadow"];if(l.selectiveNotDeepExtend(s,e,i,n),t.checkMass(i),l.mergeOptions(e,i,"shadow",o),void 0!==i.color&&null!==i.color){var a=l.parseColor(i.color);l.fillIfDefined(e.color,a)}else!0===n&&null===i.color&&(e.color=l.bridgeObject(o.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"===typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"===typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"===typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=l.bridgeObject(o.font)),t.updateGroupOptions(e,i,r),void 0!==i.scaling&&l.mergeOptions(e.scaling,i.scaling,"label",o.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",C),t.mass=1}}}]),t}();e["default"]=S},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=h(n),r=i(0),s=h(r),a=i(1),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=i(2),u=function(){function t(){(0,s["default"])(this,t)}return(0,l["default"])(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],n=!0,r=d.topMost(e,"chosen");if("boolean"===typeof r)n=r;else if("object"===("undefined"===typeof r?"undefined":(0,o["default"])(r))){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=d.topMost(e,["chosen",t]);"boolean"!==typeof s&&"function"!==typeof s||(n=s)}return n}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var o=-i.angle,r={x:Math.cos(o)*n.x-Math.sin(o)*n.y,y:Math.sin(o)*n.x+Math.cos(o)*n.y};e=r}else e=n}var s=t.x+t.width,a=t.y+t.width;return t.left<e.x&&s>e.x&&t.top<e.y&&a>e.y}},{key:"isValidLabel",value:function(t){return"string"===typeof t&&""!==t}}]),t}();e["default"]=u},function(t,e,i){i(125);for(var n=i(18),o=i(26),r=i(31),s=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var h=a[l],d=n[h],u=d&&d.prototype;u&&!u[s]&&o(u,s,h),r[h]=r.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var n=i(32);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(27),o=i(130),r=i(58),s=i(56)("IE_PROTO"),a=function(){},l="prototype",h=function(){var t,e=i(82)("iframe"),n=r.length,o="<",s=">";e.style.display="none",i(134).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),h=t.F;while(n--)delete h[l][r[n]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(a[l]=n(t),i=new a,a[l]=null,i[s]=t):i=h(),void 0===e?i:o(i,e)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(57)("keys"),o=i(40);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,i){var n=i(18),o="__core-js_shared__",r=n[o]||(n[o]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(20).f,o=i(22),r=i(13)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(135)(!0);i(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){e.f=i(13)},function(t,e,i){var n=i(18),o=i(7),r=i(52),s=i(61),a=i(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(8),o=h(n),r=i(19),s=h(r),a=i(6),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=i(2),u=i(9),c=i(16),p=i(36);function f(t,e){var i=u().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=n,this.end=o):(this.start=e.start||n,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:u,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=d.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function g(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}f.prototype=new c,f.prototype.setOptions=function(t){if(t){var e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];d.selectiveExtend(e,this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},f.prototype.startRolling=function(){var t=this;function e(){t.stopRolling(),t.rolling=!0;var i=t.end-t.start,n=d.convert(new Date,"Date").valueOf(),o=n-i*t.options.rollingMode.offset,r=n+i*(1-t.options.rollingMode.offset),s={animation:!1};t.setRange(o,r,s);var a=t.conversion(t.body.domProps.center.width).scale;i=1/a/10,i<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}e()},f.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},f.prototype.setRange=function(t,e,i,n,r){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var a=this,h=void 0!=t?d.convert(t,"Date").valueOf():null,u=void 0!=e?d.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var c=this.start,f=this.end,g="object"===(0,l["default"])(i.animation)&&"duration"in i.animation?i.animation.duration:500,v="object"===(0,l["default"])(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",m=d.easingFunctions[v];if(!m)throw new Error("Unknown easing function "+(0,s["default"])(v)+". Choose from: "+(0,o["default"])(d.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1,w=function t(){if(!a.props.touch.dragging){var e=(new Date).valueOf(),o=e-y,s=m(o/g),l=o>g,d=l||null===h?h:c+(h-c)*s,v=l||null===u?u:f+(u-f)*s;x=a._applyRange(d,v),p.updateHiddenDates(a.options.moment,a.body,a.options.hiddenDates),b=b||x;var w={start:new Date(a.start),end:new Date(a.end),byUser:i.byUser,event:i.event};if(r&&r(s,x,l),x&&a.body.emitter.emit("rangechange",w),l){if(b&&(a.body.emitter.emit("rangechanged",w),n))return n()}else a.animationTimer=setTimeout(t,20)}};return w()}var x=this._applyRange(h,u);if(p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),x){var _={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",_),clearTimeout(a.timeoutID),a.timeoutID=setTimeout(function(){a.body.emitter.emit("rangechanged",_)},200),n)return n()}},f.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},f.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},f.prototype._applyRange=function(t,e){var i,n=null!=t?d.convert(t,"Date").valueOf():this.start,o=null!=e?d.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?d.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?d.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<n&&(o=n),null!==s&&n<s&&(i=s-n,n+=i,o+=i,null!=r&&o>r&&(o=r)),null!==r&&o>r&&(i=o-r,n-=i,o-=i,null!=s&&n<s&&(n=s)),null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);if(a<0&&(a=0),o-n<a){var l=.5;this.end-this.start===a&&n>=this.start-l&&o<=this.end?(n=this.start,o=this.end):(i=a-(o-n),n-=i/2,o+=i/2)}}if(null!==this.options.zoomMax){var h=parseFloat(this.options.zoomMax);h<0&&(h=0),o-n>h&&(this.end-this.start===h&&n<this.start&&o>this.end?(n=this.start,o=this.end):(i=o-n-h,n+=i/2,o-=i/2))}var u=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,u},f.prototype.getRange=function(){return{start:this.start,end:this.end}},f.prototype.conversion=function(t,e){return f.conversion(this.start,this.end,t,e)},f.conversion=function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}},f.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},f.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;g(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start,o=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);n-=o;var r,s="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;r=this.options.rtl?i/s*n:-i/s*n;var a=this.props.touch.start+r,l=this.props.touch.end+r,h=p.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0),d=p.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,!0);if(h!=a||d!=l)return this.deltaDifference+=i,this.props.touch.start=h,this.props.touch.end=d,void this._onDrag(t);this.previousDelta=i,this._applyRange(a,l);var u=new Date(this.start),c=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:c,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},f.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},f.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var i,n;if(i=e<0?1-e/5:1/(1+e/5),this.rolling)n=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);n=this._pointerToDate(o)}this.zoom(i,n,e,t),t.preventDefault()}},f.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,d.preventDefault(t)},f.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){d.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=p.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),r=n-o,s=i-o+(this.props.touch.start-(i-o))*e,a=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var l=p.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0),h=p.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);l==s&&h==a||(this.props.touch.start=l,this.props.touch.end=h,this.scaleOffset=1-t.scale,s=l,a=h);var u={animation:!1,byUser:!0,event:t};this.setRange(s,a,u),this.startToFront=!1,this.endToFront=!0}},f.prototype._isInsideRange=function(t){var e,i=t.center?t.center.x:t.clientX;e=this.options.rtl?i-d.getAbsoluteLeft(this.body.dom.centerContainer):d.getAbsoluteRight(this.body.dom.centerContainer)-i;var n=this.body.util.toTime(e);return n>=this.start&&n<=this.end},f.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(g(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var n=this.body.domProps.center.height;return e=this.conversion(n),t.y/e.scale+e.offset},f.prototype.getPointer=function(t,e){return this.options.rtl?{x:d.getAbsoluteRight(e)-t.x,y:t.y-d.getAbsoluteTop(e)}:{x:t.x-d.getAbsoluteLeft(e),y:t.y-d.getAbsoluteTop(e)}},f.prototype.zoom=function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var o=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=p.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-r,a=e-r+(this.start-(e-r))*t,l=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var h=p.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),d=p.snapAwayFromHidden(this.body.hiddenDates,l,-i,!0);h==a&&d==l||(a=h,l=d);var u={animation:!1,byUser:!0,event:n};this.setRange(a,l,u),this.startToFront=!1,this.endToFront=!0},f.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,n=this.end+e*t;this.start=i,this.end=n},f.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,n=this.start-i,o=this.end-i,r={animation:!1,byUser:!0,event:null};this.setRange(n,o,r)},t.exports=f},function(t,e,i){var n=i(19),o=a(n),r=i(6),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(44),h=i(10),d=i(37),u=i(2),c=i(45),p=i(97),f=i(36),g=i(46);function v(){}l(v.prototype),v.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var e=this;this._origRedraw=this._redraw.bind(this),this._redraw=u.throttle(this._origRedraw),this.on("_change",function(t){e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()}),this.hammer=new h(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});d.disablePreventDefaultVertically(i),this.hammer.get("pan").set({threshold:5,direction:h.DIRECTION_HORIZONTAL}),this.listeners={};var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];function o(t){this.isActive()&&this.emit("mousewheel",t);var e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var n=this.props.scrollTop,o=n+i;this.isActive()&&(this._setScrollTop(o),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var r=Math.abs(e)>=Math.abs(i)?e:i,s=r/120*(this.range.end-this.range.start)/20,a=this.range.start+s,l=this.range.end+s,h={animation:!1,byUser:!0,event:t};this.range.setRange(a,l,h)}}function r(t){if(e.options.verticalScroll&&(t.preventDefault(),e.isActive())){var i=-t.target.scrollTop;e._setScrollTop(i),e._redraw(),e.emit("scrollSide",t)}}n.forEach(function(t){var i=function(i){e.isActive()&&e.emit(t,i)};e.hammer.on(t,i),e.listeners[t]=i}),d.onTouch(this.hammer,function(t){e.emit("touch",t)}.bind(this)),d.onRelease(this.hammer,function(t){e.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",o.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",o.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",o.bind(this)),this.dom.left.parentNode.addEventListener("scroll",r.bind(this)),this.dom.right.parentNode.addEventListener("scroll",r.bind(this));var s=!1;function a(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1)&&!s)return t.dataTransfer.dropEffect="move",s=!0,!1}function l(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var i=JSON.parse(t.dataTransfer.getData("text"));if(!i||!i.content)return}catch(n){return!1}return s=!1,t.center={x:t.clientX,y:t.clientY},"item"!==i.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t),e.emit("drop",e.getEventProperties(t)),!1}if(this.dom.center.addEventListener("dragover",a.bind(this),!1),this.dom.center.addEventListener("drop",l.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},v.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(u.selectiveExtend(e,this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,s["default"])(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"===typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,s["default"])(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new c(this.body);i.setOptions=function(t){var e=t?u.extend({},t):{};e.orientation="top",c.prototype.setOptions.call(i,e)},this.components.push(i)}}else if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);-1!==n&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&f.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new p(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var o=u.deepExtend({},this.options);this.components.forEach(function(t){u.deepExtend(o,t.options)}),this.configurator.setModuleOptions({global:o})}this._redraw()},v.prototype.isActive=function(){return!this.activator||this.activator.active},v.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},v.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o["default"])(e));i.length>0&&i[0].setCustomTime(t)},v.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,o["default"])(t));return e[0].getCustomTime()},v.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,o["default"])(e));if(i.length>0)return i[0].setCustomTitle(t)},v.prototype.getEventProperties=function(t){return{event:t}},v.prototype.addCustomTime=function(t,e){var i=void 0!==t?u.convert(t,"Date").valueOf():new Date,n=this.customTimes.some(function(t){return t.options.id===e});if(n)throw new Error("A custom time with id "+(0,o["default"])(e)+" already exists");var r=new g(this.body,u.extend({},this.options,{time:i,id:e}));return this.customTimes.push(r),this.components.push(r),this._redraw(),e},v.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,o["default"])(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},v.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},v.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var n=i.max-i.min,o=new Date(i.min.valueOf()-.01*n),r=new Date(i.max.valueOf()+.01*n),s=!t||void 0===t.animation||t.animation;this.range.setRange(o,r,{animation:s},e)}},v.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},v.prototype.setWindow=function(t,e,i,n){var o,r;"function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length?(r=arguments[0],o=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,{animation:o})):2==arguments.length&&"function"==typeof arguments[1]?(r=arguments[0],n=arguments[1],o=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},n)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},n))},v.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,o=u.convert(t,"Date").valueOf(),r=o-n/2,s=o+n/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(r,s,{animation:a},i)},v.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},v.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=s/(1+t),l=(s-a)/2,h=o+l,d=r-l;this.setWindow(h,d,e,i)}},v.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=o-s*t/2,l=r+s*t/2;this.setWindow(a,l,e,i)}},v.prototype.redraw=function(){this._redraw()},v.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){f.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(u.addClassName(n.root,"vis-top"),u.removeClassName(n.root,"vis-bottom")):(u.removeClassName(n.root,"vis-top"),u.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=u.option.asSize(e.maxHeight,""),n.root.style.minHeight=u.option.asSize(e.minHeight,""),n.root.style.width=u.option.asSize(e.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight,i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth,0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var o=Math.max(i.left.height,i.center.height,i.right.height),r=i.top.height+o+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;n.root.style.height=u.option.asSize(e.height,r+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var s=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=s,i.leftContainer.height=s,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=u.getScrollBarWidth()),e.verticalScroll?e.rtl?(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right),this._setDOM();var a=this._updateScrollTop();"top"!=e.orientation.item&&(a+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),n.center.style.top=a+"px";var l=0==i.scrollTop?"hidden":"",d=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=l,n.shadowBottom.style.visibility=d,n.shadowTopLeft.style.visibility=l,n.shadowBottomLeft.style.visibility=d,n.shadowTopRight.style.visibility=l,n.shadowBottomRight.style.visibility=d,e.verticalScroll&&(n.rightContainer.className="vis-panel vis-right vis-vertical-scroll",n.leftContainer.className="vis-panel vis-left vis-vertical-scroll",n.shadowTopRight.style.visibility="hidden",n.shadowBottomRight.style.visibility="hidden",n.shadowTopLeft.style.visibility="hidden",n.shadowBottomLeft.style.visibility="hidden",n.left.style.top="0px",n.right.style.top="0px"),(!e.verticalScroll||i.center.height<i.centerContainer.height)&&(n.left.style.top=a+"px",n.right.style.top=a+"px",n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right,this._setDOM());var c=i.center.height>i.centerContainer.height;this.hammer.get("pan").set({direction:c?h.DIRECTION_ALL:h.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t});var p=5;if(t){if(this.redrawCount<p)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},v.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},v.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},v.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},v.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},v.prototype._toTime=function(t){return f.toTime(this,t,this.props.center.width)},v.prototype._toGlobalTime=function(t){return f.toTime(this,t,this.props.root.width)},v.prototype._toScreen=function(t){return f.toScreen(this,t,this.props.center.width)},v.prototype._toGlobalScreen=function(t){return f.toScreen(this,t,this.props.root.width)},v.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},v.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=u.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},u.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},v.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(u.removeEventListener(window,"resize",this._onResize),this._onResize=null)},v.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},v.prototype._onPinch=function(t){this.touch.allowDragging=!1},v.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}},v.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},v.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},v.prototype._getScrollTop=function(){return this.props.scrollTop},v.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=v},function(t,e,i){var n=i(9),o=i(36),r=i(2);function s(t,e,i,o,r){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(o)?this.hiddenDates=o:this.hiddenDates=void 0!=o?[o]:[],this.format=s.FORMAT,this.options=r||{}}s.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},s.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},s.prototype.setFormat=function(t){var e=r.deepExtend({},s.FORMAT);this.format=r.deepExtend(e,t)},s.prototype.setRange=function(t,e,i){if(!(t instanceof Date)||!(e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},s.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},s.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year");break;default:break}},s.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},s.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year");break;default:break}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":break;default:break}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},s.prototype.getCurrent=function(){return this.current},s.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},s.prototype.setAutoScale=function(t){this.autoScale=t},s.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,i=2592e6,n=864e5,o=36e5,r=6e4,s=1e3,a=1;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),3*i>t&&(this.scale="month",this.step=3),i>t&&(this.scale="month",this.step=1),5*n>t&&(this.scale="day",this.step=5),2*n>t&&(this.scale="day",this.step=2),n>t&&(this.scale="day",this.step=1),n/2>t&&(this.scale="weekday",this.step=1),4*o>t&&(this.scale="hour",this.step=4),o>t&&(this.scale="hour",this.step=1),15*r>t&&(this.scale="minute",this.step=15),10*r>t&&(this.scale="minute",this.step=10),5*r>t&&(this.scale="minute",this.step=5),r>t&&(this.scale="minute",this.step=1),15*s>t&&(this.scale="second",this.step=15),10*s>t&&(this.scale="second",this.step=10),5*s>t&&(this.scale="second",this.step=5),s>t&&(this.scale="second",this.step=1),200*a>t&&(this.scale="millisecond",this.step=200),100*a>t&&(this.scale="millisecond",this.step=100),50*a>t&&(this.scale="millisecond",this.step=50),10*a>t&&(this.scale="millisecond",this.step=10),5*a>t&&(this.scale="millisecond",this.step=5),a>t&&(this.scale="millisecond",this.step=1)}},s.snap=function(t,e,i){var o=n(t);if("year"==e){var r=o.year()+Math.round(o.month()/12);o.year(Math.round(r/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("week"==e)o.weekday()>2?(o.weekday(0),o.add(1,"week")):o.weekday(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12));break}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6));break}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30));break}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30));break}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500));break}else if("millisecond"==e){var s=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/s)*s)}return o},s.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"week":return 1==t.date();case"month":return 0==t.month();case"year":return!1;default:return!1}},s.prototype.getLabelMinor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"===typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},s.prototype.getLabelMajor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"===typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},s.prototype.getClassName=function(){var t=this.moment,e=this.moment(this.current),i=e.locale?e.locale("en"):e.lang("en"),n=this.step,o=[];function r(t){return t/n%2==0?" vis-even":" vis-odd"}function s(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(t().add(1,"day"),"day")?" vis-tomorrow":e.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function a(t){return t.isSame(new Date,"week")?" vis-current-week":""}function l(t){return t.isSame(new Date,"month")?" vis-current-month":""}function h(t){return t.isSame(new Date,"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(s(i)),o.push(r(i.milliseconds()));break;case"second":o.push(s(i)),o.push(r(i.seconds()));break;case"minute":o.push(s(i)),o.push(r(i.minutes()));break;case"hour":o.push("vis-h"+i.hours()+(4==this.step?"-h"+(i.hours()+4):"")),o.push(s(i)),o.push(r(i.hours()));break;case"weekday":o.push("vis-"+i.format("dddd").toLowerCase()),o.push(s(i)),o.push(a(i)),o.push(r(i.date()));break;case"day":o.push("vis-day"+i.date()),o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(s(i)),o.push(l(i)),o.push(this.step<=2?s(i):""),o.push(this.step<=2?"vis-"+i.format("dddd").toLowerCase():""),o.push(r(i.date()-1));break;case"week":o.push("vis-week"+i.format("w")),o.push(a(i)),o.push(r(i.week()));break;case"month":o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(l(i)),o.push(r(i.month()));break;case"year":o.push("vis-year"+i.year()),o.push(h(i)),o.push(r(i.year()));break}return o.filter(String).join(" ")},t.exports=s},function(t,e,i){var n=i(2),o=i(16),r=i(9),s=i(98);function a(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:s,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}a.prototype=new o,a.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},a.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},a.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},a.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales["en"]);var o=n.current+" "+n.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},a.prototype.start=function(){var t=this;function e(){t.stop();var i=t.body.range.conversion(t.body.domProps.center.width).scale,n=1/i/10;n<30&&(n=30),n>1e3&&(n=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,n)}e()},a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},a.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=a},function(t,e,i){var n=i(8),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(100);function l(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"===typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var n in e.subgroupStack)this.subgroupStack[n]=e.subgroupStack[n],this.doInnerStack=this.doInnerStack||e.subgroupStack[n];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}l.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},l.prototype.setData=function(t){var e,i;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this),e=i(t,this.dom.inner)):e=t&&t.content,e instanceof Element){this.dom.inner.appendChild(e);while(this.dom.inner.firstChild)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?s.removeClassName(this.dom.inner,"vis-hidden"):s.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),s.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(s.removeClassName(this.dom.label,n),s.addClassName(this.dom.label,"expanded")):(s.removeClassName(this.dom.label,"expanded"),s.addClassName(this.dom.label,n))}else this.nestedGroups&&(this.nestedGroups=null,n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",s.removeClassName(this.dom.label,n),s.removeClassName(this.dom.label,"expanded"),s.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(s.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(s.removeClassName(this.dom.label,this.className),s.removeClassName(this.dom.foreground,this.className),s.removeClassName(this.dom.background,this.className),s.removeClassName(this.dom.axis,this.className)),s.addClassName(this.dom.label,o),s.addClassName(this.dom.foreground,o),s.addClassName(this.dom.background,o),s.addClassName(this.dom.axis,o),this.className=o),this.style&&(s.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(s.addCssText(this.dom.label,t.style),this.style=t.style)},l.prototype.getLabelWidth=function(){return this.props.label.width},l.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},i=0;s.forEach(this.items,function(t,n){if(t.dirty=!0,t.displayed){var o=!0;e[n]=t.redraw(o),i=e[n].length}});var n=i>0;if(n)for(var o=0;o<i;o++)s.forEach(e,function(t){t[o]()});return!0}},l.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop,e=this.dom.foreground.offsetLeft,i=this.dom.foreground.offsetWidth;this.top=t,this.right=e,this.width=i},l.prototype._redrawItems=function(t,e,i,n){var o=t||this.stackDirty||this.isVisible&&!e;if(o){var r={},l=null;if("function"===typeof this.itemSet.options.order){var h=this,d=!1,u={},c=0;s.forEach(this.items,function(t,e){if(!t.displayed){var i=!0;u[e]=t.redraw(i),c=u[e].length,h.visibleItems.push(t)}});var p=c>0;if(p)for(var f=0;f<c;f++)s.forEach(u,function(t){t[f]()});if(s.forEach(this.items,function(t){t.repositionX(d)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(l in this.subgroups)r[l]=this.subgroups[l].items.slice().sort(function(t,e){return h.itemSet.options.order(t.data,e.data)});a.stackSubgroupsWithInnerStack(r,i,this.subgroups)}else{var g=this.orderedItems.byStart.slice().sort(function(t,e){return h.itemSet.options.order(t.data,e.data)});a.stack(g,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(l in this.subgroups)r[l]=this.subgroups[l].items;a.stackSubgroupsWithInnerStack(r,i,this.subgroups)}else a.stack(this.visibleItems,i,!0);else a.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},l.prototype._didResize=function(t,e){t=s.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return t=s.updateProperty(this.props.label,"width",i)||t,t=s.updateProperty(this.props.label,"height",n)||t,t},l.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},l.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var n=this.visibleItems[e];n.repositionY(t),this.isVisible||"__background__"==this.groupId||n.displayed&&n.hide()}},l.prototype.redraw=function(t,e,i,n){var o,r,s=!1,a=this.isVisible,l=[function(){i=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(i,a,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){o=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){s=this._didResize.bind(this)(s,o)}.bind(this),function(){this._applyGroupHeight.bind(this)(o)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){return!this.isVisible&&this.height&&(s=!1),s}];return n?l:(l.forEach(function(t){r=t()}),r)},l.prototype._updateSubGroupHeights=function(t){if((0,o["default"])(this.subgroups).length>0){var e=this;this.resetSubgroups(),s.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=!0)})}},l.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},l.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var n=i[0].top,o=i[0].top+i[0].height;if(s.forEach(i,function(t){n=Math.min(n,t.top),o=Math.max(o,t.top+t.height)}),n>t.axis){var r=n-t.axis;o-=r,s.forEach(i,function(t){t.top-=r})}e=o+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height),e},l.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},l.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},l.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},l.prototype._addToSubgroup=function(t,e){e=e||t.data.subgroup,void 0!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)},l.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start,n=t.subgroups[e].items[0].data.start,o=i-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(n)&&(n=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(o)&&(o=e)}),t.subgroups[e].start=n,t.subgroups[e].end=new Date(o-1)}},l.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},l.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},l.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},l.prototype._removeFromSubgroup=function(t,e){if(e=e||t.data.subgroup,void 0!=e){var i=this.subgroups[e];if(i){var n=i.items.indexOf(t);n>=0&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},l.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},l.prototype.order=function(){for(var t=s.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},a.orderByStart(this.orderedItems.byStart),a.orderByEnd(this.orderedItems.byEnd)},l.prototype._updateItemsInRange=function(t,e,i){var n=[],o={},r=(i.end-i.start)/4,a=i.start-r,l=i.end+r,h=function(t){return t<a?-1:t<=l?0:1};if(e.length>0)for(var d=0;d<e.length;d++)this._checkIfVisibleWithReference(e[d],n,o,i);var u=s.binarySearchCustom(t.byStart,h,"data","start");if(this._traceVisible(u,t.byStart,n,o,function(t){return t.data.start<a||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,d=0;d<t.byEnd.length;d++)this._checkIfVisibleWithReference(t.byEnd[d],n,o,i);else{var c=s.binarySearchCustom(t.byEnd,h,"data","end");this._traceVisible(c,t.byEnd,n,o,function(t){return t.data.end<a||t.data.end>l})}var p={},f=0;for(d=0;d<n.length;d++){var g=n[d];if(!g.displayed){var v=!0;p[d]=g.redraw(v),f=p[d].length}}var m=f>0;if(m)for(var y=0;y<f;y++)s.forEach(p,function(t){t[y]()});for(d=0;d<n.length;d++)n[d].repositionX();return n},l.prototype._traceVisible=function(t,e,i,n,o){if(-1!=t){var r,s;for(r=t;r>=0;r--){if(s=e[r],o(s))break;void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}for(r=t+1;r<e.length;r++){if(s=e[r],o(s))break;void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}}},l.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},l.prototype._checkIfVisibleWithReference=function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},l.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=l},function(t,e,i){var n=i(29),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(68);function a(t,e,i){s.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}a.prototype=(0,o["default"])(s.prototype),a.prototype.redraw=function(t,e,i){var n=!1;this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,r=this.visibleItems.length;o<r;o++){var s=this.visibleItems[o];s.repositionY(e)}return n},a.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=a},function(t,e,i){var n=i(38);function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}},o.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,n=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(o<-n&&(o=-n),r>2*n&&(r=2*n));var a=Math.max(r-o+.5,1);switch(this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=a+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=a,i=Math.min(r-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-i,0)+"px":this.dom.content.style.left=Math.max(a-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-i)/2,0)+"px":this.dom.content.style.left=Math.max((a-i)/2,0)+"px";break;default:e=this.overflow?r>0?Math.max(-o,0):-i:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),o=u(n),r=i(6),s=u(r),a=i(0),l=u(a),h=i(1),d=u(h);function u(t){return t&&t.__esModule?t:{default:t}}var c=i(2),p=i(179)["default"],f=function(){function t(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,l["default"])(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},c.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new p(o),this.wrapper=void 0}return(0,d["default"])(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"===typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===("undefined"===typeof t?"undefined":(0,s["default"])(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"===typeof t?(this.options.filter=!0,e=t):"function"===typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,n=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,n=!1,"function"===typeof e?(n=e(o,[]),n=n||this._handleObject(this.configureOptions[o],[o],!0)):!0!==e&&-1===e.indexOf(o)||(n=!0),!1!==n&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){t._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return n.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(g){}a.step=s;var l="",h=0;if(void 0!==e){var d=1.2;e<0&&e*d<o?(a.min=Math.ceil(e*d),h=a.min,l="range increased"):e/d<o&&(a.min=Math.ceil(e/d),h=a.min,l="range increased"),e*d>r&&1!==r&&(a.max=Math.ceil(e*d),h=a.max,l="range increased"),a.value=e}else a.value=n;var u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=a.value;var c=this;a.onchange=function(){u.value=this.value,c._update(Number(this.value),i)},a.oninput=function(){u.value=this.value};var p=this._makeLabel(i[i.length-1],i),f=this._makeItem(i,p,a,u);""!==l&&this.popupHistory[f]!==h&&(this.popupHistory[f]=h,this._setupPopup(l,f))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],i=e.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===("undefined"===typeof t?"undefined":(0,s["default"])(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var o=this;n.onchange=function(){o._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var o=this;n.onchange=function(){o._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,o=t[1],r=document.createElement("div");e=void 0===e?o:e,"none"!==e?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,r.onclick=function(){n._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,n._update(o,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=this.options.filter,r=!1;for(var s in t)if(t.hasOwnProperty(s)){n=!0;var a=t[s],l=c.copyAndExtendArray(e,s);if("function"===typeof o&&(n=o(s,e),!1===n&&!(a instanceof Array)&&"string"!==typeof a&&"boolean"!==typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i)),!1!==n){r=!0;var h=this._getValue(l);if(a instanceof Array)this._handleArray(a,h,l);else if("string"===typeof a)this._makeTextInput(a,h,l);else if("boolean"===typeof a)this._makeCheckbox(a,h,l);else if(a instanceof Object){var d=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(d=!1),!0===d)if(void 0!==a.enabled){var u=c.copyAndExtendArray(l,"enabled"),p=this._getValue(u);if(!0===p){var f=this._makeLabel(s,l,!0);this._makeItem(l,f),r=this._handleObject(a,l)||r}else this._makeCheckbox(a,p,l)}else{var g=this._makeLabel(s,l,!0);this._makeItem(l,g),r=this._handleObject(a,l)||r}}else console.error("dont know how to handle",a,s,l)}}return r}},{key:"_handleArray",value:function(t,e,i){"string"===typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"===typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"===typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="true"===t||t,t="false"!==t&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,o["default"])(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e["default"]=f},function(t,e,i){var n=i(6),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(14);function a(t,e){}function l(t,e){return e="undefined"===typeof e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function h(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}a.draw=function(t,e,i,n){n=n||0;for(var r=h(i,e),a=0;a<t.length;a++)if(r){var d=r(t[a],e);!0!==d&&"object"!==("undefined"===typeof d?"undefined":(0,o["default"])(d))||s.drawPoint(t[a].screen_x+n,t[a].screen_y,l(e,d),i.svgElements,i.svg,t[a].label)}else s.drawPoint(t[a].screen_x+n,t[a].screen_y,l(e),i.svgElements,i.svg,t[a].label)},a.drawIcon=function(t,e,i,n,o,r){var a=.5*o,h=s.getSVGElement("rect",r.svgElements,r.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline"),s.drawPoint(e+.5*n,i,l(t),r.svgElements,r.svg)},t.exports=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){(0,s["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return r.labelOffset=0,r.selected=!1,r}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),t.circle(e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,o){var r,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,n,o);a.lineCount>=1&&(s+=a.height/2)}r=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,r,n,o,"hanging")}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),o=p(n),r=i(6),s=p(r),a=i(29),l=p(a),h=i(0),d=p(h),u=i(1),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2),g=i(117)["default"],v=i(48)["default"],m=i(215)["default"],y=i(217)["default"],b=i(218)["default"],w=i(219)["default"],x=function(){function t(e,i,n,o){if((0,d["default"])(this,t),void 0===i)throw new Error("No body provided");this.options=f.bridgeObject(n),this.globalOptions=n,this.defaultOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new g(this.body,this.options,!0),this.setOptions(e)}return(0,c["default"])(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value));var i=[e,this.options,this.defaultOptions];this.chooser=v.choosify("edge",i),this.updateLabelModule(e);var n=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(n=!0),n}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var r=this.options.selectionWidth;"function"===typeof r?o.width=r(o.width):"number"===typeof r&&(o.width+=r),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"===typeof s?o.width=s(o.width):"number"===typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"===typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof y&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof m&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof b&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof w&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new y(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new m(this.options,this.body,this.labelModule):this.edgeType=new b(this.options,this.body,this.labelModule):this.edgeType=new w(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"===typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"===typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{var s,a;this.labelModule.pointToSelf=!0;var l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-l):(s=i.x+l,a=i.y-.5*i.shape.height),o=this._pointOnCircle(s,a,l,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();v.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var n={left:t.x,top:t.y};return this.isOverlappingWith(n)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=10,i=this.from.x,n=this.from.y,o=this.to.x,r=this.to.y,s=t.left,a=t.top,l=this.edgeType.getDistanceToEdge(i,n,o,r,s,a);return l<e}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var o=this.from.y-this.to.y,r=this.from.x-this.to.x,s=Math.atan2(o,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),n.angle=s,n}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(f.selectiveDeepExtend(a,t,e,i),v.isValidLabel(e.label)?t.label=e.label:t.label=void 0,f.mergeOptions(t,e,"smooth",n),f.mergeOptions(t,e,"shadow",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,l["default"])(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),f.mergeOptions(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,l["default"])(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"===typeof e.arrows){var h=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=h.indexOf("to"),t.arrows.middle.enabled=-1!=h.indexOf("middle"),t.arrows.from.enabled=-1!=h.indexOf("from")}else{if("object"!==(0,s["default"])(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,o["default"])(e.arrows));f.mergeOptions(t.arrows,e.arrows,"to",n.arrows),f.mergeOptions(t.arrows,e.arrows,"middle",n.arrows),f.mergeOptions(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,l["default"])(n.arrows));if(void 0!==e.color&&null!==e.color){var d=e.color,u=t.color;if(r)f.deepExtend(u,n.color,!1,i);else for(var c in u)u.hasOwnProperty(c)&&delete u[c];if(f.isString(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,void 0===d.opacity&&(u.opacity=1);else{var p=!1;void 0!==d.color&&(u.color=d.color,p=!0),void 0!==d.highlight&&(u.highlight=d.highlight,p=!0),void 0!==d.hover&&(u.hover=d.hover,p=!0),void 0!==d.inherit&&(u.inherit=d.inherit),void 0!==d.opacity&&(u.opacity=Math.min(1,Math.max(0,d.opacity))),!0===p?u.inherit=!1:void 0===u.inherit&&(u.inherit="from")}}else!0===i&&null===e.color&&(t.color=f.bridgeObject(n.color));!0===i&&null===e.font&&(t.font=f.bridgeObject(n.font))}}]),t}();e["default"]=x},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(118),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,o,r,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),l=10,h=0,d=0,u=1,c=.2,p=this.to,f=!1;t.id===this.from.id&&(p=this.from,f=!0);while(d<=u&&h<l){var g=.5*(d+u);if(i=this.getPoint(g,a),n=Math.atan2(p.y-i.y,p.x-i.x),o=p.distanceToBorder(e,n),r=Math.sqrt(Math.pow(i.x-p.x,2)+Math.pow(i.y-p.y,2)),s=o-r,Math.abs(s)<c)break;s<0?!1===f?d=g:u=g:!1===f?u=g:d=g,h++}return i.t=g,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s){var a=1e9,l=void 0,h=void 0,d=void 0,u=void 0,c=void 0,p=t,f=e;for(h=1;h<10;h++)d=.1*h,u=Math.pow(1-d,2)*t+2*d*(1-d)*s.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*s.y+Math.pow(d,2)*n,h>0&&(l=this._getDistanceToLine(p,f,u,c,o,r),a=l<a?l:a),p=u,f=c;return a}},{key:"_bezierCurve",value:function(t,e,i,n){var o=void 0!==i&&void 0!==i.x,r=void 0!==n&&void 0!==n.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&r?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=function(){function t(){(0,o["default"])(this,t)}return(0,s["default"])(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],r>e.shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],r>e.x&&(r=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),o<e.y&&(o=e.y);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(l.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):l.deepExtend(i,t.options,!0),i}}]),t}();e["default"]=h},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var n=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(52),o=i(17),r=i(83),s=i(26),a=i(22),l=i(31),h=i(129),d=i(59),u=i(85),c=i(13)("iterator"),p=!([].keys&&"next"in[].keys()),f="@@iterator",g="keys",v="values",m=function(){return this};t.exports=function(t,e,i,y,b,w,x){h(i,e,y);var _,E,k,T=function(t){if(!p&&t in M)return M[t];switch(t){case g:return function(){return new i(this,t)};case v:return function(){return new i(this,t)}}return function(){return new i(this,t)}},D=e+" Iterator",C=b==v,S=!1,M=t.prototype,O=M[c]||M[f]||b&&M[b],N=O||T(b),A=b?C?T("entries"):N:void 0,P="Array"==e&&M.entries||O;if(P&&(k=u(P.call(new t)),k!==Object.prototype&&k.next&&(d(k,D,!0),n||a(k,c)||s(k,c,m))),C&&O&&O.name!==v&&(S=!0,N=function(){return O.call(this)}),n&&!x||!p&&!S&&M[c]||s(M,c,N),l[e]=N,l[D]=m,b)if(_={values:C?N:T(v),keys:w?N:T(g),entries:A},x)for(E in _)E in M||r(M,E,_[E]);else o(o.P+o.F*(p||S),e,_);return _}},function(t,e,i){var n=i(128);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(32),o=i(18).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var n=i(22),o=i(25),r=i(131)(!1),s=i(56)("IE_PROTO");t.exports=function(t,e){var i,a=o(t),l=0,h=[];for(i in a)i!=s&&n(a,i)&&h.push(i);while(e.length>l)n(a,i=e[l++])&&(~r(h,i)||h.push(i));return h}},function(t,e,i){var n=i(22),o=i(41),r=i(56)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var n=i(50),o=i(13)("toStringTag"),r="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),o))?i:r?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n=i(17),o=i(7),r=i(28);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",s)}},function(t,e,i){var n=i(84),o=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(42),o=i(39),r=i(25),s=i(53),a=i(22),l=i(81),h=Object.getOwnPropertyDescriptor;e.f=i(21)?h:function(t,e){if(t=r(t),e=s(e,!0),l)try{return h(t,e)}catch(i){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){function n(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=n},function(t,e,i){var n=i(2);function o(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||void 0==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}o.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,n=i-t,o=Math.max(this.playInterval-n,0),r=this;this.playTimeout=setTimeout(function(){r.playNext()},o)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)},this.onmouseup=function(t){i._onMouseUp(t)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,n=Math.round(i/e*(this.values.length-1));return n<0&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t/(this.values.length-1)*e,n=i+3;return n},o.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,o=this.leftToIndex(i);this.setIndex(o),n.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},t.exports=o},function(t,e,i){function n(t,e,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,n)}n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.prototype.setRange=function(t,e,i,n){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,n)},n.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),!0===this.prettyStep?this._step=n.calculatePrettyStep(t):this._step=t)},n.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),n=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),r=i;return Math.abs(n-t)<=Math.abs(r-t)&&(r=n),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},t.exports=n},function(t,e,i){var n=i(6),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(95),l=i(34),h={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},d={dot:h.DOT,"dot-line":h.DOTLINE,"dot-color":h.DOTCOLOR,"dot-size":h.DOTSIZE,line:h.LINE,grid:h.GRID,surface:h.SURFACE,bar:h.BAR,"bar-color":h.BARCOLOR,"bar-size":h.BARSIZE},u=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],c=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],p=void 0;function f(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function g(t){return void 0===t||""===t||"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function v(t,e){return void 0===t||""===t?e:t+g(e)}function m(t,e,i,n){for(var o,r,s=0;s<i.length;++s)o=i[s],r=v(n,o),e[r]=t[o]}function y(t,e,i,n){for(var o,r,s=0;s<i.length;++s)o=i[s],void 0!==t[o]&&(r=v(n,o),e[r]=t[o])}function b(t,e){if(void 0===t||f(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");p=t,m(t,e,u),m(t,e,c,"default"),x(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new l(0,0,-1)}function w(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===p||f(p))throw new Error("DEFAULTS not set for module Settings");y(t,e,u),y(t,e,c,"default"),x(t,e)}}function x(t,e){void 0!==t.backgroundColor&&D(t.backgroundColor,e),C(t.dataColor,e),T(t.style,e),_(t.showLegend,e),S(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),void 0!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&s.selectiveDeepExtend(["tooltipStyle"],e,t)}function _(t,e){if(void 0===t){var i=void 0===p.showLegend;if(i){var n=e.style===h.DOTCOLOR||e.style===h.DOTSIZE;e.showLegend=n}}else e.showLegend=t}function E(t){var e=d[t];return void 0===e?-1:e}function k(t){var e=!1;for(var i in h)if(h[i]===t){e=!0;break}return e}function T(t,e){if(void 0!==t){var i;if("string"===typeof t){if(i=E(t),-1===i)throw new Error("Style '"+t+"' is invalid")}else{if(!k(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}}function D(t,e){var i="white",n="gray",r=1;if("string"===typeof t)i=t,n="none",r=0;else{if("object"!==("undefined"===typeof t?"undefined":(0,o["default"])(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(n=t.stroke),void 0!==t.strokeWidth&&(r=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=n,e.frame.style.borderWidth=r+"px",e.frame.style.borderStyle="solid"}function C(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"===typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}function S(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new a),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}t.exports.STYLE=h,t.exports.setDefaults=b,t.exports.setOptions=w,t.exports.setCameraPosition=S},function(t,e,i){var n=i(165),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(34);function a(){this.armLocation=new s,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new s,this.offsetMultiplier=.6,this.cameraLocation=new s,this.cameraRotation=new s(.5*Math.PI,0,0),this.calculateCameraOrientation()}a.prototype.setOffset=function(t,e){var i=Math.abs,n=o["default"],r=this.offsetMultiplier,s=this.armLength*r;i(t)>s&&(t=n(t)*s),i(e)>s&&(e=n(e)*s),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},a.prototype.getOffset=function(){return this.cameraOffset},a.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},a.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},a.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},a.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},a.prototype.getArmLength=function(){return this.armLength},a.prototype.getCameraLocation=function(){return this.cameraLocation},a.prototype.getCameraRotation=function(){return this.cameraRotation},a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,i=this.cameraOffset.x,n=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*r(e)+n*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+i*o(e)+n*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+n*o(t)},t.exports=a},function(t,e,i){var n=i(12);function o(t,e,i){this.dataGroup=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){var t=this.values.length,e=0;while(this.dataPoints[e])e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new n(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){var n=i(35),o=i(44),r=i(10),s=i(2);function a(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=r(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){l(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=n(),this.escListener=this.deactivate.bind(this)}function l(t,e){while(t){if(t===e)return!0;t=t.parentNode}return!1}o(a.prototype),a.current=null,a.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},a.prototype.activate=function(){a.current&&a.current.deactivate(),a.current=this,this.active=!0,this.dom.overlay.style.display="none",s.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},a.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",s.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},a.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=a},function(t,e,i){e["en"]={current:"current",time:"time"},e["en_EN"]=e["en"],e["en_US"]=e["en"],e["it"]={current:"attuale",time:"tempo"},e["it_IT"]=e["it"],e["it_CH"]=e["it"],e["nl"]={current:"huidige",time:"tijd"},e["nl_NL"]=e["nl"],e["nl_BE"]=e["nl"],e["de"]={current:"Aktuelle",time:"Zeit"},e["de_DE"]=e["de"],e["fr"]={current:"actuel",time:"heure"},e["fr_FR"]=e["fr"],e["fr_CA"]=e["fr"],e["fr_BE"]=e["fr"],e["es"]={current:"corriente",time:"hora"},e["es_ES"]=e["es"]},function(t,e,i){var n=i(29),o=a(n),r=i(6),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(10),h=i(2),d=i(11),u=i(12),c=i(66),p=i(16),f=i(68),g=i(69),v=i(101),m=i(102),y=i(70),b=i(103),w=i(104)["default"],x="__ungrouped__",_="__background__";function E(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:c.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=h.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){var o=i.groupsData.getDataSet();o.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(i){var n=o.get(i);n&&(n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),e=e.concat(n))}),o.update(e,n)}})}},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}E.prototype=new p,E.types={background:b,box:v,range:y,point:m},E.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var r=new g(_,null,this);r.show(),this.groups[_]=r,this.hammer=new l(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:l.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new l(this.body.dom.rightContainer):this.groupHammer=new l(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:l.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},E.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];h.selectiveExtend(e,this.options,t),"itemsAlwaysDraggable"in t&&("boolean"===typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,s["default"])(t.itemsAlwaysDraggable)&&(h.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"===typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,s["default"])(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"===typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,s["default"])(t.margin)&&(h.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"===typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,s["default"])(t.margin.item)&&h.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"===typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,s["default"])(t.editable)&&h.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"===typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,s["default"])(t.groupEditable)&&h.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),this.markDirty()}},E.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&h.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},E.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},E.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},E.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},E.prototype.setSelection=function(t){var e,i,n,o;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)n=this.selection[e],o=this.items[n],o&&o.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)n=t[e],o=this.items[n],o&&(this.selection.push(n),o.select())},E.prototype.getSelection=function(){return this.selection.concat([])},E.prototype.getVisibleItems=function(){var t,e,i=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end)):(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end));var n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.isVisible?r.visibleItems:[],a=0;a<s.length;a++){var l=s[a];this.options.rtl?l.right<e&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>e&&n.push(l.id)}return n},E.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){e.splice(i,1);break}},E.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=h.option.asSize,n=this.options,o=n.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",r=this._orderGroups()||r;var a=e.end-e.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,d=e.start!=this.lastRangeStart,u=n.stack!=this.lastStack,c=n.stackSubgroups!=this.lastStackSubgroups,p=l||d||u||c;this.lastVisibleInterval=a,this.lastRangeStart=e.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var f=this._firstGroup(),g={item:t.item,axis:t.axis},v={item:t.item,axis:t.item.vertical/2},m=0,y=t.axis+t.item.vertical;this.groups[_].redraw(e,v,p);var b={},w=0;h.forEach(this.groups,function(t,i){if(i!==_){var n=t==f?g:v,o=!0;b[i]=t.redraw(e,n,p,o),w=b[i].length}});var x=w>0;if(x){for(var E={},k=0;k<w;k++)h.forEach(b,function(t,e){E[e]=t[k]()});h.forEach(this.groups,function(t,e){if(e!==_){var i=E[e];r=i||r,m+=t.height}}),m=Math.max(m,y)}return m=Math.max(m,y),s.style.height=i(m),this.props.width=s.offsetWidth,this.props.height=m,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r,r},E.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[x];return i||null},E.prototype._updateUngrouped=function(){var t,e,i=this.groups[x];if(this.groupsData){if(i)for(e in i.hide(),delete this.groups[x],this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var n=this._getGroupId(t.data),o=this.groups[n];o&&o.add(t)||t.hide()}}else if(!i){var r=null,s=null;for(e in i=new f(r,s,this),this.groups[x]=i,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},E.prototype.getLabelSet=function(){return this.dom.labelSet},E.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof d||t instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(h.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;h.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},E.prototype.getItems=function(){return this.itemsData},E.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(h.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof d||t instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.groupsData;this.groupsData instanceof u&&(n=this.groupsData.getDataSet()),n.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var i=n.get(e);i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),n.update(i)})});var o=this.id;h.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},E.prototype.getGroups=function(){return this.groupsData},E.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},E.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},E.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?_:this.groupsData?t.group:x},E.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,n=e.itemsData.get(t,e.itemOptions),o=e.items[t],r=n?e._getType(n):null,s=E.types[r];if(o&&(s&&o instanceof s?e._updateItem(o,n):(i=o.selected,e._removeItem(o),o=null)),!o&&n){if(!s)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');o=new s(n,e.conversion,e.options),o.id=t,e._addItem(o),i&&(this.selection.push(t),o.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},E.prototype._onAdd=E.prototype._onUpdate,E.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var n=i.items[t];n&&(e++,i._removeItem(n))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},E.prototype._order=function(){h.forEach(this.groups,function(t){t.order()})},E.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},E.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),n=e.groups[t];if(n)n.setData(i);else{if(t==x||t==_)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=(0,o["default"])(e.options);for(var s in h.extend(r,{height:null}),n=new f(t,i,e),e.groups[t]=n,e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&n.add(a)}n.order(),n.show()}}),this.body.emitter.emit("_change",{queue:!0})},E.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},E.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!h.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},E.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var i=this.groupsData.get(t);if(i.nestedInGroup||e.push(t),i.nestedGroups){var n=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}),o=n.map(function(t){return t.id});e=e.concat(o)}},this),e},E.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},E.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},E.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},E.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof y&&e.push(t[i]);return e},E.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},E.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},E.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,i=this.touchParams.item||null,n=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var o=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,o)e={item:o,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(r)e={item:r,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var i=n.items[e],o=n._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:s-o,data:this._cloneItemData(i.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},E.prototype._onDragStartAddItem=function(t){var e,i,n=this.options.snap||null;this.options.rtl?(e=h.getAbsoluteRight(this.dom.frame),i=e-t.center.x+10):(e=h.getAbsoluteLeft(this.dom.frame),i=t.center.x-e-10);var o=this.body.util.toTime(i),r=this.body.util.getScale(),s=this.body.util.getStep(),a=n?n(o,r,s):o,l=a,d={type:"range",start:a,end:l,content:"new item"},u=h.randomUUID();d[this.itemsData._fieldId]=u;var c=this.groupFromTarget(t);c&&(d.group=c.groupId);var p=new y(d,this.conversion,this.options);p.id=u,p.data=this._cloneItemData(d),this._addItem(p),this.touchParams.selectedItem=p;var f={item:p,initialX:t.center.x,data:p.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()},E.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,i=this,n=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var o=this.body.util.getScale(),r=this.body.util.getStep(),s=this.touchParams.selectedItem,a=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup,l=null;if(a&&s&&void 0!=s.data.group){var d=i.groupFromTarget(t);d&&(l=this._getGroupIndex(d.groupId))}this.touchParams.itemProps.forEach(function(d){var u,c,p,f,g,v=i.body.util.toTime(t.center.x-e),m=i.body.util.toTime(d.initialX-e);u=this.options.rtl?-(v-m):v-m;var y=this._cloneItemData(d.item.data);if(null==d.item.editable||d.item.editable.updateTime||d.item.editable.updateGroup||i.options.editable.overrideItems){var b=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime;if(b)if(d.dragLeft)this.options.rtl?void 0!=y.end&&(p=h.convert(d.data.end,"Date"),g=new Date(p.valueOf()+u),y.end=n?n(g,o,r):g):void 0!=y.start&&(c=h.convert(d.data.start,"Date"),f=new Date(c.valueOf()+u),y.start=n?n(f,o,r):f);else if(d.dragRight)this.options.rtl?void 0!=y.start&&(c=h.convert(d.data.start,"Date"),f=new Date(c.valueOf()+u),y.start=n?n(f,o,r):f):void 0!=y.end&&(p=h.convert(d.data.end,"Date"),g=new Date(p.valueOf()+u),y.end=n?n(g,o,r):g);else if(void 0!=y.start)if(c=h.convert(d.data.start,"Date").valueOf(),f=new Date(c+u),void 0!=y.end){p=h.convert(d.data.end,"Date");var w=p.valueOf()-c.valueOf();y.start=n?n(f,o,r):f,y.end=new Date(y.start.valueOf()+w)}else y.start=n?n(f,o,r):f;if(a&&!d.dragLeft&&!d.dragRight&&null!=l&&void 0!=y.group){var x=l-d.groupOffset;x=Math.max(0,x),x=Math.min(i.groupIds.length-1,x),y.group=i.groupIds[x]}y=this._cloneItemData(y),i.options.onMoving(y,function(t){t&&d.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},E.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),t.data.group=i.groupId,i.add(t),i.order()}},E.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach(function(t){var n=t.item.id,o=null!=e.itemsData.get(n,e.itemOptions);if(o){var r=this._cloneItemData(t.item.data);e.options.onMove(r,function(o){o?(o[i._fieldId]=n,i.update(o)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.body.emitter.emit("_change")})}.bind(this))}},E.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData.getDataSet(),n=i.get(e.groupId);void 0==n.showNested&&(n.showNested=!0),n.showNested=!n.showNested;var o=i.get(e.nestedGroups).map(function(t){return t.visible=n.showNested,t});if(i.update(o.concat(n)),n.showNested)h.removeClassName(e.dom.label,"collapsed"),h.addClassName(e.dom.label,"expanded");else{h.removeClassName(e.dom.label,"expanded");var r=this.options.rtl?"collapsed-rtl":"collapsed";h.addClassName(e.dom.label,r)}}},E.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},E.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof u&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,r=h.getAbsoluteTop(i.dom.foreground),s=this.groupTouchParams.group.height;if(n){if(r+s<o)return}else{var a=i.height;if(r+a-s>o)return}}if(i&&i!=this.groupTouchParams.group){var l=e.get(i.groupId),d=e.get(this.groupTouchParams.group.groupId);d&&l&&(this.options.groupOrderSwap(d,l,e),e.update(d),e.update(l));var c=e.getIds({order:this.options.groupOrder});if(!h.equalArray(c,this.groupTouchParams.originalOrder)){var p=this.groupTouchParams.originalOrder,f=this.groupTouchParams.group.groupId,g=Math.min(p.length,c.length),v=0,m=0,y=0;while(v<g){while(v+m<g&&v+y<g&&c[v+m]==p[v+y])v++;if(v+m>=g)break;if(c[v+m]==f)m=1;else if(p[v+y]==f)y=1;else{var b=c.indexOf(p[v+y]),w=e.get(c[v+m]),x=e.get(p[v+y]);this.options.groupOrderSwap(w,x,e),e.update(w),e.update(x);var _=c[v+m];c[v+m]=p[v+y],c[b]=_,v++}}}}}},E.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,n=e.groupsData.getDataSet(),o=h.extend({},n.get(i));e.options.onMoveGroup(o,function(t){if(t)t[n._fieldId]=i,n.update(t);else{var o=n.getIds({order:e.options.groupOrder});if(!h.equalArray(o,e.groupTouchParams.originalOrder)){var r=e.groupTouchParams.originalOrder,s=Math.min(r.length,o.length),a=0;while(a<s){while(a<s&&o[a]==r[a])a++;if(a>=s)break;var l=o.indexOf(r[a]),d=n.get(o[a]),u=n.get(r[a]);e.options.groupOrderSwap(d,u,n),n.update(d),n.update(u);var c=o[a];o[a]=r[a],o[l]=c,a++}}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},E.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)this._onMultiSelectItem(t);else{var n=this.getSelection(),o=this.itemFromTarget(t),r=o?[o.id]:[];this.setSelection(r);var s=this.getSelection();(s.length>0||n.length>0)&&this.body.emitter.emit("select",{items:s,event:t})}}},E.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e){var i=this.itemFromRelatedTarget(t);if(e!==i){var n=e.getTitle();if(this.options.showTooltips&&n){null==this.popup&&(this.popup=new w(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);var o=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-h.getAbsoluteLeft(o)+o.offsetLeft,t.clientY-h.getAbsoluteTop(o)+o.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}}},E.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);if(e){var i=this.itemFromRelatedTarget(t);e!==i&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))}},E.prototype._onMouseMove=function(t){var e=this.itemFromTarget(t);if(e&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var i=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-h.getAbsoluteLeft(i)+i.offsetLeft,t.clientY-h.getAbsoluteTop(i)+i.offsetTop),this.popup.show()}},E.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},E.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}}},E.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)},E.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,i,n=this,o=this.options.snap||null;this.options.rtl?(e=h.getAbsoluteRight(this.dom.frame),i=e-t.center.x):(e=h.getAbsoluteLeft(this.dom.frame),i=t.center.x-e);var r,s,a=this.body.util.toTime(i),l=this.body.util.getScale(),d=this.body.util.getStep();"drop"==t.type?(s=JSON.parse(t.dataTransfer.getData("text")),s.content=s.content?s.content:"new item",s.start=s.start?s.start:o?o(a,l,d):a,s.type=s.type||"box",s[this.itemsData._fieldId]=s.id||h.randomUUID(),"range"!=s.type||s.end||(r=this.body.util.toTime(i+this.props.width/5),s.end=o?o(r,l,d):r)):(s={start:o?o(a,l,d):a,content:"new item"},s[this.itemsData._fieldId]=h.randomUUID(),"range"===this.options.type&&(r=this.body.util.toTime(i+this.props.width/5),s.end=o?o(r,l,d):r));var u=this.groupFromTarget(t);u&&(s.group=u.groupId),s=this._cloneItemData(s),this.options.onAdd(s,function(e){e&&(n.itemsData.getDataSet().add(e),"drop"==t.type&&n.setSelection([e.id]))})}},E.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[],n=t.srcEvent&&t.srcEvent.shiftKey||!1;if(n&&this.options.multiselect){var o=this.itemsData.get(e.id).group,r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=r&&r!=o||i.push(e.id);var s=E._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==o)for(var a in i=[],this.items)if(this.items.hasOwnProperty(a)){var l=this.items[a],h=l.data.start,d=void 0!==l.data.end?l.data.end:h;!(h>=s.min&&d<=s.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(l.id).group||l instanceof b||i.push(l.id)}}else{var u=i.indexOf(e.id);-1==u?i.push(e.id):i.splice(u,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},E._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},E.prototype.itemFromElement=function(t){var e=t;while(e){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},E.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},E.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},E.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=i[n],r=this.groups[o],s=r.dom.foreground,a=h.getAbsoluteTop(s);if(e>a&&e<a+s.offsetHeight)return r;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&e>a)return r}else if(0===n&&e<a+s.offset)return r}return null},E.itemSetFromTarget=function(t){var e=t.target;while(e){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},E.prototype._cloneItemData=function(t,e){var i=h.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=h.convert(i.start,e&&e.start||"Date")),void 0!=i.end&&(i.end=h.convert(i.end,e&&e.end||"Date")),i},t.exports=E},function(t,e,i){var n=.001;e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,n="end"in e.data?e.data.end:e.data.start;return i-n})},e.stack=function(t,i,n){if(n)for(var o=0;o<t.length;o++)t[o].top=null;for(o=0;o<t.length;o++){var r=t[o];if(r.stack&&null===r.top){r.top=i.axis;do{for(var s=null,a=0,l=t.length;a<l;a++){var h=t[a];if(null!==h.top&&h!==r&&h.stack&&e.collision(r,h,i.item,h.options.rtl)){s=h;break}}null!=s&&(r.top=s.top+s.height+i.item.vertical)}while(s)}}},e.substack=function(t,i,n){for(var o=0;o<t.length;o++)t[o].top=null;var r=n.height;for(o=0;o<t.length;o++){var s=t[o];if(s.stack&&null===s.top){s.top=s.baseTop;do{for(var a=null,l=0,h=t.length;l<h;l++){var d=t[l];if(null!==d.top&&d!==s&&e.collision(s,d,i.item,d.options.rtl)){a=d;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical),s.top+s.height>r&&(r=s.top+s.height)}while(a)}}n.height=r-n.top+.5*i.item.vertical},e.nostack=function(t,i,n,o){for(var r=0;r<t.length;r++)if(void 0==t[r].data.subgroup)t[r].top=i.item.vertical;else if(void 0!==t[r].data.subgroup&&o){var s=0;for(var a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<n[t[r].data.subgroup].index&&(s+=n[a].height,n[t[r].data.subgroup].top=s);t[r].top=s+.5*i.item.vertical}o||e.stackSubgroups(t,i,n)},e.stackSubgroups=function(t,i,n){for(var o in n)if(n.hasOwnProperty(o)){n[o].top=0;do{var r=null;for(var s in n)if(null!==n[s].top&&s!==o&&n[o].index>n[s].index&&e.collisionByTimes(n[o],n[s])){r=n[s];break}null!=r&&(n[o].top=r.top+r.height)}while(r)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=n[t[a].data.subgroup].top+.5*i.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,i,n){var o=!1,r=[];for(var s in n)n[s].hasOwnProperty("index")?r[n[s].index]=s:r.push(s);for(var a=0;a<r.length;a++)if(s=r[a],n.hasOwnProperty(s)){for(var l in o=o||n[s].stack,n[s].top=0,n)n[l].visible&&n[s].index>n[l].index&&(n[s].top+=n[l].height);for(var h=t[s],d=0;d<h.length;d++)void 0!==h[d].data.subgroup&&(h[d].top=n[h[d].data.subgroup].top+.5*i.item.vertical,n[s].stack&&(h[d].baseTop=h[d].top));o&&n[s].stack&&e.substack(t[s],i,n[s])}},e.collision=function(t,e,i,o){return o?t.right-i.horizontal+n<e.right+e.width&&t.right+t.width+i.horizontal-n>e.right&&t.top-i.vertical+n<e.top+e.height&&t.top+t.height+i.vertical-n>e.top:t.left-i.horizontal+n<e.left+e.width&&t.left+t.width+i.horizontal-n>e.left&&t.top-i.vertical+n<e.top+e.height&&t.top+t.height+i.vertical-n>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){var n=i(38);function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e,i=this.options.align,n=this.width*t.getMillisecondsPerPixel();return e="right"==i?this.data.start.getTime()>t.start&&this.data.start.getTime()-n<t.end:"left"==i?this.data.start.getTime()+n>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+n/2>t.start&&this.data.start.getTime()-n/2<t.end,e},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e,this.dom.line.className="vis-item vis-line"+e,this.dom.dot.className="vis-item vis-dot"+e}},o.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},o.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,n=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,r=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-r+"px",i.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){var n=i(38);function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e,this.dom.dot.className="vis-item vis-dot"+e}},o.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},o.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){var n=i(38),o=i(69),r=i(70);function s(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}s.prototype=new n(null,null,null),s.prototype.baseClassName="vis-item vis-background",s.prototype.stack=!1,s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},s.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},s.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}},s.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},s.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},s.prototype._repaintDomAdditionals=function(){},s.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},s.prototype.show=r.prototype.show,s.prototype.hide=r.prototype.hide,s.prototype.repositionX=r.prototype.repositionX,s.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[n].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i){(0,o["default"])(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,s["default"])(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>o-this.padding&&(a=!0),r=a?this.x-i:this.x,s=l?this.y-e:this.y}else s=this.y-e,s+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),r=this.x,r+i+this.padding>o&&(r=o-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="array",a="date",l="object",h="dom",d="moment",u="any",c={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:h},__type__:{object:l,boolean:o,function:"function"}},align:{string:n},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:r,undefined:"undefined"},__type__:{object:l}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},dataAttributes:{string:n,array:s},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:l}},end:{number:r,date:a,string:n,moment:d},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l,function:"function"}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l,function:"function"}},__type__:{object:l}},moment:{function:"function"},groupOrder:{string:n,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:l}},groupOrderSwap:{function:"function"},height:{string:n,number:r},hiddenDates:{start:{date:a,number:r,string:n,moment:d},end:{date:a,number:r,string:n,moment:d},repeat:{string:n},__type__:{object:l,array:s}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:l}},limitSize:{boolean:o},locale:{string:n},locales:{__any__:{any:u},__type__:{object:l}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:l,number:r}},__type__:{object:l,number:r}},max:{date:a,number:r,string:n,moment:d},maxHeight:{number:r,string:n},maxMinorChars:{number:r},min:{date:a,number:r,string:n,moment:d},minHeight:{number:r,string:n},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:n,undefined:"undefined"},item:{string:n,undefined:"undefined"},__type__:{string:n,object:l}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:a,number:r,string:n,moment:d},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:n,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:l}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:l}},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:l}},type:{string:n},width:{string:n,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:l}},p={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=c,e.configureOptions=p},function(t,e,i){var n=i(6),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(14),l=i(11),h=i(12),d=i(16),u=i(107),c=i(109),p=i(112),f=i(110),g=i(111),v=i(72),m="__ungrouped__";function y(t,e){this.id=s.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=s.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=s.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}y.prototype=new d,y.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new p(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new p(this.body,this.options.legend,"right",this.options.groups),this.show()},y.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),s.selectiveDeepExtend(e,this.options,t),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),s.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,o["default"])(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m)&&this.groups[m].setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},y.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},y.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},y.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(s.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;s.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e)}},y.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){s.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;s.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},y.prototype._onUpdate=function(t){this._updateAllGroupData(t)},y.prototype._onAdd=function(t){this._onUpdate(t)},y.prototype._onRemove=function(t){this._onUpdate(t)},y.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},y.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},y.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},y.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},y.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new c(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},y.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},n=this.itemsData.get(),o=this.itemsData._fieldId,r={};t&&t.map(function(t){r[t]=t});for(var a={},l=0;l<n.length;l++){var h=n[l],d=h.group;null!==d&&void 0!==d||(d=m),a.hasOwnProperty(d)?a[d]++:a[d]=1}var u={};if(!e&&t)for(d in this.groups)if(this.groups.hasOwnProperty(d)){v=this.groups[d];var c=v.getItems();i[d]=c.filter(function(t){return u[t[o]]=t[o],t[o]!==r[t[o]]});var p=a[d];a[d]-=i[d].length,i[d].length<p&&(i[d][p-1]={})}for(l=0;l<n.length;l++)if(h=n[l],d=h.group,null!==d&&void 0!==d||(d=m),e||!t||h[o]===r[h[o]]||!u.hasOwnProperty(h[o])){i.hasOwnProperty(d)||(i[d]=new Array(a[d]));var f=s.bridgeObject(h);f.x=s.convert(h.x,"Date"),f.end=s.convert(h.end,"Date"),f.orginalY=h.y,f.y=Number(h.y),f[o]=h[o];var g=i[d].length-a[d]--;i[d][g]=f}for(d in this.groups)this.groups.hasOwnProperty(d)&&(i.hasOwnProperty(d)||(i[d]=new Array(0)));for(d in i)if(i.hasOwnProperty(d))if(0==i[d].length)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var v=void 0;void 0!=this.groupsData&&(v=this.groupsData.get(d)),void 0==v&&(v={id:d,content:this.options.defaultGroup+d}),this._updateGroup(v,d),this.groups[d].setItems(i[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},y.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=s.option.asSize(3*this.props.width),this.svg.style.left=s.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=this.props.width/o,a=n*r;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},y.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex,n=e.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o].id;return n},y.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n=!1,o=this.body.util.toGlobalTime(-this.body.domProps.root.width),r=this.body.util.toGlobalTime(2*this.body.domProps.root.width),s=this._getSortedGroupIds();if(s.length>0){var l={};for(this._getRelevantData(s,l,o,r),this._applySampling(s,l),e=0;e<s.length;e++)this._convertXcoordinates(l[s[e]]);if(this._getYRanges(s,l,i),n=this._updateYAxis(s,i),1==n)return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<s.length;e++)t=this.groups[s[e]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=h&&(this._stack(l[t.id],l[h.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==h.options.shaded.orientation?(h.options.shaded.orientation="group",h.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=h.id))),h=t)),this._convertYcoordinates(l[s[e]],t);var d={};for(e=0;e<s.length;e++)if(t=this.groups[s[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var u=l[s[e]];if(null==u||0==u.length)continue;if(d.hasOwnProperty(s[e])||(d[s[e]]=g.calcPath(u,t)),"group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(-1===s.indexOf(c)){console.log(t.id+": Unknown shading group target given:"+c);continue}d.hasOwnProperty(c)||(d[c]=g.calcPath(l[c],this.groups[c])),g.drawShading(d[s[e]],t,d[c],this.framework)}else g.drawShading(d[s[e]],t,void 0,this.framework)}for(f.draw(s,l,this.framework),e=0;e<s.length;e++)if(t=this.groups[s[e]],l[s[e]].length>0)switch(t.options.style){case"line":d.hasOwnProperty(s[e])||(d[s[e]]=g.calcPath(l[s[e]],t)),g.draw(d[s[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||v.draw(l[s[e]],t,this.framework);break;case"bar":default:}}}return a.cleanupElements(this.svgElements),!1},y.prototype._stack=function(t,e){var i,n,o,r,s;i=0;for(var a=0;a<t.length;a++){r=void 0,s=void 0;for(var l=i;l<e.length;l++){if(e[l].x===t[a].x){r=e[l],s=e[l],i=l;break}if(e[l].x>t[a].x){s=e[l],r=0==l?s:e[l-1],i=l;break}}void 0===s&&(r=e[e.length-1],s=e[e.length-1]),n=s.x-r.x,o=s.y-r.y,t[a].y=0==n?t[a].orginalY+s.y:t[a].orginalY+o/n*(t[a].x-r.x)+r.y}},y.prototype._getRelevantData=function(t,e,i,n){var o,r,a,l;if(t.length>0)for(r=0;r<t.length;r++){o=this.groups[t[r]];var h=o.getItems();if(1==o.options.sort){var d=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},u=Math.max(0,s.binarySearchValue(h,i,"x","before",d)),c=Math.min(h.length,s.binarySearchValue(h,n,"x","after",d)+1);c<=0&&(c=h.length);var p=new Array(c-u);for(a=u;a<c;a++)l=o.itemsData[a],p[a-u]=l;e[t[r]]=p}else e[t[r]]=o.itemsData}},y.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var n=0;n<t.length;n++)if(i=this.groups[t[n]],1==i.options.sampling){var o=e[t[n]];if(o.length>0){var r=1,s=o.length,a=this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x),l=s/a;r=Math.min(Math.ceil(.2*s),Math.max(1,Math.round(l)));for(var h=new Array(s),d=0;d<s;d+=r){var u=Math.round(d/r);h[u]=o[d]}e[t[n]]=h.splice(0,Math.round(s/r))}}},y.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(t.length>0){for(r=0;r<t.length;r++)n=e[t[r]],s=this.groups[t[r]].options,n.length>0&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(n):l=l.concat(n):i[t[r]]=o.getYRange(n,t[r]));f.getStackedYRange(a,i,t,"__barStackLeft","left"),f.getStackedYRange(l,i,t,"__barStackRight","right")}},y.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,h=-1e9,d=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];c&&"right"!=c.options.yAxisOrientation?(r=!0,a=1e9,h=-1e9):c&&c.options.yAxisOrientation&&(s=!0,l=1e9,d=-1e9)}for(u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore&&(i=e[t[u]].min,n=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(r=!0,a=a>i?i:a,h=h<n?n:h):(s=!0,l=l>i?i:l,d=d<n?n:d));1==r&&this.yAxisLeft.setRange(a,h),1==s&&this.yAxisRight.setRange(l,d)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return o},y.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},y.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,void 0!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0},y.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))},t.exports=y},function(t,e,i){var n=i(8),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(14),l=i(16),h=i(108);function d(t,e,i,n){this.id=s.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=s.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}d.prototype=new l,d.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},d.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},d.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},d.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];s.selectiveDeepExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},d.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},d.prototype._redrawGroupIcons=function(){var t;a.prepareElements(this.svgElements);var e=this.options.iconWidth,i=15,n=4,r=n+.5*i;t="left"===this.options.orientation?n:this.width-e-n;var s=(0,o["default"])(this.groups);s.sort(function(t,e){return t<e?-1:1});for(var l=0;l<s.length;l++){var h=s[l];!0!==this.groups[h].visible||void 0!==this.linegraphOptions.visibility[h]&&!0!==this.linegraphOptions.visibility[h]||(this.groups[h].getLegend(e,i,this.framework,t,r),r+=i+n)}a.cleanupElements(this.svgElements),this.iconsRemoved=!1},d.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(a.prepareElements(this.svgElements),a.cleanupElements(this.svgElements),this.iconsRemoved=!0)},d.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},d.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},d.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},d.prototype.redraw=function(){var t=!1,e=0;for(var i in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var n=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMinorLabels,a=this.options.showMajorLabels;n.minorLabelHeight=s?n.minorCharHeight:0,n.majorLabelHeight=a?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},d.prototype._redrawLabels=function(){var t=this,e=!1;a.prepareElements(this.DOMelements.lines),a.prepareElements(this.DOMelements.labels);var i=this.options["orientation"],n=void 0!=this.options[i].range?this.options[i].range:{},o=!0;void 0!=n.max&&(this.range.end=n.max,o=!1);var r=!0;void 0!=n.min&&(this.range.start=n.min,r=!1),this.scale=new h(this.range.start,this.range.end,r,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;var s=this.scale.getLines();s.forEach(function(e){var n=e.y,o=e.major;t.options["showMinorLabels"]&&!1===o&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),o&&n>=0&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(o?t._redrawLine(n,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var l=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(l=this.props.titleCharHeight);var d=!0===this.options.icons?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-d&&!0===this.options.visible?(this.width=this.maxLabelSize+d,this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-d&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+d),this.options.width=this.width+"px",a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(a.cleanupElements(this.DOMelements.lines),a.cleanupElements(this.DOMelements.labels),e=!1),e},d.prototype.convertValue=function(t){return this.scale.convertValue(t)},d.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},d.prototype._redrawLabel=function(t,e,i,n,o){var r=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=n,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*s&&(this.maxLabelSize=e.length*s)},d.prototype._redrawLine=function(t,e,i,n,o){if(!0===this.master){var r=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-n+"px":r.style.right=this.width-n+"px",r.style.width=o+"px",r.style.top=t+"px"}},d.prototype._redrawTitle=function(t){if(a.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)},d.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=d},function(t,e,i){function n(t,e,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var l=this,h=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=h(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=h(this._end)),this.determineScale()}}n.prototype.setCharHeight=function(t){this.majorCharHeight=t},n.prototype.setHeight=function(t){this.containerHeight=t},n.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var o=!1,r=n;Math.abs(r)<=Math.abs(i);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++){var a=this.magnitudefactor*this.minorSteps[s];if(a>=e){o=!0,this.minorStepIdx=s;break}}if(!0===o)break}},n.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0},n.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},n.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},n.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"===typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"===typeof e?""+e:"string"===typeof e?e:t.toPrecision(5)},n.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,n=this._start+i;this._end-n>1e-5;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t},n.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,n=this._end,o=this,r=function(){o.magnitudefactor*=2},s=function(){o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?r():(r(),r())):(this.minorStepIdx=2,1==e?s():(s(),s())));var a=t.convertValue(0),l=t.getStep()*t.scale,h=!1,d=0;while(!h&&d++<5){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=i,this._end=this._start+u;var c=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var g=a-c;this._end+=g/this.scale,this._start=this._end-u}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+u):(this._start+=p-f/this.scale,this._end=this._start+u);if(!this.autoScaleEnd&&this._end>n+1e-5)s(),h=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),h=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&u<n-i?(r(),h=!1):h=!0}}},n.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},n.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=n},function(t,e,i){var n=i(6),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(110),l=i(111),h=i(72);function d(t,e,i,n){this.id=e;var o=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=s.selectiveBridgeObject(o,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}d.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},d.prototype.getItems=function(){return this.itemsData},d.prototype.setZeroPosition=function(t){this.zeroPosition=t},d.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];s.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,o["default"])(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},d.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},d.prototype.getLegend=function(t,e,i,n,o){if(void 0==i||null==i){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:r,svgElements:{},options:this.options,groups:[this]}}switch(void 0!=n&&null!=n||(n=0),void 0!=o&&null!=o||(o=.5*e),this.options.style){case"line":l.drawIcon(this,n,o,t,e,i);break;case"points":case"point":h.drawIcon(this,n,o,t,e,i);break;case"bar":a.drawIcon(this,n,o,t,e,i);break}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},d.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=d},function(t,e,i){var n=i(14),o=i(72);function r(t,e){}r.drawIcon=function(t,e,i,o,r,s){var a=.5*r,l=n.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-a),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*o),d=t.options.barChart.width,u=d/h,c=Math.round(.4*r),p=Math.round(.75*r),f=Math.round((o-2*h)/3);if(n.drawBar(e+.5*h+f,i+a-c-1,h,c,t.className+" vis-bar",s.svgElements,s.svg,t.style),n.drawBar(e+1.5*h+f+2,i+a-p-1,h,p,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled){var g={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/u,className:t.className};n.drawPoint(e+.5*h+f,i+a-c-1,g,s.svgElements,s.svg),n.drawPoint(e+1.5*h+f+2,i+a-p-1,g,s.svgElements,s.svg)}},r.draw=function(t,e,i){var s,a,l,h,d,u,c=[],p={},f=0;for(d=0;d<t.length;d++)if(h=i.groups[t[d]],"bar"===h.options.style&&!0===h.visible&&(void 0===i.options.groups.visibility[t[d]]||!0===i.options.groups.visibility[t[d]]))for(u=0;u<e[t[d]].length;u++)c.push({screen_x:e[t[d]][u].screen_x,screen_end:e[t[d]][u].screen_end,screen_y:e[t[d]][u].screen_y,x:e[t[d]][u].x,end:e[t[d]][u].end,y:e[t[d]][u].y,groupId:t[d],label:e[t[d]][u].label}),f+=1;if(0!==f)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),r._getDataIntersections(p,c),d=0;d<c.length;d++){h=i.groups[c[d].groupId];var g=void 0!=h.options.barChart.minWidth?h.options.barChart.minWidth:.1*h.options.barChart.width;a=c[d].screen_x;var v=0;if(void 0===p[a])d+1<c.length&&(s=Math.abs(c[d+1].screen_x-a)),l=r._getSafeDrawData(s,h,g);else{var m=d+(p[a].amount-p[a].resolved);m<c.length&&(s=Math.abs(c[m].screen_x-a)),l=r._getSafeDrawData(s,h,g),p[a].resolved+=1,!0===h.options.stack&&!0!==h.options.excludeFromStacking?c[d].screen_y<h.zeroPosition?(v=p[a].accumulatedNegative,p[a].accumulatedNegative+=h.zeroPosition-c[d].screen_y):(v=p[a].accumulatedPositive,p[a].accumulatedPositive+=h.zeroPosition-c[d].screen_y):!0===h.options.barChart.sideBySide&&(l.width=l.width/p[a].amount,l.offset+=p[a].resolved*l.width-.5*l.width*(p[a].amount+1))}var y=l.width,b=c[d].screen_x;if(void 0!=c[d].screen_end?(y=c[d].screen_end-c[d].screen_x,b+=.5*y):b+=l.offset,n.drawBar(b,c[d].screen_y-v,y,h.zeroPosition-c[d].screen_y,h.className+" vis-bar",i.svgElements,i.svg,h.style),!0===h.options.drawPoints.enabled){var w={screen_x:c[d].screen_x,screen_y:c[d].screen_y-v,x:c[d].x,y:c[d].y,groupId:c[d].groupId,label:c[d].label};o.draw([w],h,i,l.offset)}}},r._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x))),0===i&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},r._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&t>0?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},r.getStackedYRange=function(t,e,i,n,o){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var s={};r._getDataIntersections(s,t),e[n]=r._getStackedYRange(s,t),e[n].yAxisOrientation=o,i.push(n)}},r._getStackedYRange=function(t,e){for(var i,n=e[0].screen_y,o=e[0].screen_y,r=0;r<e.length;r++)i=e[r].screen_x,void 0===t[i]?(n=n>e[r].screen_y?e[r].screen_y:n,o=o<e[r].screen_y?e[r].screen_y:o):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(var s in t)t.hasOwnProperty(s)&&(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n,n=n>t[s].accumulatedPositive?t[s].accumulatedPositive:n,o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o,o=o<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:n,max:o}},t.exports=r},function(t,e,i){var n=i(14);function o(t,e){}o.calcPath=function(t,e){if(null!=t&&t.length>0){var i=[];return i=1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t),i}},o.drawIcon=function(t,e,i,o,r,s){var a,l,h=.5*r,d=n.getSVGElement("rect",s.svgElements,s.svg);if(d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-h),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",2*h),d.setAttributeNS(null,"class","vis-outline"),a=n.getSVGElement("path",s.svgElements,s.svg),a.setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(l=n.getSVGElement("path",s.svgElements,s.svg),"top"==t.options.shaded.orientation?l.setAttributeNS(null,"d","M"+e+", "+(i-h)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-h)):l.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+h)+" L"+(e+o)+","+(i+h)+"L"+(e+o)+","+i),l.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&l.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var u={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};n.drawPoint(e+.5*o,i,u,s.svgElements,s.svg)}},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var r,s=Number(o.svg.style.height.replace("px","")),a=n.getSVGElement("path",o.svgElements,o.svg),l="L";1==e.options.interpolation.enabled&&(l="C");var h=0;h="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),r="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,l,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,l,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,l,!1)+" V"+h+" H"+t[0][0]+" Z",a.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&a.setAttributeNS(null,"style",e.options.shaded.style),a.setAttributeNS(null,"d",r)}},o.draw=function(t,e,i){if(null!=t&&void 0!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var r="L";1==e.options.interpolation.enabled&&(r="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,r,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var n,o=e;if(i)for(n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){var e,i,n,o,r,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=1/6,h=t.length,d=0;d<h-1;d++)e=0==d?t[0]:t[d-1],i=t[d],n=t[d+1],o=d+2<h?t[d+2]:n,r={screen_x:(-e.screen_x+6*i.screen_x+n.screen_x)*l,screen_y:(-e.screen_y+6*i.screen_y+n.screen_y)*l},s={screen_x:(i.screen_x+6*n.screen_x-o.screen_x)*l,screen_y:(i.screen_y+6*n.screen_y-o.screen_y)*l},a.push([r.screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var n,o,r,s,a,l,h,d,u,c,p,f,g,v,m,y,b,w,x,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var E=t.length,k=0;k<E-1;k++)n=0==k?t[0]:t[k-1],o=t[k],r=t[k+1],s=k+2<E?t[k+2]:r,h=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),d=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),u=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),v=Math.pow(u,i),y=Math.pow(u,2*i),m=Math.pow(d,i),b=Math.pow(d,2*i),x=Math.pow(h,i),w=Math.pow(h,2*i),c=2*w+3*x*m+b,p=2*y+3*v*m+b,f=3*x*(x+m),f>0&&(f=1/f),g=3*v*(v+m),g>0&&(g=1/g),a={screen_x:(-b*n.screen_x+c*o.screen_x+w*r.screen_x)*f,screen_y:(-b*n.screen_y+c*o.screen_y+w*r.screen_y)*f},l={screen_x:(y*o.screen_x+p*r.screen_x-b*s.screen_x)*g,screen_y:(y*o.screen_y+p*r.screen_y-b*s.screen_y)*g},0==a.screen_x&&0==a.screen_y&&(a=o),0==l.screen_x&&0==l.screen_y&&(l=r),_.push([a.screen_x,a.screen_y]),_.push([l.screen_x,l.screen_y]),_.push([r.screen_x,r.screen_y]);return _},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){var n=i(8),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(14),l=i(16);function h(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=s.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}h.prototype=new l,h.prototype.clear=function(){this.groups={},this.amountOfGroups=0},h.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},h.prototype.updateGroup=function(t,e){this.groups[t]=e},h.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},h.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},h.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},h.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},h.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];s.selectiveDeepExtend(e,this.options,t)},h.prototype.redraw=function(){var t=0,e=(0,o["default"])(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(i=0;i<e.length;i++)n=e[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(s+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},h.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,o["default"])(this.groups);t.sort(function(t,e){return t<e?-1:1}),a.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,r=this.options.iconSize,s=.75*this.options.iconSize,l=i+.5*s+3;this.svg.style.width=r+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(r,s,this.framework,n,l),l+=s+this.options.iconSpacing)}}},t.exports=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="array",a="date",l="object",h="dom",d="moment",u="any",c={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:h},__type__:{object:l,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:n,number:r},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:l},__type__:{boolean:o,object:l}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:l}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:l,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:l,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:n,number:r},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:l}},format:{function:"function"},title:{text:{string:n,number:r,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:l}},__type__:{object:l}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:l}},format:{function:"function"},title:{text:{string:n,number:r,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:l}},__type__:{object:l}},__type__:{object:l}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:l}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:l}},__type__:{object:l,boolean:o}},groups:{visibility:{any:u},__type__:{object:l}},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},end:{number:r,date:a,string:n,moment:d},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:l}},__type__:{object:l}},moment:{function:"function"},height:{string:n,number:r},hiddenDates:{start:{date:a,number:r,string:n,moment:d},end:{date:a,number:r,string:n,moment:d},repeat:{string:n},__type__:{object:l,array:s}},locale:{string:n},locales:{__any__:{any:u},__type__:{object:l}},max:{date:a,number:r,string:n,moment:d},maxHeight:{number:r,string:n},maxMinorChars:{number:r},min:{date:a,number:r,string:n,moment:d},minHeight:{number:r,string:n},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:n},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:a,number:r,string:n,moment:d},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:l}},width:{string:n,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:l}},p={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=c,e.configureOptions=p},function(t,e,i){var n=i(29),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}function s(t){return u=t,C()}var a={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},l=(0,o["default"])(a);l.color="color.color",l.style="dashes";var h={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},d={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},u="",c=0,p="",f="",g=h.NULL;function v(){c=0,p=u.charAt(0)}function m(){c++,p=u.charAt(c)}function y(){return u.charAt(c+1)}var b=/[a-zA-Z_0-9.:#]/;function w(t){return b.test(t)}function x(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function _(t,e,i){var n=e.split("."),o=t;while(n.length){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function E(t,e){var i,n,o=null,r=[t],s=t;while(s.parent)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=x(o.attr,t.node))),i=r.length-1;i>=0;i--){var a=r[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=x(o.attr,e.attr))}function k(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=x({},t.edge);e.attr=x(i,e.attr)}}function T(t,e,i,n,o){var r={from:e,to:i,type:n};return t.edge&&(r.attr=x({},t.edge)),r.attr=x(r.attr||{},o),r}function D(){g=h.NULL,f="";while(" "===p||"\t"===p||"\n"===p||"\r"===p)m();do{var t=!1;if("#"===p){var e=c-1;while(" "===u.charAt(e)||"\t"===u.charAt(e))e--;if("\n"===u.charAt(e)||""===u.charAt(e)){while(""!=p&&"\n"!=p)m();t=!0}}if("/"===p&&"/"===y()){while(""!=p&&"\n"!=p)m();t=!0}if("/"===p&&"*"===y()){while(""!=p){if("*"===p&&"/"===y()){m(),m();break}m()}t=!0}while(" "===p||"\t"===p||"\n"===p||"\r"===p)m()}while(t);if(""!==p){var i=p+y();if(d[i])return g=h.DELIMITER,f=i,m(),void m();if(d[p])return g=h.DELIMITER,f=p,void m();if(w(p)||"-"===p){f+=p,m();while(w(p))f+=p,m();return"false"===f?f=!1:"true"===f?f=!0:isNaN(Number(f))||(f=Number(f)),void(g=h.IDENTIFIER)}if('"'===p){m();while(""!=p&&('"'!=p||'"'===p&&'"'===y()))'"'===p?(f+=p,m()):"\\"===p&&"n"===y()?(f+="\n",m()):f+=p,m();if('"'!=p)throw L('End of string " expected');return m(),void(g=h.IDENTIFIER)}g=h.UNKNOWN;while(""!=p)f+=p,m();throw new SyntaxError('Syntax error in part "'+R(f,30)+'"')}g=h.DELIMITER}function C(){var t={};if(v(),D(),"strict"===f&&(t.strict=!0,D()),"graph"!==f&&"digraph"!==f||(t.type=f,D()),g===h.IDENTIFIER&&(t.id=f,D()),"{"!=f)throw L("Angle bracket { expected");if(D(),S(t),"}"!=f)throw L("Angle bracket } expected");if(D(),""!==f)throw L("End of file expected");return D(),delete t.node,delete t.edge,delete t.graph,t}function S(t){while(""!==f&&"}"!=f)M(t),";"===f&&D()}function M(t){var e=O(t);if(e)P(t,e);else{var i=N(t);if(!i){if(g!=h.IDENTIFIER)throw L("Identifier expected");var n=f;if(D(),"="===f){if(D(),g!=h.IDENTIFIER)throw L("Identifier expected");t[n]=f,D()}else A(t,n)}}}function O(t){var e=null;if("subgraph"===f&&(e={},e.type="subgraph",D(),g===h.IDENTIFIER&&(e.id=f,D())),"{"===f){if(D(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,S(e),"}"!=f)throw L("Angle bracket } expected");D(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function N(t){return"node"===f?(D(),t.node=I(),"node"):"edge"===f?(D(),t.edge=I(),"edge"):"graph"===f?(D(),t.graph=I(),"graph"):null}function A(t,e){var i={id:e},n=I();n&&(i.attr=n),E(t,i),P(t,e)}function P(t,e){while("->"===f||"--"===f){var i,n=f;D();var o=O(t);if(o)i=o;else{if(g!=h.IDENTIFIER)throw L("Identifier or subgraph expected");i=f,E(t,{id:i}),D()}var r=I(),s=T(t,e,i,n,r);k(t,s),e=i}}function I(){var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};while("["===f){D(),t={};while(""!==f&&"]"!=f){if(g!=h.IDENTIFIER)throw L("Attribute name expected");var i=f;if(D(),"="!=f)throw L("Equal sign = expected");if(D(),g!=h.IDENTIFIER)throw L("Attribute value expected");var n=f;"style"===i&&(n=e[n]),_(t,i,n),D(),","==f&&D()}if("]"!=f)throw L("Bracket ] expected");D()}return t}function L(t){return new SyntaxError(t+', got "'+R(f,30)+'" (char '+c+")")}function R(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function B(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function F(t,e,i){for(var n=e.split("."),o=n.pop(),r=t,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,t}function z(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];Array.isArray(o)?o.forEach(function(e){F(i,e,t[n])}):F(i,"string"===typeof o?o:n,t[n])}return i}function j(t){var e=s(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};x(e,z(t.attr,a)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return x(e,z(t.attr,l)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,o;e=t.from instanceof Object?t.from.nodes:{id:t.from},o=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);i.edges.push(e)}),B(e,o,function(e,o){var r=T(i,e.id,o.id,t.type,t.attr),s=n(r);i.edges.push(s)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}e.parseDOT=s,e.DOTToGraph=j},function(t,e,i){function n(t,e){var i=[],n=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var r=t.edges,s=t.nodes,a=0;a<r.length;a++){var l={},h=r[a];l["id"]=h.id,l["from"]=h.source,l["to"]=h.target,l["attributes"]=h.attributes,l["label"]=h.label,l["title"]=void 0!==h.attributes?h.attributes.title:void 0,"Directed"===h["type"]&&(l["arrows"]="to"),h.color&&!1===o.inheritColor&&(l["color"]=h.color),i.push(l)}for(var d=0;d<s.length;d++){var u={},c=s[d];u["id"]=c.id,u["attributes"]=c.attributes,u["x"]=c.x,u["y"]=c.y,u["label"]=c.label,u["title"]=void 0!==c.attributes?c.attributes.title:c.title,!0===o.nodes.parseColor?u["color"]=c.color:u["color"]=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,u["size"]=c.size,u["fixed"]=o.nodes.fixed&&void 0!==c.x&&void 0!==c.y,n.push(u)}return{nodes:n,edges:i}}e.parseGephi=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=h(n),r=i(1),s=h(r),a=i(185),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e){(0,o["default"])(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,s["default"])(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var o=new l["default"];return this.images[t]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),o=u(n),r=i(6),s=u(r),a=i(0),l=u(a),h=i(1),d=u(h);function u(t){return t&&t.__esModule?t:{default:t}}var c=i(2),p=i(48)["default"],f=i(191)["default"],g=["bold","ital","boldital","mono"],v=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,l["default"])(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return(0,d["default"])(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),p.isValidLabel(t.label)?this.labelDirty=!0:t.label="",void 0!==t.font&&null!==t.font)if("string"===typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,s["default"])(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;c.forEach(g,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:c.forEach(e,function(t,e){void 0!==t&&null!==t&&"object"!==("undefined"===typeof t?"undefined":(0,s["default"])(t))&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=c.topMost(t,"widthConstraint");if("number"===typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===("undefined"===typeof i?"undefined":(0,s["default"])(i))){var n=c.topMost(t,["widthConstraint","maximum"]);"number"===typeof n&&(e.maxWdt=Number(n));var o=c.topMost(t,["widthConstraint","minimum"]);"number"===typeof o&&(e.minWdt=Number(o))}var r=c.topMost(t,"heightConstraint");if("number"===typeof r)e.minHgt=Number(r);else if("object"===("undefined"===typeof r?"undefined":(0,s["default"])(r))){var a=c.topMost(t,["heightConstraint","minimum"]);"number"===typeof a&&(e.minHgt=Number(a));var l=c.topMost(t,["heightConstraint","valign"]);"string"===typeof l&&("top"!==l&&"bottom"!==l||(e.valign=l))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),c.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=p.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var o=e[n],r={};t.parseFontString(r,o)&&(o=r),c.forEach(o,function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(-1!==g.indexOf(e)?i[e]={}:i[e]=t))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var o=void 0,r=0;r<e.length;++r){var s=e[r];if(s.hasOwnProperty(i)){if(o=s[i],void 0===o||null===o)continue;var a={};if(t.parseFontString(a,o)&&(o=a),o.hasOwnProperty(n))return o[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var r=n[o];i[r]=this.getFontOption(t,e,r)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(t){var n=g[t],o=e.fontOptions[n],r=e.getFontOptions(i,n);c.forEach(r,function(t,e){o[e]=t}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)},o=0;o<g.length;++o)n(o)}},{key:"draw",value:function(t,e,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,o,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments[4],s=this._setAlignment(t,e,i,n),a=(0,o["default"])(s,2);e=a[0],i=a[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var l=0;l<this.lineCount;l++){var h=this.lines[l];if(h&&h.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-h.width);for(var u=0;u<h.blocks.length;u++){var c=h.blocks[u];t.font=c.font;var p=this._getColor(c.color,r,c.strokeColor),f=(0,o["default"])(p,2),g=f[0],v=f[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=v,t.lineJoin="round"),t.fillStyle=g,c.strokeWidth>0&&t.strokeText(c.text,e+d,i+c.vadjust),t.fillText(c.text,e+d,i+c.vadjust),d+=c.width}i+=h.height}}}},{key:"_setAlignment",value:function(t,e,i,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;var o=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*o):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*o):t.textBaseline="middle"}else t.textBaseline=n;return[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=c.overrideOpacity(n,r),o=c.overrideOpacity(o,r)}return[n,o]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=2,e=this.size.left,i=this.size.top-.5*t;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,i=.5*-this.size.height;break;case"top":e=n,i=-(this.size.height+t);break;case"bottom":e=n,i=t;break}}var o={left:e,top:i,width:this.size.width,height:this.size.height};return o}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"===typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),s+=r.size+"px "+r.face,t.font=s.replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){var o=new f(t,this,e,i);return o.process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){if(0===this.size.width||0===this.size.height||void 0===this.elementOptions.label)return!1;var t=this.fontOptions.size*this.body.view.scale;return!(t<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!==typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}();e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),o=h(n),r=i(0),s=h(r),a=i(1),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=i(2),u=i(119)["default"],c=function(){function t(e,i,n){(0,s["default"])(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,l["default"])(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,i,n,r){if(this.from!=this.to)this._line(t,e,i,n,r);else{var s=this._getCircleData(t),a=(0,o["default"])(s,3),l=a[0],h=a[1],d=a[2];this._circle(t,e,l,h,d)}}},{key:"_drawDashedLine",value:function(t,e,i,n,r){t.lineCap="round";var s=[5,5];if(!0===Array.isArray(e.dashes)&&(s=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var a=this._getCircleData(t),l=(0,o["default"])(a,3),h=l[0],d=l[1],u=l[2];this._circle(t,e,h,d,u)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var c=this._getCircleData(t),p=(0,o["default"])(c,3),f=p[0],g=p[1],v=p[2];this._circle(t,e,f,g,v)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var n=this._getCircleData(t).slice(0,2),r=(0,o["default"])(n,2),s=r[0],a=r[1];e=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,n=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-o):(e=n.x+o,i=n.y-.5*n.shape.height),[e,i,o]}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var n=i.x,o=i.y,r=i.low,s=i.high,a=i.direction,l=10,h=0,d=this.options.selfReferenceSize,u=void 0,c=void 0,p=void 0,f=void 0,g=void 0,v=.05,m=.5*(r+s);while(r<=s&&h<l){if(m=.5*(r+s),u=this._pointOnCircle(n,o,d,m),c=Math.atan2(t.y-u.y,t.x-u.x),p=t.distanceToBorder(e,c),f=Math.sqrt(Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2)),g=p-f,Math.abs(g)<v)break;g>0?a>0?r=m:s=m:a>0?s=m:r=m,h++}return u.t=m,u}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,n){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,s=void 0;return r=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(r=d.overrideOpacity(this.from.options.color.border,e.opacity),s=d.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),o.addColorStop(0,r),o.addColorStop(1,s),o}return"to"===e.inheritsColor?d.overrideOpacity(this.to.options.color.border,e.opacity):d.overrideOpacity(this.from.options.color.border,e.opacity)}return d.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,o){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,n,r,s,a,l){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,i,n,r,s,a);else{var d=this._getCircleData(void 0),u=(0,o["default"])(d,3),c=u[0],p=u[1],f=u[2],g=c-r,v=p-s;h=Math.abs(Math.sqrt(g*g+v*v)-f)}return h}},{key:"_getDistanceToLine",value:function(t,e,i,n,o,r){var s=i-t,a=n-e,l=s*s+a*a,h=((o-t)*s+(r-e)*a)/l;h>1?h=1:h<0&&(h=0);var d=t+h*s,u=e+h*a,c=d-o,p=u-r;return Math.sqrt(c*c+p*p)}},{key:"getArrowData",value:function(t,e,i,n,r,s){var a=void 0,l=void 0,h=void 0,d=void 0,u=void 0,c=void 0,p=void 0,f=s.width;if("from"===e?(h=this.from,d=this.to,u=.1,c=s.fromArrowScale,p=s.fromArrowType):"to"===e?(h=this.to,d=this.from,u=-.1,c=s.toArrowScale,p=s.toArrowType):(h=this.to,d=this.from,c=s.middleArrowScale,p=s.middleArrowType),h!=d)if("middle"!==e)if(!0===this.options.smooth.enabled){l=this.findBorderPosition(h,t,{via:i});var g=this.getPoint(Math.max(0,Math.min(1,l.t+u)),i);a=Math.atan2(l.y-g.y,l.x-g.x)}else a=Math.atan2(h.y-d.y,h.x-d.x),l=this.findBorderPosition(h,t);else a=Math.atan2(h.y-d.y,h.x-d.x),l=this.getPoint(.5,i);else{var v=this._getCircleData(t),m=(0,o["default"])(v,3),y=m[0],b=m[1],w=m[2];"from"===e?(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1}),a=-2*l.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1}),a=-2*l.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(l=this._pointOnCircle(y,b,w,.175),a=3.9269908169872414)}"middle"===e&&c<0&&(f*=-1);var x=15*c+3*f,_=l.x-.9*x*Math.cos(a),E=l.y-.9*x*Math.sin(a),k={x:_,y:E};return{point:l,core:k,angle:a,length:x,type:p}}},{key:"drawArrowHead",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,u.draw(t,o),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=p(n),r=i(4),s=p(r),a=i(5),l=p(a),h=i(0),d=p(h),u=i(1),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(){(0,d["default"])(this,t)}return(0,c["default"])(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var i=e.point.x,n=e.point.y,o=e.angle,r=e.length,s=0;s<t.length;++s){var a=t[s],l=a.x*Math.cos(o)-a.y*Math.sin(o),h=a.x*Math.sin(o)+a.y*Math.cos(o);a.x=i+r*l,a.y=n+r*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),g=function(t){function e(){return(0,d["default"])(this,e),(0,s["default"])(this,(e.__proto__||(0,o["default"])(e)).apply(this,arguments))}return(0,l["default"])(e,t),(0,c["default"])(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];f.transform(i,e),f.drawPath(t,i)}}]),e}(f),v=function(){function t(){(0,d["default"])(this,t)}return(0,c["default"])(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};f.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),m=function(){function t(){(0,d["default"])(this,t)}return(0,c["default"])(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];f.transform(i,e),f.drawPath(t,i)}}]),t}(),y=function(){function t(){(0,d["default"])(this,t)}return(0,c["default"])(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":v.draw(t,e);break;case"bar":m.draw(t,e);break;case"arrow":default:g.draw(t,e)}}}]),t}();e["default"]=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return(0,s["default"])(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(var r=0;r<n;r++)t=e[i[r]],t.options.mass>0&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=void 0,n=void 0,o=void 0;i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+n*n),o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t)}}},{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,n=e.length,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var h=t[e[l]],d=h.x,u=h.y;h.options.mass>0&&(d<o&&(o=d),d>s&&(s=d),u<r&&(r=u),u>a&&(a=u))}var c=Math.abs(s-o)-Math.abs(a-r);c>0?(r-=.5*c,a+=.5*c):(o+=.5*c,s-=.5*c);var p=1e-5,f=Math.max(p,Math.abs(s-o)),g=.5*f,v=.5*(o+s),m=.5*(r+a),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-g,maxX:v+g,minY:m-g,maxY:m+g},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var b=0;b<n;b++)i=t[e[b]],i.options.mass>0&&this._placeInTree(y.root,i);return y}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,o=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=n;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n=t.children.NW.range,o=void 0;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e);break}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY+s,r=t.range.maxY;break}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,s["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,n=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++){var l=r[a];n=o[l],t=-n.x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}}},{key:"_calculateForces",value:function(t,e,i,n,o){var r=0===t?0:this.options.centralGravity/t;n[o.id].x=e*r,n[o.id].y=i*r}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="array",a="object",l="dom",h="any",d=["arrow","circle","bar"],u={configure:{enabled:{boolean:o},filter:{boolean:o,string:n,array:s,function:"function"},container:{dom:l},showButton:{boolean:o},__type__:{object:a,boolean:o,string:n,array:s,function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:d},__type__:{object:a,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:d},__type__:{object:a,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:d},__type__:{object:a,boolean:o}},__type__:{string:["from","to","middle"],object:a}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:a,boolean:o}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],boolean:o},opacity:{number:r},__type__:{object:a,string:n}},dashes:{boolean:o,array:s},font:{color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},boldital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},ital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},mono:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},__type__:{object:a,string:n}},hidden:{boolean:o},hoverWidth:{function:"function",number:r},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:r,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:a}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:o},color:{string:n},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:a,boolean:o}},title:{string:n,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:a,boolean:o,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:a}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:a}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:a}},bindToWindow:{boolean:o},__type__:{object:a,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:r},zoomView:{boolean:o},__type__:{object:a}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:a,boolean:o}},__type__:{object:a}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:a,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:a,boolean:o}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:n,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:a,boolean:o}},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:a,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:a,string:n}},__type__:{object:a,string:n}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:a,boolean:o}},font:{align:{string:n},color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},vadjust:{number:r},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},boldital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},ital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},mono:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:a,string:n}},__type__:{object:a,string:n}},group:{string:n,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:n},__type__:{object:a,boolean:o,number:r}},hidden:{boolean:o},icon:{face:{string:n},code:{string:n},size:{number:r},color:{string:n},__type__:{object:a}},id:{string:n,number:r},image:{selected:{string:n,undefined:"undefined"},unselected:{string:n,undefined:"undefined"},__type__:{object:a,string:n}},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:a,number:r}},mass:{number:r},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:a}},shadow:{enabled:{boolean:o},color:{string:n},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:s},borderRadius:{number:r},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:a}},size:{number:r},title:{string:n,dom:l,undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:a,boolean:o,number:r}},x:{number:r},y:{number:r},__type__:{object:a}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:a,boolean:o}},timestep:{number:r},adaptiveTimestep:{boolean:o},__type__:{object:a,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:n},locales:{__any__:{any:h},__type__:{object:a}},height:{string:n},width:{string:n},__type__:{object:a}};u.groups.__any__=u.nodes,u.manipulation.controlNodeStyle=u.nodes;var c={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};e.allOptions=u,e.configureOptions=c},function(t,e,i){var n=i(2);n.extend(e,i(159)),n.extend(e,i(177)),n.extend(e,i(181))},function(t,e,i){i(49),i(60),t.exports=i(136)},function(t,e,i){var n=i(126),o=i(127),r=i(31),s=i(25);t.exports=i(79)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(54),o=i(39),r=i(59),s={};i(26)(s,i(13)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(s,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var n=i(20),o=i(27),r=i(33);t.exports=i(21)?Object.defineProperties:function(t,e){o(t);var i,s=r(e),a=s.length,l=0;while(a>l)n.f(t,i=s[l++],e[i]);return t}},function(t,e,i){var n=i(25),o=i(132),r=i(133);t.exports=function(t){return function(e,i,s){var a,l=n(e),h=o(l.length),d=r(s,h);if(t&&i!=i){while(h>d)if(a=l[d++],a!=a)return!0}else for(;h>d;d++)if((t||d in l)&&l[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var n=i(55),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(55),o=Math.max,r=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):r(t,e)}},function(t,e,i){var n=i(18).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(55),o=i(51);t.exports=function(t){return function(e,i){var r,s,a=String(o(e)),l=n(i),h=a.length;return l<0||l>=h?t?"":void 0:(r=a.charCodeAt(l),r<55296||r>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):r:t?a.slice(l,l+2):s-56320+(r-55296<<10)+65536)}}},function(t,e,i){var n=i(27),o=i(137);t.exports=i(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){var n=i(86),o=i(13)("iterator"),r=i(31);t.exports=i(7).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){i(139);var n=i(7).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(17);n(n.S,"Object",{create:i(54)})},function(t,e,i){i(141),t.exports=i(7).Object.keys},function(t,e,i){var n=i(41),o=i(33);i(87)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60),i(49),t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146),i(151),i(152),i(153),t.exports=i(7).Symbol},function(t,e,i){var n=i(18),o=i(22),r=i(21),s=i(17),a=i(83),l=i(147).KEY,h=i(28),d=i(57),u=i(59),c=i(40),p=i(13),f=i(61),g=i(62),v=i(148),m=i(149),y=i(27),b=i(25),w=i(53),x=i(39),_=i(54),E=i(150),k=i(89),T=i(20),D=i(33),C=k.f,S=T.f,M=E.f,O=n.Symbol,N=n.JSON,A=N&&N.stringify,P="prototype",I=p("_hidden"),L=p("toPrimitive"),R={}.propertyIsEnumerable,B=d("symbol-registry"),F=d("symbols"),z=d("op-symbols"),j=Object[P],H="function"==typeof O,Y=n.QObject,G=!Y||!Y[P]||!Y[P].findChild,W=r&&h(function(){return 7!=_(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=C(j,e);n&&delete j[e],S(t,e,i),n&&t!==j&&S(j,e,n)}:S,V=function(t){var e=F[t]=_(O[P]);return e._k=t,e},U=H&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},q=function(t,e,i){return t===j&&q(z,e,i),y(t),e=w(e,!0),y(i),o(F,e)?(i.enumerable?(o(t,I)&&t[I][e]&&(t[I][e]=!1),i=_(i,{enumerable:x(0,!1)})):(o(t,I)||S(t,I,x(1,{})),t[I][e]=!0),W(t,e,i)):S(t,e,i)},X=function(t,e){y(t);var i,n=v(e=b(e)),o=0,r=n.length;while(r>o)q(t,i=n[o++],e[i]);return t},K=function(t,e){return void 0===e?_(t):X(_(t),e)},Z=function(t){var e=R.call(this,t=w(t,!0));return!(this===j&&o(F,t)&&!o(z,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,I)&&this[I][t])||e)},$=function(t,e){if(t=b(t),e=w(e,!0),t!==j||!o(F,e)||o(z,e)){var i=C(t,e);return!i||!o(F,e)||o(t,I)&&t[I][e]||(i.enumerable=!0),i}},Q=function(t){var e,i=M(b(t)),n=[],r=0;while(i.length>r)o(F,e=i[r++])||e==I||e==l||n.push(e);return n},J=function(t){var e,i=t===j,n=M(i?z:b(t)),r=[],s=0;while(n.length>s)!o(F,e=n[s++])||i&&!o(j,e)||r.push(F[e]);return r};H||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(i){this===j&&e.call(z,i),o(this,I)&&o(this[I],t)&&(this[I][t]=!1),W(this,t,x(1,i))};return r&&G&&W(j,t,{configurable:!0,set:e}),V(t)},a(O[P],"toString",function(){return this._k}),k.f=$,T.f=q,i(88).f=E.f=Q,i(42).f=Z,i(63).f=J,r&&!i(52)&&a(j,"propertyIsEnumerable",Z,!0),f.f=function(t){return V(p(t))}),s(s.G+s.W+s.F*!H,{Symbol:O});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var it=D(p.store),nt=0;it.length>nt;)g(it[nt++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=O(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!H,"Object",{create:K,defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),N&&s(s.S+s.F*(!H||h(function(){var t=O();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!U(t)){var e,i,n=[t],o=1;while(arguments.length>o)n.push(arguments[o++]);return e=n[1],"function"==typeof e&&(i=e),!i&&m(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!U(e))return e}),n[1]=e,A.apply(N,n)}}}),O[P][L]||i(26)(O[P],L,O[P].valueOf),u(O,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},function(t,e,i){var n=i(40)("meta"),o=i(32),r=i(22),s=i(20).f,a=0,l=Object.isExtensible||function(){return!0},h=!i(28)(function(){return l(Object.preventExtensions({}))}),d=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},u=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[n].i},c=function(t,e){if(!r(t,n)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[n].w},p=function(t){return h&&f.NEED&&l(t)&&!r(t,n)&&d(t),t},f=t.exports={KEY:n,NEED:!1,fastKey:u,getWeak:c,onFreeze:p}},function(t,e,i){var n=i(33),o=i(63),r=i(42);t.exports=function(t){var e=n(t),i=o.f;if(i){var s,a=i(t),l=r.f,h=0;while(a.length>h)l.call(t,s=a[h++])&&e.push(s)}return e}},function(t,e,i){var n=i(50);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(25),o=i(88).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?a(t):o(n(t))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){(function(e,i){t.exports=i()})(0,function(){var e,i;function n(){return e.apply(null,arguments)}function o(t){e=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function l(t){return void 0===t}function h(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){for(var i in e)c(e,i)&&(t[i]=e[i]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,i,n){return Vi(t,e,i,n,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(t){return null==t._pf&&(t._pf=g()),t._pf}function m(t){if(null==t._isValid){var e=v(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function y(t){var e=f(NaN);return null!=t?p(v(e),t):v(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var b=n.momentProperties=[];function w(t,e){var i,n,o;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=v(e)),l(e._locale)||(t._locale=e._locale),b.length>0)for(i=0;i<b.length;i++)n=b[i],o=e[n],l(o)||(t[n]=o);return t}var x=!1;function _(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,n.updateOffset(this),x=!1)}function E(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function k(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function T(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=k(e)),i}function D(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&T(t[n])!==T(e[n]))&&s++;return s+r}function C(t){!1===n.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var i=!0;return p(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"===typeof arguments[s]){for(var a in o+="\n["+s+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}C(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var M,O={};function N(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),O[t]||(C(e),O[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t){var e,i;for(i in t)e=t[i],A(e)?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(t,e){var i,n=p({},t);for(i in e)c(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},p(n[i],t[i]),p(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)c(t,i)&&!c(e,i)&&s(t[i])&&(n[i]=p({},n[i]));return n}function L(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,M=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)c(t,e)&&i.push(e);return i};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B(t,e,i){var n=this._calendar[t]||this._calendar["sameElse"];return A(n)?n.call(e,i):n}var F={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function z(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}var j="Invalid date";function H(){return this._invalidDate}var Y="%d",G=/\d{1,2}/;function W(t){return this._ordinal.replace("%d",t)}var V={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function U(t,e,i,n){var o=this._relativeTime[i];return A(o)?o(t,e,i,n):o.replace(/%d/i,t)}function q(t,e){var i=this._relativeTime[t>0?"future":"past"];return A(i)?i(e):i.replace(/%s/i,e)}var X={};function K(t,e){var i=t.toLowerCase();X[i]=X[i+"s"]=X[e]=t}function Z(t){return"string"===typeof t?X[t]||X[t.toLowerCase()]:void 0}function $(t){var e,i,n={};for(i in t)c(t,i)&&(e=Z(i),e&&(n[e]=t[i]));return n}var Q={};function J(t,e){Q[t]=e}function tt(t){var e=[];for(var i in t)e.push({unit:i,priority:Q[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function et(t,e,i){var n=""+Math.abs(t),o=e-n.length,r=t>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var it=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ot={},rt={};function st(t,e,i,n){var o=n;"string"===typeof n&&(o=function(){return this[n]()}),t&&(rt[t]=o),e&&(rt[e[0]]=function(){return et(o.apply(this,arguments),e[1],e[2])}),i&&(rt[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function at(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function lt(t){var e,i,n=t.match(it);for(e=0,i=n.length;e<i;e++)rt[n[e]]?n[e]=rt[n[e]]:n[e]=at(n[e]);return function(e){var o,r="";for(o=0;o<i;o++)r+=A(n[o])?n[o].call(e,t):n[o];return r}}function ht(t,e){return t.isValid()?(e=dt(e,t.localeData()),ot[e]=ot[e]||lt(e),ot[e](t)):t.localeData().invalidDate()}function dt(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}nt.lastIndex=0;while(i>=0&&nt.test(t))t=t.replace(nt,n),nt.lastIndex=0,i-=1;return t}var ut=/\d/,ct=/\d\d/,pt=/\d{3}/,ft=/\d{4}/,gt=/[+-]?\d{6}/,vt=/\d\d?/,mt=/\d\d\d\d?/,yt=/\d\d\d\d\d\d?/,bt=/\d{1,3}/,wt=/\d{1,4}/,xt=/[+-]?\d{1,6}/,_t=/\d+/,Et=/[+-]?\d+/,kt=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,Dt=/[+-]?\d+(\.\d{1,3})?/,Ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,St={};function Mt(t,e,i){St[t]=A(e)?e:function(t,n){return t&&i?i:e}}function Ot(t,e){return c(St,t)?St[t](e._strict,e._locale):new RegExp(Nt(t))}function Nt(t){return At(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function At(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Pt={};function It(t,e){var i,n=e;for("string"===typeof t&&(t=[t]),h(e)&&(n=function(t,i){i[e]=T(t)}),i=0;i<t.length;i++)Pt[t[i]]=n}function Lt(t,e){It(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function Rt(t,e,i){null!=e&&c(Pt,t)&&Pt[t](e,i._a,i,t)}var Bt=0,Ft=1,zt=2,jt=3,Ht=4,Yt=5,Gt=6,Wt=7,Vt=8;function Ut(t){return qt(t)?366:365}function qt(t){return t%4===0&&t%100!==0||t%400===0}st("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),st(0,["YY",2],0,function(){return this.year()%100}),st(0,["YYYY",4],0,"year"),st(0,["YYYYY",5],0,"year"),st(0,["YYYYYY",6,!0],0,"year"),K("year","y"),J("year",1),Mt("Y",Et),Mt("YY",vt,ct),Mt("YYYY",wt,ft),Mt("YYYYY",xt,gt),Mt("YYYYYY",xt,gt),It(["YYYYY","YYYYYY"],Bt),It("YYYY",function(t,e){e[Bt]=2===t.length?n.parseTwoDigitYear(t):T(t)}),It("YY",function(t,e){e[Bt]=n.parseTwoDigitYear(t)}),It("Y",function(t,e){e[Bt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return T(t)+(T(t)>68?1900:2e3)};var Xt,Kt=$t("FullYear",!0);function Zt(){return qt(this.year())}function $t(t,e){return function(i){return null!=i?(Jt(this,t,i),n.updateOffset(this,e),this):Qt(this,t)}}function Qt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Jt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&qt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),ne(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function te(t){return t=Z(t),A(this[t])?this[t]():this}function ee(t,e){if("object"===typeof t){t=$(t);for(var i=tt(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=Z(t),A(this[t]))return this[t](e);return this}function ie(t,e){return(t%e+e)%e}function ne(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=ie(e,12);return t+=(e-i)/12,1===i?qt(t)?29:28:31-i%7%2}Xt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},st("M",["MM",2],"Mo",function(){return this.month()+1}),st("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),st("MMMM",0,0,function(t){return this.localeData().months(this,t)}),K("month","M"),J("month",8),Mt("M",vt),Mt("MM",vt,ct),Mt("MMM",function(t,e){return e.monthsShortRegex(t)}),Mt("MMMM",function(t,e){return e.monthsRegex(t)}),It(["M","MM"],function(t,e){e[Ft]=T(t)-1}),It(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[Ft]=o:v(i).invalidMonth=t});var oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,re="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function se(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||oe).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months["standalone"]}var ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function le(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[oe.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function he(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?(o=Xt.call(this._shortMonthsParse,s),-1!==o?o:null):(o=Xt.call(this._longMonthsParse,s),-1!==o?o:null):"MMM"===e?(o=Xt.call(this._shortMonthsParse,s),-1!==o?o:(o=Xt.call(this._longMonthsParse,s),-1!==o?o:null)):(o=Xt.call(this._longMonthsParse,s),-1!==o?o:(o=Xt.call(this._shortMonthsParse,s),-1!==o?o:null))}function de(t,e,i){var n,o,r;if(this._monthsParseExact)return he.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=f([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function ue(t,e){var i;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=T(e);else if(e=t.localeData().monthsParse(e),!h(e))return t;return i=Math.min(t.date(),ne(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ce(t){return null!=t?(ue(this,t),n.updateOffset(this,!0),this):Qt(this,"Month")}function pe(){return ne(this.year(),this.month())}var fe=Ct;function ge(t){return this._monthsParseExact?(c(this,"_monthsRegex")||ye.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=fe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}var ve=Ct;function me(t){return this._monthsParseExact?(c(this,"_monthsRegex")||ye.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=ve),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ye(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;e<12;e++)i=f([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)n[e]=At(n[e]),o[e]=At(o[e]);for(e=0;e<24;e++)r[e]=At(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function be(t,e,i,n,o,r,s){var a=new Date(t,e,i,n,o,r,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function we(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function xe(t,e,i){var n=7+e-i,o=(7+we(t,0,n).getUTCDay()-e)%7;return-o+n-1}function _e(t,e,i,n,o){var r,s,a=(7+i-n)%7,l=xe(t,n,o),h=1+7*(e-1)+a+l;return h<=0?(r=t-1,s=Ut(r)+h):h>Ut(t)?(r=t+1,s=h-Ut(t)):(r=t,s=h),{year:r,dayOfYear:s}}function Ee(t,e,i){var n,o,r=xe(t.year(),e,i),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?(o=t.year()-1,n=s+ke(o,e,i)):s>ke(t.year(),e,i)?(n=s-ke(t.year(),e,i),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function ke(t,e,i){var n=xe(t,e,i),o=xe(t+1,e,i);return(Ut(t)-n+o)/7}function Te(t){return Ee(t,this._week.dow,this._week.doy).week}st("w",["ww",2],"wo","week"),st("W",["WW",2],"Wo","isoWeek"),K("week","w"),K("isoWeek","W"),J("week",5),J("isoWeek",5),Mt("w",vt),Mt("ww",vt,ct),Mt("W",vt),Mt("WW",vt,ct),Lt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=T(t)});var De={dow:0,doy:6};function Ce(){return this._week.dow}function Se(){return this._week.doy}function Me(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Oe(t){var e=Ee(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ne(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function Ae(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}st("d",0,"do","day"),st("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),st("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),st("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),st("e",0,0,"weekday"),st("E",0,0,"isoWeekday"),K("day","d"),K("weekday","e"),K("isoWeekday","E"),J("day",11),J("weekday",11),J("isoWeekday",11),Mt("d",vt),Mt("e",vt),Mt("E",vt),Mt("dd",function(t,e){return e.weekdaysMinRegex(t)}),Mt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Mt("dddd",function(t,e){return e.weekdaysRegex(t)}),Lt(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:v(i).invalidWeekday=t}),Lt(["d","e","E"],function(t,e,i,n){e[n]=T(t)});var Pe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Ie(t,e){return t?r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:r(this._weekdays)?this._weekdays:this._weekdays["standalone"]}var Le="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Re(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}var Be="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Fe(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function ze(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?(o=Xt.call(this._weekdaysParse,s),-1!==o?o:null):"ddd"===e?(o=Xt.call(this._shortWeekdaysParse,s),-1!==o?o:null):(o=Xt.call(this._minWeekdaysParse,s),-1!==o?o:null):"dddd"===e?(o=Xt.call(this._weekdaysParse,s),-1!==o?o:(o=Xt.call(this._shortWeekdaysParse,s),-1!==o?o:(o=Xt.call(this._minWeekdaysParse,s),-1!==o?o:null))):"ddd"===e?(o=Xt.call(this._shortWeekdaysParse,s),-1!==o?o:(o=Xt.call(this._weekdaysParse,s),-1!==o?o:(o=Xt.call(this._minWeekdaysParse,s),-1!==o?o:null))):(o=Xt.call(this._minWeekdaysParse,s),-1!==o?o:(o=Xt.call(this._weekdaysParse,s),-1!==o?o:(o=Xt.call(this._shortWeekdaysParse,s),-1!==o?o:null)))}function je(t,e,i){var n,o,r;if(this._weekdaysParseExact)return ze.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=f([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function He(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ne(t,this.localeData()),this.add(t-e,"d")):e}function Ye(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ae(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}var We=Ct;function Ve(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=We),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}var Ue=Ct;function qe(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ue),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Xe=Ct;function Ke(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ze(){function t(t,e){return e.length-t.length}var e,i,n,o,r,s=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=f([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(n),a.push(o),l.push(r),h.push(n),h.push(o),h.push(r);for(s.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=At(a[e]),l[e]=At(l[e]),h[e]=At(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function $e(){return this.hours()%12||12}function Qe(){return this.hours()||24}function Je(t,e){st(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ti(t,e){return e._meridiemParse}function ei(t){return"p"===(t+"").toLowerCase().charAt(0)}st("H",["HH",2],0,"hour"),st("h",["hh",2],0,$e),st("k",["kk",2],0,Qe),st("hmm",0,0,function(){return""+$e.apply(this)+et(this.minutes(),2)}),st("hmmss",0,0,function(){return""+$e.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)}),st("Hmm",0,0,function(){return""+this.hours()+et(this.minutes(),2)}),st("Hmmss",0,0,function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)}),Je("a",!0),Je("A",!1),K("hour","h"),J("hour",13),Mt("a",ti),Mt("A",ti),Mt("H",vt),Mt("h",vt),Mt("k",vt),Mt("HH",vt,ct),Mt("hh",vt,ct),Mt("kk",vt,ct),Mt("hmm",mt),Mt("hmmss",yt),Mt("Hmm",mt),Mt("Hmmss",yt),It(["H","HH"],jt),It(["k","kk"],function(t,e,i){var n=T(t);e[jt]=24===n?0:n}),It(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),It(["h","hh"],function(t,e,i){e[jt]=T(t),v(i).bigHour=!0}),It("hmm",function(t,e,i){var n=t.length-2;e[jt]=T(t.substr(0,n)),e[Ht]=T(t.substr(n)),v(i).bigHour=!0}),It("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[jt]=T(t.substr(0,n)),e[Ht]=T(t.substr(n,2)),e[Yt]=T(t.substr(o)),v(i).bigHour=!0}),It("Hmm",function(t,e,i){var n=t.length-2;e[jt]=T(t.substr(0,n)),e[Ht]=T(t.substr(n))}),It("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[jt]=T(t.substr(0,n)),e[Ht]=T(t.substr(n,2)),e[Yt]=T(t.substr(o))});var ii=/[ap]\.?m?\.?/i;function ni(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var oi,ri=$t("Hours",!0),si={calendar:R,longDateFormat:F,invalidDate:j,ordinal:Y,dayOfMonthOrdinalParse:G,relativeTime:V,months:re,monthsShort:ae,week:De,weekdays:Pe,weekdaysMin:Be,weekdaysShort:Le,meridiemParse:ii},ai={},li={};function hi(t){return t?t.toLowerCase().replace("_","-"):t}function di(t){var e,i,n,o,r=0;while(r<t.length){o=hi(t[r]).split("-"),e=o.length,i=hi(t[r+1]),i=i?i.split("-"):null;while(e>0){if(n=ui(o.slice(0,e).join("-")),n)return n;if(i&&i.length>=e&&D(o,i,!0)>=e-1)break;e--}r++}return null}function ui(e){var i=null;if(!ai[e]&&"undefined"!==typeof t&&t&&t.exports)try{i=oi._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),ci(i)}catch(n){}return ai[e]}function ci(t,e){var i;return t&&(i=l(e)?gi(t):pi(t,e),i&&(oi=i)),oi._abbr}function pi(t,e){if(null!==e){var i=si;if(e.abbr=t,null!=ai[t])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ai[t]._config;else if(null!=e.parentLocale){if(null==ai[e.parentLocale])return li[e.parentLocale]||(li[e.parentLocale]=[]),li[e.parentLocale].push({name:t,config:e}),null;i=ai[e.parentLocale]._config}return ai[t]=new L(I(i,e)),li[t]&&li[t].forEach(function(t){pi(t.name,t.config)}),ci(t),ai[t]}return delete ai[t],null}function fi(t,e){if(null!=e){var i,n=si;null!=ai[t]&&(n=ai[t]._config),e=I(n,e),i=new L(e),i.parentLocale=ai[t],ai[t]=i,ci(t)}else null!=ai[t]&&(null!=ai[t].parentLocale?ai[t]=ai[t].parentLocale:null!=ai[t]&&delete ai[t]);return ai[t]}function gi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return oi;if(!r(t)){if(e=ui(t),e)return e;t=[t]}return di(t)}function vi(){return M(ai)}function mi(t){var e,i=t._a;return i&&-2===v(t).overflow&&(e=i[Ft]<0||i[Ft]>11?Ft:i[zt]<1||i[zt]>ne(i[Bt],i[Ft])?zt:i[jt]<0||i[jt]>24||24===i[jt]&&(0!==i[Ht]||0!==i[Yt]||0!==i[Gt])?jt:i[Ht]<0||i[Ht]>59?Ht:i[Yt]<0||i[Yt]>59?Yt:i[Gt]<0||i[Gt]>999?Gt:-1,v(t)._overflowDayOfYear&&(e<Bt||e>zt)&&(e=zt),v(t)._overflowWeeks&&-1===e&&(e=Wt),v(t)._overflowWeekday&&-1===e&&(e=Vt),v(t).overflow=e),t}function yi(t,e,i){return null!=t?t:null!=e?e:i}function bi(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wi(t){var e,i,n,o,r=[];if(!t._d){for(n=bi(t),t._w&&null==t._a[zt]&&null==t._a[Ft]&&xi(t),null!=t._dayOfYear&&(o=yi(t._a[Bt],n[Bt]),(t._dayOfYear>Ut(o)||0===t._dayOfYear)&&(v(t)._overflowDayOfYear=!0),i=we(o,0,t._dayOfYear),t._a[Ft]=i.getUTCMonth(),t._a[zt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[jt]&&0===t._a[Ht]&&0===t._a[Yt]&&0===t._a[Gt]&&(t._nextDay=!0,t._a[jt]=0),t._d=(t._useUTC?we:be).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[jt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==t._d.getDay()&&(v(t).weekdayMismatch=!0)}}function xi(t){var e,i,n,o,r,s,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)r=1,s=4,i=yi(e.GG,t._a[Bt],Ee(Ui(),1,4).year),n=yi(e.W,1),o=yi(e.E,1),(o<1||o>7)&&(l=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var h=Ee(Ui(),r,s);i=yi(e.gg,t._a[Bt],h.year),n=yi(e.w,h.week),null!=e.d?(o=e.d,(o<0||o>6)&&(l=!0)):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}n<1||n>ke(i,r,s)?v(t)._overflowWeeks=!0:null!=l?v(t)._overflowWeekday=!0:(a=_e(i,n,o,r,s),t._a[Bt]=a.year,t._dayOfYear=a.dayOfYear)}var _i=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ei=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ki=/Z|[+-]\d\d(?::?\d\d)?/,Ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Di=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ci=/^\/?Date\((\-?\d+)/i;function Si(t){var e,i,n,o,r,s,a=t._i,l=_i.exec(a)||Ei.exec(a);if(l){for(v(t).iso=!0,e=0,i=Ti.length;e<i;e++)if(Ti[e][1].exec(l[1])){o=Ti[e][0],n=!1!==Ti[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=Di.length;e<i;e++)if(Di[e][1].exec(l[3])){r=(l[2]||" ")+Di[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!ki.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),Fi(t)}else t._isValid=!1}var Mi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Oi(t,e,i,n,o,r){var s=[Ni(t),ae.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}function Ni(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Ai(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Pi(t,e,i){if(t){var n=Le.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(n!==o)return v(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}var Ii={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Li(t,e,i){if(t)return Ii[t];if(e)return 0;var n=parseInt(i,10),o=n%100,r=(n-o)/100;return 60*r+o}function Ri(t){var e=Mi.exec(Ai(t._i));if(e){var i=Oi(e[4],e[3],e[2],e[5],e[6],e[7]);if(!Pi(e[1],i,t))return;t._a=i,t._tzm=Li(e[8],e[9],e[10]),t._d=we.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),v(t).rfc2822=!0}else t._isValid=!1}function Bi(t){var e=Ci.exec(t._i);null===e?(Si(t),!1===t._isValid&&(delete t._isValid,Ri(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Fi(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],v(t).empty=!0;var e,i,o,r,s,a=""+t._i,l=a.length,h=0;for(o=dt(t._f,t._locale).match(it)||[],e=0;e<o.length;e++)r=o[e],i=(a.match(Ot(r,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&v(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),h+=i.length),rt[r]?(i?v(t).empty=!1:v(t).unusedTokens.push(r),Rt(r,i,t)):t._strict&&!i&&v(t).unusedTokens.push(r);v(t).charsLeftOver=l-h,a.length>0&&v(t).unusedInput.push(a),t._a[jt]<=12&&!0===v(t).bigHour&&t._a[jt]>0&&(v(t).bigHour=void 0),v(t).parsedDateParts=t._a.slice(0),v(t).meridiem=t._meridiem,t._a[jt]=zi(t._locale,t._a[jt],t._meridiem),wi(t),mi(t)}else Ri(t);else Si(t)}function zi(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function ji(t){var e,i,n,o,r;if(0===t._f.length)return v(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Fi(e),m(e)&&(r+=v(e).charsLeftOver,r+=10*v(e).unusedTokens.length,v(e).score=r,(null==n||r<n)&&(n=r,i=e));p(t,i||e)}function Hi(t){if(!t._d){var e=$(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),wi(t)}}function Yi(t){var e=new _(mi(Gi(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Gi(t){var e=t._i,i=t._f;return t._locale=t._locale||gi(t._l),null===e||void 0===i&&""===e?y({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),E(e)?new _(mi(e)):(d(e)?t._d=e:r(i)?ji(t):i?Fi(t):Wi(t),m(t)||(t._d=null),t))}function Wi(t){var e=t._i;l(e)?t._d=new Date(n.now()):d(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Bi(t):r(e)?(t._a=u(e.slice(0),function(t){return parseInt(t,10)}),wi(t)):s(e)?Hi(t):h(e)?t._d=new Date(e):n.createFromInputFallback(t)}function Vi(t,e,i,n,o){var l={};return!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&a(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=i,l._i=t,l._f=e,l._strict=n,Yi(l)}function Ui(t,e,i,n){return Vi(t,e,i,n,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var qi=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ui.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()}),Xi=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ui.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()});function Ki(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Ui();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Zi(){var t=[].slice.call(arguments,0);return Ki("isBefore",t)}function $i(){var t=[].slice.call(arguments,0);return Ki("isAfter",t)}var Qi=function(){return Date.now?Date.now():+new Date},Ji=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tn(t){for(var e in t)if(-1===Xt.call(Ji,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Ji.length;++n)if(t[Ji[n]]){if(i)return!1;parseFloat(t[Ji[n]])!==T(t[Ji[n]])&&(i=!0)}return!0}function en(){return this._isValid}function nn(){return Tn(NaN)}function on(t){var e=$(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=tn(e),this._milliseconds=+d+1e3*h+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=gi(),this._bubble()}function rn(t){return t instanceof on}function sn(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function an(t,e){st(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+et(~~(t/60),2)+e+et(~~t%60,2)})}an("Z",":"),an("ZZ",""),Mt("Z",Tt),Mt("ZZ",Tt),It(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=hn(Tt,t)});var ln=/([\+\-]|\d\d)/gi;function hn(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(ln)||["-",0,0],r=60*o[1]+T(o[2]);return 0===r?0:"+"===o[0]?r:-r}function dn(t,e){var i,o;return e._isUTC?(i=e.clone(),o=(E(t)||d(t)?t.valueOf():Ui(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):Ui(t).local()}function un(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function cn(t,e,i){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(t=hn(Tt,t),null===t)return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=un(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?On(this,Tn(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:un(this)}function pn(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function fn(t){return this.utcOffset(0,t)}function gn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(un(this),"m")),this}function vn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=hn(kt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function mn(t){return!!this.isValid()&&(t=t?Ui(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function yn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bn(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t={};if(w(t,this),t=Gi(t),t._a){var e=t._isUTC?f(t._a):Ui(t._a);this._isDSTShifted=this.isValid()&&D(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function wn(){return!!this.isValid()&&!this._isUTC}function xn(){return!!this.isValid()&&this._isUTC}function _n(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var En=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,kn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tn(t,e){var i,n,o,r=t,s=null;return rn(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:h(t)?(r={},e?r[e]=t:r.milliseconds=t):(s=En.exec(t))?(i="-"===s[1]?-1:1,r={y:0,d:T(s[zt])*i,h:T(s[jt])*i,m:T(s[Ht])*i,s:T(s[Yt])*i,ms:T(sn(1e3*s[Gt]))*i}):(s=kn.exec(t))?(i="-"===s[1]?-1:(s[1],1),r={y:Dn(s[2],i),M:Dn(s[3],i),w:Dn(s[4],i),d:Dn(s[5],i),h:Dn(s[6],i),m:Dn(s[7],i),s:Dn(s[8],i)}):null==r?r={}:"object"===typeof r&&("from"in r||"to"in r)&&(o=Sn(Ui(r.from),Ui(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new on(r),rn(t)&&c(t,"_locale")&&(n._locale=t._locale),n}function Dn(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Cn(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Sn(t,e){var i;return t.isValid()&&e.isValid()?(e=dn(e,t),t.isBefore(e)?i=Cn(t,e):(i=Cn(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Mn(t,e){return function(i,n){var o,r;return null===n||isNaN(+n)||(N(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"===typeof i?+i:i,o=Tn(i,n),On(this,o,t),this}}function On(t,e,i,o){var r=e._milliseconds,s=sn(e._days),a=sn(e._months);t.isValid()&&(o=null==o||o,a&&ue(t,Qt(t,"Month")+a*i),s&&Jt(t,"Date",Qt(t,"Date")+s*i),r&&t._d.setTime(t._d.valueOf()+r*i),o&&n.updateOffset(t,s||a))}Tn.fn=on.prototype,Tn.invalid=nn;var Nn=Mn(1,"add"),An=Mn(-1,"subtract");function Pn(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function In(t,e){var i=t||Ui(),o=dn(i,this).startOf("day"),r=n.calendarFormat(this,o)||"sameElse",s=e&&(A(e[r])?e[r].call(this,i):e[r]);return this.format(s||this.localeData().calendar(r,this,Ui(i)))}function Ln(){return new _(this)}function Rn(t,e){var i=E(t)?t:Ui(t);return!(!this.isValid()||!i.isValid())&&(e=Z(l(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function Bn(t,e){var i=E(t)?t:Ui(t);return!(!this.isValid()||!i.isValid())&&(e=Z(l(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function Fn(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function zn(t,e){var i,n=E(t)?t:Ui(t);return!(!this.isValid()||!n.isValid())&&(e=Z(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function jn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Hn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Yn(t,e,i){var n,o,r;if(!this.isValid())return NaN;if(n=dn(t,this),!n.isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=Z(e),e){case"year":r=Gn(this,n)/12;break;case"month":r=Gn(this,n);break;case"quarter":r=Gn(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:k(r)}function Gn(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return e-r<0?(i=t.clone().add(o-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(o+1,"months"),n=(e-r)/(i-r)),-(o+n)||0}function Wn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Vn(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?ht(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(Date.prototype.toISOString)?this.toDate().toISOString():ht(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Un(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(i+n+o+r)}function qn(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=ht(this,t);return this.localeData().postformat(e)}function Xn(t,e){return this.isValid()&&(E(t)&&t.isValid()||Ui(t).isValid())?Tn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Kn(t){return this.from(Ui(),t)}function Zn(t,e){return this.isValid()&&(E(t)&&t.isValid()||Ui(t).isValid())?Tn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function $n(t){return this.to(Ui(),t)}function Qn(t){var e;return void 0===t?this._locale._abbr:(e=gi(t),null!=e&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function to(){return this._locale}function eo(t){switch(t=Z(t),t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function io(t){return t=Z(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function no(){return this._d.valueOf()-6e4*(this._offset||0)}function oo(){return Math.floor(this.valueOf()/1e3)}function ro(){return new Date(this.valueOf())}function so(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ao(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function lo(){return this.isValid()?this.toISOString():null}function ho(){return m(this)}function uo(){return p({},v(this))}function co(){return v(this).overflow}function po(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function fo(t,e){st(0,[t,t.length],0,e)}function go(t){return bo.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function vo(t){return bo.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function mo(){return ke(this.year(),1,4)}function yo(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function bo(t,e,i,n,o){var r;return null==t?Ee(this,n,o).year:(r=ke(t,n,o),e>r&&(e=r),wo.call(this,t,e,i,n,o))}function wo(t,e,i,n,o){var r=_e(t,e,i,n,o),s=we(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function xo(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}st(0,["gg",2],0,function(){return this.weekYear()%100}),st(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fo("gggg","weekYear"),fo("ggggg","weekYear"),fo("GGGG","isoWeekYear"),fo("GGGGG","isoWeekYear"),K("weekYear","gg"),K("isoWeekYear","GG"),J("weekYear",1),J("isoWeekYear",1),Mt("G",Et),Mt("g",Et),Mt("GG",vt,ct),Mt("gg",vt,ct),Mt("GGGG",wt,ft),Mt("gggg",wt,ft),Mt("GGGGG",xt,gt),Mt("ggggg",xt,gt),Lt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=T(t)}),Lt(["gg","GG"],function(t,e,i,o){e[o]=n.parseTwoDigitYear(t)}),st("Q",0,"Qo","quarter"),K("quarter","Q"),J("quarter",7),Mt("Q",ut),It("Q",function(t,e){e[Ft]=3*(T(t)-1)}),st("D",["DD",2],"Do","date"),K("date","D"),J("date",9),Mt("D",vt),Mt("DD",vt,ct),Mt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),It(["D","DD"],zt),It("Do",function(t,e){e[zt]=T(t.match(vt)[0],10)});var _o=$t("Date",!0);function Eo(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}st("DDD",["DDDD",3],"DDDo","dayOfYear"),K("dayOfYear","DDD"),J("dayOfYear",4),Mt("DDD",bt),Mt("DDDD",pt),It(["DDD","DDDD"],function(t,e,i){i._dayOfYear=T(t)}),st("m",["mm",2],0,"minute"),K("minute","m"),J("minute",14),Mt("m",vt),Mt("mm",vt,ct),It(["m","mm"],Ht);var ko=$t("Minutes",!1);st("s",["ss",2],0,"second"),K("second","s"),J("second",15),Mt("s",vt),Mt("ss",vt,ct),It(["s","ss"],Yt);var To,Do=$t("Seconds",!1);for(st("S",0,0,function(){return~~(this.millisecond()/100)}),st(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),st(0,["SSS",3],0,"millisecond"),st(0,["SSSS",4],0,function(){return 10*this.millisecond()}),st(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),st(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),st(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),st(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),st(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),K("millisecond","ms"),J("millisecond",16),Mt("S",bt,ut),Mt("SS",bt,ct),Mt("SSS",bt,pt),To="SSSS";To.length<=9;To+="S")Mt(To,_t);function Co(t,e){e[Gt]=T(1e3*("0."+t))}for(To="S";To.length<=9;To+="S")It(To,Co);var So=$t("Milliseconds",!1);function Mo(){return this._isUTC?"UTC":""}function Oo(){return this._isUTC?"Coordinated Universal Time":""}st("z",0,0,"zoneAbbr"),st("zz",0,0,"zoneName");var No=_.prototype;function Ao(t){return Ui(1e3*t)}function Po(){return Ui.apply(null,arguments).parseZone()}function Io(t){return t}No.add=Nn,No.calendar=In,No.clone=Ln,No.diff=Yn,No.endOf=io,No.format=qn,No.from=Xn,No.fromNow=Kn,No.to=Zn,No.toNow=$n,No.get=te,No.invalidAt=co,No.isAfter=Rn,No.isBefore=Bn,No.isBetween=Fn,No.isSame=zn,No.isSameOrAfter=jn,No.isSameOrBefore=Hn,No.isValid=ho,No.lang=Jn,No.locale=Qn,No.localeData=to,No.max=Xi,No.min=qi,No.parsingFlags=uo,No.set=ee,No.startOf=eo,No.subtract=An,No.toArray=so,No.toObject=ao,No.toDate=ro,No.toISOString=Vn,No.inspect=Un,No.toJSON=lo,No.toString=Wn,No.unix=oo,No.valueOf=no,No.creationData=po,No.year=Kt,No.isLeapYear=Zt,No.weekYear=go,No.isoWeekYear=vo,No.quarter=No.quarters=xo,No.month=ce,No.daysInMonth=pe,No.week=No.weeks=Me,No.isoWeek=No.isoWeeks=Oe,No.weeksInYear=yo,No.isoWeeksInYear=mo,No.date=_o,No.day=No.days=He,No.weekday=Ye,No.isoWeekday=Ge,No.dayOfYear=Eo,No.hour=No.hours=ri,No.minute=No.minutes=ko,No.second=No.seconds=Do,No.millisecond=No.milliseconds=So,No.utcOffset=cn,No.utc=fn,No.local=gn,No.parseZone=vn,No.hasAlignedHourOffset=mn,No.isDST=yn,No.isLocal=wn,No.isUtcOffset=xn,No.isUtc=_n,No.isUTC=_n,No.zoneAbbr=Mo,No.zoneName=Oo,No.dates=S("dates accessor is deprecated. Use date instead.",_o),No.months=S("months accessor is deprecated. Use month instead",ce),No.years=S("years accessor is deprecated. Use year instead",Kt),No.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pn),No.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bn);var Lo=L.prototype;function Ro(t,e,i,n){var o=gi(),r=f().set(n,e);return o[i](r,t)}function Bo(t,e,i){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return Ro(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Ro(t,n,i,"month");return o}function Fo(t,e,i,n){"boolean"===typeof t?(h(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,h(e)&&(i=e,e=void 0),e=e||"");var o,r=gi(),s=t?r._week.dow:0;if(null!=i)return Ro(e,(i+s)%7,n,"day");var a=[];for(o=0;o<7;o++)a[o]=Ro(e,(o+s)%7,n,"day");return a}function zo(t,e){return Bo(t,e,"months")}function jo(t,e){return Bo(t,e,"monthsShort")}function Ho(t,e,i){return Fo(t,e,i,"weekdays")}function Yo(t,e,i){return Fo(t,e,i,"weekdaysShort")}function Go(t,e,i){return Fo(t,e,i,"weekdaysMin")}Lo.calendar=B,Lo.longDateFormat=z,Lo.invalidDate=H,Lo.ordinal=W,Lo.preparse=Io,Lo.postformat=Io,Lo.relativeTime=U,Lo.pastFuture=q,Lo.set=P,Lo.months=se,Lo.monthsShort=le,Lo.monthsParse=de,Lo.monthsRegex=me,Lo.monthsShortRegex=ge,Lo.week=Te,Lo.firstDayOfYear=Se,Lo.firstDayOfWeek=Ce,Lo.weekdays=Ie,Lo.weekdaysMin=Fe,Lo.weekdaysShort=Re,Lo.weekdaysParse=je,Lo.weekdaysRegex=Ve,Lo.weekdaysShortRegex=qe,Lo.weekdaysMinRegex=Ke,Lo.isPM=ei,Lo.meridiem=ni,ci("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===T(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",ci),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",gi);var Wo=Math.abs;function Vo(){var t=this._data;return this._milliseconds=Wo(this._milliseconds),this._days=Wo(this._days),this._months=Wo(this._months),t.milliseconds=Wo(t.milliseconds),t.seconds=Wo(t.seconds),t.minutes=Wo(t.minutes),t.hours=Wo(t.hours),t.months=Wo(t.months),t.years=Wo(t.years),this}function Uo(t,e,i,n){var o=Tn(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function qo(t,e){return Uo(this,t,e,1)}function Xo(t,e){return Uo(this,t,e,-1)}function Ko(t){return t<0?Math.floor(t):Math.ceil(t)}function Zo(){var t,e,i,n,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Ko(Qo(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=k(r/1e3),l.seconds=t%60,e=k(t/60),l.minutes=e%60,i=k(e/60),l.hours=i%24,s+=k(i/24),o=k($o(s)),a+=o,s-=Ko(Qo(o)),n=k(a/12),a%=12,l.days=s,l.months=a,l.years=n,this}function $o(t){return 4800*t/146097}function Qo(t){return 146097*t/4800}function Jo(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if(t=Z(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+$o(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Qo(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function tr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN}function er(t){return function(){return this.as(t)}}var ir=er("ms"),nr=er("s"),or=er("m"),rr=er("h"),sr=er("d"),ar=er("w"),lr=er("M"),hr=er("y");function dr(){return Tn(this)}function ur(t){return t=Z(t),this.isValid()?this[t+"s"]():NaN}function cr(t){return function(){return this.isValid()?this._data[t]:NaN}}var pr=cr("milliseconds"),fr=cr("seconds"),gr=cr("minutes"),vr=cr("hours"),mr=cr("days"),yr=cr("months"),br=cr("years");function wr(){return k(this.days()/7)}var xr=Math.round,_r={ss:44,s:45,m:45,h:22,d:26,M:11};function Er(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function kr(t,e,i){var n=Tn(t).abs(),o=xr(n.as("s")),r=xr(n.as("m")),s=xr(n.as("h")),a=xr(n.as("d")),l=xr(n.as("M")),h=xr(n.as("y")),d=o<=_r.ss&&["s",o]||o<_r.s&&["ss",o]||r<=1&&["m"]||r<_r.m&&["mm",r]||s<=1&&["h"]||s<_r.h&&["hh",s]||a<=1&&["d"]||a<_r.d&&["dd",a]||l<=1&&["M"]||l<_r.M&&["MM",l]||h<=1&&["y"]||["yy",h];return d[2]=e,d[3]=+t>0,d[4]=i,Er.apply(null,d)}function Tr(t){return void 0===t?xr:"function"===typeof t&&(xr=t,!0)}function Dr(t,e){return void 0!==_r[t]&&(void 0===e?_r[t]:(_r[t]=e,"s"===t&&(_r.ss=e-1),!0))}function Cr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=kr(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}var Sr=Math.abs;function Mr(t){return(t>0)-(t<0)||+t}function Or(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n=Sr(this._milliseconds)/1e3,o=Sr(this._days),r=Sr(this._months);t=k(n/60),e=k(t/60),n%=60,t%=60,i=k(r/12),r%=12;var s=i,a=r,l=o,h=e,d=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var p=c<0?"-":"",f=Mr(this._months)!==Mr(c)?"-":"",g=Mr(this._days)!==Mr(c)?"-":"",v=Mr(this._milliseconds)!==Mr(c)?"-":"";return p+"P"+(s?f+s+"Y":"")+(a?f+a+"M":"")+(l?g+l+"D":"")+(h||d||u?"T":"")+(h?v+h+"H":"")+(d?v+d+"M":"")+(u?v+u+"S":"")}var Nr=on.prototype;return Nr.isValid=en,Nr.abs=Vo,Nr.add=qo,Nr.subtract=Xo,Nr.as=Jo,Nr.asMilliseconds=ir,Nr.asSeconds=nr,Nr.asMinutes=or,Nr.asHours=rr,Nr.asDays=sr,Nr.asWeeks=ar,Nr.asMonths=lr,Nr.asYears=hr,Nr.valueOf=tr,Nr._bubble=Zo,Nr.clone=dr,Nr.get=ur,Nr.milliseconds=pr,Nr.seconds=fr,Nr.minutes=gr,Nr.hours=vr,Nr.days=mr,Nr.weeks=wr,Nr.months=yr,Nr.years=br,Nr.humanize=Cr,Nr.toISOString=Or,Nr.toString=Or,Nr.toJSON=Or,Nr.locale=Qn,Nr.localeData=to,Nr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Or),Nr.lang=Jn,st("X",0,0,"unix"),st("x",0,0,"valueOf"),Mt("x",Et),Mt("X",Dt),It("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),It("x",function(t,e,i){i._d=new Date(T(t))}),n.version="2.19.1",o(Ui),n.fn=No,n.min=Zi,n.max=$i,n.now=Qi,n.utc=f,n.unix=Ao,n.months=zo,n.isDate=d,n.locale=ci,n.invalid=y,n.duration=Tn,n.isMoment=E,n.weekdays=Ho,n.parseZone=Po,n.localeData=gi,n.isDuration=rn,n.monthsShort=jo,n.weekdaysMin=Go,n.defineLocale=pi,n.updateLocale=fi,n.locales=vi,n.weekdaysShort=Yo,n.normalizeUnits=Z,n.relativeTimeRounding=Tr,n.relativeTimeThreshold=Dr,n.calendarFormat=Pn,n.prototype=No,n})}).call(e,i(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=156},function(t,e,i){(function(e){var i,n="undefined"!==typeof window?window:"undefined"!==typeof e?e:null;if(n&&n.crypto&&crypto.getRandomValues){var o=new Uint8Array(16);i=function(){return crypto.getRandomValues(o),o}}if(!i){var r=new Array(16);i=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}for(var s=[],a={},l=0;l<256;l++)s[l]=(l+256).toString(16).substr(1),a[s[l]]=l;function h(t,e,i){var n=e&&i||0,o=0;e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=a[t])});while(o<16)e[n+o++]=0;return e}function d(t,e){var i=e||0,n=s;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}var u=i(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],p=16383&(u[6]<<8|u[7]),f=0,g=0;function v(t,e,i){var n=e&&i||0,o=e||[];t=t||{};var r=void 0!==t.clockseq?t.clockseq:p,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),a=void 0!==t.nsecs?t.nsecs:g+1,l=s-f+(a-g)/1e4;if(l<0&&void 0===t.clockseq&&(r=r+1&16383),(l<0||s>f)&&void 0===t.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=s,g=a,p=r,s+=122192928e5;var h=(1e4*(268435455&s)+a)%4294967296;o[n++]=h>>>24&255,o[n++]=h>>>16&255,o[n++]=h>>>8&255,o[n++]=255&h;var u=s/4294967296*1e4&268435455;o[n++]=u>>>8&255,o[n++]=255&u,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=r>>>8|128,o[n++]=255&r;for(var v=t.node||c,m=0;m<6;m++)o[n+m]=v[m];return e||d(o)}function m(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var r=t.random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[o+s]=r[s];return e||d(r)}var y=m;y.v1=v,y.v4=m,y.parse=h,y.unparse=d,t.exports=y}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(n){"object"===typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Graph3d=i(161),e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var n=i(7),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,i){var n=i(90),o=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s=i(44),a=i(2),l=i(34),h=i(91),d=i(92),u=i(93),c=i(94),p=i(15)["default"],f=i(15),g=f.printStyle,v=i(172),m=v.allOptions,y=i(173);w.STYLE=c.STYLE;var b=void 0;function w(t,e,i){if(!(this instanceof w))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new y,this.dataPoints=null,this.create(),c.setDefaults(w.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(e)}function x(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function _(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}w.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:b,animationInterval:1e3,animationPreload:!1,animationAutoStart:b,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:w.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:b,backgroundColor:b,xBarWidth:b,yBarWidth:b,valueMin:b,valueMax:b,xMin:b,xMax:b,xStep:b,yMin:b,yMax:b,yStep:b,zMin:b,zMax:b,zStep:b},s(w.prototype),w.prototype._setScale=function(){this.scale=new l(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},w.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},w.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,a=e.y,h=e.z,d=Math.sin(i.x),u=Math.cos(i.x),c=Math.sin(i.y),p=Math.cos(i.y),f=Math.sin(i.z),g=Math.cos(i.z),v=p*(f*(o-a)+g*(n-s))-c*(r-h),m=d*(p*(r-h)+c*(f*(o-a)+g*(n-s)))+u*(g*(o-a)-f*(n-s)),y=u*(p*(r-h)+c*(f*(o-a)+g*(n-s)))-d*(g*(o-a)-f*(n-s));return new l(v,m,y)},w.prototype._convertTranslationToScreen=function(t){var e,i,n=this.eye.x,o=this.eye.y,r=this.eye.z,s=t.x,a=t.y,l=t.z;return this.showPerspective?(e=r/l*(s-n),i=r/l*(a-o)):(e=s*(-r/this.camera.getArmLength()),i=a*(-r/this.camera.getArmLength())),new h(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},w.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}var o=function(t,e){return e.dist-t.dist};t.sort(o)},w.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},w.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new l;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new l(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},w.prototype._getDataPoints=function(t){var e,i,n,o,r=[];if(this.style===w.STYLE.GRID||this.style===w.STYLE.SURFACE){var s=this.dataGroup.getDistinctValues(this.colX,t),a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var l=[];for(n=0;n<r.length;n++){o=r[n];var h=s.indexOf(o.point.x),d=a.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][d]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0)}else if(this._checkValueField(t),r=this.getDataPoints(t),this.style===w.STYLE.LINE)for(n=0;n<r.length;n++)n>0&&(r[n-1].pointNext=r[n]);return r},w.prototype.create=function(){while(this.containerElement.hasChildNodes())this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},n=function(t){e._onTouchStart(t)},o=function(t){e._onWheel(t)},r=function(t){e._onTooltip(t)},s=function(t){e._onClick(t)};a.addEventListener(this.frame.canvas,"mousedown",i),a.addEventListener(this.frame.canvas,"touchstart",n),a.addEventListener(this.frame.canvas,"mousewheel",o),a.addEventListener(this.frame.canvas,"mousemove",r),a.addEventListener(this.frame.canvas,"click",s),this.containerElement.appendChild(this.frame)},w.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},w.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},w.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},w.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},w.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},w.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},w.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},w.prototype.setData=function(t){void 0!==t&&null!==t&&(this._readData(t),this.redraw(),this.animationStart())},w.prototype.setOptions=function(t){if(void 0!==t){var e=p.validate(t,m);!0===e&&console.log("%cErrors have been found in the supplied options object.",g),this.animationStop(),c.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart()}},w.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case w.STYLE.BAR:t=w.prototype._redrawBarGraphPoint;break;case w.STYLE.BARCOLOR:t=w.prototype._redrawBarColorGraphPoint;break;case w.STYLE.BARSIZE:t=w.prototype._redrawBarSizeGraphPoint;break;case w.STYLE.DOT:t=w.prototype._redrawDotGraphPoint;break;case w.STYLE.DOTLINE:t=w.prototype._redrawDotLineGraphPoint;break;case w.STYLE.DOTCOLOR:t=w.prototype._redrawDotColorGraphPoint;break;case w.STYLE.DOTSIZE:t=w.prototype._redrawDotSizeGraphPoint;break;case w.STYLE.SURFACE:t=w.prototype._redrawSurfaceGraphPoint;break;case w.STYLE.GRID:t=w.prototype._redrawGridGraphPoint;break;case w.STYLE.LINE:t=w.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},w.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},w.prototype._getContext=function(){var t=this.frame.canvas,e=t.getContext("2d");return e.lineJoin="round",e.lineCap="round",e},w.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)},w.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},w.prototype._getLegendWidth=function(){var t;if(this.style===w.STYLE.DOTSIZE){var e=this._dotSize();t=e*this.dotSizeMaxFraction}else t=this.style===w.STYLE.BARSIZE?this.xBarWidth:20;return t},w.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==w.STYLE.LINE&&this.style!==w.STYLE.BARSIZE){var t=this.style===w.STYLE.BARSIZE||this.style===w.STYLE.DOTSIZE,e=this.style===w.STYLE.DOTSIZE||this.style===w.STYLE.DOTCOLOR||this.style===w.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),n=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,s=r-o,a=n+i,l=this._getContext();if(l.lineWidth=1,l.font="14px arial",!1===t){var d,c=0,p=i;for(d=c;d<p;d++){var f=(d-c)/(p-c),g=240*f,v=this._hsv2rgb(g,1,1);l.strokeStyle=v,l.beginPath(),l.moveTo(s,n+d),l.lineTo(r,n+d),l.stroke()}l.strokeStyle=this.axisColor,l.strokeRect(s,n,o,i)}else{var m;this.style===w.STYLE.DOTSIZE?m=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,w.STYLE.BARSIZE),l.strokeStyle=this.axisColor,l.fillStyle=this.dataColor.fill,l.beginPath(),l.moveTo(s,n),l.lineTo(r,n),l.lineTo(s+m,a),l.lineTo(s,a),l.closePath(),l.fill(),l.stroke()}var y,b,x=5,_=e?this.valueRange.min:this.zRange.min,E=e?this.valueRange.max:this.zRange.max,k=new u(_,E,(E-_)/5,!0);k.start(!0);while(!k.end())d=a-(k.getCurrent()-_)/(E-_)*i,y=new h(s-x,d),b=new h(s,d),this._line(l,y,b),l.textAlign="right",l.textBaseline="middle",l.fillStyle=this.axisColor,l.fillText(k.getCurrent(),s-2*x,d),k.next();l.textAlign="right",l.textBaseline="top";var T=this.legendLabel;l.fillText(T,r,a+this.margin)}},w.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var i={visible:this.showAnimationControls},n=new d(e,i);e.slider=n,e.style.padding="10px",n.setValues(t.values),n.setPlayInterval(this.animationInterval);var o=this,r=function(){var t=o.dataGroup.dataFilter,e=n.getIndex();t.selectValue(e),o.dataPoints=t._getDataPoints(),o.redraw()};n.setOnChangeCallback(r)}else e.slider=void 0},w.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},w.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,n=this.margin;e.fillText(t,i,n)}},w.prototype._line=function(t,e,i,n){void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},w.prototype.drawAxisLabelX=function(t,e,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*n)>0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*n)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},w.prototype.drawAxisLabelY=function(t,e,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*n)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*n)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},w.prototype.drawAxisLabelZ=function(t,e,i,n){void 0===n&&(n=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,o.x-n,o.y)},w.prototype._line3d=function(t,e,i,n){var o=this._convert3Dto2D(e),r=this._convert3Dto2D(i);this._line(t,o,r,n)},w.prototype._redrawAxis=function(){var t,e,i,n,o,r,s,a,d,c,p,f=this._getContext();f.font=24/this.camera.getArmLength()+"px arial";var g,v,m,y=.025/this.scale.x,b=.025/this.scale.y,w=5/this.camera.getArmLength(),x=this.camera.getArmRotation().horizontal,_=new h(Math.cos(x),Math.sin(x)),E=this.xRange,k=this.yRange,T=this.zRange;f.lineWidth=1,n=void 0===this.defaultXStep,i=new u(E.min,E.max,this.xStep,n),i.start(!0);while(!i.end()){var D=i.getCurrent();if(this.showGrid?(t=new l(D,k.min,T.min),e=new l(D,k.max,T.min),this._line3d(f,t,e,this.gridColor)):this.showXAxis&&(t=new l(D,k.min,T.min),e=new l(D,k.min+y,T.min),this._line3d(f,t,e,this.axisColor),t=new l(D,k.max,T.min),e=new l(D,k.max-y,T.min),this._line3d(f,t,e,this.axisColor)),this.showXAxis){s=_.x>0?k.min:k.max,g=new l(D,s,T.min);var C="  "+this.xValueLabel(D)+"  ";this.drawAxisLabelX(f,g,C,x,w)}i.next()}f.lineWidth=1,n=void 0===this.defaultYStep,i=new u(k.min,k.max,this.yStep,n),i.start(!0);while(!i.end()){var S=i.getCurrent();if(this.showGrid?(t=new l(E.min,S,T.min),e=new l(E.max,S,T.min),this._line3d(f,t,e,this.gridColor)):this.showYAxis&&(t=new l(E.min,S,T.min),e=new l(E.min+b,S,T.min),this._line3d(f,t,e,this.axisColor),t=new l(E.max,S,T.min),e=new l(E.max-b,S,T.min),this._line3d(f,t,e,this.axisColor)),this.showYAxis){r=_.y>0?E.min:E.max,g=new l(r,S,T.min);var M="  "+this.yValueLabel(S)+"  ";this.drawAxisLabelY(f,g,M,x,w)}i.next()}if(this.showZAxis){f.lineWidth=1,n=void 0===this.defaultZStep,i=new u(T.min,T.max,this.zStep,n),i.start(!0),r=_.x>0?E.min:E.max,s=_.y<0?k.min:k.max;while(!i.end()){var O=i.getCurrent(),N=new l(r,s,O),A=this._convert3Dto2D(N);e=new h(A.x-w,A.y),this._line(f,A,e,this.axisColor);var P=this.zValueLabel(O)+" ";this.drawAxisLabelZ(f,N,P,5),i.next()}f.lineWidth=1,t=new l(r,s,T.min),e=new l(r,s,T.max),this._line3d(f,t,e,this.axisColor)}this.showXAxis&&(f.lineWidth=1,v=new l(E.min,k.min,T.min),m=new l(E.max,k.min,T.min),this._line3d(f,v,m,this.axisColor),v=new l(E.min,k.max,T.min),m=new l(E.max,k.max,T.min),this._line3d(f,v,m,this.axisColor));this.showYAxis&&(f.lineWidth=1,t=new l(E.min,k.min,T.min),e=new l(E.min,k.max,T.min),this._line3d(f,t,e,this.axisColor),t=new l(E.max,k.min,T.min),e=new l(E.max,k.max,T.min),this._line3d(f,t,e,this.axisColor));var I=this.xLabel;I.length>0&&this.showXAxis&&(p=.1/this.scale.y,r=(E.max+3*E.min)/4,s=_.x>0?k.min-p:k.max+p,o=new l(r,s,T.min),this.drawAxisLabelX(f,o,I,x));var L=this.yLabel;L.length>0&&this.showYAxis&&(c=.1/this.scale.x,r=_.y>0?E.min-c:E.max+c,s=(k.max+3*k.min)/4,o=new l(r,s,T.min),this.drawAxisLabelY(f,o,L,x));var R=this.zLabel;R.length>0&&this.showZAxis&&(d=30,r=_.x>0?E.min:E.max,s=_.y<0?k.min:k.max,a=(T.max+3*T.min)/4,o=new l(r,s,a),this.drawAxisLabelZ(f,o,R,d))},w.prototype._hsv2rgb=function(t,e,i){var n,o,r,s,a,l;switch(s=i*e,a=Math.floor(t/60),l=s*(1-Math.abs(t/60%2-1)),a){case 0:n=s,o=l,r=0;break;case 1:n=l,o=s,r=0;break;case 2:n=0,o=s,r=l;break;case 3:n=0,o=l,r=s;break;case 4:n=l,o=0,r=s;break;case 5:n=s,o=0,r=l;break;default:n=0,o=0,r=0;break}return"RGB("+parseInt(255*n)+","+parseInt(255*o)+","+parseInt(255*r)+")"},w.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},w.prototype._redrawBar=function(t,e,i,n,o,r){var s,a=this,h=e.point,d=this.zRange.min,u=[{point:new l(h.x-i,h.y-n,h.z)},{point:new l(h.x+i,h.y-n,h.z)},{point:new l(h.x+i,h.y+n,h.z)},{point:new l(h.x-i,h.y+n,h.z)}],c=[{point:new l(h.x-i,h.y-n,d)},{point:new l(h.x+i,h.y-n,d)},{point:new l(h.x+i,h.y+n,d)},{point:new l(h.x-i,h.y+n,d)}];u.forEach(function(t){t.screen=a._convert3Dto2D(t.point)}),c.forEach(function(t){t.screen=a._convert3Dto2D(t.point)});var p=[{corners:u,center:l.avg(c[0].point,c[2].point)},{corners:[u[0],u[1],c[1],c[0]],center:l.avg(c[1].point,c[0].point)},{corners:[u[1],u[2],c[2],c[1]],center:l.avg(c[2].point,c[1].point)},{corners:[u[2],u[3],c[3],c[2]],center:l.avg(c[3].point,c[2].point)},{corners:[u[3],u[0],c[0],c[3]],center:l.avg(c[0].point,c[3].point)}];e.surfaces=p;for(var f=0;f<p.length;f++){s=p[f];var g=this._convertPointToTranslation(s.center);s.dist=this.showPerspective?g.length():-g.z}p.sort(function(t,e){var i=e.dist-t.dist;return i||(t.corners===u?1:e.corners===u?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o;for(var v=2;v<p.length;v++)s=p[v],this._polygon(t,s.corners)},w.prototype._polygon=function(t,e,i,n){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var r=e[o];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),t.fill(),t.stroke()}},w.prototype._drawCircle=function(t,e,i,n,o){var r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=n,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),t.fill(),t.stroke()},w.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio),i=this._hsv2rgb(e,1,1),n=this._hsv2rgb(e,1,.8);return{fill:i,border:n}},w.prototype._getColorsColor=function(t){var e,i;if("string"===typeof t.point.value)e=t.point.value,i=t.point.value;else{var n=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(n,1,1),i=this._hsv2rgb(n,1,.8)}return{fill:e,border:i}},w.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},w.prototype._calcRadius=function(t,e){var i;return void 0===e&&(e=this._dotSize()),i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()),i<0&&(i=0),i},w.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,i,n,o.fill,o.border)},w.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,i,n,o.fill,o.border)},w.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),n=this.xBarWidth/2*(.8*i+.2),o=this.yBarWidth/2*(.8*i+.2),r=this._getColorsSize();this._redrawBar(t,e,n,o,r.fill,r.border)},w.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},w.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},w.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},w.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),n=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=i*this.dotSizeMinFraction,r=i*this.dotSizeMaxFraction-o,s=o+r*n,a=this._getColorsSize();this._drawCircle(t,e,a.fill,a.border,s)},w.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,n=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==o){var r,s,a=!0;if(this.showGrayBottom||this.showShadow){var h=l.subtract(o.trans,e.trans),d=l.subtract(n.trans,i.trans),u=l.crossProduct(h,d),c=u.length();a=u.z>0}if(a){var p,f=(e.point.z+i.point.z+n.point.z+o.point.z)/4,g=240*(1-(f-this.zRange.min)*this.scale.z/this.verticalRatio),v=1;this.showShadow?(p=Math.min(1+u.x/c/2,1),r=this._hsv2rgb(g,v,p),s=r):(p=1,r=this._hsv2rgb(g,v,p),s=this.axisColor)}else r="gray",s=this.axisColor;t.lineWidth=this._getStrokeWidth(e);var m=[e,i,o,n];this._polygon(t,m,r,s)}},w.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var n=(e.point.z+i.point.z)/2,o=240*(1-(n-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(o,1,1),this._line(t,e.screen,i.screen)}},w.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},w.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},w.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++){var i=this.dataPoints[t];this._pointDrawingMethod.call(this,e,i)}},w.prototype._storeMousePosition=function(t){this.startMouseX=x(t),this.startMouseY=_(t),this._startCameraOffset=this.camera.getOffset()},w.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},a.addEventListener(document,"mousemove",e.onmousemove),a.addEventListener(document,"mouseup",e.onmouseup),a.preventDefault(t)}},w.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(x(t))-this.startMouseX,i=parseFloat(_(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var n=.5*this.frame.clientWidth,o=.5*this.frame.clientHeight,r=(this._startCameraOffset.x||0)-e/n*this.camera.armLength*.8,s=(this._startCameraOffset.y||0)+i/o*this.camera.armLength*.8;this.camera.setOffset(r,s),this._storeMousePosition(t)}else{var l=this.startArmRotation.horizontal+e/200,h=this.startArmRotation.vertical+i/200,d=4,u=Math.sin(d/360*2*Math.PI);Math.abs(Math.sin(l))<u&&(l=Math.round(l/Math.PI)*Math.PI-.001),Math.abs(Math.cos(l))<u&&(l=(Math.round(l/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(h))<u&&(h=Math.round(h/Math.PI)*Math.PI),Math.abs(Math.cos(h))<u&&(h=(Math.round(h/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(l,h)}this.redraw();var c=this.getCameraPosition();this.emit("cameraPositionChange",c),a.preventDefault(t)},w.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,a.removeEventListener(document,"mousemove",this.onmousemove),a.removeEventListener(document,"mouseup",this.onmouseup),a.preventDefault(t)},w.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=x(t)-e.left,n=_(t)-e.top,o=this._dataPointFromXY(i,n);o&&this.onclick_callback(o.point.data)}a.preventDefault(t)}},w.prototype._onTooltip=function(t){var e=300,i=this.frame.getBoundingClientRect(),n=x(t)-i.left,o=_(t)-i.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var r=this._dataPointFromXY(n,o);r!==this.tooltip.dataPoint&&(r?this._showTooltip(r):this._hideTooltip())}else{var s=this;this.tooltipTimeout=setTimeout(function(){s.tooltipTimeout=null;var t=s._dataPointFromXY(n,o);t&&s._showTooltip(t)},e)}},w.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},a.addEventListener(document,"touchmove",e.ontouchmove),a.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},w.prototype._onTouchMove=function(t){this._onMouseMove(t)},w.prototype._onTouchEnd=function(t){this.touchDown=!1,a.removeEventListener(document,"touchmove",this.ontouchmove),a.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},w.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),n=i*(1-e/10);this.camera.setArmLength(n),this.redraw(),this._hideTooltip()}var o=this.getCameraPosition();this.emit("cameraPositionChange",o),a.preventDefault(t)},w.prototype._insideTriangle=function(t,e){var i=e[0],n=e[1],o=e[2];function r(t){return t>0?1:t<0?-1:0}var s=r((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x)),a=r((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x)),l=r((i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x));return(0==s||0==a||s==a)&&(0==a||0==l||a==l)&&(0==s||0==l||s==l)},w.prototype._dataPointFromXY=function(t,e){var i,n=100,o=null,r=null,s=null,a=new h(t,e);if(this.style===w.STYLE.BAR||this.style===w.STYLE.BARCOLOR||this.style===w.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){o=this.dataPoints[i];var l=o.surfaces;if(l)for(var d=l.length-1;d>=0;d--){var u=l[d],c=u.corners,p=[c[0].screen,c[1].screen,c[2].screen],f=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,p)||this._insideTriangle(a,f))return o}}else for(i=0;i<this.dataPoints.length;i++){o=this.dataPoints[i];var g=o.screen;if(g){var v=Math.abs(t-g.x),m=Math.abs(e-g.y),y=Math.sqrt(v*v+m*m);(null===s||y<s)&&y<n&&(s=y,r=o)}}return r},w.prototype.hasBars=function(t){return t==w.STYLE.BAR||t==w.STYLE.BARCOLOR||t==w.STYLE.BARSIZE},w.prototype._showTooltip=function(t){var e,i,n;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(e=document.createElement("div"),(0,o["default"])(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,o["default"])(i.style,{},this.tooltipStyle.line),i.style.position="absolute",n=document.createElement("div"),(0,o["default"])(n.style,{},this.tooltipStyle.dot),n.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"===typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(n);var r=e.offsetWidth,s=e.offsetHeight,a=i.offsetHeight,l=n.offsetWidth,h=n.offsetHeight,d=t.screen.x-r/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-r),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-a+"px",e.style.left=d+"px",e.style.top=t.screen.y-a-s+"px",n.style.left=t.screen.x-l/2+"px",n.style.top=t.screen.y-h/2+"px"},w.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},w.prototype.setCameraPosition=function(t){c.setCameraPosition(t,this),this.redraw()},w.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=w},function(t,e,i){i(163),t.exports=i(7).Object.assign},function(t,e,i){var n=i(17);n(n.S+n.F,"Object",{assign:i(164)})},function(t,e,i){var n=i(33),o=i(63),r=i(42),s=i(41),a=i(78),l=Object.assign;t.exports=!l||i(28)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){var i=s(t),l=arguments.length,h=1,d=o.f,u=r.f;while(l>h){var c,p=a(arguments[h++]),f=d?n(p).concat(d(p)):n(p),g=f.length,v=0;while(g>v)u.call(p,c=f[v++])&&(i[c]=p[c])}return i}:l},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167),t.exports=i(7).Math.sign},function(t,e,i){var n=i(17);n(n.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var n=i(7).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(17);n(n.S+n.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object",a={fill:{string:n},stroke:{string:n},strokeWidth:{number:r},__type__:{string:n,object:s,undefined:"undefined"}},l={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:o},axisColor:{string:n},backgroundColor:a,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:s}},xCenter:{string:n},yCenter:{string:n},dataColor:a,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:n},gridColor:{string:n},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:n},yLabel:{string:n},zLabel:{string:n},legendLabel:{string:n},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:n},background:{string:n},border:{string:n},borderRadius:{string:n},boxShadow:{string:n},padding:{string:n},__type__:{object:s}},line:{borderLeft:{string:n},height:{string:n},width:{string:n},__type__:{object:s}},dot:{border:{string:n},borderRadius:{string:n},height:{string:n},width:{string:n},__type__:{object:s}},__type__:{object:s}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:n},width:{string:n},__type__:{object:s}};e.allOptions=l},function(t,e,i){var n=i(11),o=i(12),r=i(174),s=i(96),a=i(94),l=i(34);function h(){this.dataTable=null}h.prototype.initializeData=function(t,e,i){if(void 0!==e){var r;if(Array.isArray(e)&&(e=new n(e)),!(e instanceof n||e instanceof o))throw new Error("Array, DataSet, or DataView expected");if(r=e.get(),0!=r.length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=r;var a=this;this._onChange=function(){t.setData(a.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var l=t.hasBars(i);if(l&&(void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(r,this.colX)||1,void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(r,this.colY)||1),this._initializeRange(r,this.colX,t,l),this._initializeRange(r,this.colY,t,l),this._initializeRange(r,this.colZ,t,!1),r[0].hasOwnProperty("style")){this.colValue="style";var h=this.getColumnRange(r,this.colValue);this._setRangeDefaults(h,t.defaultValueMin,t.defaultValueMax),this.valueRange=h}var d,u=this.getDataTable();return u[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new s(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),d=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable()),d}}},h.prototype._collectRangeSettings=function(t,e){var i=["x","y","z"].indexOf(t);if(-1==i)throw new Error("Column '"+t+"' invalid");var n=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+n+"Min"],max:e["default"+n+"Max"],step:e["default"+n+"Step"],range_label:t+"Range",step_label:t+"Step"}},h.prototype._initializeRange=function(t,e,i,n){var o=5,r=this._collectRangeSettings(e,i),s=this.getColumnRange(t,e);n&&"z"!=e&&s.expand(r.barWidth/2),this._setRangeDefaults(s,r.min,r.max),this[r.range_label]=s,this[r.step_label]=void 0!==r.step?r.step:s.range()/o},h.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],n=0;n<e.length;n++){var o=e[n][t]||0;-1===i.indexOf(o)&&i.push(o)}return i.sort(function(t,e){return t-e})},h.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),n=null,o=1;o<i.length;o++){var r=i[o]-i[o-1];(null==n||n>r)&&(n=r)}return n},h.prototype.getColumnRange=function(t,e){for(var i=new r,n=0;n<t.length;n++){var o=t[n][e];i.adjust(o)}return i},h.prototype.getNumberOfRows=function(){return this.dataTable.length},h.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},h.prototype.getDataTable=function(){return this.dataTable},h.prototype.getDataSet=function(){return this.dataSet},h.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new l;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new l(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},h.prototype.initDataAsMatrix=function(t){var e,i,n,o,r=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),l=[];for(n=0;n<a.length;n++){o=a[n];var h=r.indexOf(o.point.x),d=s.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][d]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0);return a},h.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},h.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},h.prototype._getDataPoints=function(t){var e=[];if(this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===a.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i]);return e},h.prototype._checkValueField=function(t){var e=this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE||this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE;if(e){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=h},function(t,e,i){function n(){this.min=void 0,this.max=void 0}n.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},n.prototype.combine=function(t){this.add(t.min),this.add(t.max)},n.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},n.prototype.range=function(){return this.max-this.min},n.prototype.center=function(){return(this.min+this.max)/2},t.exports=n},function(t,e,i){var n,o,r;(function(i){o=[],n=i,r="function"===typeof n?n.apply(e,o):n,void 0===r||(t.exports=r)})(function(){var t=null;return function e(i,n){var o=n||{preventDefault:!1};if(i.Manager){var r=i,s=function(t,i){var n=Object.create(o);return i&&r.assign(n,i),e(new r(t,n),n)};return r.assign(s,r),s.Manager=function(t,i){var n=Object.create(o);return i&&r.assign(n,i),e(new r.Manager(t,n),n)},s}var a=Object.create(i),l=i.element;function h(t){return t.match(/[^ ]+/g)}function d(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var n=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof n&&(e.srcEvent.stopPropagation=function(){n(),e.stopPropagation()}),e.firstTarget=t;var o=t;while(o&&!i){var r=o.hammer;if(r)for(var s,a=0;a<r.length;a++)if(s=r[a]._handlers[e.type],s)for(var l=0;l<s.length&&!i;l++)s[l](e);o=o.parentNode}}return l.hammer||(l.hammer=[]),l.hammer.push(a),i.on("hammer.input",function(e){!0!==o.preventDefault&&o.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),a._handlers={},a.on=function(t,e){return h(t).forEach(function(t){var n=a._handlers[t];n||(a._handlers[t]=n=[],i.on(t,d)),n.push(e)}),a},a.off=function(t,e){return h(t).forEach(function(t){var n=a._handlers[t];n&&(n=e?n.filter(function(t){return t!==e}):[],n.length>0?a._handlers[t]=n:(i.off(t,d),delete a._handlers[t]))}),a},a.emit=function(e,n){t=n.target,i.emit(e,n)},a.destroy=function(){var t=i.element.hammer,e=t.indexOf(a);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,a._handlers={},i.destroy()},a}})},function(t,e,i){var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
(function(o,r,s,a){var l,h=["","webkit","Moz","MS","ms","o"],d=r.createElement("div"),u="function",c=Math.round,p=Math.abs,f=Date.now;function g(t,e,i){return setTimeout(_(t,i),e)}function v(t,e,i){return!!Array.isArray(t)&&(m(t,i[e],i),!0)}function m(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a){n=0;while(n<t.length)e.call(i,t[n],n,t),n++}else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function y(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,n,i),t.apply(this,arguments)}}l="function"!==typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var b=y(function(t,e,i){var n=Object.keys(e),o=0;while(o<n.length)(!i||i&&t[n[o]]===a)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),w=y(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function x(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&l(n,i)}function _(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==u?t.apply(e&&e[0]||a,e):t}function k(t,e){return t===a?e:t}function T(t,e,i){m(M(e),function(e){t.addEventListener(e,i,!1)})}function D(t,e,i){m(M(e),function(e){t.removeEventListener(e,i,!1)})}function C(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function O(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);var n=0;while(n<t.length){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function A(t,e,i){var n=[],o=[],r=0;while(r<t.length){var s=e?t[r][e]:t[r];O(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function P(t,e){var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;while(r<h.length){if(i=h[r],n=i?i+o:e,n in t)return n;r++}return a}var I=1;function L(){return I++}function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var B=/mobile|tablet|ip(ad|hone|od)|android/i,F="ontouchstart"in o,z=P(o,"PointerEvent")!==a,j=F&&B.test(navigator.userAgent),H="touch",Y="pen",G="mouse",W="kinect",V=25,U=1,q=2,X=4,K=8,Z=1,$=2,Q=4,J=8,tt=16,et=$|Q,it=J|tt,nt=et|it,ot=["x","y"],rt=["clientX","clientY"];function st(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&i.handler(e)},this.init()}function at(t){var e,i=t.options.inputClass;return e=i||(z?St:j?Rt:F?jt:Et),new e(t,lt)}function lt(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&U&&n-o===0,s=e&(X|K)&&n-o===0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,ht(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ht(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=ct(e)),o>1&&!i.firstMultiple?i.firstMultiple=ct(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,l=e.center=pt(n);e.timeStamp=f(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=mt(a,l),e.distance=vt(a,l),dt(i,e),e.offsetDirection=gt(e.deltaX,e.deltaY);var h=ft(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=p(h.x)>p(h.y)?h.x:h.y,e.scale=s?bt(s.pointers,n):1,e.rotation=s?yt(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,ut(i,e);var d=t.element;C(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}function dt(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==U&&r.eventType!==X||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function ut(t,e){var i,n,o,r,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=K&&(l>V||s.velocity===a)){var h=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,u=ft(l,h,d);n=u.x,o=u.y,i=p(u.x)>p(u.y)?u.x:u.y,r=gt(h,d),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}function ct(t){var e=[],i=0;while(i<t.pointers.length)e[i]={clientX:c(t.pointers[i].clientX),clientY:c(t.pointers[i].clientY)},i++;return{timeStamp:f(),pointers:e,center:pt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pt(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};var i=0,n=0,o=0;while(o<e)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:c(i/e),y:c(n/e)}}function ft(t,e,i){return{x:e/t||0,y:i/t||0}}function gt(t,e){return t===e?Z:p(t)>=p(e)?t<0?$:Q:e<0?J:tt}function vt(t,e,i){i||(i=ot);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function mt(t,e,i){i||(i=ot);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function yt(t,e){return mt(e[1],e[0],rt)+mt(t[1],t[0],rt)}function bt(t,e){return vt(e[0],e[1],rt)/vt(t[0],t[1],rt)}st.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(R(this.element),this.evWin,this.domHandler)}};var wt={mousedown:U,mousemove:q,mouseup:X},xt="mousedown",_t="mousemove mouseup";function Et(){this.evEl=xt,this.evWin=_t,this.pressed=!1,st.apply(this,arguments)}x(Et,st,{handler:function(t){var e=wt[t.type];e&U&&0===t.button&&(this.pressed=!0),e&q&&1!==t.which&&(e=X),this.pressed&&(e&X&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:G,srcEvent:t}))}});var kt={pointerdown:U,pointermove:q,pointerup:X,pointercancel:K,pointerout:K},Tt={2:H,3:Y,4:G,5:W},Dt="pointerdown",Ct="pointermove pointerup pointercancel";function St(){this.evEl=Dt,this.evWin=Ct,st.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(Dt="MSPointerDown",Ct="MSPointerMove MSPointerUp MSPointerCancel"),x(St,st,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=kt[n],r=Tt[t.pointerType]||t.pointerType,s=r==H,a=O(e,t.pointerId,"pointerId");o&U&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(X|K)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var Mt={touchstart:U,touchmove:q,touchend:X,touchcancel:K},Ot="touchstart",Nt="touchstart touchmove touchend touchcancel";function At(){this.evTarget=Ot,this.evWin=Nt,this.started=!1,st.apply(this,arguments)}function Pt(t,e){var i=N(t.touches),n=N(t.changedTouches);return e&(X|K)&&(i=A(i.concat(n),"identifier",!0)),[i,n]}x(At,st,{handler:function(t){var e=Mt[t.type];if(e===U&&(this.started=!0),this.started){var i=Pt.call(this,t,e);e&(X|K)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:H,srcEvent:t})}}});var It={touchstart:U,touchmove:q,touchend:X,touchcancel:K},Lt="touchstart touchmove touchend touchcancel";function Rt(){this.evTarget=Lt,this.targetIds={},st.apply(this,arguments)}function Bt(t,e){var i=N(t.touches),n=this.targetIds;if(e&(U|q)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,s=N(t.changedTouches),a=[],l=this.target;if(r=i.filter(function(t){return C(t.target,l)}),e===U){o=0;while(o<r.length)n[r[o].identifier]=!0,o++}o=0;while(o<s.length)n[s[o].identifier]&&a.push(s[o]),e&(X|K)&&delete n[s[o].identifier],o++;return a.length?[A(r.concat(a),"identifier",!0),a]:void 0}x(Rt,st,{handler:function(t){var e=It[t.type],i=Bt.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:H,srcEvent:t})}});var Ft=2500,zt=25;function jt(){st.apply(this,arguments);var t=_(this.handler,this);this.touch=new Rt(this.manager,t),this.mouse=new Et(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ht(t,e){t&U?(this.primaryTouch=e.changedPointers[0].identifier,Yt.call(this,e)):t&(X|K)&&Yt.call(this,e)}function Yt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,o=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(o,Ft)}}function Gt(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=zt&&s<=zt)return!0}return!1}x(jt,st,{handler:function(t,e,i){var n=i.pointerType==H,o=i.pointerType==G;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Ht.call(this,e,i);else if(o&&Gt.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Wt=P(d.style,"touchAction"),Vt=Wt!==a,Ut="compute",qt="auto",Xt="manipulation",Kt="none",Zt="pan-x",$t="pan-y",Qt=ee();function Jt(t,e){this.manager=t,this.set(e)}function te(t){if(S(t,Kt))return Kt;var e=S(t,Zt),i=S(t,$t);return e&&i?Kt:e||i?e?Zt:$t:S(t,Xt)?Xt:qt}function ee(){if(!Vt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||o.CSS.supports("touch-action",i)}),t}Jt.prototype={set:function(t){t==Ut&&(t=this.compute()),Vt&&this.manager.element.style&&Qt[t]&&(this.manager.element.style[Wt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=S(n,Kt)&&!Qt[Kt],r=S(n,$t)&&!Qt[$t],s=S(n,Zt)&&!Qt[Zt];if(o){var a=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(a&&l&&h)return}if(!s||!r)return o||r&&i&et||s&&i&it?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ie=1,ne=2,oe=4,re=8,se=re,ae=16,le=32;function he(t){this.options=l({},this.defaults,t||{}),this.id=L(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=ie,this.simultaneous={},this.requireFail=[]}function de(t){return t&ae?"cancel":t&re?"end":t&oe?"move":t&ne?"start":""}function ue(t){return t==tt?"down":t==J?"up":t==$?"left":t==Q?"right":""}function ce(t,e){var i=e.manager;return i?i.get(t):t}function pe(){he.apply(this,arguments)}function fe(){pe.apply(this,arguments),this.pX=null,this.pY=null}function ge(){pe.apply(this,arguments)}function ve(){he.apply(this,arguments),this._timer=null,this._input=null}function me(){pe.apply(this,arguments)}function ye(){pe.apply(this,arguments)}function be(){he.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function we(t,e){return e=e||{},e.recognizers=k(e.recognizers,we.defaults.preset),new Ee(t,e)}he.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=ce(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)?this:(t=ce(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return t=ce(t,this),-1===O(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=ce(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<re&&n(e.options.event+de(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=re&&n(e.options.event+de(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=le},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(le|ie)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=le);this.state&(se|ae|le)&&(this.state=ie),this.state=this.process(e),this.state&(ne|oe|re|ae)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(pe,he,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ne|oe),o=this.attrTest(t);return n&&(i&K||!o)?e|ae:n||o?i&X?e|re:e&ne?e|oe:ne:le}}),x(fe,pe,{defaults:{event:"pan",threshold:10,pointers:1,direction:nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&et&&e.push($t),t&it&&e.push(Zt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&et?(o=0===r?Z:r<0?$:Q,i=r!=this.pX,n=Math.abs(t.deltaX)):(o=0===s?Z:s<0?J:tt,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return pe.prototype.attrTest.call(this,t)&&(this.state&ne||!(this.state&ne)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=ue(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),x(ge,pe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ne)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),x(ve,he,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(X|K)&&!o)this.reset();else if(t.eventType&U)this.reset(),this._timer=g(function(){this.state=se,this.tryEmit()},e.time,this);else if(t.eventType&X)return se;return le},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===se&&(t&&t.eventType&X?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),x(me,pe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ne)}}),x(ye,pe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|it,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(et|it)?e=t.overallVelocity:i&et?e=t.overallVelocityX:i&it&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&X},emit:function(t){var e=ue(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),x(be,he,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&U&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=X)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||vt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=g(function(){this.state=se,this.tryEmit()},e.interval,this),ne):se}return le},failTimeout:function(){return this._timer=g(function(){this.state=le},this.options.interval,this),le},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==se&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),we.VERSION="2.0.7",we.defaults={domEvents:!1,touchAction:Ut,enable:!0,inputTarget:null,inputClass:null,preset:[[me,{enable:!1}],[ge,{enable:!1},["rotate"]],[ye,{direction:et}],[fe,{direction:et},["swipe"]],[be],[be,{event:"doubletap",taps:2},["tap"]],[ve]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xe=1,_e=2;function Ee(t,e){this.options=l({},we.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=at(this),this.touchAction=new Jt(this,this.options.touchAction),ke(this,!0),m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ke(t,e){var i,n=t.element;n.style&&(m(t.options.cssProps,function(o,r){i=P(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function Te(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}Ee.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?_e:xe},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&se)&&(o=e.curRecognizer=null);var r=0;while(r<n.length)i=n[r],e.stopped===_e||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(ne|oe|re)&&(o=e.curRecognizer=i),r++}},get:function(t){if(t instanceof he)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,i=O(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return m(M(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==a){var i=this.handlers;return m(M(t),function(t){e?i[t]&&i[t].splice(O(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&Te(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var n=0;while(n<i.length)i[n](e),n++}},destroy:function(){this.element&&ke(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(we,{INPUT_START:U,INPUT_MOVE:q,INPUT_END:X,INPUT_CANCEL:K,STATE_POSSIBLE:ie,STATE_BEGAN:ne,STATE_CHANGED:oe,STATE_ENDED:re,STATE_RECOGNIZED:se,STATE_CANCELLED:ae,STATE_FAILED:le,DIRECTION_NONE:Z,DIRECTION_LEFT:$,DIRECTION_RIGHT:Q,DIRECTION_UP:J,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:it,DIRECTION_ALL:nt,Manager:Ee,Input:st,TouchAction:Jt,TouchInput:Rt,MouseInput:Et,PointerEventInput:St,TouchMouseInput:jt,SingleTouchInput:At,Recognizer:he,AttrRecognizer:pe,Tap:be,Pan:fe,Swipe:ye,Pinch:ge,Rotate:me,Press:ve,on:T,off:D,each:m,merge:w,extend:b,assign:l,inherit:x,bindFn:_,prefixed:P});var De="undefined"!==typeof o?o:"undefined"!==typeof self?self:{};De.Hammer=we,n=function(){return we}.call(e,i,e,t),n===a||(t.exports=n)})(window,document)},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Timeline=i(178),e.Graph2d=i(180),e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var n=i(9),o=i(2),r=i(11),s=i(12),a=i(64),l=i(65),h=i(45),d=i(67),u=i(46),c=i(99),p=i(15).printStyle,f=i(105).allOptions,g=i(105).configureOptions,v=i(71)["default"],m=i(15)["default"];function y(t,e,i,l){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=l;l=i,i=u}l&&l.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),!l||l&&"undefined"==typeof l.rtl){this.dom.root.style.visibility="hidden";var f,g=this.dom.root;while(!f&&g)f=window.getComputedStyle(g,null).direction,g=g.parentElement;this.options.rtl=f&&"rtl"==f.toLowerCase()}else this.options.rtl=l.rtl;this.options.rollingMode=l&&l.rollingMode,this.options.onInitialDrawComplete=l&&l.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return p.timeAxis.step.scale},getStep:function(){return p.timeAxis.step.step},toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new a(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new d(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new c(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){p.emit("click",p.getEventProperties(t))},this.dom.root.ondblclick=function(t){p.emit("doubleClick",p.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},this.dom.root.onmouseover=function(t){p.emit("mouseOver",p.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onpointermove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onpointerup=function(t){p.emit("mouseUp",p.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onmousedown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onmouseup=function(t){p.emit("mouseUp",p.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!p.initialFitDone)if(p.initialFitDone=!0,void 0!=p.options.start||void 0!=p.options.end){if(void 0==p.options.start||void 0==p.options.end)var t=p.getItemRange();var e=void 0!=p.options.start?p.options.start:t.min,i=void 0!=p.options.end?p.options.end:t.max;p.setWindow(e,i,{animation:!1})}else p.fit({animation:!1});!p.initialDrawDone&&p.initialRangeChangeDone&&(p.initialDrawDone=!0,p.dom.root.style.visibility="visible",p.options.onInitialDrawComplete&&setTimeout(function(){return p.options.onInitialDrawComplete()},0))}}),l&&this.setOptions(l),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}function b(t){return o.convert(t.data.start,"Date").valueOf()}function w(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return o.convert(e,"Date").valueOf()}function x(t,e){var i=t.props.leftContainer.height,n=t.props.left.height,o=e.parent,r=o.top,s=!0,a=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==a?o.height-e.top-e.height:e.top},h=-1*t._getScrollTop(),d=r+l(),u=e.height;return d<h?r+i<=r+l()+u&&(r+=l()-t.itemSet.options.margin.item.vertical):d+u>h+i?r+=l()+u-i+t.itemSet.options.margin.item.vertical:s=!1,r=Math.min(r,n-i),{shouldScroll:s,scrollOffset:r,itemTop:d}}y.prototype=new l,y.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(t){var e=m.validate(t,f);if(!0===e&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var n=this.getSelection();this.setItems(null),this.setItems(i),this.setSelection(n)}}},y.prototype.setItems=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},y.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof r||t instanceof s?new s(t,{filter:i}):new r(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===r||i>r)&&(r=i)}),null!==o&&null!==r){var s=this,a=this.itemSet.items[i[0]],l=-1*this._getScrollTop(),h=null,d=function(t,e,i){var n=x(s,a);if(h||(h=n),h.itemTop!=n.itemTop||h.shouldScroll){h.itemTop!=n.itemTop&&n.shouldScroll&&(h=n,l=-1*s._getScrollTop());var o=l,r=h.scrollOffset,d=i?r:o+(r-o)*t;s._setScrollTop(-d),e||s._redraw()}},u=function(){var t=x(s,a);t.shouldScroll&&t.itemTop!=h.itemTop&&(s._setScrollTop(-t.scrollOffset),s._redraw())},c=function(){u(),setTimeout(u,100)},p=(o+r)/2,f=Math.max(this.range.end-this.range.start,1.1*(r-o)),g=!e||void 0===e.animation||e.animation;g||(h={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(p-f/2,p+f/2,{animation:g},c,d)}}},y.prototype.fit=function(t,e){var i,n=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:n},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:n},e))},y.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,n=null,r=null;if(null!=e&&null!=i){var s=i-e;s<=0&&(s=10);var a=s/this.props.center.width,l={},h=0;o.forEach(this.itemSet.items,function(t,e){if(t.groupShowing){var i=!0;l[e]=t.redraw(i),h=l[e].length}});var d=h>0;if(d)for(var u=0;u<h;u++)o.forEach(l,function(t){t[u]()});if(o.forEach(this.itemSet.items,function(t){var o,s,l=b(t),h=w(t);this.options.rtl?(o=l-(t.getWidthRight()+10)*a,s=h+(t.getWidthLeft()+10)*a):(o=l-(t.getWidthLeft()+10)*a,s=h+(t.getWidthRight()+10)*a),o<e&&(e=o,n=t),s>i&&(i=s,r=t)}.bind(this)),n&&r){var c=n.getWidthLeft()+10,p=r.getWidthRight()+10,f=this.props.center.width-c-p;f>0&&(this.options.rtl?(e=b(n)-p*s/f,i=w(r)+c*s/f):(e=b(n)-c*s/f,i=w(r)+p*s/f))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},y.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=o.convert(i.start,"Date").valueOf(),r=o.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||n<t)&&(t=n),(null===e||r>e)&&(e=r)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e,i=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY;e=this.options.rtl?o.getAbsoluteRight(this.dom.centerContainer)-i:i-o.getAbsoluteLeft(this.dom.centerContainer);var r=n-o.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),l=u.customTimeFromTarget(t),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),c=this.body.util.getStep(),p=this._toTime(e),f=h?h(p,d,c):p,g=o.getTarget(t),v=null;return null!=s?v="item":null!=l?v="custom-time":o.hasParent(g,this.timeAxis.dom.foreground)?v="axis":this.timeAxis2&&o.hasParent(g,this.timeAxis2.dom.foreground)?v="axis":o.hasParent(g,this.itemSet.dom.labelSet)?v="group-label":o.hasParent(g,this.currentTime.bar)?v="current-time":o.hasParent(g,this.dom.center)&&(v="background"),{event:t,item:s?s.id:null,group:a?a.groupId:null,what:v,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:r,time:p,snappedTime:f}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),o=h(n),r=i(0),s=h(r),a=i(1),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=i(10),u=i(37),c=i(2),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,s["default"])(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,l["default"])(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!==typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!==typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"===typeof t)return e[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,n=this._isColorString(t);if(void 0!==n&&(t=n),!0===c.isString(t)){if(!0===c.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===c.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===c.isValidHex(t)){var a=c.hexToRGB(t);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,o["default"])(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=c.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=c.extend({},t)),this.color=t;var i=c.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=c.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=c.HSVToRGB(e.h,e.s,e.v);i["a"]=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=c.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(n){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(n){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new d(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),u.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var n=void 0,o=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var a=2*Math.PI/360,l=1/360,h=1/this.r,d=void 0;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),d=c.HSVToRGB(r*l,s*h,1),t.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,l=Math.atan2(s,a),h=.98*Math.min(Math.sqrt(s*s+a*a),r),d=Math.cos(l)*h+o,u=Math.sin(l)*h+r;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var p=l/(2*Math.PI);p=p<0?p+1:p;var f=h/this.r,g=c.RGBToHSV(this.color.r,this.color.g,this.color.b);g.h=p,g.s=f;var v=c.HSVToRGB(g.h,g.s,g.v);v["a"]=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e["default"]=p},function(t,e,i){var n=i(9),o=i(2),r=i(11),s=i(12),a=i(64),l=i(65),h=i(45),d=i(67),u=i(46),c=i(106),p=i(15).printStyle,f=i(113).allOptions,g=i(113).configureOptions,v=i(71)["default"],m=i(15)["default"];function y(t,e,i,l){if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=l;l=i,i=u}l&&l.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.currentTime=new d(this.body),this.components.push(this.currentTime),this.linegraph=new c(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){p.emit("click",p.getEventProperties(t))}),this.on("doubletap",function(t){p.emit("doubleClick",p.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},l&&this.setOptions(l),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}y.prototype=new l,y.prototype.setOptions=function(t){var e=m.validate(t,f);!0===e&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t)},y.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var n=void 0!=this.options.start?this.options.start:null,o=void 0!=this.options.end?this.options.end:null;this.setWindow(n,o,{animation:!1})}else this.fit({animation:!1})},y.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t):null,this.groupsData=e,this.linegraph.setGroups(e)},y.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},y.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var r=this.linegraph.groups[i].itemsData[n],s=o.convert(r.x,"Date").valueOf();t=null==t?s:t>s?s:t,e=null==e?s:e<s?s:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=e-o.getAbsoluteLeft(this.dom.centerContainer),r=i-o.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(n),a=u.customTimeFromTarget(t),l=o.getTarget(t),h=null;o.hasParent(l,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&o.hasParent(l,this.timeAxis2.dom.foreground)?h="axis":o.hasParent(l,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":o.hasParent(l,this.linegraph.yAxisRight.dom.frame)?h="data-axis":o.hasParent(l,this.linegraph.legendLeft.dom.frame)?h="legend":o.hasParent(l,this.linegraph.legendRight.dom.frame)?h="legend":null!=a?h="custom-time":o.hasParent(l,this.currentTime.bar)?h="current-time":o.hasParent(l,this.dom.center)&&(h="background");var d=[],c=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return!c.hidden&&this.itemsData.length>0&&d.push(c.screenToValue(r)),!p.hidden&&this.itemsData.length>0&&d.push(p.screenToValue(r)),{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:r,time:s,value:d}},y.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},t.exports=y},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Network=i(182),e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){i(183);var n=i(44),o=i(2),r=i(114),s=i(115),a=i(97),l=i(184),h=i(116)["default"],d=i(186)["default"],u=i(187)["default"],c=i(214)["default"],p=i(220)["default"],f=i(227)["default"],g=i(229)["default"],v=i(230)["default"],m=i(231)["default"],y=i(232)["default"],b=i(234)["default"],w=i(235)["default"],x=i(237)["default"],_=i(71)["default"],E=i(15)["default"],k=i(15),T=k.printStyle,D=i(122),C=D.allOptions,S=D.configureOptions,M=i(238)["default"];function O(t,e,i){var n=this;if(!(this instanceof O))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},o.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new h(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new d,this.canvas=new v(this.body),this.selectionHandler=new b(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new m(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new p(this.body),this.layoutEngine=new w(this.body),this.clustering=new f(this.body),this.manipulation=new x(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new u(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new c(this.body,this.images,this.groups),this.body.modules["kamadaKawai"]=new M(this.body,150,.05),this.body.modules["clustering"]=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}n(O.prototype),O.prototype.setOptions=function(t){var e=this;if(void 0!==t){var i=E.validate(t,C);!0===i&&console.log("%cErrors have been found in the supplied options object.",T);var n=["locale","locales","clickToUse"];if(o.selectiveDeepExtend(n,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new _(this,this.body.container,S,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};o.deepExtend(r.nodes,this.nodesHandler.options),o.deepExtend(r.edges,this.edgesHandler.options),o.deepExtend(r.layout,this.layoutEngine.options),o.deepExtend(r.interaction,this.selectionHandler.options),o.deepExtend(r.interaction,this.renderer.options),o.deepExtend(r.interaction,this.interactionHandler.options),o.deepExtend(r.manipulation,this.manipulation.options),o.deepExtend(r.physics,this.physics.options),o.deepExtend(r.global,this.canvas.options),o.deepExtend(r.global,this.options),this.configurator.setModuleOptions(r)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new a(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},O.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],r=t[o.fromId],s=t[o.toId],a=void 0!==r&&void 0!==s,l=!this.clustering._isClusteredEdge(n)&&!1===o.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden;l&&this.body.edgeIndices.push(o.id)}},O.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},O.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=r.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=s.parseGephi(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},O.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];o.recursiveDOMDelete(this.body.container)},O.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,o)},O.prototype.isActive=function(){return!this.activator||this.activator.active},O.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},O.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},O.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},O.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},O.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},O.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},O.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},O.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},O.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},O.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},O.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},O.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},O.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},O.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},O.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},O.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},O.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},O.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},O.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},O.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},O.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},O.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},O.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},O.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},O.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},O.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},O.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},O.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},O.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},O.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},O.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},O.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},O.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},O.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},O.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},O.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},O.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},O.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},O.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},O.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},O.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},O.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},O.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},O.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},O.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},O.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=O},function(t,e,i){"undefined"!==typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),i*=1.15,e+=.275*i;var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e-(s-r)),this.lineTo(t+o,e+r),this.lineTo(t-o,e+r),this.lineTo(t,e-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),i*=1.15,e-=.275*i;var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e+(s-r)),this.lineTo(t+o,e-r),this.lineTo(t-o,e-r),this.lineTo(t,e+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),i*=.82,e+=.1*i;for(var n=0;n<10;n++){var o=n%2===0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*n*Math.PI/10),e-o*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,o){var r=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*r,360*r,!1),this.lineTo(t+i,e+n-o),this.arc(t+i-o,e+n-o,o,0,90*r,!1),this.lineTo(t+o,e+n),this.arc(t+o,e+n-o,o,90*r,180*r,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var o=.5522848,r=i/2*o,s=n/2*o,a=t+i,l=e+n,h=t+i/2,d=e+n/2;this.beginPath(),this.moveTo(t,d),this.bezierCurveTo(t,d-s,h-r,e,h,e),this.bezierCurveTo(h+r,e,a,d-s,a,d),this.bezierCurveTo(a,d+s,h+r,l,h,l),this.bezierCurveTo(h-r,l,t,d+s,t,d),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var o=1/3,r=i,s=n*o,a=.5522848,l=r/2*a,h=s/2*a,d=t+r,u=e+s,c=t+r/2,p=e+s/2,f=e+(n-s/2),g=e+n;this.beginPath(),this.moveTo(d,p),this.bezierCurveTo(d,p+h,c+l,u,c,u),this.bezierCurveTo(c-l,u,t,p+h,t,p),this.bezierCurveTo(t,p-h,c-l,e,c,e),this.bezierCurveTo(c+l,e,d,p-h,d,p),this.lineTo(d,f),this.bezierCurveTo(d,f+h,c+l,g,c,g),this.bezierCurveTo(c-l,g,t,f+h,t,f),this.lineTo(t,p)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,o){this.beginPath(),this.moveTo(t,e);var r=o.length,s=i-t,a=n-e,l=a/s,h=Math.sqrt(s*s+a*a),d=0,u=!0,c=0,p=o[0];while(h>=.1)p=o[d++%r],p>h&&(p=h),c=Math.sqrt(p*p/(1+l*l)),c=s<0?-c:c,t+=c,e+=l*c,!0===u?this.lineTo(t,e):this.moveTo(t,e),h-=p,u=!u},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var n=6,o=2*Math.PI/n;this.moveTo(t+i,e);for(var r=1;r<n;r++)this.lineTo(t+i*Math.cos(o*r),e+i*Math.sin(o*r));this.closePath()})},function(t,e,i){e["en"]={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e["en_EN"]=e["en"],e["en_US"]=e["en"],e["de"]={edit:"Editieren",del:"LÃ¶sche Auswahl",back:"ZurÃ¼ck",addNode:"Knoten hinzufÃ¼gen",addEdge:"Kante hinzufÃ¼gen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",editClusterError:"Cluster kÃ¶nnen nicht editiert werden."},e["de_DE"]=e["de"],e["es"]={edit:"Editar",del:"Eliminar selecciÃ³n",back:"Ãtras",addNode:"AÃ±adir nodo",addEdge:"AÃ±adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e["es_ES"]=e["es"],e["it"]={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e["it_IT"]=e["it"],e["nl"]={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e["nl_NL"]=e["nl"],e["nl_BE"]=e["nl"],e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nÃ³",addEdge:"Adicionar aresta",editNode:"Editar nÃ³",editEdge:"Editar aresta",addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",editClusterError:"Clusters nÃ£o puderam ser editados."},e["pt-BR"]=e["pt-br"],e["pt_BR"]=e["pt-br"],e["pt_br"]=e["pt-br"],e["ru"]={edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",back:"ÐÐ°Ð·Ð°Ð´",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ."},e["ru_RU"]=e["ru"],e["cn"]={edit:"ç¼è¾",del:"å é¤éå®",back:"è¿å",addNode:"æ·»å èç¹",addEdge:"æ·»å è¿æ¥çº¿",editNode:"ç¼è¾èç¹",editEdge:"ç¼è¾è¿æ¥çº¿",addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",deleteClusterError:"æ æ³å é¤ç¾¤éã",editClusterError:"æ æ³ç¼è¾ç¾¤éã"},e["zh_CN"]=e["cn"]},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,o["default"])(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,s["default"])(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),o=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,l,o],[5*l,n,h,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],o=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,o,r){if(this.initialized())if(e>2){e*=.5;var s=0;while(e>2&&s<this.NUM_ITERATIONS)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,r)}else t.drawImage(this.image,i,n,o,r)}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=function(){function t(){(0,o["default"])(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},l.extend(this.options,this.defaultOptions)}return(0,s["default"])(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var n=t[i];this.add(i,n)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,i={},i.color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,i={},i.color=this.defaultGroups[o],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(11),d=i(12),u=i(47)["default"],c=function(){function t(e,i,n,r){var s=this;if((0,o["default"])(this,t),this.body=e,this.images=i,this.groups=n,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=l.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,s["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(u.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof h||t instanceof d)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new h,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new h}if(i&&l.forEach(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var n=this;l.forEach(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=[],o=0;o<t.length;o++){i=t[o];var r=this.body.data.nodes.get(i),s=this.create(r);n.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(n),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,o=!1,r=0;r<t.length;r++){var s=t[r],a=n[s],l=e[r];void 0!==a?a.setOptions(l)&&(o=!0):(o=!0,a=this.create(l),n[s]=a)}o||void 0===i||(o=e.some(function(t,e){var n=i[e];return n&&n.level!==t.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){var n=t[i];delete e[n]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.forEach(this.body.nodes,function(i,n){var o=t.body.data.nodes.get(n);void 0!==o&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];e._data[i].x==Math.round(n.x)&&e._data[i].y==Math.round(n.y)||t.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],o={},r=0;r<n.edges.length;r++){var s=n.edges[r];"to"!==e&&s.toId==n.id?void 0===o[s.fromId]&&(i.push(s.fromId),o[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===o[s.toId]&&(i.push(s.toId),o[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e["default"]=c},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49),i(60),t.exports=i(190)},function(t,e,i){var n=i(86),o=i(13)("iterator"),r=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(n(e))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(192)["default"],h=i(48)["default"],d=function(){function t(e,i,n,r){var s=this;(0,o["default"])(this,t),this.ctx=e,this.parent=i;var a=function(t,i){if(void 0===t)return 0;var o=s.parent.getFormattingValues(e,n,r,i),a=0;if(""!==t){var l=s.ctx.measureText(t);a=l.width}return{width:a,values:o}};this.lines=new l(a)}return(0,s["default"])(t,[{key:"process",value:function(t){if(!h.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var o=0;o<n;o++){var r=this.splitBlocks(i[o],e.multi);if(void 0!==r)if(0!==r.length){if(e.maxWdt>0)for(var s=0;s<r.length;s++){var a=r[s].mod,l=r[s].text;this.splitStringIntoLines(l,a,!0)}else for(var d=0;d<r.length;d++){var u=r[d].mod,c=r[d].text;this.lines.append(c,u)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var p=0;p<n;p++)this.splitStringIntoLines(i[p]);else for(var f=0;f<n;f++)this.lines.newLine(i[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};while(i.position<t.length){var n=t.charAt(i.position);/[ \t]/.test(n)?i.mono?i.add(n):i.spacing=!0:/</.test(n)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(n):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(n)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(n),i.position++}return i.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};while(i.position<t.length){var n=t.charAt(i.position);/[ \t]/.test(n)?(i.mono?i.add(n):i.spacing=!0,i.beginable=!0):/\\/.test(n)?i.position<t.length+1&&(i.position++,n=t.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(n)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(n)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(n)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(n)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(n):!i.mono&&"ital"===i.mod()&&/\_/.test(n)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(n):i.mono&&"mono"===i.mod()&&/`/.test(n)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(n):(i.add(n),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){var e="",i=0;while(i<t.length){var n=""===e?"":" ",o=e+n+t[i];if(this.overMaxWidth(o))break;e=o,i++}return i}},{key:"getLongestFitWord",value:function(t){var e=0;while(e<t.length){if(this.overMaxWidth(t.slice(0,e)))break;e++}return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");var n=t.split("\r");while(n.length>0){var o=this.getLongestFit(n);if(0===o){var r=n[0],s=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,s),e),n[0]=r.slice(s)}else{var a=o;" "===n[o-1]?o--:" "===n[a]&&a++;var l=n.slice(0,o).join("");o==n.length&&i?this.lines.append(l,e):this.lines.newLine(l,e),n=n.slice(a)}}}}]),t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(90),o=h(n),r=i(0),s=h(r),a=i(1),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e){(0,s["default"])(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,l["default"])(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var n=e;void 0!==e&&""!==e||(n=" ");var r=this.measureText(n,i),s=(0,o["default"])({},r.values);s.text=e,s.width=r.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var o=e.blocks[n];i<o.height&&(i=o.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var n={};(0,o["default"])(n,i),n.blocks=[];for(var r=void 0,s=[],a=0;a<i.blocks.length;a++){var l=i.blocks[a];0!==l.width?s.push(l):void 0===r&&(r=l)}0===s.length&&void 0!==r&&s.push(r),n.blocks=s,t.push(n)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){(0,s["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o);var r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(f["default"]);e["default"]=v},function(t,e,i){i(195),t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var n=i(41),o=i(85);i(87)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198),t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var n=i(17);n(n.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var n=i(32),o=i(27),r=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:r}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(73),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){(0,s["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(73),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n,r,a){(0,s["default"])(this,e);var l=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return l.setImages(r,a),l}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,r){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){(0,s["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),o=n.width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"diamond",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"circle",2,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){(0,s["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,r){if(this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,r),void 0!==this.options.label){var s=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+s,n)}this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){var i=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+i)}}},{key:"_icon",value:function(t,e,i,n,o,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(n?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(73),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n,r,a){(0,s["default"])(this,e);var l=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return l.setImages(r,a),l}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,r){if(this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var s=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,l=(n?a:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"square",2,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"hexagon",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"star",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(23),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){(0,s["default"])(this,e);var r=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n));return r._setMargins(n),r}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"triangle",3,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(24),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"triangleDown",3,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(11),d=i(12),u=i(74)["default"],c=function(){function t(e,i,n){var r=this;(0,o["default"])(this,t),this.body=e,this.images=i,this.groups=n,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;var o=1/(e-t);return Math.max(0,(n-t)*o)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,s["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var n=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var r=t.body.edges[o],s=t.body.data.edges._data[o];if(void 0!==s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===e?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:e}}),n=!0)}}!0===i&&!0===n&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){u.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(t instanceof h||t instanceof d)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new h,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new h}if(n&&l.forEach(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,o=0;o<t.length;o++){var r=t[o],s=i[r];s&&s.disconnect();var a=n.get(r,{showInternalIds:!0});i[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<t.length;o++){var r=t[o],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;l.forEach(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;l.forEach(this.body.edges,function(e,i){var n=t.body.data.edges._data[i];void 0!==n&&e.setOptions(n)})}},{key:"create",value:function(t){return new u(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];l.forEach(this.body.edges,function(i,n){var o=t.body.nodes[i.toId],r=t.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==r&&!0===r.isCluster||void 0!==o&&void 0!==r||e.push(n)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=this.body.data.edges,i=[];e.forEach(function(e,n){var o=t[n];void 0===o&&i.push(n)}),this.add(i,!0)}}]),t}();e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),o=m(n),r=i(3),s=m(r),a=i(0),l=m(a),h=i(1),d=m(h),u=i(4),c=m(u),p=i(5),f=m(p),g=i(216),v=m(g);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t,i,n){return(0,l["default"])(this,e),(0,c["default"])(this,(e.__proto__||(0,s["default"])(e)).call(this,t,i,n))}return(0,f["default"])(e,t),(0,d["default"])(e,[{key:"_line",value:function(t,e,i){var n=i[0],o=i[1];this._bezierCurve(t,e,n,o)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,n=void 0,o=void 0,r=void 0,s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,r=this.to.y,i=this.from.x-s*t,o=this.to.x+s*t):(n=this.from.y-s*e,r=this.to.y+s*e,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),l=(0,o["default"])(a,2),h=l[0],d=l[1];return this._getDistanceToBezierEdge(t,e,i,n,r,s,h,d)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,o["default"])(e,2),n=i[0],r=i[1],s=t,a=[];a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3);var l=a[0]*this.fromPoint.x+a[1]*n.x+a[2]*r.x+a[3]*this.toPoint.x,h=a[0]*this.fromPoint.y+a[1]*n.y+a[2]*r.y+a[3]*this.toPoint.y;return{x:l,y:h}}}]),e}(v["default"]);e["default"]=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(75),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s,a){var l=1e9,h=void 0,d=void 0,u=void 0,c=void 0,p=void 0,f=t,g=e,v=[0,0,0,0];for(d=1;d<10;d++)u=.1*d,v[0]=Math.pow(1-u,3),v[1]=3*u*Math.pow(1-u,2),v[2]=3*Math.pow(u,2)*(1-u),v[3]=Math.pow(u,3),c=v[0]*t+v[1]*s.x+v[2]*a.x+v[3]*i,p=v[0]*e+v[1]*s.y+v[2]*a.y+v[3]*n,d>0&&(h=this._getDistanceToLine(f,g,c,p,o,r),l=h<l?h:l),f=c,g=p;return l}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),o=m(n),r=i(3),s=m(r),a=i(0),l=m(a),h=i(1),d=m(h),u=i(4),c=m(u),p=i(5),f=m(p),g=i(75),v=m(g);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t,i,n){(0,l["default"])(this,e);var o=(0,c["default"])(this,(e.__proto__||(0,s["default"])(e)).call(this,t,i,n));return o._boundFunction=function(){o.positionBezierNode()},o.body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return(0,f["default"])(e,t),(0,d["default"])(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=t,n=void 0,r=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,o["default"])(s,3),l=a[0],h=a[1],d=a[2],u=2*Math.PI*(1-i);n=l+d*Math.sin(u),r=h+d-d*(1-Math.cos(u))}else n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:r}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToBezierEdge(t,e,i,n,o,r,this.via)}}]),e}(v["default"]);e["default"]=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(75),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s=void 0,a=void 0;s=a=o<=r?i*r:i*o,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),t=this.from.x+s,e=this.from.y+a,"discrete"===n&&(o<=r?t=o<i*r?this.from.x:t:e=r<i*o?this.from.y:e)}else if("straightCross"===n){var l=(1-i)*o,h=(1-i)*r;o<=r?(l=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(l=-l),h=0),t=this.to.x+l,e=this.to.y+h}else if("horizontal"===n){var d=(1-i)*o;this.from.x<this.to.x&&(d=-d),t=this.to.x+d,e=this.from.y}else if("vertical"===n){var u=(1-i)*r;this.from.y<this.to.y&&(u=-u),t=this.from.x,e=this.to.y+u}else if("curvedCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var c=Math.sqrt(o*o+r*r),p=Math.PI,f=Math.atan2(r,o),g=(f+(.5*i+.5)*p)%(2*p);t=this.from.x+(.5*i+.5)*c*Math.sin(g),e=this.from.y+(.5*i+.5)*c*Math.cos(g)}else if("curvedCCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var v=Math.sqrt(o*o+r*r),m=Math.PI,y=Math.atan2(r,o),b=(y+(.5*-i+.5)*m)%(2*m);t=this.from.x+(.5*i+.5)*v*Math.sin(b),e=this.from.y+(.5*i+.5)*v*Math.cos(b)}else{var w=void 0,x=void 0;w=x=o<=r?i*r:i*o,this.from.x>this.to.x&&(w=-w),this.from.y>=this.to.y&&(x=-x),t=this.from.x+w,e=this.from.y+x,o<=r?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,r,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(118),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),l=t.distanceToBorder(e,o),h=(a-l)/a,d={};return d.x=(1-h)*n.x+h*i.x,d.y=(1-h)*n.y+h*i.y,d}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToLine(t,e,i,n,o,r)}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),o=h(n),r=i(0),s=h(r),a=i(1),l=h(a);function h(t){return t&&t.__esModule?t:{default:t}}var d=i(120)["default"],u=i(221)["default"],c=i(222)["default"],p=i(223)["default"],f=i(224)["default"],g=i(121)["default"],v=i(225)["default"],m=i(226)["default"],y=i(2),b=i(119)["default"],w=function(){function t(e){(0,s["default"])(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},y.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,l["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,y.selectiveNotDeepExtend(["stabilization"],this.options,t),y.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new v(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new m(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new u(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new g(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new c(this.body,this.physicsBody,t),this.edgesSolver=new f(this.body,this.physicsBody,t),this.gravitySolver=new g(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new d(this.body,this.physicsBody,t),this.edgesSolver=new p(this.body,this.physicsBody,t),this.gravitySolver=new g(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick();var e=Date.now()-t;(e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var t=1.2;!0===this._evaluateStepQuality()?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){var t=this.adaptiveCounter%this.adaptiveInterval===0;t?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var r=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=(0,o["default"])(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<t.length;n++){var r=t[n];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=void 0,n=this.body.nodes,o=this.referenceState,r=.3;for(var s in this.referenceState)if(this.referenceState.hasOwnProperty(s)&&void 0!==n[s]&&(t=n[s].x-o[s].positions.x,e=n[s].y-o[s].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>r))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=5,o=0;o<t.length;o++){var r=t[o],s=this._performStep(r);e=Math.max(e,s),i+=s}this.adaptiveTimestepEnabled=i/t.length<n,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){var n=this.modelOptions.damping*t,o=(e-n)/i;t+=o*this.timestep;var r=this.options.maxVelocity||1e9;return Math.abs(t)>r&&(t=t>0?r:-r),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0);var o=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2));return o}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!==typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();var n=0;while(e()&&n<this.options.stabilization.updateInterval)this.physicsTick(),n++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],o=this.physicsBody.forces[i],r=20,s=.03,a=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),l=Math.min(Math.max(5,a),15),h=3*l,d=y.HSVToHex((180-180*Math.min(1,Math.max(0,s*a)))/360,1,1),u={x:n.x+r*o.x,y:n.y+r*o.y};t.lineWidth=l,t.strokeStyle=d,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(u.x,u.y),t.stroke();var c=Math.atan2(o.y,o.x);t.fillStyle=d,b.draw(t,{type:"arrow",point:u,angle:c,length:h}),t.fill()}}}]),t}();e["default"]=w},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,s["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,u=this.options.nodeDistance,c=-2/3/u,p=4/3,f=0;f<h.length-1;f++){s=l[h[f]];for(var g=f+1;g<h.length;g++)a=l[h[g]],t=a.x-s.x,e=a.y-s.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*Math.random(),t=i),i<2*u&&(r=i<.5*u?1:c*i+p,r/=i,n=t*r,o=e*r,d[s.id].x-=n,d[s.id].y-=o,d[a.id].x+=n,d[a.id].y+=o)}}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,s["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,o,r,s,a,l,h,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<u.length-1;l++)for(s=d[u[l]],h=l+1;h<u.length;h++)if(a=d[u[h]],s.level===a.level){t=a.x-s.x,e=a.y-s.y,i=Math.sqrt(t*t+e*e);var f=.05;r=i<p?-Math.pow(f*i,2)+Math.pow(f*p,2):0,0===i?i=.01:r/=i,n=t*r,o=e*r,c[s.id].x-=n,c[s.id].y-=o,c[a.id].x+=n,c[a.id].y+=o}}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,s["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,o=void 0,r=void 0,s=void 0,a=0;a<i.length;a++)e=n[i[a]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,r=e.edgeType.via,s=e.from,this._calculateSpringForce(o,r,.5*t),this._calculateSpringForce(r,s,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,l=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.physicsBody=i,this.setOptions(n)}return(0,s["default"])(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l,h,d=this.body.edges,u=.5,c=this.physicsBody.physicsEdgeIndices,p=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,g=0;g<p.length;g++){var v=p[g];f[v].springFx=0,f[v].springFy=0}for(var m=0;m<c.length;m++)e=d[c[m]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),a=0===a?.01:a,s=this.options.springConstant*(t-a)/a,o=i*s,r=n*s,e.to.level!=e.from.level?(void 0!==f[e.toId]&&(f[e.toId].springFx-=o,f[e.toId].springFy-=r),void 0!==f[e.fromId]&&(f[e.fromId].springFx+=o,f[e.fromId].springFy+=r)):(void 0!==f[e.toId]&&(f[e.toId].x-=u*o,f[e.toId].y-=u*r),void 0!==f[e.fromId]&&(f[e.fromId].x+=u*o,f[e.fromId].y+=u*r)));s=1;for(var y=0;y<p.length;y++){var b=p[y];l=Math.min(s,Math.max(-s,f[b].springFx)),h=Math.min(s,Math.max(-s,f[b].springFy)),f[b].x+=l,f[b].y+=h}for(var w=0,x=0,_=0;_<p.length;_++){var E=p[_];w+=f[E].x,x+=f[E].y}for(var k=w/p.length,T=x/p.length,D=0;D<p.length;D++){var C=p[D];f[C].x-=k,f[C].y-=T}}}]),t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(120),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=n.edges.length+1,s=this.options.gravitationalConstant*o.mass*n.options.mass*r/Math.pow(t,2),a=e*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=g(n),r=i(0),s=g(r),a=i(1),l=g(a),h=i(4),d=g(h),u=i(5),c=g(u),p=i(121),f=g(p);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t,i,n){return(0,s["default"])(this,e),(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n))}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_calculateForces",value:function(t,e,i,n,o){if(t>0){var r=o.edges.length+1,s=this.options.centralGravity*r*o.options.mass;n[o.id].x=e*s,n[o.id].y=i*s}}}]),e}(f["default"]);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),o=u(n),r=i(6),s=u(r),a=i(0),l=u(a),h=i(1),d=u(h);function u(t){return t&&t.__esModule?t:{default:t}}var c=i(2),p=i(76)["default"],f=i(228)["default"],g=i(74)["default"],v=i(47)["default"],m=function(){function t(e){var i=this;(0,l["default"])(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},c.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return(0,d["default"])(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===("undefined"===typeof t?"undefined":(0,s["default"])(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=t&&i.push(o.id)}for(var r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},o={};c.forEach(this.body.nodes,function(i,r){var s=p.cloneOptions(i);!0===e.joinCondition(s)&&(n[r]=i,c.forEach(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(o[e.id]=e)}))}),this._cluster(n,o,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r=[],s={},a=void 0,l=void 0,h=void 0,d=function(n){var d={},u={},v=i.body.nodeIndices[n],m=i.body.nodes[v];if(void 0===s[v]){h=0,l=[];for(var y=0;y<m.edges.length;y++)a=m.edges[y],void 0===i.clusteredEdges[a.id]&&(a.toId!==a.fromId&&h++,l.push(a));if(h===t){c=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=p.cloneOptions(t);return e.joinCondition(i)};for(var b=!0,w=0;w<l.length;w++){a=l[w];var x=i._getConnectedId(a,v);if(!c(m)){b=!1;break}u[a.id]=a,d[v]=m,d[x]=i.body.nodes[x],s[v]=!0}if((0,o["default"])(d).length>0&&(0,o["default"])(u).length>0&&!0===b)if(f=function(){for(var t=0;t<r.length;++t)for(var e in d)if(void 0!==r[t].nodes[e])return r[t]},g=f(),void 0!==g){for(var _ in d)void 0===g.nodes[_]&&(g.nodes[_]=d[_]);for(var E in u)void 0===g.edges[E]&&(g.edges[E]=u[E])}else r.push({nodes:d,edges:u})}}},u=0;u<this.body.nodeIndices.length;u++){var c,f,g;d(u)}for(u=0;u<r.length;u++)this._cluster(r[u].nodes,r[u].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];e=this._checkOptions(e,n),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var r={},s={},a=n.id,l=p.cloneOptions(n);r[a]=n;for(var h=0;h<n.edges.length;h++){var d=n.edges[h];if(void 0===this.clusteredEdges[d.id]){var u=this._getConnectedId(d,a);if(void 0===this.clusteredNodes[u])if(u!==a)if(void 0===e.joinCondition)s[d.id]=d,r[u]=this.body.nodes[u];else{var c=p.cloneOptions(this.body.nodes[u]);!0===e.joinCondition(l,c)&&(s[d.id]=d,r[u]=this.body.nodes[u])}else s[d.id]=d}}var f=(0,o["default"])(r).map(function(t){return r[t].id});for(g in r)if(r.hasOwnProperty(g))for(var g=r[g],v=0;v<g.edges.length;v++){var m=g.edges[v];f.indexOf(this._getConnectedId(m,g.id))>-1&&(s[m.id]=m)}this._cluster(r,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,n){for(var r=void 0,s=void 0,a=void 0,l=void 0,h=void 0,d=void 0,u=(0,o["default"])(t),c=[],p=0;p<u.length;p++){s=u[p],a=t[s];for(var f=0;f<a.edges.length;f++)r=a.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(l=i.id,h=r.fromId,d=h):(l=r.toId,h=i.id,d=l),void 0===t[d]&&c.push({edge:r,fromId:h,toId:l}))}for(var g=[],v=function(t){for(var e=0;e<g.length;e++){var i=g[e],n=t.fromId===i.fromId&&t.toId===i.toId,o=t.fromId===i.toId&&t.toId===i.fromId;if(n||o)return i}return null},m=0;m<c.length;m++){var y=c[m],b=y.edge,w=v(y);null===w?(w=this._createClusteredEdge(y.fromId,y.toId,b,n),g.push(w)):w.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=w.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var a=0;a<r.length;++a)delete t[r[a]];if(0!=(0,o["default"])(t).length&&(1!=(0,o["default"])(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var l=c.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var h=[];for(var d in t)if(t.hasOwnProperty(d)){var u=p.cloneOptions(t[d]);h.push(u)}var g=[];for(var v in e)if(e.hasOwnProperty(v)&&"clusterEdge:"!==v.substr(0,12)){var m=p.cloneOptions(e[v],"edge");g.push(m)}if(l=i.processProperties(l,h,g),!l)throw new Error("The processProperties function does not return properties!")}void 0===l.id&&(l.id="cluster:"+c.randomUUID());var y=l.id;void 0===l.label&&(l.label="cluster");var b=void 0;void 0===l.x&&(b=this._getClusterPosition(t),l.x=b.x),void 0===l.y&&(void 0===b&&(b=this._getClusterPosition(t)),l.y=b.y),l.id=y;var w=this.body.functions.createNode(l,f);w.containedNodes=t,w.containedEdges=e,w.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[l.id]=w,this._clusterEdges(t,e,l,i.clusterEdgeProperties),l.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,o["default"])(t),i=t[e[0]].x,n=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].y,a=void 0,l=1;l<e.length;l++)a=t[e[l]],i=a.x<i?a.x:i,n=a.x>n?a.x:n,r=a.y<r?a.y:r,s=a.y>s?a.y:s;return{x:.5*(i+n),y:.5*(r+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),r=o.indexOf(t)-1;if(r>=0){var s=o[r],a=this.body.nodes[s];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var l=n.containedNodes,h=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"===typeof e.releaseFunction){var d={},u={x:n.x,y:n.y};for(var p in l)if(l.hasOwnProperty(p)){var f=this.body.nodes[p];d[p]={x:f.x,y:f.y}}var g=e.releaseFunction(u,d);for(var v in l)if(l.hasOwnProperty(v)){var m=this.body.nodes[v];void 0!==g[v]&&(m.x=void 0===g[v].x?n.x:g[v].x,m.y=void 0===g[v].y?n.y:g[v].y)}}else c.forEach(l,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(var y in l)if(l.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=n.vx,b.vy=n.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var w=[],x=0;x<n.edges.length;x++)w.push(n.edges[x]);for(var _=0;_<w.length;_++){for(var E=w[_],k=this._getConnectedId(E,t),T=this.clusteredNodes[k],D=0;D<E.clusteringEdgeReplacingIds.length;D++){var C=E.clusteringEdgeReplacingIds[D],S=this.body.edges[C];if(void 0!==S)if(void 0!==T){var M=this.body.nodes[T.clusterId];M.containedEdges[S.id]=S,delete h[S.id];var O=S.fromId,N=S.toId;S.toId==k?N=T.clusterId:O=T.clusterId,this._createClusteredEdge(O,N,S,M.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(S)}E.remove()}for(var A in h)h.hasOwnProperty(A)&&this._restoreEdge(h[A]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){var e=[],i=100,n=0,o=void 0;while(void 0!==this.clusteredNodes[t]&&n<i){if(o=this.body.nodes[t],void 0===o)return[];e.push(o.id),t=this.clusteredNodes[t].clusterId,n++}return o=this.body.nodes[t],void 0===o?[]:(e.push(o.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++){var o=this.body.edges[i[n]];o.setOptions(e)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){var e=[],i=100,n=0;while(void 0!==t&&void 0!==this.body.edges[t]&&n<i)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){var e=[t],i=[],n=[],o=100,r=0;while(e.length>0&&r<o){var s=e.pop();if(void 0!==s){var a=this.body.edges[s];if(void 0!==a){r++;var l=a.clusteringEdgeReplacingIds;if(void 0===l)n.push(s);else for(var h=0;h<l.length;++h){var d=l[h];-1===e.indexOf(l)&&-1===i.indexOf(l)&&e.push(d)}i.push(s)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>n&&(n=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i,e/=i;var s=e-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>n&&(l=n),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,o){var r=p.cloneOptions(i,"edge");c.deepExtend(r,n),r.from=t,r.to=e,r.id="clusterEdge:"+c.randomUUID(),void 0!==o&&c.deepExtend(r,o);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof g){var o=e,r={};r[o.id]=o,e=r}if(t instanceof v){var s=t,a={};a[s.id]=s,t=a}if(void 0===i||null===i)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(e.hasOwnProperty(l)&&void 0!==this.body.edges[l]){var h=this.body.edges[l];this._backupEdgeOptions(h),h.setOptions({physics:!1})}for(var d in t)t.hasOwnProperty(d)&&(this.clusteredNodes[d]={clusterId:i.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return c.forEach(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t=this,e=void 0,i=[],n=[],r=function(e){c.forEach(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(e)){var s=this.body.nodes[e];void 0===s&&i.push(e)}r(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var a=0;a<i.length;a++)delete this.clusteredNodes[i[a]];c.forEach(this.clusteredEdges,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()||n.push(e)}),r(function(t){c.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==n.indexOf(e)||n.push(e)})}),c.forEach(this.body.edges,function(e,i){var o=!0,r=e.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;c.forEach(r,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()&&(s+=1)}),o=s>0}e.endPointsValid()&&o||n.push(i)}),r(function(e){c.forEach(n,function(i){delete e.containedEdges[i],c.forEach(e.edges,function(o,r){o.id!==i?o.clusteringEdgeReplacingIds=t._filter(o.clusteringEdgeReplacingIds,function(t){return-1===n.indexOf(t)}):e.edges[r]=null}),e.edges=t._filter(e.edges,function(t){return null!==t})})}),c.forEach(n,function(e){delete t.clusteredEdges[e]}),c.forEach(n,function(e){delete t.body.edges[e]});var l=(0,o["default"])(this.body.edges);c.forEach(l,function(e){var i=t.body.edges[e],n=t._isClusteredNode(i.fromId)||t._isClusteredNode(i.toId);if(n!==t._isClusteredEdge(i.id)){if(!n)throw new Error("remove edge from clustering not implemented!");var o=t._getClusterNodeForNode(i.fromId);void 0!==o&&t._clusterEdges(t.body.nodes[i.fromId],i,o);var r=t._getClusterNodeForNode(i.toId);void 0!==r&&t._clusterEdges(t.body.nodes[i.toId],i,r)}});var h=!1,d=!0,u=function(){var e=[];r(function(t){var i=(0,o["default"])(t.containedNodes).length,n=!0===t.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&e.push(t.id)});for(var i=0;i<e.length;++i)t.openCluster(e[i],{},!1);d=e.length>0,h=h||d};while(d)u();h&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=p(n),r=i(0),s=p(r),a=i(1),l=p(a),h=i(4),d=p(h),u=i(5),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2),g=i(47)["default"],v=function(t){function e(t,i,n,r,a,l){(0,s["default"])(this,e);var h=(0,d["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this,t,i,n,r,a,l));return h.isCluster=!0,h.containedNodes={},h.containedEdges={},h}return(0,c["default"])(e,t),(0,l["default"])(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],f.forEach(i.edges,function(t){delete e.containedEdges[t.id]}),f.forEach(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},f.forEach(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},f.forEach(i.edges,function(t){f.forEach(e.edges,function(i){var n=i.clusteringEdgeReplacingIds.indexOf(t.id);-1!==n&&(f.forEach(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(n,1))})}),i.edges=[]}}]),e}(g);e["default"]=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===t?function(t){t()}:t}var h=i(2),d=function(){function t(e,i){(0,o["default"])(this,t),l(),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},h.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,s["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];h.selectiveDeepExtend(e,this.options,t)}}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!==typeof window){var i=void 0,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var n in e)e.hasOwnProperty(n)&&(i=e[n],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,n=this.body.nodeIndices,o=void 0,r=[],s=20,a=this.canvas.DOMtoCanvas({x:-s,y:-s}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),h={top:a.y,left:a.x,bottom:l.y,right:l.x},d=0;d<n.length;d++)o=i[n[d]],o.isSelected()?r.push(n[d]):!0===e?o.draw(t):!0===o.isBoundingBoxOverlappingWith(h)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var u=0;u<r.length;u++)o=i[r[u]],o.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)n=e[i[o]],!0===n.connected&&n.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!==typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(10),h=i(37),d=i(2),u=function(){function t(e){(0,o["default"])(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},d.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,s["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var i=["width","height","autoResize"];d.selectiveDeepExtend(i,this.options,t)}!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var t=e.setSize();!0===t&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),d.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),d.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"===typeof t)return t+"px";if("string"===typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){while(this.body.container.hasChildNodes())this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new l(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:l.DIRECTION_ALL}),h.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new l(this.frame),h.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;"undefined"!==typeof window&&(e=window.devicePixelRatio||1);var i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/i}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(76)["default"],d=function(){function t(e,i){var n=this;(0,o["default"])(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,s["default"])(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var o=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){var s=this.body.nodes[r];!0===s.predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=h.getRange(this.body.nodes,t.nodes);var a=this.body.nodeIndices.length;n=12.662/(a+7.4147)+.0964822;var l=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);n*=l}else{this.body.emitter.emit("_resizeNodes"),i=h.getRange(this.body.nodes,t.nodes);var d=1.1*Math.abs(i.maxX-i.minX),u=1.1*Math.abs(i.maxY-i.minY),c=this.canvas.frame.canvas.clientWidth/d,p=this.canvas.frame.canvas.clientHeight/u;n=c<=p?c:p}n>1?n=1:0===n&&(n=1);var f=h.findCenter(i),g={position:f,scale:n,animation:t.animation};this.moveTo(g)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=l.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(233)["default"],d=i(104)["default"],u=function(){function t(e,i,n){(0,o["default"])(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.navigationHandler=new h(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,s["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(e,this.options,t),l.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(l.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=l.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),o=!1;o=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var r=this.selectionHandler.getSelection(),s=this._determineDifference(n,r),a=this._determineDifference(r,n);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),o=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),o=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),o=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),o=!0),!0===o&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var o=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;n.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch["scale"]&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=t/i,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},void 0!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,n=e/10;e<0&&(n/=1-n),i*=1+n;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,l=this.body.nodes,h=void 0,u=[],c=0;c<a.length;c++)h=l[a[c]],!0===h.isOverlappingWith(n)&&void 0!==h.getTitle()&&u.push(a[c]);u.length>0&&(this.popupObj=l[u[u.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var p=this.body.edgeIndices,f=this.body.edges,g=void 0,v=[],m=0;m<p.length;m++)g=f[p[m]],!0===g.isOverlappingWith(n)&&!0===g.connected&&void 0!==g.getTitle()&&v.push(p[m]);v.length>0&&(this.popupObj=f[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new d(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===i)){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(10),h=i(37),d=i(35),u=function(){function t(e,i){var n=this;(0,o["default"])(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return(0,s["default"])(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode&&this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"]),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div"),this.navigationDOM["wrapper"].className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM["wrapper"].appendChild(this.navigationDOM[e[n]]);var o=new l(this.navigationDOM[e[n]]);"_fit"===i[n]?h.onTouch(o,this._fit.bind(this)):h.onTouch(o,this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(o)}var r=new l(this.canvas.frame);h.onRelease(r,function(){t._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=d({container:window,preventDefault:!0}):this.keycharm=d({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=i(47)["default"],h=i(74)["default"],d=i(2),u=function(){function t(e,i){var n=this;(0,o["default"])(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},d.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return(0,s["default"])(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];d.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i["pointer"]={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i["event"]=t,i}},{key:"_generateClickEvent",value:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,i);if(!0===o)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==n&&(r["previousSelection"]=n),"click"==t&&(r.items=this.getClickedItems(i)),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof l&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,o=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=r[a];if(l.connected){var h=l.from.x,d=l.from.y,u=l.to.x,c=l.to.y,p=l.edgeType.getDistanceToEdge(h,d,u,c,i.x,i.y);p<n&&(o=a,n=p)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(t){t instanceof l?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof l?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof l?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof l?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof l?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===i||i instanceof l&&i.id!=o||i instanceof h)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(!0===n?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof h&&i.id!=r||i instanceof l&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],n=!0));void 0!==i&&(n=n||this.emitHoverEvent(t,e,i),i instanceof l&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,n=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){n=t.nodes[i];var o=this.body.nodes[n];if(!o)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(o,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){n=t.edges[i];var r=this.body.edges[n];if(!r)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,o=this.body.nodes,r=n.length-1;r>=0;r--){var s=o[n[r]],a=s.getItemsOnPoint(e);i.push.apply(i,a)}for(var l=this.body.edgeIndices,h=this.body.edges,d=l.length-1;d>=0;d--){var u=h[l[d]],c=u.getItemsOnPoint(e);i.push.apply(i,c)}return i}}]),t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),o=p(n),r=i(6),s=p(r),a=i(8),l=p(a),h=i(0),d=p(h),u=i(1),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2),g=i(76)["default"],v=i(236),m=v.HorizontalStrategy,y=v.VerticalStrategy,b=function(){function t(){(0,d["default"])(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,c["default"])(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={},n=function t(n){if(void 0!==i[n])return i[n];var o=e.levels[n];if(e.childrenReference[n]){var r=e.childrenReference[n];if(r.length>0)for(var s=0;s<r.length;s++)o=Math.max(o,t(r[s]))}return i[n]=o,o};return n(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,o=1e9,r=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),n=Math.max(a.x,n),o=Math.min(a.y,o),r=Math.max(a.y,r)}return{min_x:i,max_x:n,min_y:o,max_y:r}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var o=0;o<i.length;o++)for(var r=0;r<n.length;r++)if(i[o]==n[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,l["default"])(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var o in n)if(n[o]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),w=function(){function t(e){(0,d["default"])(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},f.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,c["default"])(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(f.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),f.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),f.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,s["default"])(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"===typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],o=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++){var n=this.body.nodes[t[i]];!0===n.predefinedPosition&&(e+=1)}if(e<.5*t.length){var o=10,r=0,s=150,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>s){var l=t.length;while(t.length>s&&r<=o){r+=1;var h=t.length;r%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);var d=t.length;if(h==d&&r%3!==0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}r>o&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var u=70,c=0;c<t.length;c++){var p=this.body.nodes[t[c]];!1===p.predefinedPosition&&(p.x+=(.5-this.seededRandom())*u,p.y+=(.5-this.seededRandom())*u)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=g.getRangeCore(this.body.nodes,this.body.nodeIndices),e=g.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){var t=!0;while(!0===t){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new b,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},n=function(){for(var e=s(),i=0,n=0;n<e.length-1;n++){var o=e[n].max-e[n+1].min;i+=o+t.options.hierarchical.treeSpacing,r(n+1,i)}},r=function(e,i){var n=t.hierarchical.trees;for(var o in n)n.hasOwnProperty(o)&&n[o]===e&&t.direction.shift(o,i)},s=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e},a=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var o=t.hierarchical.childrenReference[i.id];if(o.length>0)for(var r=0;r<o.length;r++)e(t.body.nodes[o[r]],n)}},l=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,r=1e9,s=1e9,a=-1e9;for(var l in e)if(e.hasOwnProperty(l)){var h=t.body.nodes[l],d=t.hierarchical.levels[h.id],u=t.direction.getPosition(h),c=t._getSpaceAroundNode(h,e),p=(0,o["default"])(c,2),f=p[0],g=p[1];n=Math.min(f,n),r=Math.min(g,r),d<=i&&(s=Math.min(u,s),a=Math.max(u,a))}return[s,a,n,r]},h=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),o=t.hierarchical.getMaxLevel(i.id);return Math.min(n,o)},d=function(e,i,n){for(var o=t.hierarchical,r=0;r<i.length;r++){var s=i[r],a=o.distributionOrdering[s];if(a.length>1)for(var l=0;l<a.length-1;l++){var h=a[l],d=a[l+1];o.hasSameParent(h,d)&&o.inSameSubNetwork(h,d)&&e(h,d,n)}}},u=function(i,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.direction.getPosition(i),s=t.direction.getPosition(n),d=Math.abs(s-r),u=t.options.hierarchical.nodeSpacing;if(d>u){var c={},p={};a(i,c),a(n,p);var f=h(i,n),g=l(c,f),v=l(p,f),m=g[1],y=v[0],b=v[2],w=Math.abs(m-y);if(w>u){var x=m-y+u;x<-b+u&&(x=-b+u),x<0&&(t._shiftBlock(n.id,x),e=!0,!0===o&&t._centerParent(n))}}},c=function(n,r){for(var s=r.id,h=r.edges,d=t.hierarchical.levels[r.id],u=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},p=[],f=0;f<h.length;f++){var g=h[f];if(g.toId!=g.fromId){var v=g.toId==s?g.from:g.to;c[h[f].id]=v,t.hierarchical.levels[v.id]<d&&p.push(g)}}var m=function(e,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==c[i[o].id]){var r=t.direction.getPosition(c[i[o].id])-e;n+=r/Math.sqrt(r*r+u)}return n},y=function(e,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==c[i[o].id]){var r=t.direction.getPosition(c[i[o].id])-e;n-=u*Math.pow(r*r+u,-1.5)}return n},b=function(e,i){for(var n=t.direction.getPosition(r),o={},s=0;s<e;s++){var a=m(n,i),l=y(n,i),h=40,d=Math.max(-h,Math.min(h,Math.round(a/l)));if(n-=d,void 0!==o[n])break;o[n]=s}return n},w=function(n){var o=t.direction.getPosition(r);if(void 0===i[r.id]){var s={};a(r,s),i[r.id]=s}var h=l(i[r.id]),d=h[2],u=h[3],c=n-o,p=0;c>0?p=Math.min(c,u-t.options.hierarchical.nodeSpacing):c<0&&(p=-Math.min(-c,d-t.options.hierarchical.nodeSpacing)),0!=p&&(t._shiftBlock(r.id,p),e=!0)},x=function(i){var n=t.direction.getPosition(r),s=t._getSpaceAroundNode(r),a=(0,o["default"])(s,2),l=a[0],h=a[1],d=i-n,u=n;d>0?u=Math.min(n+(h-t.options.hierarchical.nodeSpacing),i):d<0&&(u=Math.max(n-(l-t.options.hierarchical.nodeSpacing),i)),u!==n&&(t.direction.setPosition(r,u),e=!0)},_=b(n,p);w(_),_=b(n,h),x(_)},p=function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var o=0;o<i;o++){e=!1;for(var r=0;r<n.length;r++)for(var s=n[r],a=t.hierarchical.distributionOrdering[s],l=0;l<a.length;l++)c(1e3,a[l]);if(!0!==e)break}},f=function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var o=0;o<i;o++)if(e=!1,d(u,n,!0),!0!==e)break},g=function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])},v=function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var n=e[i],o=t.hierarchical.distributionOrdering[n],r=0;r<o.length;r++)t._centerParent(o[r])};!0===this.options.hierarchical.blockShifting&&(f(5),g()),!0===this.options.hierarchical.edgeMinimization&&p(20),!0===this.options.hierarchical.parentCentralization&&v(),n()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var o=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n],a=1e9,l=1e9;if(0!==o){var h=s[o-1];if(!0===i&&void 0===e[h.id]||!1===i){var d=this.direction.getPosition(h);a=r-d}}if(o!=s.length-1){var u=s[o+1];if(!0===i&&void 0===e[u.id]||!1===i){var c=this.direction.getPosition(u);l=Math.min(l,c-r)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var n=e[i],r=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(void 0!==s){var a=this._getCenterPosition(s),l=this.direction.getPosition(r),h=this._getSpaceAroundNode(r),d=(0,o["default"])(h,2),u=d[0],c=d[1],p=l-a;(p<0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,l["default"])(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var n=0,o=0;o<i.length;o++){var r=i[o];if(void 0===this.positionedNodes[r.id]){var s=this.options.hierarchical.nodeSpacing,a=s*n;n>0&&(a=this.direction.getPosition(i[o-1])+s),this.direction.setPosition(r,a,e),this._validatePositionAndContinue(r,e,a),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var n=[],o=0;o<i.length;o++)n.push(this.body.nodes[i[o]]);this.direction.sort(n);for(var r=0;r<n.length;r++){var s=n[r],a=this.hierarchical.levels[s.id];if(!(a>e&&void 0===this.positionedNodes[s.id]))return;var l=this.options.hierarchical.nodeSpacing,h=void 0;h=0===r?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[r-1])+l,this.direction.setPosition(s,h,a),this._validatePositionAndContinue(s,a,h)}var d=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],d,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return f.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={},i=this.body.nodeIndices;f.forEach(i,function(i){var n=t.body.nodes[i],o=t._getActiveEdges(n).length;e[o]=!0});var n=[];return f.forEach(e,function(t){n.push(Number(t))}),n.sort(function(t,e){return e-t}),n}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(n){var o=i[n];if(0===o)return"break";f.forEach(t.body.nodeIndices,function(i){var n=t.body.nodes[i];o===t._getActiveEdges(n).length&&t._crawlNetwork(e,i)})},o=0;o<i.length;++o){var r=n(o);if("break"===r)break}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=1e5,i=function(t,e,i){},n=function(n,o,r){var s=t.hierarchical.levels[n.id];void 0===s&&(s=t.hierarchical.levels[n.id]=e);var a=i(g.cloneOptions(n,"node"),g.cloneOptions(o,"node"),g.cloneOptions(r,"edge"));t.hierarchical.levels[o.id]=s+a};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this,e=1e4,i=function(e){return f.forEach(t.body.edges,function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0}),!1},n=function(n,o,r){var s=t.hierarchical.levels[n.id],a=t.hierarchical.levels[o.id];i(r)&&void 0!==s&&void 0!==a||(void 0===s&&(s=t.hierarchical.levels[n.id]=e),r.toId==o.id?t.hierarchical.levels[o.id]=s+1:t.hierarchical.levels[o.id]=s-1)};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this,e=function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],n={},o=function i(o,r){if(void 0===n[o.id]){t.hierarchical.setTreeIndex(o,r),n[o.id]=!0;for(var s=void 0,a=t._getActiveEdges(o),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&(s=h.toId==o.id?h.from:h.to,o.id!=s.id&&(e(o,s,h),i(s,r)))}}};if(void 0===i)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===n[a]){var l=this.body.nodes[a];o(l,r),r+=1}}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);o(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={},o=function t(o){if(!n[o]){n[o]=!0,i.direction.shift(o,e);var r=i.hierarchical.childrenReference[o];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])}};o(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={},o=function t(e,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];e[s]=!0,t(e,s)}},r=function t(e,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];if(void 0!==e[s])return{foundParent:s,withChild:n};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}};return o(n,t),r(n,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new y(this):new m(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var o=void 0;if(void 0!==t[n].id)o=t[n];else{var r=t[n];o=this.body.nodes[r]}var s=this.direction.getPosition(o);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}]),t}();e["default"]=w},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var n=i(3),o=p(n),r=i(4),s=p(r),a=i(5),l=p(a),h=i(0),d=p(h),u=i(1),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(){(0,d["default"])(this,t)}return(0,c["default"])(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),g=function(t){function e(t){(0,d["default"])(this,e);var i=(0,s["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this));return i.layout=t,i}return(0,l["default"])(e,t),(0,c["default"])(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(f),v=function(t){function e(t){(0,d["default"])(this,e);var i=(0,s["default"])(this,(e.__proto__||(0,o["default"])(e)).call(this));return i.layout=t,i}return(0,l["default"])(e,t),(0,c["default"])(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}(f);e.HorizontalStrategy=v,e.VerticalStrategy=g},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),o=p(n),r=i(19),s=p(r),a=i(6),l=p(a),h=i(0),d=p(h),u=i(1),c=p(u);function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2),g=i(10),v=i(37),m=function(){function t(e,i,n){var o=this;(0,d["default"])(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},f.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,c["default"])(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"===typeof t?this.options.enabled=t:(this.options.enabled=!0,f.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,n=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(n)),1===t&&"function"===typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(n)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(n)),0!==i&&(t>0&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(n)):0===t&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["addDescription"]||this.options.locales["en"]["addDescription"]),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!==typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=f.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["edgeDescription"]||this.options.locales["en"]["edgeDescription"]),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,l["default"])(this.options.editEdge)||"function"!==typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),n=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var o=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=o.from.x,i.y=o.from.y),!1===n.selected&&(n.x=o.to.x,n.y=o.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from,o.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var o=0;o<e.length;o++)if(!0===this.body.nodes[e[o]].isCluster)return void alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);"function"===typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"===typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"===typeof n){var r={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=f.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+f.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},f.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(f.recursiveDOMDelete(this.editModeDiv),f.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),f.recursiveDOMDelete(this.manipulationDiv),f.recursiveDOMDelete(this.editModeDiv),f.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e;e=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var i=this._createButton("delete",e,t["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,s["default"])((0,o["default"])(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new g(t,{});v.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=f.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=n.isOverlappingWith(i),a=o.isOverlappingWith(i);!0===s?(this.selectedControlNode=n,r.edgeType.from=n):!0===a&&(this.selectedControlNode=o,r.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=f.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var o=this.body.functions.createEdge({id:"connectionEdge"+f.randomUUID(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var n=e.x-this.lastTouch.x,o=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+o}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(o[s])){r=this.body.nodes[o[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:f.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"===typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"===typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===("undefined"===typeof o?"undefined":(0,l["default"])(o))&&(o=o.editWithoutDrag),"function"===typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(30),o=u(n),r=i(0),s=u(r),a=i(1),l=u(a),h=i(239),d=u(h);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,i,n){(0,s["default"])(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new d["default"]}return(0,l["default"])(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();var r=.01,s=1,a=0,l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,d=1e9,u=0,c=0,p=0,f=0,g=0;while(d>r&&a<l){a+=1;var v=this._getHighestEnergyNode(i),m=(0,o["default"])(v,4);u=m[0],d=m[1],c=m[2],p=m[3],f=d,g=0;while(f>s&&g<h){g+=1,this._moveNode(u,c,p);var y=this._getEnergy(u),b=(0,o["default"])(y,3);f=b[0],c=b[1],p=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=0,r=e[0],s=0,a=0,l=0;l<e.length;l++){var h=e[l];if(!1===i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0===i[h].options.fixed.x||!0===i[h].options.fixed.y){var d=this._getEnergy(h),u=(0,o["default"])(d,3),c=u[0],p=u[1],f=u[2];n<c&&(n=c,r=h,s=p,a=f)}}return[r,n,s,a]}},{key:"_getEnergy",value:function(t){var e=(0,o["default"])(this.E_sums[t],2),i=e[0],n=e[1],r=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));return[r,i,n]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,o=this.body.nodes,r=0,s=0,a=0,l=o[t].x,h=o[t].y,d=this.K_matrix[t],u=this.L_matrix[t],c=0;c<n.length;c++){var p=n[c];if(p!==t){var f=o[p].x,g=o[p].y,v=d[p],m=u[p],y=1/Math.pow(Math.pow(l-f,2)+Math.pow(h-g,2),1.5);r+=v*(1-m*Math.pow(h-g,2)*y),s+=v*(m*(l-f)*(h-g)*y),a+=v*(1-m*Math.pow(l-f,2)*y)}}var b=r,w=s,x=e,_=a,E=i,k=(x/b+E/w)/(w/b-_/w),T=-(w*k+x)/b;o[t].x+=T,o[t].y+=k,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*Math.pow(t[e[n]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var o=t[n],r=e[o].x,s=e[o].y,a=0,l=0,h=n;h<t.length;h++){var d=t[h];if(d!==o){var u=e[d].x,c=e[d].y,p=1/Math.sqrt(Math.pow(r-u,2)+Math.pow(s-c,2));this.E_matrix[o][h]=[this.K_matrix[o][d]*(r-u-this.L_matrix[o][d]*(r-u)*p),this.K_matrix[o][d]*(s-c-this.L_matrix[o][d]*(s-c)*p)],this.E_matrix[d][n]=this.E_matrix[o][h],a+=this.E_matrix[o][h][0],l+=this.E_matrix[o][h][1]}}this.E_sums[o]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y,l=0,h=0,d=0;d<e.length;d++){var u=e[d];if(u!==t){var c=n[d],p=c[0],f=c[1],g=i[u].x,v=i[u].y,m=1/Math.sqrt(Math.pow(s-g,2)+Math.pow(a-v,2)),y=o[u]*(s-g-r[u]*(s-g)*m),b=o[u]*(a-v-r[u]*(a-v)*m);n[d]=[y,b],l+=y,h+=b;var w=this.E_sums[u];w[0]+=y-p,w[1]+=b-f}}this.E_sums[t]=[l,h]}}]),t}();e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=a(n),r=i(1),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,o["default"])(this,t)}return(0,s["default"])(t,[{key:"getDistances",value:function(t,e,i){for(var n={},o=t.edges,r=0;r<e.length;r++){var s=e[r],a={};n[s]=a;for(var l=0;l<e.length;l++)a[e[l]]=r==l?0:1e9}for(var h=0;h<i.length;h++){var d=o[i[h]];!0===d.connected&&void 0!==n[d.fromId]&&void 0!==n[d.toId]&&(n[d.fromId][d.toId]=1,n[d.toId][d.fromId]=1)}for(var u=e.length,c=0;c<u;c++)for(var p=e[c],f=n[p],g=0;g<u-1;g++)for(var v=e[g],m=n[v],y=g+1;y<u;y++){var b=e[y],w=n[b],x=Math.min(m[b],m[p]+f[b]);m[b]=x,w[v]=x}return n}}]),t}();e["default"]=l}])})},"549b":function(t,e,i){"use strict";var n=i("d864"),o=i("63b6"),r=i("241e"),s=i("b0dc"),a=i("3702"),l=i("b447"),h=i("20fd"),d=i("7cd6");o(o.S+o.F*!i("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,u,c=r(t),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,m=0,y=d(c);if(v&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(e=l(c.length),i=new p(e);e>m;m++)h(i,m,v?g(c[m],m):c[m]);else for(u=y.call(c),i=new p;!(o=u.next()).done;m++)h(i,m,v?s(u,g,[o.value,m],!0):o.value);return i.length=m,i}})},"54a1":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("95d5")},5752:function(t,e,i){(function(e,n){t.exports=n(i("f6ef"))})(0,function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var n=i(0).FDLayoutConstants;function o(){}for(var r in n)o[r]=n[r];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,t.exports=o},function(t,e,i){"use strict";var n=i(0).FDLayoutEdge;function o(t,e,i){n.call(this,t,e,i)}for(var r in o.prototype=Object.create(n.prototype),n)o[r]=n[r];t.exports=o},function(t,e,i){"use strict";var n=i(0).LGraph;function o(t,e,i){n.call(this,t,e,i)}for(var r in o.prototype=Object.create(n.prototype),n)o[r]=n[r];t.exports=o},function(t,e,i){"use strict";var n=i(0).LGraphManager;function o(t){n.call(this,t)}for(var r in o.prototype=Object.create(n.prototype),n)o[r]=n[r];t.exports=o},function(t,e,i){"use strict";var n=i(0).FDLayoutNode,o=i(0).IMath;function r(t,e,i,o){n.call(this,t,e,i,o)}for(var s in r.prototype=Object.create(n.prototype),n)r[s]=n[s];r.prototype.move=function(){var t=this.graphManager.getLayout();this.displacementX=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*o.sign(this.displacementY)),null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},r.prototype.propogateDisplacementToChildren=function(t,e){for(var i,n=this.getChild().getNodes(),o=0;o<n.length;o++)i=n[o],null==i.getChild()?(i.moveBy(t,e),i.displacementX+=t,i.displacementY+=e):i.propogateDisplacementToChildren(t,e)},r.prototype.setPred1=function(t){this.pred1=t},r.prototype.getPred1=function(){return pred1},r.prototype.getPred2=function(){return pred2},r.prototype.setNext=function(t){this.next=t},r.prototype.getNext=function(){return next},r.prototype.setProcessed=function(t){this.processed=t},r.prototype.isProcessed=function(){return processed},t.exports=r},function(t,e,i){"use strict";var n=i(0).FDLayout,o=i(4),r=i(3),s=i(5),a=i(2),l=i(1),h=i(0).FDLayoutConstants,d=i(0).LayoutConstants,u=i(0).Point,c=i(0).PointD,p=i(0).Layout,f=i(0).Integer,g=i(0).IGeometry,v=i(0).LGraph,m=i(0).Transform;function y(){n.call(this),this.toBeTiled={}}for(var b in y.prototype=Object.create(n.prototype),n)y[b]=n[b];y.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},y.prototype.newGraph=function(t){return new r(null,this.graphManager,t)},y.prototype.newNode=function(t){return new s(this.graphManager,t)},y.prototype.newEdge=function(t){return new a(null,null,t)},y.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=h.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=h.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=h.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=h.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=h.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/h.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=h.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},y.prototype.layout=function(){var t=d.DEFAULT_CREATE_BENDS_AS_NEEDED;return t&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},y.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var t=this.getFlatForest();if(t.length>0)this.positionNodesRadially(t);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),i=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(i),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},y.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%h.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(e),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var i=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(i,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},y.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},i=0;i<t.length;i++){var n=t[i].rect,o=t[i].id;e[o]={id:o,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return e},y.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===h.ANIMATE)this.emit("layoutstarted");else{while(!t)t=this.tick();this.graphManager.updateBounds()}},y.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,i=[],n=this.graphManager.getGraphs(),o=n.length;for(e=0;e<o;e++)t=n[e],t.updateConnected(),t.isConnected||(i=i.concat(t.getNodes()));return i},y.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,i=new Set;for(e=0;e<t.length;e++){var n=t[e];if(!i.has(n)){var o=n.getSource(),r=n.getTarget();if(o==r)n.getBendpoints().push(new c),n.getBendpoints().push(new c),this.createDummyNodesForBendpoints(n),i.add(n);else{var s=[];if(s=s.concat(o.getEdgeListToNode(r)),s=s.concat(r.getEdgeListToNode(o)),!i.has(s[0])){var a;if(s.length>1)for(a=0;a<s.length;a++){var l=s[a];l.getBendpoints().push(new c),this.createDummyNodesForBendpoints(l)}s.forEach(function(t){i.add(t)})}}}if(i.size==t.length)break}},y.prototype.positionNodesRadially=function(t){for(var e=new u(0,0),i=Math.ceil(Math.sqrt(t.length)),n=0,o=0,r=0,s=new c(0,0),a=0;a<t.length;a++){a%i==0&&(r=0,o=n,0!=a&&(o+=l.DEFAULT_COMPONENT_SEPERATION),n=0);var h=t[a],f=p.findCenterOfTree(h);e.x=r,e.y=o,s=y.radialLayout(h,f,e),s.y>n&&(n=Math.floor(s.y)),r=Math.floor(s.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new c(d.WORLD_CENTER_X-s.x/2,d.WORLD_CENTER_Y-s.y/2))},y.radialLayout=function(t,e,i){var n=Math.max(this.maxDiagonalInTree(t),l.DEFAULT_RADIAL_SEPARATION);y.branchRadialLayout(e,null,0,359,0,n);var o=v.calculateBounds(t),r=new m;r.setDeviceOrgX(o.getMinX()),r.setDeviceOrgY(o.getMinY()),r.setWorldOrgX(i.x),r.setWorldOrgY(i.y);for(var s=0;s<t.length;s++){var a=t[s];a.transform(r)}var h=new c(o.getMaxX(),o.getMaxY());return r.inverseTransformPoint(h)},y.branchRadialLayout=function(t,e,i,n,o,r){var s=(n-i+1)/2;s<0&&(s+=180);var a=(s+i)%360,l=a*g.TWO_PI/360,h=(Math.cos(l),o*Math.cos(l)),d=o*Math.sin(l);t.setCenter(h,d);var u=[];u=u.concat(t.getEdges());var c=u.length;null!=e&&c--;var p,f=0,v=u.length,m=t.getEdgesBetween(e);while(m.length>1){var b=m[0];m.splice(0,1);var w=u.indexOf(b);w>=0&&u.splice(w,1),v--,c--}p=null!=e?(u.indexOf(m[0])+1)%v:0;for(var x=Math.abs(n-i)/c,_=p;f!=c;_=++_%v){var E=u[_].getOtherEnd(t);if(E!=e){var k=(i+f*x)%360,T=(k+x)%360;y.branchRadialLayout(E,t,k,T,o+r,r),f++}}},y.maxDiagonalInTree=function(t){for(var e=f.MIN_VALUE,i=0;i<t.length;i++){var n=t[i],o=n.getDiagonal();o>e&&(e=o)}return e},y.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},y.prototype.groupZeroDegreeMembers=function(){var t=this,e={};this.memberGroups={},this.idToDummyNode={};for(var i=[],n=this.graphManager.getAllNodes(),o=0;o<n.length;o++){var r=n[o],a=r.getParent();0!==this.getNodeDegreeWithChildren(r)||void 0!=a.id&&this.getToBeTiled(a)||i.push(r)}for(o=0;o<i.length;o++){r=i[o];var l=r.getParent().id;"undefined"===typeof e[l]&&(e[l]=[]),e[l]=e[l].concat(r)}Object.keys(e).forEach(function(i){if(e[i].length>1){var n="DummyCompound_"+i;t.memberGroups[n]=e[i];var o=e[i][0].getParent(),r=new s(t.graphManager);r.id=n,r.paddingLeft=o.paddingLeft||0,r.paddingRight=o.paddingRight||0,r.paddingBottom=o.paddingBottom||0,r.paddingTop=o.paddingTop||0,t.idToDummyNode[n]=r;var a=t.getGraphManager().add(t.newGraph(),r),l=o.getChild();l.add(r);for(var h=0;h<e[i].length;h++){var d=e[i][h];l.remove(d),a.add(d)}}})},y.prototype.clearCompounds=function(){var t={},e={};this.performDFSOnCompounds();for(var i=0;i<this.compoundOrder.length;i++)e[this.compoundOrder[i].id]=this.compoundOrder[i],t[this.compoundOrder[i].id]=[].concat(this.compoundOrder[i].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[i].getChild()),this.compoundOrder[i].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,e)},y.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(i){var n=t.idToDummyNode[i];e[i]=t.tileNodes(t.memberGroups[i],n.paddingLeft+n.paddingRight),n.rect.width=e[i].width,n.rect.height=e[i].height})},y.prototype.repopulateCompounds=function(){for(var t=this.compoundOrder.length-1;t>=0;t--){var e=this.compoundOrder[t],i=e.id,n=e.paddingLeft,o=e.paddingTop;this.adjustLocations(this.tiledMemberPack[i],e.rect.x,e.rect.y,n,o)}},y.prototype.repopulateZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack;Object.keys(e).forEach(function(i){var n=t.idToDummyNode[i],o=n.paddingLeft,r=n.paddingTop;t.adjustLocations(e[i],n.rect.x,n.rect.y,o,r)})},y.prototype.getToBeTiled=function(t){var e=t.id;if(null!=this.toBeTiled[e])return this.toBeTiled[e];var i=t.getChild();if(null==i)return this.toBeTiled[e]=!1,!1;for(var n=i.getNodes(),o=0;o<n.length;o++){var r=n[o];if(this.getNodeDegree(r)>0)return this.toBeTiled[e]=!1,!1;if(null!=r.getChild()){if(!this.getToBeTiled(r))return this.toBeTiled[e]=!1,!1}else this.toBeTiled[r.id]=!1}return this.toBeTiled[e]=!0,!0},y.prototype.getNodeDegree=function(t){t.id;for(var e=t.getEdges(),i=0,n=0;n<e.length;n++){var o=e[n];o.getSource().id!==o.getTarget().id&&(i+=1)}return i},y.prototype.getNodeDegreeWithChildren=function(t){var e=this.getNodeDegree(t);if(null==t.getChild())return e;for(var i=t.getChild().getNodes(),n=0;n<i.length;n++){var o=i[n];e+=this.getNodeDegreeWithChildren(o)}return e},y.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},y.prototype.fillCompexOrderByDFS=function(t){for(var e=0;e<t.length;e++){var i=t[e];null!=i.getChild()&&this.fillCompexOrderByDFS(i.getChild().getNodes()),this.getToBeTiled(i)&&this.compoundOrder.push(i)}},y.prototype.adjustLocations=function(t,e,i,n,o){e+=n,i+=o;for(var r=e,s=0;s<t.rows.length;s++){var a=t.rows[s];e=r;for(var l=0,h=0;h<a.length;h++){var d=a[h];d.rect.x=e,d.rect.y=i,e+=d.rect.width+t.horizontalPadding,d.rect.height>l&&(l=d.rect.height)}i+=l+t.verticalPadding}},y.prototype.tileCompoundMembers=function(t,e){var i=this;this.tiledMemberPack=[],Object.keys(t).forEach(function(n){var o=e[n];i.tiledMemberPack[n]=i.tileNodes(t[n],o.paddingLeft+o.paddingRight),o.rect.width=i.tiledMemberPack[n].width+20,o.rect.height=i.tiledMemberPack[n].height+20})},y.prototype.tileNodes=function(t,e){var i=l.TILING_PADDING_VERTICAL,n=l.TILING_PADDING_HORIZONTAL,o={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:i,horizontalPadding:n};t.sort(function(t,e){return t.rect.width*t.rect.height>e.rect.width*e.rect.height?-1:t.rect.width*t.rect.height<e.rect.width*e.rect.height?1:0});for(var r=0;r<t.length;r++){var s=t[r];0==o.rows.length?this.insertNodeToRow(o,s,0,e):this.canAddHorizontal(o,s.rect.width,s.rect.height)?this.insertNodeToRow(o,s,this.getShortestRowIndex(o),e):this.insertNodeToRow(o,s,o.rows.length,e),this.shiftToLastRow(o)}return o},y.prototype.insertNodeToRow=function(t,e,i,n){var o=n;if(i==t.rows.length){var r=[];t.rows.push(r),t.rowWidth.push(o),t.rowHeight.push(0)}var s=t.rowWidth[i]+e.rect.width;t.rows[i].length>0&&(s+=t.horizontalPadding),t.rowWidth[i]=s,t.width<s&&(t.width=s);var a=e.rect.height;i>0&&(a+=t.verticalPadding);var l=0;a>t.rowHeight[i]&&(l=t.rowHeight[i],t.rowHeight[i]=a,l=t.rowHeight[i]-l),t.height+=l,t.rows[i].push(e)},y.prototype.getShortestRowIndex=function(t){for(var e=-1,i=Number.MAX_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]<i&&(e=n,i=t.rowWidth[n]);return e},y.prototype.getLongestRowIndex=function(t){for(var e=-1,i=Number.MIN_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]>i&&(e=n,i=t.rowWidth[n]);return e},y.prototype.canAddHorizontal=function(t,e,i){var n=this.getShortestRowIndex(t);if(n<0)return!0;var o=t.rowWidth[n];if(o+t.horizontalPadding+e<=t.width)return!0;var r,s,a=0;return t.rowHeight[n]<i&&n>0&&(a=i+t.verticalPadding-t.rowHeight[n]),r=t.width-o>=e+t.horizontalPadding?(t.height+a)/(o+e+t.horizontalPadding):(t.height+a)/t.width,a=i+t.verticalPadding,s=t.width<e?(t.height+a)/e:(t.height+a)/t.width,s<1&&(s=1/s),r<1&&(r=1/r),r<s},y.prototype.shiftToLastRow=function(t){var e=this.getLongestRowIndex(t),i=t.rowWidth.length-1,n=t.rows[e],o=n[n.length-1],r=o.width+t.horizontalPadding;if(t.width-t.rowWidth[i]>r&&e!=i){n.splice(-1,1),t.rows[i].push(o),t.rowWidth[e]=t.rowWidth[e]-r,t.rowWidth[i]=t.rowWidth[i]+r,t.width=t.rowWidth[instance.getLongestRowIndex(t)];for(var s=Number.MIN_VALUE,a=0;a<n.length;a++)n[a].height>s&&(s=n[a].height);e>0&&(s+=t.verticalPadding);var l=t.rowHeight[e]+t.rowHeight[i];t.rowHeight[e]=s,t.rowHeight[i]<o.height+t.verticalPadding&&(t.rowHeight[i]=o.height+t.verticalPadding);var h=t.rowHeight[e]+t.rowHeight[i];t.height+=h-l,this.shiftToLastRow(t)}},y.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},y.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},y.prototype.reduceTrees=function(){var t,e=[],i=!0;while(i){var n=this.graphManager.getAllNodes(),o=[];i=!1;for(var r=0;r<n.length;r++)t=n[r],1!=t.getEdges().length||t.getEdges()[0].isInterGraph||null!=t.getChild()||(o.push([t,t.getEdges()[0],t.getOwner()]),i=!0);if(1==i){for(var s=[],a=0;a<o.length;a++)1==o[a][0].getEdges().length&&(s.push(o[a]),o[a][0].getOwner().remove(o[a][0]));e.push(s),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=e},y.prototype.growTree=function(t){for(var e,i=t.length,n=t[i-1],o=0;o<n.length;o++)e=n[o],this.findPlaceforPrunedNode(e),e[2].add(e[0]),e[2].add(e[1],e[1].source,e[1].target);t.splice(t.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},y.prototype.findPlaceforPrunedNode=function(t){var e,i,n=t[0];i=n==t[1].source?t[1].target:t[1].source;var o=i.startX,r=i.finishX,s=i.startY,a=i.finishY,l=0,d=0,u=0,c=0,p=[l,u,d,c];if(s>0)for(var g=o;g<=r;g++)p[0]+=this.grid[g][s-1].length+this.grid[g][s].length-1;if(r<this.grid.length-1)for(g=s;g<=a;g++)p[1]+=this.grid[r+1][g].length+this.grid[r][g].length-1;if(a<this.grid[0].length-1)for(g=o;g<=r;g++)p[2]+=this.grid[g][a+1].length+this.grid[g][a].length-1;if(o>0)for(g=s;g<=a;g++)p[3]+=this.grid[o-1][g].length+this.grid[o][g].length-1;for(var v,m,y=f.MAX_VALUE,b=0;b<p.length;b++)p[b]<y?(y=p[b],v=1,m=b):p[b]==y&&v++;if(3==v&&0==y)0==p[0]&&0==p[1]&&0==p[2]?e=1:0==p[0]&&0==p[1]&&0==p[3]?e=0:0==p[0]&&0==p[2]&&0==p[3]?e=3:0==p[1]&&0==p[2]&&0==p[3]&&(e=2);else if(2==v&&0==y){var w=Math.floor(2*Math.random());e=0==p[0]&&0==p[1]?0==w?0:1:0==p[0]&&0==p[2]?0==w?0:2:0==p[0]&&0==p[3]?0==w?0:3:0==p[1]&&0==p[2]?0==w?1:2:0==p[1]&&0==p[3]?0==w?1:3:0==w?2:3}else if(4==v&&0==y){w=Math.floor(4*Math.random());e=w}else e=m;0==e?n.setCenter(i.getCenterX(),i.getCenterY()-i.getHeight()/2-h.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==e?n.setCenter(i.getCenterX()+i.getWidth()/2+h.DEFAULT_EDGE_LENGTH+n.getWidth()/2,i.getCenterY()):2==e?n.setCenter(i.getCenterX(),i.getCenterY()+i.getHeight()/2+h.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(i.getCenterX()-i.getWidth()/2-h.DEFAULT_EDGE_LENGTH-n.getWidth()/2,i.getCenterY())},t.exports=y},function(t,e,i){"use strict";var n={};n.layoutBase=i(0),n.CoSEConstants=i(1),n.CoSEEdge=i(2),n.CoSEGraph=i(3),n.CoSEGraphManager=i(4),n.CoSELayout=i(6),n.CoSENode=i(5),t.exports=n}])})},"57b1":function(t,e,i){var n=i("d864"),o=i("335c"),r=i("241e"),s=i("b447"),a=i("bfac");t.exports=function(t,e){var i=1==t,l=2==t,h=3==t,d=4==t,u=6==t,c=5==t||u,p=e||a;return function(e,a,f){for(var g,v,m=r(e),y=o(m),b=n(a,f,3),w=s(y.length),x=0,_=i?p(e,w):l?p(e,0):void 0;w>x;x++)if((c||x in y)&&(g=y[x],v=b(g,x,m),t))if(i)_[x]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:_.push(g)}else if(d)return!1;return u?-1:h||d?d:_}}},"57e3":function(t,e,i){i("68f7")("Set")},"5aee":function(t,e,i){"use strict";var n=i("d9f6").f,o=i("a159"),r=i("5c95"),s=i("d864"),a=i("1173"),l=i("a22a"),h=i("30f1"),d=i("50ed"),u=i("4c95"),c=i("8e60"),p=i("ebfd").fastKey,f=i("9f79"),g=c?"_s":"size",v=function(t,e){var i,n=p(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,h){var d=t(function(t,n){a(t,d,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&l(n,i,t[h],t)});return r(d.prototype,{clear:function(){for(var t=f(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=f(this,e),n=v(i,t);if(n){var o=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),i._f==n&&(i._f=o),i._l==n&&(i._l=r),i[g]--}return!!n},forEach:function(t){f(this,e);var i,n=s(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!v(f(this,e),t)}}),c&&n(d.prototype,"size",{get:function(){return f(this,e)[g]}}),d},def:function(t,e,i){var n,o,r=v(t,e);return r?r.v=i:(t._l=r={i:o=p(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[g]++,"F"!==o&&(t._i[o]=r)),t},getEntry:v,setStrong:function(t,e,i){h(t,e,function(t,i){this._t=f(t,e),this._k=i,this._l=void 0},function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?d(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,d(1))},i?"entries":"values",!i,!0),u(e)}}},"5c95":function(t,e,i){var n=i("35e8");t.exports=function(t,e,i){for(var o in e)i&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},"5dbc":function(t,e,i){var n=i("d3f4"),o=i("8b97").set;t.exports=function(t,e,i){var r,s=e.constructor;return s!==i&&"function"==typeof s&&(r=s.prototype)!==i.prototype&&n(r)&&o&&o(t,r),t}},"605d":function(t,e,i){t.exports=i.p+"img/clothes.2b623ebd.svg"},"68f7":function(t,e,i){"use strict";var n=i("63b6"),o=i("79aa"),r=i("d864"),s=i("a22a");t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,a,l=arguments[1];return o(this),e=void 0!==l,e&&o(l),void 0==t?new this:(i=[],e?(n=0,a=r(l,arguments[2],2),s(t,!1,function(t){i.push(a(t,n++))})):s(t,!1,i.push,i),new this(i))}})}},"6b54":function(t,e,i){"use strict";i("3846");var n=i("cb7c"),o=i("0bfb"),r=i("9e1e"),s="toString",a=/./[s],l=function(t){i("2aba")(RegExp.prototype,s,t,!0)};i("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?l(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):a.name!=s&&l(function(){return a.call(this)})},7075:function(t,e,i){"use strict";var n=i("63b6");t.exports=function(t){n(n.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},"710c":function(t,e,i){},7397:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vis"},[i("div",{ref:"vis",staticClass:"graph"})])},o=[],r=(i("ac6a"),i("6b54"),i("d225")),s=i("b0b4"),a=i("4f27"),l=i.n(a),h=function(){function t(e,i,n){Object(r["a"])(this,t),this.el=e,this.data=i,this.option=this._merge({edges:{color:"#909090",smooth:{enabled:!1}},interaction:{hover:!0,zoomView:!0}},n||{}),this.clusterDelta={},this._event=[],this._init()}return Object(s["a"])(t,[{key:"_isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"_merge",value:function(t,e){if(this._isObject(t)&&this._isObject(e)){for(var i in e)this._isObject(e[i])&&this._isObject(t[i])?t[i]=this._merge(t[i],e[i]):t[i]=e[i];return t}console.error("target or source must be Object")}},{key:"_init",value:function(){this.graph=new l.a.Network(this.el,this.data,this.option)}},{key:"_destory",value:function(){var t=this;this._event.forEach(function(e){return t.graph.off(e.type,e.handler)}),this.clusterDelta={},this._event=[]}},{key:"_clusterClick",value:function(t){var e=this;if(t.nodes.length){var i=t.nodes[0];this.graph.isCluster(i)&&(this.clusterDelta[i]=this.clusterDelta[i]||{},this.graph.openCluster(i,{releaseFunction:function(t,n){var o={};for(var r in n)o[r]={x:n[r].x+(e.clusterDelta[i].x||0),y:n[r].y+(e.clusterDelta[i].y||0)};return o}}))}}},{key:"_clusterDragEnd",value:function(t){if(t.nodes.length){var e=t.nodes[0];this.graph.isCluster(e)&&(this.clusterDelta[e]=this.clusterDelta[e]||{x:0,y:0},this.clusterDelta[e].x+=t.event.deltaX,this.clusterDelta[e].y+=t.event.deltaY)}}},{key:"cluster",value:function(t){this.graph.cluster(t)}},{key:"setData",value:function(t){this.graph.setData(t)}},{key:"dataSet",value:function(t){return new l.a.DataSet(t)}}]),t}(),d=h,u=i("8e8a"),c=new l.a.DataSet(u["a"].filter(function(t){return"nodes"===t.group}).map(function(t){return t.data})),p=new l.a.DataSet(u["a"].filter(function(t){return"edges"===t.group}).map(function(t){return t.data.from=t.data.source,t.data.to=t.data.target,t.data})),f={nodes:c,edges:p},g={name:"vis",data:function(){return{progress:0,grapha:null}},methods:{},mounted:function(){console.log("visdata = ",f);new d(this.$refs.vis,f,{edges:{shadow:!0,smooth:!0,arrows:{to:!0}},nodes:{shape:"dot",size:30,font:{size:10},borderWidth:2,shadow:!0}})}},v=g,m=(i("3556"),i("2877")),y=Object(m["a"])(v,n,o,!1,null,"2407eecf",null);e["default"]=y.exports},"74be":function(t,e,i){var n=i("63b6");n(n.P+n.R,"Set",{toJSON:i("f228")("Set")})},7514:function(t,e,i){"use strict";var n=i("5ca1"),o=i("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(r)},"774e":function(t,e,i){t.exports=i("d2d5")},"7a39":function(t,e,i){t.exports=i.p+"img/computer.5b459181.svg"},"7c75":function(t,e,i){t.exports=i.p+"img/person.9cb95bf6.svg"},"7cd6":function(t,e,i){var n=i("40c3"),o=i("5168")("iterator"),r=i("481b");t.exports=i("584a").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},"85f2":function(t,e,i){t.exports=i("454f")},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},"8b97":function(t,e,i){var n=i("d3f4"),o=i("cb7c"),r=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:r}},"8e8a":function(t,e,i){"use strict";var n=i("0a0d"),o=i.n(n),r=(i("c5f6"),i("6b54"),["hospital","clothes","computer","person"]);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(t||"")+Number(Math.random().toString().substr(3,e)+o()()).toString(36)}function a(t){for(var e=[],i=0;i<t;i++){var n={id:s(),group:r[Math.floor(Math.random()*r.length)]};n.label=n.group+"-node"+i,e.push({group:"nodes",data:n,id:n.id})}return e}function l(t,e){for(var i=[],n=function(e){var n=t[Math.floor(Math.random()*t.length)].data.id,o=t.filter(function(t){return t.data.id!==n})[Math.floor(Math.random()*(t.length-1))].data.id,r={target:n,source:o};r.label=r.group+"-edge"+e,r.name=r.group+"-edge"+e,i.push({data:r,group:"edges",id:r.id,time:"2019-05-01"})},o=0;o<e;o++)n(o);return i}function h(t){var e=a(t),i=l(e,t);return e.concat(i)}e["a"]=h(20)},9093:function(t,e,i){var n=i("ce10"),o=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},"95d5":function(t,e,i){var n=i("40c3"),o=i("5168")("iterator"),r=i("481b");t.exports=i("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(n(e))}},"9f79":function(t,e,i){var n=i("f772");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},a21f:function(t,e,i){var n=i("584a"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},a22a:function(t,e,i){var n=i("d864"),o=i("b0dc"),r=i("3702"),s=i("e4ae"),a=i("b447"),l=i("7cd6"),h={},d={};e=t.exports=function(t,e,i,u,c){var p,f,g,v,m=c?function(){return t}:l(t),y=n(i,u,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(p=a(t.length);p>b;b++)if(v=e?y(s(f=t[b])[0],f[1]):y(t[b]),v===h||v===d)return v}else for(g=m.call(t);!(f=g.next()).done;)if(v=o(g,y,f.value,e),v===h||v===d)return v};e.BREAK=h,e.RETURN=d},a4bb:function(t,e,i){t.exports=i("8aae")},a745:function(t,e,i){t.exports=i("f410")},a9f5:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("cytoscape",{ref:"cytoscape",attrs:{options:t.options,data:t.graphData}})],1)},o=[],r=i("8e8a"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cytoscape",staticClass:"cytoscape"},[i("div",{staticClass:"buttons"},t._l(t.groups,function(e,n){return i("div",{staticClass:"checkbox",attrs:{onselectstart:"return false;"},on:{click:function(e){return t.checkboxChange(n)}}},[i("span",{staticClass:"color",style:{background:t.checkBoxModel[n]?t.colorByGroup[e]:"none",border:"1px solid "+t.colorByGroup[e]}},[t.checkBoxModel[n]?i("img",{attrs:{src:t.imgByGroup[e],height:"100%;"}}):t._e()]),i("span",{staticClass:"text"},[t._v(t._s(e))])])}),0)])},a=[],l=i("a4bb"),h=i.n(l),d=(i("ac6a"),i("b6d0")),u=i.n(d),c=i("774e"),p=i.n(c),f=i("f499"),g=i.n(f),v=i("d225"),m=i("b0b4"),y=i("44e1"),b=i.n(y),w=i("0f53"),x=i.n(w),_=i("1157"),E=i.n(_),k=i("1776"),T=i.n(k),D=(i("ab89"),i("0a0d")),C=i.n(D),S=(i("c5f6"),i("7514"),i("a745")),M=i.n(S);function O(t){if(M()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var N=i("c8bb"),A=i.n(N);function P(t){if(A()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return p()(t)}function I(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function L(t){return O(t)||P(t)||I()}i("6b54");var R=function(t){return"[object Object]"===Object.prototype.toString.call(t)},B=function(t){return"[object Array]"===Object.prototype.toString.call(t)},F=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"merge",i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(R(i)&&R(n))for(var o in n)R(n[o])&&R(i[o])?i[o]=t(e,i[o],n[o]):B(n[o])&&B(i[o])?i[o]=t(e,i[o],n[o]):i[o]=n[o];else B(i)&&B(n)?"merge"===e?i=p()(new u.a([].concat(L(i),L(n)))):"concat"===e?i=i.concat(n):"findSelector"===e?n.forEach(function(n){var o=i.find(function(t){return t.selector===n.selector});o?o=t(e,o,n):i.push(n)}):i=n:console.error("target or source must be Object or Array");return i},z=function t(){var e=p()(arguments);return e.length<2&&console.error("target or source cannot be null"),e[1]=F.apply(void 0,L(e)),e.splice(2,1),e.length>2?t.apply(void 0,L(e)):2===e.length?e[1]:void console.error("target or source cannot be null")},j=function(){var t=p()(arguments);return z.apply(void 0,["merge"].concat(L(t)))},H=function(){var t=p()(arguments);return z.apply(void 0,["findSelector"].concat(L(t)))},Y=function(){var t=p()(arguments);return z.apply(void 0,["concat"].concat(L(t)))},G=function(){var t=p()(arguments);return z.apply(void 0,["replace"].concat(L(t)))},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(t||"")+Number(Math.random().toString().substr(3,e)+C()()).toString(36)};b.a.use(T.a,E.a),b.a.use(x.a);var V=function(){function t(e,i,n){Object(v["a"])(this,t),this._el=e,this._data=i,this.option=n||{},this._filterData={},this._cytoscape=null,this._event=[],this._init()}return Object(m["a"])(t,[{key:"_init",value:function(){var t=this,e=Y({},this.option,{container:this._el,elements:this._data});this._cytoscape=b()(e);var i="";["mouseover","mouseout","click","cxttap"].forEach(function(e){t._event.push({type:e,selector:i,handler:t["_".concat(e)]}),i?t._cytoscape.on(e,i,t["_".concat(e)]):t._cytoscape.on(e,t["_".concat(e)])})}},{key:"_cxttap",value:function(t){var e=t.target;this.elements().unselect(),(e.isNode||e.isEdge)&&this.elements(e).select()}},{key:"_click",value:function(t){var e=t.target;this.elements().unselect(),(e.isNode||e.isEdge)&&this.elements(e).select()}},{key:"_mouseover",value:function(t){var e=t.target;if(e.isNode||e.isEdge){var i=this.elements(e),n=i.neighborhood(),o=i.connectedNodes(),r=i.merge(n).merge(o),s=this.elements().difference(r);s.addClass("unhover"),r.addClass("hover")}}},{key:"_mouseout",value:function(t){var e=t.target;if(e.isNode||e.isEdge){var i=this.elements(e),n=i.neighborhood(),o=i.connectedNodes(),r=i.merge(n).merge(o),s=this.elements().difference(r);s.removeClass("unhover"),r.removeClass("hover")}}},{key:"_getMergedData",value:function(t){return h()(t).reduce(function(e,i){return h()(e).forEach(function(n){e[n].merge(t[i][n])}),e},{nodes:this._cytoscape.collection(),edges:this._cytoscape.collection()})}},{key:"_getAllNodes",value:function(){var t=this;return this._cytoscape.elements("node").merge(h()(this._filterData).reduce(function(e,i){return e.merge(t._filterData[i].nodes)},this._cytoscape.collection()))}},{key:"_getAllEdges",value:function(){var t=this;return this._cytoscape.elements("edge").merge(h()(this._filterData).reduce(function(e,i){return e.merge(t._filterData[i].edges)},this._cytoscape.collection()))}},{key:"_hasIdInGraph",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"node";return this._cytoscape.elements("".concat(e,"#").concat(t)).length}},{key:"_canDrawEdge",value:function(t){return this._hasIdInGraph(t.source)&&this._hasIdInGraph(t.target)&&!this._hasIdInGraph(t.id,"edge")}},{key:"_canRemoveEdge",value:function(t){return this._hasIdInGraph(t.source)&&this._hasIdInGraph(t.target)&&this._hasIdInGraph(t.id,"edge")}},{key:"_canDrawNode",value:function(t){return!this._hasIdInGraph(t.id)}},{key:"_calcCenterFromNodes",value:function(t){return t.reduce(function(t,e,i){return{x:((t&&t.x||t&&t.position&&t.position("x")||0)*i+(e.position("x")||0))/(i+1),y:((t&&t.y||t&&t.position&&t.position("y")||0)*i+(e.position("y")||0))/(i+1)}},{x:0,y:0})}},{key:"destroy",value:function(){var t=this;this._event.forEach(function(e){return e.selector?t._cytoscape.off(e.type,e.selector,e.handler):t._cytoscape.off(e.type,e.handler)}),this._event=[],this._cytoscape.destroy()}},{key:"data",value:function(t){if(this._cytoscape){this._cytoscape.resize(),this.remove(),this._cytoscape.add(t);var e=this._cytoscape.layout({name:"fcose"});e.run()}}},{key:"remove",value:function(){this._cytoscape&&this._cytoscape.remove(this._cytoscape.elements())}},{key:"filterNodesByFunction",value:function(t){var e=this,i=this._getAllNodes(),n=i.filter(function(i){return!t(i)&&e._hasIdInGraph(i.id())}),o=n.connectedEdges().filter(function(t){return e._canRemoveEdge(t.data())}),r=W("func");return this._filterData[r]={nodes:n,edges:o},this._cytoscape.remove(n),r}},{key:"filterEdgesByFunction",value:function(t){var e=this,i=this._getAllEdges(),n=i.filter(function(i){return!t(i)&&e._canRemoveEdge(i.data())}),o=n.sources().merge(n.targets()).filter(function(t){return n.contains(t.connectedEdges())&&e._hasIdInGraph(t.id())}),r=W("func");return this._filterData[r]={nodes:o,edges:n},this._cytoscape.remove(o),this._cytoscape.remove(n),r}},{key:"reset",value:function(t){var e,i=this;e=t?this._filterData[t]:this._getMergedData(this._filterData),this._cytoscape.add(e.nodes.filter(function(t){return i._canDrawNode(t.data())}));var n=e.edges.filter(function(t){return i._canDrawEdge(t.data())}),o=e.edges.difference(n);h()(this._filterData).forEach(function(t){i._filterData[t].edges.merge(o.filter(function(e){return i._filterData[t].nodes.getElementById(e.data("source"))||i._filterData[t].nodes.getElementById(e.data("target"))}))}),this._cytoscape.add(n),t?delete this._filterData[t]:this._filterData={}}},{key:"cytoscape",get:function(){return this._cytoscape}}]),t}(),U=V,q={legend:{key:"group"},group:{colors:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]},cytoscape:{layout:{name:"fcose",randomize:!0,animate:!1},style:[{selector:":active",style:{"overlay-opacity":0}},{selector:"node:selected",style:{"border-color":"rgba(5, 161, 140, 1)","border-width":2}},{selector:"node",style:{content:"data(name)","background-color":"rgba(5, 161, 140, 0.7)","z-index-compare":"manual","z-index":2}},{selector:"node[label]",style:{label:"data(label)","font-size":"9px",color:"#666","z-index":2}},{selector:"edge",style:{width:1,"curve-style":"bezier","target-arrow-shape":"vee","target-arrow-color":"#dddddd","line-color":"#dddddd","z-index":1}},{selector:"edge[label]",style:{"font-size":"9px",color:"#666","z-index":1}},{selector:".hover",style:{"target-arrow-color":"#aaa","line-color":"#aaa",color:"#333","background-opacity":1,"z-index":99}},{selector:"edge.hover",style:{width:2,"z-index":98}},{selector:".unhover",style:{"target-arrow-color":"#eee","line-color":"#eee",color:"#eee","background-opacity":.3,"z-index":0}},{selector:"edge.unhover",style:{width:1}}],minZoom:.5,maxZoom:10}},X=JSON.parse(g()(q)),K={name:"cytoscape",props:{options:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return r["a"]}}},data:function(){return{$cy:null,timeStamp:0,checkBoxModel:[],filterIds:{}}},computed:{grid:function(){var t=JSON.parse(g()(X.grid||{}));return G(t,this.options.grid)||{}},colors:function(){if(this.options.group&&this.options.group.colors){var t=JSON.parse(g()(this.options.group.colors));if(B(t))return j(t,X.colors);if(R(t))return t}return X.group&&X.group.colors||{}},images:function(){if(this.options.group&&this.options.group.images){var t=JSON.parse(g()(this.options.group.images));if(B(t))return j(t,X.colors);if(R(t))return t}return X.group&&X.group.images||{}},legend:function(){var t=JSON.parse(g()(X.legend||{}));return G(t,this.options.legend||{})||{}},cytoscapeOptions:function(){var t=this,e=JSON.parse(g()(X.cytoscape||{}));return H(e,{style:[{selector:"node",style:{content:"data(name)",shape:"barrel","background-color":function(e){return e.data(t.legend.key)&&t.colorByGroup[e.data(t.legend.key)]||"#ccc"},"background-image":function(e){return e.data(t.legend.key)&&t.imgByGroup[e.data(t.legend.key)]||"none"},"background-width":"80%","background-height":"80%","background-repeat":"no-repeat","background-opacity":.6,"z-index-compare":"manual","z-index":2}}]},this.options.cytoscape||{})},groups:function(){var t=this;return p()(new u.a(this.data.filter(function(t){return"nodes"===t.group}).map(function(e){return e.data[t.legend.key]}).filter(function(t){return!!t})))},colorByGroup:function(){var t=this;if(R(this.colors))return this.colors;var e={};return this.groups.forEach(function(i,n){n%=t.colors.length,e[i]=t.colors[n]}),e},imgByGroup:function(){var t=this;if(R(this.images))return this.images;var e={};return this.groups.forEach(function(i,n){n%=t.images.length,e[i]=t.images[n]}),e}},watch:{data:{handler:function(t){this.$cy&&(this.$cy.data(t),this.checkBoxModel=this.groups.map(function(){return!0}))},deep:!0}},methods:{checkboxChange:function(t){var e=this,i=(new Date).getTime();if(i-this.timeStamp<200){this.timeStamp=i,clearTimeout(this.timeout);var n=this.checkBoxModel[t];this.groups.forEach(function(i,o){o===t?e.$set(e.checkBoxModel,o,!n):e.$set(e.checkBoxModel,o,n),e.checkBoxModel[o]&&e.filterIds[i]?(e.$cy.reset(e.filterIds[i]),delete e.filterIds[i]):e.checkBoxModel[o]||e.filterIds[i]||(e.filterIds[i]=e.$cy.filterNodesByFunction(function(t){return t.data(e.legend.key)!==i}))})}else{this.timeStamp=i;var o=this.groups[t];this.timeout=setTimeout(function(){e.$set(e.checkBoxModel,t,!e.checkBoxModel[t]),e.checkBoxModel[t]&&e.filterIds[o]?(e.$cy.reset(e.filterIds[o]),delete e.filterIds[o]):e.filterIds[o]=e.$cy.filterNodesByFunction(function(t){return t.data(e.legend.key)!==o})},200)}},reset:function(t){this.$cy&&this.$cy.reset(t)},filterEdgesByFunction:function(t){return this.$cy&&this.$cy.filterEdgesByFunction(t)},filterNodesByFunction:function(t){return this.$cy&&this.$cy.filterNodesByFunction(t)},createContextMenu:function(t){var e=t.target;(e.isNode||e.isEdge)&&(this.$contextMenus&&this.$contextMenus.destroy(),this.$contextMenus=this.$cy.cytoscape.contextMenus({menuItems:h()(e.data()).map(function(t){return{id:t,content:"".concat(t,": ").concat(e.data(t)),selector:"node, edge",onClickFunction:function(){console.log("remove element")},disabled:!1,show:!0,hasTrailingDivider:!0,coreAsWell:!1}})}))}},mounted:function(){var t=this.$refs.cytoscape;this.checkBoxModel=this.groups.map(function(){return!0}),this.$cy=new U(t,this.data,this.cytoscapeOptions),this.$cy.cytoscape.on("mouseover",this.createContextMenu)},beforeDestroy:function(){this.$contextMenus&&this.$contextMenus.destroy(),this.$cy.cytoscape.off("mouseover",this.createContextMenu),this.$cy.destroy()}},Z=K,$=(i("c3d3"),i("2877")),Q=Object($["a"])(Z,s,a,!1,null,"66e977f4",null),J=Q.exports,tt=i("d497"),et=i.n(tt),it=i("7c75"),nt=i.n(it),ot=i("7a39"),rt=i.n(ot),st=i("605d"),at=i.n(st),lt={name:"cytoscapePage",components:{cytoscape:J},data:function(){return{options:{group:{images:{hospital:et.a,clothes:at.a,computer:rt.a,person:nt.a}}},graphData:[]}},mounted:function(){this.graphData=r["a"]}},ht=lt,dt=(i("acc9"),Object($["a"])(ht,n,o,!1,null,"4e9dabaa",null));e["default"]=dt.exports},aa77:function(t,e,i){var n=i("5ca1"),o=i("be13"),r=i("79e5"),s=i("fdef"),a="["+s+"]",l="âÂ",h=RegExp("^"+a+a+"*"),d=RegExp(a+a+"*$"),u=function(t,e,i){var o={},a=r(function(){return!!s[t]()||l[t]()!=l}),h=o[t]=a?e(c):s[t];i&&(o[i]=h),n(n.P+n.F*a,"String",o)},c=u.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(h,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},ab89:function(t,e,i){},ac6a:function(t,e,i){for(var n=i("cadf"),o=i("0d58"),r=i("2aba"),s=i("7726"),a=i("32e9"),l=i("84f2"),h=i("2b4c"),d=h("iterator"),u=h("toStringTag"),c=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(p),g=0;g<f.length;g++){var v,m=f[g],y=p[m],b=s[m],w=b&&b.prototype;if(w&&(w[d]||a(w,d,c),w[u]||a(w,u,m),l[m]=c,y))for(v in n)w[v]||r(w,v,n[v],!0)}},acc9:function(t,e,i){"use strict";var n=i("710c"),o=i.n(n);o.a},ada4:function(t,e,i){"use strict";var n=i("e53d"),o=i("63b6"),r=i("ebfd"),s=i("294c"),a=i("35e8"),l=i("5c95"),h=i("a22a"),d=i("1173"),u=i("f772"),c=i("45f2"),p=i("d9f6").f,f=i("57b1")(0),g=i("8e60");t.exports=function(t,e,i,v,m,y){var b=n[t],w=b,x=m?"set":"add",_=w&&w.prototype,E={};return g&&"function"==typeof w&&(y||_.forEach&&!s(function(){(new w).entries().next()}))?(w=e(function(e,i){d(e,w,t,"_c"),e._c=new b,void 0!=i&&h(i,m,e[x],e)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in _&&(!y||"clear"!=t)&&a(w.prototype,t,function(i,n){if(d(this,w,t),!e&&y&&!u(i))return"get"==t&&void 0;var o=this._c[t](0===i?0:i,n);return e?this:o})}),y||p(w.prototype,"size",{get:function(){return this._c.size}})):(w=v.getConstructor(e,t,m,x),l(w.prototype,i),r.NEED=!0),c(w,t),E[t]=w,o(o.G+o.W+o.F,E),y||v.setStrong(w,t,m),w}},b0b4:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("85f2"),o=i.n(n);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),o()(t,n.key,n)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}},b0dc:function(t,e,i){var n=i("e4ae");t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(s){var r=t["return"];throw void 0!==r&&n(r.call(t)),s}}},b6d0:function(t,e,i){t.exports=i("fa2b")},bfac:function(t,e,i){var n=i("0b64");t.exports=function(t,e){return new(n(t))(e)}},c3d3:function(t,e,i){"use strict";var n=i("40fd"),o=i.n(n);o.a},c5f6:function(t,e,i){"use strict";var n=i("7726"),o=i("69a8"),r=i("2d95"),s=i("5dbc"),a=i("6a99"),l=i("79e5"),h=i("9093").f,d=i("11e9").f,u=i("86cc").f,c=i("aa77").trim,p="Number",f=n[p],g=f,v=f.prototype,m=r(i("2aeb")(v))==p,y="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():c(e,3);var i,n,o,r=e.charCodeAt(0);if(43===r||45===r){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var s,l=e.slice(2),h=0,d=l.length;h<d;h++)if(s=l.charCodeAt(h),s<48||s>o)return NaN;return parseInt(l,n)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof f&&(m?l(function(){v.valueOf.call(i)}):r(i)!=p)?s(new g(b(e)),i,f):b(e)};for(var w,x=i("9e1e")?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)o(g,w=x[_])&&!o(f,w)&&u(f,w,d(g,w));f.prototype=v,v.constructor=f,i("2aba")(n,p,f)}},c6fb:function(t,e,i){i("7075")("Set")},c8bb:function(t,e,i){t.exports=i("54a1")},cb27:function(module,exports,__webpack_require__){"use strict";(function(global){var numeric=exports;"undefined"!==typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var i,n,o,r;"undefined"===typeof e&&(e=15),o=.5,i=new Date;while(1){for(o*=2,r=o;r>3;r-=4)t(),t(),t(),t();while(r>0)t(),r--;if(n=new Date,n-i>e)break}for(r=o;r>3;r-=4)t(),t(),t(),t();while(r>0)t(),r--;return n=new Date,1e3*(3*o-1)/(n-i)},numeric._myIndexOf=function(t){var e,i=this.length;for(e=0;e<i;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var i=Math.floor(Math.log(t)/Math.log(10)),n=t/Math.pow(10,i),o=n.toPrecision(numeric.precision);return 10===parseFloat(o)&&(i++,n=1,o=n.toPrecision(numeric.precision)),parseFloat(o).toString()+"e"+i.toString()}return"Infinity"}var i=[];function n(t){var o;if("undefined"===typeof t)return i.push(Array(numeric.precision+8).join(" ")),!1;if("string"===typeof t)return i.push('"'+t+'"'),!1;if("boolean"===typeof t)return i.push(t.toString()),!1;if("number"===typeof t){var r=e(t),s=t.toPrecision(numeric.precision),a=parseFloat(t.toString()).toString(),l=[r,s,a,parseFloat(s).toString(),parseFloat(a).toString()];for(o=1;o<l.length;o++)l[o].length<r.length&&(r=l[o]);return i.push(Array(numeric.precision+8-r.length).join(" ")+r),!1}if(null===t)return i.push("null"),!1;if("function"===typeof t){i.push(t.toString());var h=!1;for(o in t)t.hasOwnProperty(o)&&(h?i.push(",\n"):i.push("\n{"),h=!0,i.push(o),i.push(": \n"),n(t[o]));return h&&i.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return i.push("...Large Array..."),!0;h=!1;for(i.push("["),o=0;o<t.length;o++)o>0&&(i.push(","),h&&i.push("\n ")),h=n(t[o]);return i.push("]"),!0}i.push("{");h=!1;for(o in t)t.hasOwnProperty(o)&&(h&&i.push(",\n"),h=!0,i.push(o),i.push(": \n"),n(t[o]));return i.push("}"),!0}return n(t),i.join("")},numeric.parseDate=function(t){function e(t){if("string"===typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var i,n=[];for(i=0;i<t.length;i++)n[i]=e(t[i]);return n}return e(t)},numeric.parseFloat=function(t){function e(t){if("string"===typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var i,n=[];for(i=0;i<t.length;i++)n[i]=e(t[i]);return n}return e(t)},numeric.parseCSV=function(t){var e,i,n=t.split("\n"),o=[],r=/(([^'",]*)|('[^']*')|("[^"]*")),/g,s=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(t){return t.substr(0,t.length-1)},l=0;for(i=0;i<n.length;i++){var h,d=(n[i]+",").match(r);if(d.length>0){for(o[l]=[],e=0;e<d.length;e++)h=a(d[e]),s.test(h)?o[l][e]=parseFloat(h):o[l][e]=h;l++}}return o},numeric.toCSV=function(t){var e,i,n,o,r,s=numeric.dim(t);for(n=s[0],s[1],r=[],e=0;e<n;e++){for(o=[],i=0;i<n;i++)o[i]=t[e][i].toString();r[e]=o.join(", ")}return r.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t){var e,i,n,o,r,s,a,l,h=t.length,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="";for(e=0;e<h;e+=3)i=t[e],n=t[e+1],o=t[e+2],r=i>>2,s=((3&i)<<4)+(n>>4),a=((15&n)<<2)+(o>>6),l=63&o,e+1>=h?a=l=64:e+2>=h&&(l=64),u+=d.charAt(r)+d.charAt(s)+d.charAt(a)+d.charAt(l);return u}function i(t,e,i){"undefined"===typeof e&&(e=0),"undefined"===typeof i&&(i=t.length);var n,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],r=-1,s=0;t.length;for(n=e;n<i;n++)s=255&(r^t[n]),r=r>>>8^o[s];return-1^r}var n,o,r,s,a,l,h,d,u,c,p=t[0].length,f=t[0][0].length,g=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,f>>24&255,f>>16&255,f>>8&255,255&f,p>>24&255,p>>16&255,p>>8&255,255&p,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(c=i(g,12,29),g[29]=c>>24&255,g[30]=c>>16&255,g[31]=c>>8&255,g[32]=255&c,n=1,o=0,h=0;h<p;h++){for(h<p-1?g.push(0):g.push(1),a=3*f+1+(0===h)&255,l=3*f+1+(0===h)>>8&255,g.push(a),g.push(l),g.push(255&~a),g.push(255&~l),0===h&&g.push(0),d=0;d<f;d++)for(r=0;r<3;r++)a=t[r][h][d],a=a>255?255:a<0?0:Math.round(a),n=(n+a)%65521,o=(o+n)%65521,g.push(a);g.push(0)}return u=(o<<16)+n,g.push(u>>24&255),g.push(u>>16&255),g.push(u>>8&255),g.push(255&u),s=g.length-41,g[33]=s>>24&255,g[34]=s>>16&255,g[35]=s>>8&255,g[36]=255&s,c=i(g,37),g.push(c>>24&255),g.push(c>>16&255),g.push(c>>8&255),g.push(255&c),g.push(0),g.push(0),g.push(0),g.push(0),g.push(73),g.push(69),g.push(78),g.push(68),g.push(174),g.push(66),g.push(96),g.push(130),"data:image/png;base64,"+e(g)},numeric._dim=function(t){var e=[];while("object"===typeof t)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e,i;return"object"===typeof t?(e=t[0],"object"===typeof e?(i=e[0],"object"===typeof i?numeric._dim(t):[t.length,e.length]):[t.length]):[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,i){var n,o;if(!(e instanceof Array)||!(i instanceof Array))return!1;if(o=e.length,o!==i.length)return!1;for(n=0;n<o;n++)if(e[n]!==i[n]){if("object"!==typeof e[n])return!1;if(!t(e[n],i[n]))return!1}return!0},numeric.rep=function(t,e,i){"undefined"===typeof i&&(i=0);var n,o=t[i],r=Array(o);if(i===t.length-1){for(n=o-2;n>=0;n-=2)r[n+1]=e,r[n]=e;return-1===n&&(r[0]=e),r}for(n=o-1;n>=0;n--)r[n]=numeric.rep(t,e,i+1);return r},numeric.dotMMsmall=function(t,e){var i,n,o,r,s,a,l,h,d,u,c;for(r=t.length,s=e.length,a=e[0].length,l=Array(r),i=r-1;i>=0;i--){for(h=Array(a),d=t[i],o=a-1;o>=0;o--){for(u=d[s-1]*e[s-1][o],n=s-2;n>=1;n-=2)c=n-1,u+=d[n]*e[n][o]+d[c]*e[c][o];0===n&&(u+=d[0]*e[0][o]),h[o]=u}l[i]=h}return l},numeric._getCol=function(t,e,i){var n,o=t.length;for(n=o-1;n>0;--n)i[n]=t[n][e],--n,i[n]=t[n][e];0===n&&(i[0]=t[0][e])},numeric.dotMMbig=function(t,e){var i,n,o,r=numeric._getCol,s=e.length,a=Array(s),l=t.length,h=e[0].length,d=new Array(l),u=numeric.dotVV;for(--s,--l,n=l;-1!==n;--n)d[n]=Array(h);for(--h,n=h;-1!==n;--n)for(r(e,n,a),o=l;-1!==o;--o)0,i=t[o],d[o][n]=u(i,a);return d},numeric.dotMV=function(t,e){var i,n=t.length,o=(e.length,Array(n)),r=numeric.dotVV;for(i=n-1;i>=0;i--)o[i]=r(t[i],e);return o},numeric.dotVM=function(t,e){var i,n,o,r,s,a,l;for(o=t.length,r=e[0].length,s=Array(r),n=r-1;n>=0;n--){for(a=t[o-1]*e[o-1][n],i=o-2;i>=1;i-=2)l=i-1,a+=t[i]*e[i][n]+t[l]*e[l][n];0===i&&(a+=t[0]*e[0][n]),s[n]=a}return s},numeric.dotVV=function(t,e){var i,n,o=t.length,r=t[o-1]*e[o-1];for(i=o-2;i>=1;i-=2)n=i-1,r+=t[i]*e[i]+t[n]*e[n];return 0===i&&(r+=t[0]*e[0]),r},numeric.dot=function(t,e){var i=numeric.dim;switch(1e3*i(t).length+i(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,i,n,o,r=t.length,s=Array(r);for(e=r-1;e>=0;e--){for(o=Array(r),i=e+2,n=r-1;n>=i;n-=2)o[n]=0,o[n-1]=0;for(n>e&&(o[n]=0),o[e]=t[e],n=e-1;n>=1;n-=2)o[n]=0,o[n-1]=0;0===n&&(o[0]=0),s[e]=o}return s},numeric.getDiag=function(t){var e,i=Math.min(t.length,t[0].length),n=Array(i);for(e=i-1;e>=1;--e)n[e]=t[e][e],--e,n[e]=t[e][e];return 0===e&&(n[0]=t[0][0]),n},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,i){"undefined"===typeof i&&(i="");var n,o,r=[],s=/\[i\]$/,a="",l=!1;for(n=0;n<t.length;n++)s.test(t[n])?(o=t[n].substring(0,t[n].length-3),a=o):o=t[n],"ret"===o&&(l=!0),r.push(o);return r[t.length]="_s",r[t.length+1]="_k",r[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(l?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+i+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,r)},numeric.pointwise2=function(t,e,i){"undefined"===typeof i&&(i="");var n,o,r=[],s=/\[i\]$/,a="",l=!1;for(n=0;n<t.length;n++)s.test(t[n])?(o=t[n].substring(0,t[n].length-3),a=o):o=t[n],"ret"===o&&(l=!0),r.push(o);return r[t.length]="var _n = "+a+".length;\nvar i"+(l?"":", ret = Array(_n)")+";\n"+i+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,r)},numeric._biforeach=function t(e,i,n,o,r){if(o!==n.length-1){var s,a=n[o];for(s=a-1;s>=0;s--)t("object"===typeof e?e[s]:e,"object"===typeof i?i[s]:i,n,o+1,r)}else r(e,i)},numeric._biforeach2=function t(e,i,n,o,r){if(o===n.length-1)return r(e,i);var s,a=n[o],l=Array(a);for(s=a-1;s>=0;--s)l[s]=t("object"===typeof e?e[s]:e,"object"===typeof i?i[s]:i,n,o+1,r);return l},numeric._foreach=function t(e,i,n,o){if(n!==i.length-1){var r,s=i[n];for(r=s-1;r>=0;r--)t(e[r],i,n+1,o)}else o(e)},numeric._foreach2=function t(e,i,n,o){if(n===i.length-1)return o(e);var r,s=i[n],a=Array(s);for(r=s-1;r>=0;r--)a[r]=t(e[r],i,n+1,o);return a},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var i,n,o="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(o="var "+e+" = Math."+e+";\n",i=function(t,i,n){return t+" = "+e+"("+i+","+n+")"},n=function(t,i){return t+" = "+e+"("+t+","+i+")"}):(i=function(t,i,n){return t+" = "+i+" "+e+" "+n},n=numeric.opseq.hasOwnProperty(t+"eq")?function(t,i){return t+" "+e+"= "+i}:function(t,i){return t+" = "+t+" "+e+" "+i}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],i("ret[i]","x[i]","y[i]"),o),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],i("ret[i]","x","y[i]"),o),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],i("ret[i]","x[i]","y"),o),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),o),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),o),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(o="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(o="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",o),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",o),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"===typeof t?"object"===typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"===typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,i,n,o,r,s,a,l=numeric.dim(t),h=Math.abs,d=l[0],u=l[1],c=numeric.clone(t),p=numeric.identity(d);for(s=0;s<u;++s){var f=-1,g=-1;for(r=s;r!==d;++r)a=h(c[r][s]),a>g&&(f=r,g=a);for(i=c[f],c[f]=c[s],c[s]=i,o=p[f],p[f]=p[s],p[s]=o,t=i[s],a=s;a!==u;++a)i[a]/=t;for(a=u-1;-1!==a;--a)o[a]/=t;for(r=d-1;-1!==r;--r)if(r!==s){for(e=c[r],n=p[r],t=e[s],a=s+1;a!==u;++a)e[a]-=i[a]*t;for(a=u-1;a>0;--a)n[a]-=o[a]*t,--a,n[a]-=o[a]*t;0===a&&(n[0]-=o[0]*t)}}return p},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var i,n,o,r,s,a,l,h,d=e[0],u=1,c=numeric.clone(t);for(n=0;n<d-1;n++){for(o=n,i=n+1;i<d;i++)Math.abs(c[i][n])>Math.abs(c[o][n])&&(o=i);for(o!==n&&(l=c[o],c[o]=c[n],c[n]=l,u*=-1),r=c[n],i=n+1;i<d;i++){for(s=c[i],a=s[n]/r[n],o=n+1;o<d-1;o+=2)h=o+1,s[o]-=r[o]*a,s[h]-=r[h]*a;o!==d&&(s[o]-=r[o]*a)}if(0===r[n])return 0;u*=r[n]}return u*c[n][n]},numeric.transpose=function(t){var e,i,n,o,r,s=t.length,a=t[0].length,l=Array(a);for(i=0;i<a;i++)l[i]=Array(s);for(e=s-1;e>=1;e-=2){for(o=t[e],n=t[e-1],i=a-1;i>=1;--i)r=l[i],r[e]=o[i],r[e-1]=n[i],--i,r=l[i],r[e]=o[i],r[e-1]=n[i];0===i&&(r=l[0],r[e]=o[0],r[e-1]=n[0])}if(0===e){for(n=t[0],i=a-1;i>=1;--i)l[i][0]=n[i],--i,l[i][0]=n[i];0===i&&(l[0][0]=n[0])}return l},numeric.negtranspose=function(t){var e,i,n,o,r,s=t.length,a=t[0].length,l=Array(a);for(i=0;i<a;i++)l[i]=Array(s);for(e=s-1;e>=1;e-=2){for(o=t[e],n=t[e-1],i=a-1;i>=1;--i)r=l[i],r[e]=-o[i],r[e-1]=-n[i],--i,r=l[i],r[e]=-o[i],r[e-1]=-n[i];0===i&&(r=l[0],r[e]=-o[0],r[e-1]=-n[0])}if(0===e){for(n=t[0],i=a-1;i>=1;--i)l[i][0]=-n[i],--i,l[i][0]=-n[i];0===i&&(l[0][0]=-n[0])}return l},numeric._random=function t(e,i){var n,o,r=e[i],s=Array(r);if(i===e.length-1){for(o=Math.random,n=r-1;n>=1;n-=2)s[n]=o(),s[n-1]=o();return 0===n&&(s[0]=o()),s}for(n=r-1;n>=0;n--)s[n]=t(e,i+1);return s},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,i){if("undefined"===typeof i&&(i=Math.max(Math.round(e-t)+1,1)),i<2)return 1===i?[t]:[];var n,o=Array(i);for(i--,n=i;n>=0;n--)o[n]=(n*e+(i-n)*t)/i;return o},numeric.getBlock=function(t,e,i){var n=numeric.dim(t);function o(t,r){var s,a=e[r],l=i[r]-a,h=Array(l);if(r===n.length-1){for(s=l;s>=0;s--)h[s]=t[s+a];return h}for(s=l;s>=0;s--)h[s]=o(t[s+a],r+1);return h}return o(t,0)},numeric.setBlock=function(t,e,i,n){var o=numeric.dim(t);function r(t,n,s){var a,l=e[s],h=i[s]-l;if(s===o.length-1)for(a=h;a>=0;a--)t[a+l]=n[a];for(a=h;a>=0;a--)r(t[a+l],n[a],s+1)}return r(t,n,0),t},numeric.getRange=function(t,e,i){var n,o,r,s,a=e.length,l=i.length,h=Array(a);for(n=a-1;-1!==n;--n)for(h[n]=Array(l),r=h[n],s=t[e[n]],o=l-1;-1!==o;--o)r[o]=s[i[o]];return h},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var i,n,o,r,s,a=e[0],l=e[1];for(i=0,n=0,o=0;o<a;++o)i+=t[o][0].length;for(r=0;r<l;++r)n+=t[0][r][0].length;var h=Array(i);for(o=0;o<i;++o)h[o]=Array(n);var d,u,c,p,f,g=0;for(o=0;o<a;++o){for(d=n,r=l-1;-1!==r;--r)for(s=t[o][r],d-=s[0].length,c=s.length-1;-1!==c;--c)for(f=s[c],u=h[g+c],p=f.length-1;-1!==p;--p)u[d+p]=f[p];g+=t[o][0].length}return h},numeric.tensor=function(t,e){if("number"===typeof t||"number"===typeof e)return numeric.mul(t,e);var i=numeric.dim(t),n=numeric.dim(e);if(1!==i.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var o,r,s,a,l=i[0],h=n[0],d=Array(l);for(r=l-1;r>=0;r--){for(o=Array(h),a=t[r],s=h-1;s>=3;--s)o[s]=a*e[s],--s,o[s]=a*e[s],--s,o[s]=a*e[s],--s,o[s]=a*e[s];while(s>=0)o[s]=a*e[s],--s;d[r]=o}return d},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,i,n,o){var r;numeric.indexOf;if("string"!==typeof o)for(r in o="",numeric)numeric.hasOwnProperty(r)&&(t.indexOf(r)>=0||e.indexOf(r)>=0||i.indexOf(r)>=0||n.indexOf(r)>=0)&&r.length>1&&(o+="var "+r+" = numeric."+r+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+o+"\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\n  }\n  return new numeric.T("+i+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var i=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,i),e(numeric.neg(this.y),i))}return new T(e(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,i=this.y;return i?new numeric.T(t(e),t(i)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,i=this.y;return i?new numeric.T(t(e),numeric.negtranspose(i)):new numeric.T(t(e))},numeric.Tunop=function(t,e,i){return"string"!==typeof i&&(i=""),Function("var x = this;\n"+i+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if("undefined"===typeof t.y)return new numeric.T(numeric.inv(t.x));var e,i,n,o,r,s,a,l,h,d,u,c,p,f,g,v,m,y,b=t.x.length,w=numeric.identity(b),x=numeric.rep([b,b],0),_=numeric.clone(t.x),E=numeric.clone(t.y);for(h=0;h<b;h++){for(f=_[h][h],g=E[h][h],c=f*f+g*g,u=h,d=h+1;d<b;d++)f=_[d][h],g=E[d][h],p=f*f+g*g,p>c&&(u=d,c=p);for(u!==h&&(y=_[h],_[h]=_[u],_[u]=y,y=E[h],E[h]=E[u],E[u]=y,y=w[h],w[h]=w[u],w[u]=y,y=x[h],x[h]=x[u],x[u]=y),e=_[h],i=E[h],r=w[h],s=x[h],f=e[h],g=i[h],d=h+1;d<b;d++)v=e[d],m=i[d],e[d]=(v*f+m*g)/c,i[d]=(m*f-v*g)/c;for(d=0;d<b;d++)v=r[d],m=s[d],r[d]=(v*f+m*g)/c,s[d]=(m*f-v*g)/c;for(d=h+1;d<b;d++){for(n=_[d],o=E[d],a=w[d],l=x[d],f=n[h],g=o[h],u=h+1;u<b;u++)v=e[u],m=i[u],n[u]-=v*f-m*g,o[u]-=m*f+v*g;for(u=0;u<b;u++)v=r[u],m=s[u],a[u]-=v*f-m*g,l[u]-=m*f+v*g}}for(h=b-1;h>0;h--)for(r=w[h],s=x[h],d=h-1;d>=0;d--)for(a=w[d],l=x[d],f=_[d][h],g=E[d][h],u=b-1;u>=0;u--)v=r[u],m=s[u],a[u]-=f*v-g*m,l[u]-=f*m+g*v;return new numeric.T(w,x)},numeric.T.prototype.get=function(t){var e,i=this.x,n=this.y,o=0,r=t.length;if(n){while(o<r)e=t[o],i=i[e],n=n[e],o++;return new numeric.T(i,n)}while(o<r)e=t[o],i=i[e],o++;return new numeric.T(i)},numeric.T.prototype.set=function(t,e){var i,n=this.x,o=this.y,r=0,s=t.length,a=e.x,l=e.y;if(0===s)return l?this.y=l:o&&(this.y=void 0),this.x=n,this;if(l){o||(o=numeric.rep(numeric.dim(n),0),this.y=o);while(r<s-1)i=t[r],n=n[i],o=o[i],r++;return i=t[r],n[i]=a,o[i]=l,this}if(o){while(r<s-1)i=t[r],n=n[i],o=o[i],r++;return i=t[r],n[i]=a,a instanceof Array?o[i]=numeric.rep(numeric.dim(a),0):o[i]=0,this}while(r<s-1)i=t[r],n=n[i],r++;return i=t[r],n[i]=a,this},numeric.T.prototype.getRows=function(t,e){var i,n,o=e-t+1,r=Array(o),s=this.x,a=this.y;for(i=t;i<=e;i++)r[i-t]=s[i];if(a){for(n=Array(o),i=t;i<=e;i++)n[i-t]=a[i];return new numeric.T(r,n)}return new numeric.T(r)},numeric.T.prototype.setRows=function(t,e,i){var n,o=this.x,r=this.y,s=i.x,a=i.y;for(n=t;n<=e;n++)o[n]=s[n-t];if(a)for(r||(r=numeric.rep(numeric.dim(o),0),this.y=r),n=t;n<=e;n++)r[n]=a[n-t];else if(r)for(n=t;n<=e;n++)r[n]=numeric.rep([s[n-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,i=this.y;return i?new numeric.T(e[t],i[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var i=this.x,n=this.y,o=e.x,r=e.y;return i[t]=o,r?(n||(n=numeric.rep(numeric.dim(i),0),this.y=n),n[t]=r):n&&(n=numeric.rep([o.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var i=this.x,n=this.y,o=numeric.getBlock;return n?new numeric.T(o(i,t,e),o(n,t,e)):new numeric.T(o(i,t,e))},numeric.T.prototype.setBlock=function(t,e,i){i instanceof numeric.T||(i=new numeric.T(i));var n=this.x,o=this.y,r=numeric.setBlock,s=i.x,a=i.y;if(a)return o||(this.y=numeric.rep(numeric.dim(this),0),o=this.y),r(n,t,e,s),r(o,t,e,a),this;r(n,t,e,s),o&&r(o,t,e,numeric.rep(numeric.dim(s),0))},numeric.T.rep=function(t,e){var i=numeric.T;e instanceof i||(e=new i(e));var n=e.x,o=e.y,r=numeric.rep;return o?new i(r(t,n),r(t,o)):new i(r(t,n))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,i=t.y,n=numeric.diag;return i?new numeric.T(n(e),n(i)):new numeric.T(n(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,i=this.y;return i?new t.T(t.getDiag(e),t.getDiag(i)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),i=t[0]>=0?1:-1,n=i*numeric.norm2(t);e[0]+=n;var o=numeric.norm2(e);if(0===o)throw new Error("eig: internal error");return numeric.div(e,o)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var i,n,o,r,s,a,l,h,d,u,c=e[0],p=numeric.clone(t),f=numeric.identity(c);for(n=0;n<c-2;n++){for(r=Array(c-n-1),i=n+1;i<c;i++)r[i-n-1]=p[i][n];if(numeric.norm2(r)>0){for(s=numeric.house(r),a=numeric.getBlock(p,[n+1,n],[c-1,c-1]),l=numeric.tensor(s,numeric.dot(s,a)),i=n+1;i<c;i++)for(h=p[i],d=l[i-n-1],o=n;o<c;o++)h[o]-=2*d[o-n];for(a=numeric.getBlock(p,[0,n+1],[c-1,c-1]),l=numeric.tensor(numeric.dot(a,s),s),i=0;i<c;i++)for(h=p[i],d=l[i],o=n+1;o<c;o++)h[o]-=2*d[o-n-1];for(a=Array(c-n-1),i=n+1;i<c;i++)a[i-n-1]=f[i];for(l=numeric.tensor(s,numeric.dot(s,a)),i=n+1;i<c;i++)for(u=f[i],d=l[i-n-1],o=0;o<c;o++)u[o]-=2*d[o]}}return{H:p,Q:f}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){"undefined"===typeof e&&(e=1e4),t=numeric.clone(t);numeric.clone(t);var i,n,o,r,s,a,l,h,d,u,c,p,f,g,v,m,y,b,w=numeric.dim(t),x=w[0],_=numeric.identity(x);if(x<3)return{Q:_,B:[[0,x-1]]};var E=numeric.epsilon;for(b=0;b<e;b++){for(m=0;m<x-1;m++)if(Math.abs(t[m+1][m])<E*(Math.abs(t[m][m])+Math.abs(t[m+1][m+1]))){var k=numeric.QRFrancis(numeric.getBlock(t,[0,0],[m,m]),e),T=numeric.QRFrancis(numeric.getBlock(t,[m+1,m+1],[x-1,x-1]),e);for(p=Array(m+1),v=0;v<=m;v++)p[v]=_[v];for(f=numeric.dot(k.Q,p),v=0;v<=m;v++)_[v]=f[v];for(p=Array(x-m-1),v=m+1;v<x;v++)p[v-m-1]=_[v];for(f=numeric.dot(T.Q,p),v=m+1;v<x;v++)_[v]=f[v-m-1];return{Q:_,B:k.B.concat(numeric.add(T.B,m+1))}}var D,C,S;if(o=t[x-2][x-2],r=t[x-2][x-1],s=t[x-1][x-2],a=t[x-1][x-1],h=o+a,l=o*a-r*s,d=numeric.getBlock(t,[0,0],[2,2]),h*h>=4*l)D=.5*(h+Math.sqrt(h*h-4*l)),C=.5*(h-Math.sqrt(h*h-4*l)),d=numeric.add(numeric.sub(numeric.dot(d,d),numeric.mul(d,D+C)),numeric.diag(numeric.rep([3],D*C)));else d=numeric.add(numeric.sub(numeric.dot(d,d),numeric.mul(d,h)),numeric.diag(numeric.rep([3],l)));for(i=[d[0][0],d[1][0],d[2][0]],n=numeric.house(i),p=[t[0],t[1],t[2]],f=numeric.tensor(n,numeric.dot(n,p)),v=0;v<3;v++)for(c=t[v],g=f[v],y=0;y<x;y++)c[y]-=2*g[y];for(p=numeric.getBlock(t,[0,0],[x-1,2]),f=numeric.tensor(numeric.dot(p,n),n),v=0;v<x;v++)for(c=t[v],g=f[v],y=0;y<3;y++)c[y]-=2*g[y];for(p=[_[0],_[1],_[2]],f=numeric.tensor(n,numeric.dot(n,p)),v=0;v<3;v++)for(u=_[v],g=f[v],y=0;y<x;y++)u[y]-=2*g[y];for(m=0;m<x-2;m++){for(y=m;y<=m+1;y++)if(Math.abs(t[y+1][y])<E*(Math.abs(t[y][y])+Math.abs(t[y+1][y+1]))){k=numeric.QRFrancis(numeric.getBlock(t,[0,0],[y,y]),e),T=numeric.QRFrancis(numeric.getBlock(t,[y+1,y+1],[x-1,x-1]),e);for(p=Array(y+1),v=0;v<=y;v++)p[v]=_[v];for(f=numeric.dot(k.Q,p),v=0;v<=y;v++)_[v]=f[v];for(p=Array(x-y-1),v=y+1;v<x;v++)p[v-y-1]=_[v];for(f=numeric.dot(T.Q,p),v=y+1;v<x;v++)_[v]=f[v-y-1];return{Q:_,B:k.B.concat(numeric.add(T.B,y+1))}}for(S=Math.min(x-1,m+3),i=Array(S-m),v=m+1;v<=S;v++)i[v-m-1]=t[v][m];for(n=numeric.house(i),p=numeric.getBlock(t,[m+1,m],[S,x-1]),f=numeric.tensor(n,numeric.dot(n,p)),v=m+1;v<=S;v++)for(c=t[v],g=f[v-m-1],y=m;y<x;y++)c[y]-=2*g[y-m];for(p=numeric.getBlock(t,[0,m+1],[x-1,S]),f=numeric.tensor(numeric.dot(p,n),n),v=0;v<x;v++)for(c=t[v],g=f[v],y=m+1;y<=S;y++)c[y]-=2*g[y-m-1];for(p=Array(S-m),v=m+1;v<=S;v++)p[v-m-1]=_[v];for(f=numeric.tensor(n,numeric.dot(n,p)),v=m+1;v<=S;v++)for(u=_[v],g=f[v-m-1],y=0;y<x;y++)u[y]-=2*g[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var i,n,o,r,s,a,l,h,d,u,c,p,f,g,v,m,y,b=numeric.toUpperHessenberg(t),w=numeric.QRFrancis(b.H,e),x=numeric.T,_=t.length,E=w.B,k=numeric.dot(w.Q,numeric.dot(b.H,numeric.transpose(w.Q))),T=new x(numeric.dot(w.Q,b.Q)),D=E.length,C=Math.sqrt;for(n=0;n<D;n++)if(i=E[n][0],i===E[n][1]);else{if(r=i+1,s=k[i][i],a=k[i][r],l=k[r][i],h=k[r][r],0===a&&0===l)continue;d=-s-h,u=s*h-a*l,c=d*d-4*u,c>=0?(p=d<0?-.5*(d-C(c)):-.5*(d+C(c)),m=(s-p)*(s-p)+a*a,y=l*l+(h-p)*(h-p),m>y?(m=C(m),g=(s-p)/m,v=a/m):(y=C(y),g=l/y,v=(h-p)/y),o=new x([[v,-g],[g,v]]),T.setRows(i,r,o.dot(T.getRows(i,r)))):(p=-.5*d,f=.5*C(-c),m=(s-p)*(s-p)+a*a,y=l*l+(h-p)*(h-p),m>y?(m=C(m+f*f),g=(s-p)/m,v=a/m,p=0,f/=m):(y=C(y+f*f),g=l/y,v=(h-p)/y,p=f/y,f=0),o=new x([[v,-g],[g,v]],[[p,f],[f,-p]]),T.setRows(i,r,o.dot(T.getRows(i,r))))}var S=T.dot(t).dot(T.transjugate()),M=(_=t.length,numeric.T.identity(_));for(r=0;r<_;r++)if(r>0)for(n=r-1;n>=0;n--){var O=S.get([n,n]),N=S.get([r,r]);numeric.neq(O.x,N.x)||numeric.neq(O.y,N.y)?(p=S.getRow(n).getBlock([n],[r-1]),f=M.getRow(r).getBlock([n],[r-1]),M.set([r,n],S.get([n,r]).neg().sub(p.dot(f)).div(O.sub(N)))):M.setRow(r,M.getRow(n))}for(r=0;r<_;r++)p=M.getRow(r),M.setRow(r,p.div(p.norm2()));return M=M.transpose(),M=T.transjugate().dot(M),{lambda:S.getDiag(),E:M}},numeric.ccsSparse=function(t){var e,i,n,o=t.length,r=[];for(i=o-1;-1!==i;--i)for(n in e=t[i],e){n=parseInt(n);while(n>=r.length)r[r.length]=0;0!==e[n]&&r[n]++}var s=r.length,a=Array(s+1);for(a[0]=0,i=0;i<s;++i)a[i+1]=a[i]+r[i];var l=Array(a[s]),h=Array(a[s]);for(i=o-1;-1!==i;--i)for(n in e=t[i],e)0!==e[n]&&(r[n]--,l[a[n]+r[n]]=i,h[a[n]+r[n]]=e[n]);return[a,l,h]},numeric.ccsFull=function(t){var e,i,n,o,r=t[0],s=t[1],a=t[2],l=numeric.ccsDim(t),h=l[0],d=l[1],u=numeric.rep([h,d],0);for(e=0;e<d;e++)for(n=r[e],o=r[e+1],i=n;i<o;++i)u[s[i]][e]=a[i];return u},numeric.ccsTSolve=function(t,e,i,n,o){var r,s,a,l,h,d,u,c=t[0],p=t[1],f=t[2],g=c.length-1,v=Math.max,m=0;function y(t){var e;if(0===i[t]){for(i[t]=1,e=c[t];e<c[t+1];++e)y(p[e]);o[m]=t,++m}}for("undefined"===typeof n&&(i=numeric.rep([g],0)),"undefined"===typeof n&&(n=numeric.linspace(0,i.length-1)),"undefined"===typeof o&&(o=[]),r=n.length-1;-1!==r;--r)y(n[r]);for(o.length=m,r=o.length-1;-1!==r;--r)i[o[r]]=0;for(r=n.length-1;-1!==r;--r)s=n[r],i[s]=e[s];for(r=o.length-1;-1!==r;--r){for(s=o[r],a=c[s],l=v(c[s+1],a),h=a;h!==l;++h)if(p[h]===s){i[s]/=f[h];break}for(u=i[s],h=a;h!==l;++h)d=p[h],d!==s&&(i[d]-=u*f[h])}return i},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,i,n,o,r){var s,a,l,h=0,d=o.length,u=this.k,c=this.k1,p=this.j;if(0===n[t]){n[t]=1,p[0]=t,u[0]=a=e[t],c[0]=l=e[t+1];while(1)if(a>=l){if(o[d]=p[h],0===h)return;++d,--h,a=u[h],l=c[h]}else s=r[i[a]],0===n[s]?(n[s]=1,u[h]=a,++h,p[h]=s,a=e[s],c[h]=l=e[s+1]):++a}},numeric.ccsLPSolve=function(t,e,i,n,o,r,s){var a,l,h,d,u,c,p,f,g,v=t[0],m=t[1],y=t[2],b=(v.length,e[0]),w=e[1],x=e[2];for(l=b[o],h=b[o+1],n.length=0,a=l;a<h;++a)s.dfs(r[w[a]],v,m,i,n,r);for(a=n.length-1;-1!==a;--a)i[n[a]]=0;for(a=l;a!==h;++a)d=r[w[a]],i[d]=x[a];for(a=n.length-1;-1!==a;--a){for(d=n[a],u=v[d],c=v[d+1],p=u;p<c;++p)if(r[m[p]]===d){i[d]/=y[p];break}for(g=i[d],p=u;p<c;++p)f=r[m[p]],f!==d&&(i[f]-=g*y[p])}return i},numeric.ccsLUP1=function(t,e){var i,n,o,r,s,a,l,h=t[0].length-1,d=[numeric.rep([h+1],0),[],[]],u=[numeric.rep([h+1],0),[],[]],c=d[0],p=d[1],f=d[2],g=u[0],v=u[1],m=u[2],y=numeric.rep([h],0),b=numeric.rep([h],0),w=numeric.ccsLPSolve,x=(Math.max,Math.abs),_=numeric.linspace(0,h-1),E=numeric.linspace(0,h-1),k=new numeric.ccsDFS(h);for("undefined"===typeof e&&(e=1),i=0;i<h;++i){for(w(d,t,y,b,i,E,k),r=-1,s=-1,n=b.length-1;-1!==n;--n)o=b[n],o<=i||(a=x(y[o]),a>r&&(s=o,r=a));for(x(y[i])<e*r&&(n=_[i],r=_[s],_[i]=r,E[r]=i,_[s]=n,E[n]=s,r=y[i],y[i]=y[s],y[s]=r),r=c[i],s=g[i],l=y[i],p[r]=_[i],f[r]=1,++r,n=b.length-1;-1!==n;--n)o=b[n],a=y[o],b[n]=0,y[o]=0,o<=i?(v[s]=o,m[s]=a,++s):(p[r]=_[o],f[r]=a/l,++r);c[i+1]=r,g[i+1]=s}for(n=p.length-1;-1!==n;--n)p[n]=E[p[n]];return{L:d,U:u,P:_,Pinv:E}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,i,n,o,r,s){var a,l,h,d=0,u=o.length,c=this.k,p=this.k1,f=this.j;if(0===n[t]){n[t]=1,f[0]=t,c[0]=l=e[r[t]],p[0]=h=e[r[t]+1];while(1){if(isNaN(l))throw new Error("Ow!");if(l>=h){if(o[u]=r[f[d]],0===d)return;++u,--d,l=c[d],h=p[d]}else a=i[l],0===n[a]?(n[a]=1,c[d]=l,++d,f[d]=a,a=r[a],l=e[a],p[d]=h=e[a+1]):++l}}},numeric.ccsLPSolve0=function(t,e,i,n,o,r,s,a){var l,h,d,u,c,p,f,g,v,m=t[0],y=t[1],b=t[2],w=(m.length,e[0]),x=e[1],_=e[2];for(h=w[o],d=w[o+1],n.length=0,l=h;l<d;++l)a.dfs(x[l],m,y,i,n,r,s);for(l=n.length-1;-1!==l;--l)u=n[l],i[s[u]]=0;for(l=h;l!==d;++l)u=x[l],i[u]=_[l];for(l=n.length-1;-1!==l;--l){for(u=n[l],g=s[u],c=m[u],p=m[u+1],f=c;f<p;++f)if(y[f]===g){i[g]/=b[f];break}for(v=i[g],f=c;f<p;++f)i[y[f]]-=v*b[f];i[g]=v}},numeric.ccsLUP0=function(t,e){var i,n,o,r,s,a,l,h=t[0].length-1,d=[numeric.rep([h+1],0),[],[]],u=[numeric.rep([h+1],0),[],[]],c=d[0],p=d[1],f=d[2],g=u[0],v=u[1],m=u[2],y=numeric.rep([h],0),b=numeric.rep([h],0),w=numeric.ccsLPSolve0,x=(Math.max,Math.abs),_=numeric.linspace(0,h-1),E=numeric.linspace(0,h-1),k=new numeric.ccsDFS0(h);for("undefined"===typeof e&&(e=1),i=0;i<h;++i){for(w(d,t,y,b,i,E,_,k),r=-1,s=-1,n=b.length-1;-1!==n;--n)o=b[n],o<=i||(a=x(y[_[o]]),a>r&&(s=o,r=a));for(x(y[_[i]])<e*r&&(n=_[i],r=_[s],_[i]=r,E[r]=i,_[s]=n,E[n]=s),r=c[i],s=g[i],l=y[_[i]],p[r]=_[i],f[r]=1,++r,n=b.length-1;-1!==n;--n)o=b[n],a=y[_[o]],b[n]=0,y[_[o]]=0,o<=i?(v[s]=o,m[s]=a,++s):(p[r]=_[o],f[r]=a/l,++r);c[i+1]=r,g[i+1]=s}for(n=p.length-1;-1!==n;--n)p[n]=E[p[n]];return{L:d,U:u,P:_,Pinv:E}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,i){var n=numeric.ccsDim(t),o=n[0],r=n[1];"undefined"===typeof e?e=numeric.linspace(0,o-1):"number"===typeof e&&(e=[e]),"undefined"===typeof i?i=numeric.linspace(0,r-1):"number"===typeof i&&(i=[i]);var s,a,l,h,d,u=e.length,c=i.length,p=numeric.rep([r],0),f=[],g=[],v=[p,f,g],m=t[0],y=t[1],b=t[2],w=numeric.rep([o],0),x=0,_=numeric.rep([o],0);for(a=0;a<c;++a){h=i[a];var E=m[h],k=m[h+1];for(s=E;s<k;++s)l=y[s],_[l]=1,w[l]=b[s];for(s=0;s<u;++s)d=e[s],_[d]&&(f[x]=s,g[x]=w[e[s]],++x);for(s=E;s<k;++s)l=y[s],_[l]=0;p[a+1]=x}return v},numeric.ccsDot=function(t,e){var i,n,o,r,s,a,l,h,d,u,c,p=t[0],f=t[1],g=t[2],v=e[0],m=e[1],y=e[2],b=numeric.ccsDim(t),w=numeric.ccsDim(e),x=b[0],_=(b[1],w[1]),E=numeric.rep([x],0),k=numeric.rep([x],0),T=Array(x),D=numeric.rep([_],0),C=[],S=[],M=[D,C,S];for(o=0;o!==_;++o){for(r=v[o],s=v[o+1],d=0,n=r;n<s;++n)for(u=m[n],c=y[n],a=p[u],l=p[u+1],i=a;i<l;++i)h=f[i],0===k[h]&&(T[d]=h,k[h]=1,d+=1),E[h]=E[h]+g[i]*c;for(r=D[o],s=r+d,D[o+1]=s,n=d-1;-1!==n;--n)c=r+n,i=T[n],C[c]=i,S[c]=E[i],k[i]=0,E[i]=0;D[o+1]=D[o]+d}return M},numeric.ccsLUPSolve=function(t,e){var i=t.L,n=t.U,o=(t.P,e[0]),r=!1;"object"!==typeof o&&(e=[[0,e.length],numeric.linspace(0,e.length-1),e],o=e[0],r=!0);var s,a,l,h,d,u,c=e[1],p=e[2],f=i[0].length-1,g=o.length-1,v=numeric.rep([f],0),m=Array(f),y=numeric.rep([f],0),b=Array(f),w=numeric.rep([g+1],0),x=[],_=[],E=numeric.ccsTSolve,k=0;for(s=0;s<g;++s){for(d=0,l=o[s],h=o[s+1],a=l;a<h;++a)u=t.Pinv[c[a]],b[d]=u,y[u]=p[a],++d;for(b.length=d,E(i,y,v,b,m),a=b.length-1;-1!==a;--a)y[b[a]]=0;if(E(n,v,y,m,b),r)return y;for(a=m.length-1;-1!==a;--a)v[m[a]]=0;for(a=b.length-1;-1!==a;--a)u=b[a],x[k]=u,_[k]=y[u],y[u]=0,++k;w[s+1]=k}return[w,x,_]},numeric.ccsbinop=function(t,e){return"undefined"===typeof e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,i=t[0],n=t[1],o=t[2],r=numeric.sup(n)+1,s=i.length,a=numeric.rep([r],0),l=Array(s),h=Array(s),d=numeric.rep([r],0);for(e=0;e<s;++e)d[n[e]]++;for(e=0;e<r;++e)a[e+1]=a[e]+d[e];var u,c,p=a.slice(0);for(e=0;e<s;++e)c=n[e],u=p[c],l[u]=i[e],h[u]=o[e],p[c]=p[c]+1;return[a,l,h]},numeric.ccsGather=function(t){var e,i,n,o,r,s=t[0],a=t[1],l=t[2],h=s.length-1,d=a.length,u=Array(d),c=Array(d),p=Array(d);for(r=0,e=0;e<h;++e)for(n=s[e],o=s[e+1],i=n;i!==o;++i)c[r]=e,u[r]=a[i],p[r]=l[i],++r;return[u,c,p]},numeric.sdim=function t(e,i,n){if("undefined"===typeof i&&(i=[]),"object"!==typeof e)return i;var o;for(o in"undefined"===typeof n&&(n=0),n in i||(i[n]=0),e.length>i[n]&&(i[n]=e.length),e)e.hasOwnProperty(o)&&t(e[o],i,n+1);return i},numeric.sclone=function t(e,i,n){"undefined"===typeof i&&(i=0),"undefined"===typeof n&&(n=numeric.sdim(e).length);var o,r=Array(e.length);if(i===n-1){for(o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);return r}for(o in e)e.hasOwnProperty(o)&&(r[o]=t(e[o],i+1,n));return r},numeric.sdiag=function(t){var e,i,n=t.length,o=Array(n);for(e=n-1;e>=1;e-=2)i=e-1,o[e]=[],o[e][e]=t[e],o[i]=[],o[i][i]=t[i];return 0===e&&(o[0]=[],o[0][0]=t[e]),o},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,i,n,o=[];t.length;for(e in t)if(t.hasOwnProperty(e))for(i in n=t[e],n)n.hasOwnProperty(i)&&("object"!==typeof o[i]&&(o[i]=[]),o[i][e]=n[i]);return o},numeric.sLUP=function(t,e){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var i,n,o,r,s,a,l,h=t.length,d=(e.length,numeric.stranspose(e)),u=d.length,c=Array(h);for(o=h-1;o>=0;o--){for(l=[],i=t[o],s=u-1;s>=0;s--){for(r in a=0,n=d[s],i)i.hasOwnProperty(r)&&r in n&&(a+=i[r]*n[r]);a&&(l[s]=a)}c[o]=l}return c},numeric.sdotMV=function(t,e){var i,n,o,r,s=t.length,a=Array(s);for(n=s-1;n>=0;n--){for(o in i=t[n],r=0,i)i.hasOwnProperty(o)&&e[o]&&(r+=i[o]*e[o]);r&&(a[n]=r)}return a},numeric.sdotVM=function(t,e){var i,n,o,r,s=[];for(i in t)if(t.hasOwnProperty(i))for(n in o=e[i],r=t[i],o)o.hasOwnProperty(n)&&(s[n]||(s[n]=0),s[n]+=r*o[n]);return s},numeric.sdotVV=function(t,e){var i,n=0;for(i in t)t[i]&&e[i]&&(n+=t[i]*e[i]);return n},numeric.sdot=function(t,e){var i=numeric.sdim(t).length,n=numeric.sdim(e).length,o=1e3*i+n;switch(o){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+i+" and "+n)}},numeric.sscatter=function(t){var e,i,n,o,r=t[0].length,s=t.length,a=[];for(i=r-1;i>=0;--i)if(t[s-1][i]){for(o=a,n=0;n<s-2;n++)e=t[n][i],o[e]||(o[e]=[]),o=o[e];o[t[n][i]]=t[n+1][i]}return a},numeric.sgather=function t(e,i,n){var o,r,s;for(r in"undefined"===typeof i&&(i=[]),"undefined"===typeof n&&(n=[]),o=n.length,e)if(e.hasOwnProperty(r))if(n[o]=parseInt(r),s=e[r],"number"===typeof s){if(s){if(0===i.length)for(r=o+1;r>=0;--r)i[r]=[];for(r=o;r>=0;--r)i[r].push(n[r]);i[o+1].push(s)}}else t(s,i,n);return n.length>o&&n.pop(),i},numeric.cLU=function(t){var e,i,n,o,r,s,a=t[0],l=t[1],h=t[2],d=a.length,u=0;for(e=0;e<d;e++)a[e]>u&&(u=a[e]);u++;var c,p=Array(u),f=Array(u),g=numeric.rep([u],1/0),v=numeric.rep([u],-1/0);for(n=0;n<d;n++)e=a[n],i=l[n],i<g[e]&&(g[e]=i),i>v[e]&&(v[e]=i);for(e=0;e<u-1;e++)v[e]>v[e+1]&&(v[e+1]=v[e]);for(e=u-1;e>=1;e--)g[e]<g[e-1]&&(g[e-1]=g[e]);for(e=0;e<u;e++)f[e]=numeric.rep([v[e]-g[e]+1],0),p[e]=numeric.rep([e-g[e]],0),e-g[e]+1,v[e]-e+1;for(n=0;n<d;n++)e=a[n],f[e][l[n]-g[e]]=h[n];for(e=0;e<u-1;e++)for(o=e-g[e],b=f[e],i=e+1;g[i]<=e&&i<u;i++)if(r=e-g[i],s=v[e]-e,w=f[i],c=w[r]/b[o],c){for(n=1;n<=s;n++)w[n+r]-=c*b[n+o];p[i][e-g[i]]=c}var m,y,b=[],w=[],x=[],_=[],E=[],k=[];for(d=0,m=0,e=0;e<u;e++){for(o=g[e],r=v[e],y=f[e],i=e;i<=r;i++)y[i-o]&&(b[d]=e,w[d]=i,x[d]=y[i-o],d++);for(y=p[e],i=o;i<e;i++)y[i-o]&&(_[m]=e,E[m]=i,k[m]=y[i-o],m++);_[m]=e,E[m]=e,k[m]=1,m++}return{U:[b,w,x],L:[_,E,k]}},numeric.cLUsolve=function(t,e){var i,n,o=t.L,r=t.U,s=numeric.clone(e),a=o[0],l=o[1],h=o[2],d=r[0],u=r[1],c=r[2],p=d.length,f=(a.length,s.length);for(n=0,i=0;i<f;i++){while(l[n]<i)s[i]-=h[n]*s[l[n]],n++;n++}for(n=p-1,i=f-1;i>=0;i--){while(u[n]>i)s[i]-=c[n]*s[u[n]],n--;s[i]/=c[n],n--}return s},numeric.cgrid=function(t,e){"number"===typeof t&&(t=[t,t]);var i,n,o,r=numeric.rep(t,-1);if("function"!==typeof e)switch(e){case"L":e=function(e,i){return e>=t[0]/2||i<t[1]/2};break;default:e=function(t,e){return!0};break}for(o=0,i=1;i<t[0]-1;i++)for(n=1;n<t[1]-1;n++)e(i,n)&&(r[i][n]=o,o++);return r},numeric.cdelsq=function(t){var e,i,n,o,r,s=[[-1,0],[0,-1],[0,1],[1,0]],a=numeric.dim(t),l=a[0],h=a[1],d=[],u=[],c=[];for(e=1;e<l-1;e++)for(i=1;i<h-1;i++)if(!(t[e][i]<0)){for(n=0;n<4;n++)o=e+s[n][0],r=i+s[n][1],t[o][r]<0||(d.push(t[e][i]),u.push(t[o][r]),c.push(-1));d.push(t[e][i]),u.push(t[e][i]),c.push(4)}return[d,u,c]},numeric.cdotMV=function(t,e){var i,n,o,r=t[0],s=t[1],a=t[2],l=r.length;for(o=0,n=0;n<l;n++)r[n]>o&&(o=r[n]);for(o++,i=numeric.rep([o],0),n=0;n<l;n++)i[r[n]]+=a[n]*e[s[n]];return i},numeric.Spline=function(t,e,i,n,o){this.x=t,this.yl=e,this.yr=i,this.kl=n,this.kr=o},numeric.Spline.prototype._at=function(t,e){var i,n,o,r=this.x,s=this.yl,a=this.yr,l=this.kl,h=this.kr,d=numeric.add,u=numeric.sub,c=numeric.mul;i=u(c(l[e],r[e+1]-r[e]),u(a[e+1],s[e])),n=d(c(h[e+1],r[e]-r[e+1]),u(a[e+1],s[e])),o=(t-r[e])/(r[e+1]-r[e]);var p=o*(1-o);return d(d(d(c(1-o,s[e]),c(o,a[e+1])),c(i,p*(1-o))),c(n,p*o))},numeric.Spline.prototype.at=function(t){if("number"===typeof t){var e,i,n,o=this.x,r=o.length,s=Math.floor;e=0,i=r-1;while(i-e>1)n=s((e+i)/2),o[n]<=t?e=n:i=n;return this._at(t,e)}r=t.length;var a,l=Array(r);for(a=r-1;-1!==a;--a)l[a]=this.at(t[a]);return l},numeric.Spline.prototype.diff=function(){var t,e,i,n=this.x,o=this.yl,r=this.yr,s=this.kl,a=this.kr,l=o.length,h=s,d=a,u=Array(l),c=Array(l),p=numeric.add,f=numeric.mul,g=numeric.div,v=numeric.sub;for(t=l-1;-1!==t;--t)e=n[t+1]-n[t],i=v(r[t+1],o[t]),u[t]=g(p(f(i,6),f(s[t],-4*e),f(a[t+1],-2*e)),e*e),c[t+1]=g(p(f(i,-6),f(s[t],2*e),f(a[t+1],4*e)),e*e);return new numeric.Spline(n,h,d,u,c)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],i=this.x,n=this.yl,o=this.yr,r=this.kl,s=this.kr;"number"===typeof n[0]&&(n=[n],o=[o],r=[r],s=[s]);var a,l,h,d,u,c,p,f,g,v,m,y,b,w,x,_,E,k,T,D,C,S,M,O=n.length,N=i.length-1,A=(e=Array(O),Math.sqrt);for(a=0;a!==O;++a){for(d=n[a],u=o[a],c=r[a],p=s[a],f=[],l=0;l!==N;l++){for(l>0&&u[l]*d[l]<0&&f.push(i[l]),_=i[l+1]-i[l],i[l],m=d[l],y=u[l+1],g=c[l]/_,v=p[l+1]/_,x=t(g-v+3*(m-y))+12*v*m,b=v+3*m+2*g-3*y,w=3*(v+g+2*(m-y)),x<=0?(k=b/w,E=k>i[l]&&k<i[l+1]?[i[l],k,i[l+1]]:[i[l],i[l+1]]):(k=(b-A(x))/w,T=(b+A(x))/w,E=[i[l]],k>i[l]&&k<i[l+1]&&E.push(k),T>i[l]&&T<i[l+1]&&E.push(T),E.push(i[l+1])),C=E[0],k=this._at(C,l),h=0;h<E.length-1;h++)if(S=E[h+1],T=this._at(S,l),0!==k)if(0===T||k*T>0)C=S,k=T;else{var P=0;while(1){if(M=(k*S-T*C)/(k-T),M<=C||M>=S)break;if(D=this._at(M,l),D*T>0)S=M,T=D,-1===P&&(k*=.5),P=-1;else{if(!(D*k>0))break;C=M,k=D,1===P&&(T*=.5),P=1}}f.push(M),C=E[h+1],k=this._at(C,l)}else f.push(C),C=S,k=T;0===T&&f.push(S)}e[a]=f}return"number"===typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,i,n){var o,r=t.length,s=[],a=[],l=[],h=numeric.sub,d=numeric.mul,u=numeric.add;for(o=r-2;o>=0;o--)a[o]=t[o+1]-t[o],l[o]=h(e[o+1],e[o]);"string"!==typeof i&&"string"!==typeof n||(i=n="periodic");var c=[[],[],[]];switch(typeof i){case"undefined":s[0]=d(3/(a[0]*a[0]),l[0]),c[0].push(0,0),c[1].push(0,1),c[2].push(2/a[0],1/a[0]);break;case"string":s[0]=u(d(3/(a[r-2]*a[r-2]),l[r-2]),d(3/(a[0]*a[0]),l[0])),c[0].push(0,0,0),c[1].push(r-2,0,1),c[2].push(1/a[r-2],2/a[r-2]+2/a[0],1/a[0]);break;default:s[0]=i,c[0].push(0),c[1].push(0),c[2].push(1);break}for(o=1;o<r-1;o++)s[o]=u(d(3/(a[o-1]*a[o-1]),l[o-1]),d(3/(a[o]*a[o]),l[o])),c[0].push(o,o,o),c[1].push(o-1,o,o+1),c[2].push(1/a[o-1],2/a[o-1]+2/a[o],1/a[o]);switch(typeof n){case"undefined":s[r-1]=d(3/(a[r-2]*a[r-2]),l[r-2]),c[0].push(r-1,r-1),c[1].push(r-2,r-1),c[2].push(1/a[r-2],2/a[r-2]);break;case"string":c[1][c[1].length-1]=0;break;default:s[r-1]=n,c[0].push(r-1),c[1].push(r-1),c[2].push(1);break}s="number"!==typeof s[0]?numeric.transpose(s):[s];var p=Array(s.length);if("string"===typeof i)for(o=p.length-1;-1!==o;--o)p[o]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(c)),s[o]),p[o][r-1]=p[o][0];else for(o=p.length-1;-1!==o;--o)p[o]=numeric.cLUsolve(numeric.cLU(c),s[o]);return p="number"===typeof e[0]?p[0]:numeric.transpose(p),new numeric.Spline(t,e,e,p,p)},numeric.fftpow2=function t(e,i){var n=e.length;if(1!==n){var o,r,s=Math.cos,a=Math.sin,l=Array(n/2),h=Array(n/2),d=Array(n/2),u=Array(n/2);for(r=n/2,o=n-1;-1!==o;--o)--r,d[r]=e[o],u[r]=i[o],--o,l[r]=e[o],h[r]=i[o];t(l,h),t(d,u),r=n/2;var c,p,f,g=-6.283185307179586/n;for(o=n-1;-1!==o;--o)--r,-1===r&&(r=n/2-1),c=g*o,p=s(c),f=a(c),e[o]=l[r]+p*d[r]-f*u[r],i[o]=h[r]+p*u[r]+f*d[r]}},numeric._ifftpow2=function t(e,i){var n=e.length;if(1!==n){var o,r,s=Math.cos,a=Math.sin,l=Array(n/2),h=Array(n/2),d=Array(n/2),u=Array(n/2);for(r=n/2,o=n-1;-1!==o;--o)--r,d[r]=e[o],u[r]=i[o],--o,l[r]=e[o],h[r]=i[o];t(l,h),t(d,u),r=n/2;var c,p,f,g=6.283185307179586/n;for(o=n-1;-1!==o;--o)--r,-1===r&&(r=n/2-1),c=g*o,p=s(c),f=a(c),e[o]=l[r]+p*d[r]-f*u[r],i[o]=h[r]+p*u[r]+f*d[r]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,i,n){numeric.fftpow2(t,e),numeric.fftpow2(i,n);var o,r,s,a,l,h=t.length;for(o=h-1;-1!==o;--o)r=t[o],a=e[o],s=i[o],l=n[o],t[o]=r*s-a*l,e[o]=r*l+a*s;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,i=this.x,n=this.y,o=i.length,r=Math.log,s=r(2),a=Math.ceil(r(2*o-1)/s),l=Math.pow(2,a),h=numeric.rep([l],0),d=numeric.rep([l],0),u=Math.cos,c=Math.sin,p=-3.141592653589793/o,f=numeric.rep([l],0),g=numeric.rep([l],0);Math.floor(o/2);for(t=0;t<o;t++)f[t]=i[t];if("undefined"!==typeof n)for(t=0;t<o;t++)g[t]=n[t];for(h[0]=1,t=1;t<=l/2;t++)e=p*t*t,h[t]=u(e),d[t]=c(e),h[l-t]=u(e),d[l-t]=c(e);var v=new numeric.T(f,g),m=new numeric.T(h,d);return v=v.mul(m),numeric.convpow2(v.x,v.y,numeric.clone(m.x),numeric.neg(m.y)),v=v.mul(m),v.x.length=o,v.y.length=o,v},numeric.T.prototype.ifft=function(){var t,e,i=this.x,n=this.y,o=i.length,r=Math.log,s=r(2),a=Math.ceil(r(2*o-1)/s),l=Math.pow(2,a),h=numeric.rep([l],0),d=numeric.rep([l],0),u=Math.cos,c=Math.sin,p=3.141592653589793/o,f=numeric.rep([l],0),g=numeric.rep([l],0);Math.floor(o/2);for(t=0;t<o;t++)f[t]=i[t];if("undefined"!==typeof n)for(t=0;t<o;t++)g[t]=n[t];for(h[0]=1,t=1;t<=l/2;t++)e=p*t*t,h[t]=u(e),d[t]=c(e),h[l-t]=u(e),d[l-t]=c(e);var v=new numeric.T(f,g),m=new numeric.T(h,d);return v=v.mul(m),numeric.convpow2(v.x,v.y,numeric.clone(m.x),numeric.neg(m.y)),v=v.mul(m),v.x.length=o,v.y.length=o,v.div(o)},numeric.gradient=function(t,e){var i=e.length,n=t(e);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var o,r,s,a,l,h,d,u,c,p,f=Math.max,g=numeric.clone(e),v=Array(i),m=(numeric.div,numeric.sub,f=Math.max,.001),y=Math.abs,b=Math.min,w=0;for(o=0;o<i;o++){var x=f(1e-6*n,1e-8);while(1){if(++w,w>20)throw new Error("Numerical gradient fails");if(g[o]=e[o]+x,r=t(g),g[o]=e[o]-x,s=t(g),g[o]=e[o],isNaN(r)||isNaN(s))x/=16;else{if(v[o]=(r-s)/(2*x),l=e[o]-x,h=e[o],d=e[o]+x,u=(r-n)/x,c=(n-s)/x,p=f(y(v[o]),y(n),y(r),y(s),y(l),y(h),y(d),1e-8),a=b(f(y(u-v[o]),y(c-v[o]),y(u-c))/p,x/p),!(a>m))break;x/=16}}}return v},numeric.uncmin=function(t,e,i,n,o,r,s){var a=numeric.gradient;"undefined"===typeof s&&(s={}),"undefined"===typeof i&&(i=1e-8),"undefined"===typeof n&&(n=function(e){return a(t,e)}),"undefined"===typeof o&&(o=1e3),e=numeric.clone(e);var l,h,d=e.length,u=t(e);if(isNaN(u))throw new Error("uncmin: f(x0) is a NaN!");var c=Math.max,p=numeric.norm2;i=c(i,numeric.epsilon);var f,g,v,m,y,b,w,x,_,E,k=s.Hinv||numeric.identity(d),T=numeric.dot,D=(numeric.inv,numeric.sub),C=numeric.add,S=numeric.tensor,M=numeric.div,O=numeric.mul,N=numeric.all,A=numeric.isFinite,P=numeric.neg,I=0,L="";g=n(e);while(I<o){if("function"===typeof r&&r(I,e,u,g,k)){L="Callback returned true";break}if(!N(A(g))){L="Gradient has Infinity or NaN";break}if(f=P(T(k,g)),!N(A(f))){L="Search direction has Infinity or NaN";break}if(E=p(f),E<i){L="Newton step smaller than tol";break}_=1,h=T(g,f),y=e;while(I<o){if(_*E<i)break;if(m=O(f,_),y=C(e,m),l=t(y),!(l-u>=.1*_*h||isNaN(l)))break;_*=.5,++I}if(_*E<i){L="Line search step size smaller than tol";break}if(I===o){L="maxit reached during line search";break}v=n(y),b=D(v,g),x=T(b,m),w=T(k,b),k=D(C(k,O((x+T(b,w))/(x*x),S(m,m))),M(C(S(w,m),S(m,w)),x)),e=y,u=l,g=v,++I}return{solution:e,f:u,gradient:g,invHessian:k,iterations:I,message:L}},numeric.Dopri=function(t,e,i,n,o,r,s){this.x=t,this.y=e,this.f=i,this.ymid=n,this.iterations=o,this.events=s,this.message=r},numeric.Dopri.prototype._at=function(t,e){function i(t){return t*t}var n,o,r,s,a,l,h,d,u,c,p=this,f=p.x,g=p.y,v=p.f,m=p.ymid,y=(f.length,Math.floor,.5),b=numeric.add,w=numeric.mul,x=numeric.sub;return n=f[e],o=f[e+1],s=g[e],a=g[e+1],h=o-n,r=n+y*h,l=m[e],d=x(v[e],w(s,1/(n-r)+2/(n-o))),u=x(v[e+1],w(a,1/(o-r)+2/(o-n))),c=[i(t-o)*(t-r)/i(n-o)/(n-r),i(t-n)*i(t-o)/i(n-r)/i(o-r),i(t-n)*(t-r)/i(o-n)/(o-r),(t-n)*i(t-o)*(t-r)/i(n-o)/(n-r),(t-o)*i(t-n)*(t-r)/i(n-o)/(o-r)],b(b(b(b(w(s,c[0]),w(l,c[1])),w(a,c[2])),w(d,c[3])),w(u,c[4]))},numeric.Dopri.prototype.at=function(t){var e,i,n,o=Math.floor;if("number"!==typeof t){var r=t.length,s=Array(r);for(e=r-1;-1!==e;--e)s[e]=this.at(t[e]);return s}var a=this.x;e=0,i=a.length-1;while(i-e>1)n=o(.5*(e+i)),a[n]<=t?e=n:i=n;return this._at(t,e)},numeric.dopri=function(t,e,i,n,o,r,s){"undefined"===typeof o&&(o=1e-6),"undefined"===typeof r&&(r=1e3);var a,l,h,d,u,c,p,f,g,v,m,y,b,w=[t],x=[i],_=[n(t,i)],E=[],k=.2,T=[.075,.225],D=[44/45,-56/15,32/9],C=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],M=[35/384,0,500/1113,125/192,-2187/6784,11/84],O=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],N=[.2,.3,.8,8/9,1,1],A=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],P=0,I=(e-t)/10,L=0,R=numeric.add,B=numeric.mul,F=(Math.max,Math.min),z=Math.abs,j=numeric.norminf,H=Math.pow,Y=numeric.any,G=numeric.lt,W=numeric.and,V=(numeric.sub,new numeric.Dopri(w,x,_,E,-1,""));"function"===typeof s&&(m=s(t,i));while(t<e&&L<r)if(++L,t+I>e&&(I=e-t),a=n(t+N[0]*I,R(i,B(k*I,_[P]))),l=n(t+N[1]*I,R(R(i,B(T[0]*I,_[P])),B(T[1]*I,a))),h=n(t+N[2]*I,R(R(R(i,B(D[0]*I,_[P])),B(D[1]*I,a)),B(D[2]*I,l))),d=n(t+N[3]*I,R(R(R(R(i,B(C[0]*I,_[P])),B(C[1]*I,a)),B(C[2]*I,l)),B(C[3]*I,h))),u=n(t+N[4]*I,R(R(R(R(R(i,B(S[0]*I,_[P])),B(S[1]*I,a)),B(S[2]*I,l)),B(S[3]*I,h)),B(S[4]*I,d))),g=R(R(R(R(R(i,B(_[P],I*M[0])),B(l,I*M[2])),B(h,I*M[3])),B(d,I*M[4])),B(u,I*M[5])),c=n(t+I,g),p=R(R(R(R(R(B(_[P],I*A[0]),B(l,I*A[2])),B(h,I*A[3])),B(d,I*A[4])),B(u,I*A[5])),B(c,I*A[6])),v="number"===typeof p?z(p):j(p),v>o){if(I=.2*I*H(o/v,.25),t+I===t){V.msg="Step size became too small";break}}else{if(E[P]=R(R(R(R(R(R(i,B(_[P],I*O[0])),B(l,I*O[2])),B(h,I*O[3])),B(d,I*O[4])),B(u,I*O[5])),B(c,I*O[6])),++P,w[P]=t+I,x[P]=g,_[P]=c,"function"===typeof s){var U,q,X=t,K=t+.5*I;if(y=s(K,E[P-1]),b=W(G(m,0),G(0,y)),Y(b)||(X=K,K=t+I,m=y,y=s(K,g),b=W(G(m,0),G(0,y))),Y(b)){var Z,$,Q=0,J=1,tt=1;while(1){if("number"===typeof m)q=(tt*y*X-J*m*K)/(tt*y-J*m);else for(q=K,f=m.length-1;-1!==f;--f)m[f]<0&&y[f]>0&&(q=F(q,(tt*y[f]*X-J*m[f]*K)/(tt*y[f]-J*m[f])));if(q<=X||q>=K)break;U=V._at(q,P-1),$=s(q,U),Z=W(G(m,0),G(0,$)),Y(Z)?(K=q,y=$,b=Z,tt=1,-1===Q?J*=.5:J=1,Q=-1):(X=q,m=$,J=1,1===Q?tt*=.5:tt=1,Q=1)}return g=V._at(.5*(t+q),P-1),V.f[P]=n(q,U),V.x[P]=q,V.y[P]=U,V.ymid[P-1]=g,V.events=b,V.iterations=L,V}}t+=I,i=g,m=y,I=F(.8*I*H(o/v,.25),4*I)}return V.iterations=L,V},numeric.LU=function(t,e){e=e||!1;var i,n,o,r,s,a,l,h,d,u=Math.abs,c=t.length,p=c-1,f=new Array(c);for(e||(t=numeric.clone(t)),o=0;o<c;++o){for(l=o,a=t[o],d=u(a[o]),n=o+1;n<c;++n)r=u(t[n][o]),d<r&&(d=r,l=n);for(f[o]=l,l!=o&&(t[o]=t[l],t[l]=a,a=t[o]),s=a[o],i=o+1;i<c;++i)t[i][o]/=s;for(i=o+1;i<c;++i){for(h=t[i],n=o+1;n<p;++n)h[n]-=h[o]*a[n],++n,h[n]-=h[o]*a[n];n===p&&(h[n]-=h[o]*a[n])}}return{LU:t,P:f}},numeric.LUsolve=function(t,e){var i,n,o,r,s,a=t.LU,l=a.length,h=numeric.clone(e),d=t.P;for(i=l-1;-1!==i;--i)h[i]=e[i];for(i=0;i<l;++i)for(o=d[i],d[i]!==i&&(s=h[i],h[i]=h[o],h[o]=s),r=a[i],n=0;n<i;++n)h[i]-=h[n]*r[n];for(i=l-1;i>=0;--i){for(r=a[i],n=i+1;n<l;++n)h[i]-=h[n]*r[n];h[i]/=r[i]}return h},numeric.solve=function(t,e,i){return numeric.LUsolve(numeric.LU(t,i),e)},numeric.echelonize=function(t){var e,i,n,o,r,s,a,l,h=numeric.dim(t),d=h[0],u=h[1],c=numeric.identity(d),p=Array(d),f=Math.abs,g=numeric.diveq;for(t=numeric.clone(t),e=0;e<d;++e){for(n=0,r=t[e],s=c[e],i=1;i<u;++i)f(r[n])<f(r[i])&&(n=i);for(p[e]=n,g(s,r[n]),g(r,r[n]),i=0;i<d;++i)if(i!==e){for(a=t[i],l=a[n],o=u-1;-1!==o;--o)a[o]-=r[o]*l;for(a=c[i],o=d-1;-1!==o;--o)a[o]-=s[o]*l}}return{I:c,A:t,P:p}},numeric.__solveLP=function(t,e,i,n,o,r,s){var a,l,h,d,u=numeric.sum,c=(numeric.log,numeric.mul),p=numeric.sub,f=numeric.dot,g=numeric.div,v=numeric.add,m=t.length,y=i.length,b=!1,w=0,x=1,_=(numeric.transpose(e),numeric.svd,numeric.transpose),E=(numeric.leq,Math.sqrt),k=Math.abs,T=(numeric.muleq,numeric.norminf,numeric.any,Math.min),D=numeric.all,C=numeric.gt,S=Array(m),M=Array(y),O=(numeric.rep([y],1),numeric.solve),N=p(i,f(e,r)),A=f(t,t);for(h=w;h<o;++h){var P,I;for(P=y-1;-1!==P;--P)M[P]=g(e[P],N[P]);var L=_(M);for(P=m-1;-1!==P;--P)S[P]=u(L[P]);x=.25*k(A/f(t,S));var R=100*E(A/f(S,S));for((!isFinite(x)||x>R)&&(x=R),d=v(t,c(x,S)),l=f(L,M),P=m-1;-1!==P;--P)l[P][P]+=1;I=O(l,g(d,x),!0);var B=g(N,f(e,I)),F=1;for(P=y-1;-1!==P;--P)B[P]<0&&(F=T(F,-.999*B[P]));if(a=p(r,c(I,F)),N=p(i,f(e,a)),!D(C(N,0)))return{solution:r,message:"",iterations:h};if(r=a,x<n)return{solution:a,message:"",iterations:h};if(s){var z=f(t,d),j=f(e,d);for(b=!0,P=y-1;-1!==P;--P)if(z*j[P]<0){b=!1;break}}else b=!(r[m-1]>=0);if(b)return{solution:a,message:"Unbounded",iterations:h}}return{solution:r,message:"maximum iteration count exceeded",iterations:h}},numeric._solveLP=function(t,e,i,n,o){var r=t.length,s=i.length,a=(numeric.sum,numeric.log,numeric.mul,numeric.sub),l=numeric.dot,h=(numeric.div,numeric.add,numeric.rep([r],0).concat([1])),d=numeric.rep([s,1],-1),u=numeric.blockMatrix([[e,d]]),c=i,p=numeric.rep([r],0).concat(Math.max(0,numeric.sup(numeric.neg(i)))+1),f=numeric.__solveLP(h,u,c,n,o,p,!1),g=numeric.clone(f.solution);g.length=r;var v=numeric.inf(a(i,l(e,g)));if(v<0)return{solution:NaN,message:"Infeasible",iterations:f.iterations};var m=numeric.__solveLP(t,e,i,n,o-f.iterations,g,!0);return m.iterations+=f.iterations,m},numeric.solveLP=function(t,e,i,n,o,r,s){if("undefined"===typeof s&&(s=1e3),"undefined"===typeof r&&(r=numeric.epsilon),"undefined"===typeof n)return numeric._solveLP(t,e,i,r,s);var a,l=n.length,h=n[0].length,d=e.length,u=numeric.echelonize(n),c=numeric.rep([h],0),p=u.P,f=[];for(a=p.length-1;-1!==a;--a)c[p[a]]=1;for(a=h-1;-1!==a;--a)0===c[a]&&f.push(a);var g=numeric.getRange,v=numeric.linspace(0,l-1),m=numeric.linspace(0,d-1),y=g(n,v,f),b=g(e,m,p),w=g(e,m,f),x=numeric.dot,_=numeric.sub,E=x(b,u.I),k=_(w,x(E,y)),T=_(i,x(E,o)),D=Array(p.length),C=Array(f.length);for(a=p.length-1;-1!==a;--a)D[a]=t[p[a]];for(a=f.length-1;-1!==a;--a)C[a]=t[f[a]];var S=_(C,x(D,x(u.I,y))),M=numeric._solveLP(S,k,T,r,s),O=M.solution;if(O!==O)return M;var N=x(u.I,_(o,x(y,O))),A=Array(t.length);for(a=p.length-1;-1!==a;--a)A[p[a]]=N[a];for(a=f.length-1;-1!==a;--a)A[f[a]]=O[a];return{solution:A,message:M.message,iterations:M.iterations}},numeric.MPStoLP=function(t){t instanceof String&&t.split("\n");var e,i,n,o,r=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],a=t.length,l=0,h={},d=[],u=0,c={},p=0,f=[],g=[],v=[];function m(i){throw new Error("MPStoLP: "+i+"\nLine "+e+": "+t[e]+"\nCurrent state: "+s[r]+"\n")}for(e=0;e<a;++e){n=t[e];var y=n.match(/\S*/g),b=[];for(i=0;i<y.length;++i)""!==y[i]&&b.push(y[i]);if(0!==b.length){for(i=0;i<s.length;++i)if(n.substr(0,s[i].length)===s[i])break;if(i<s.length){if(r=i,1===i&&(o=b[1]),6===i)return{name:o,c:f,A:numeric.transpose(g),b:v,rows:h,vars:c}}else switch(r){case 0:case 1:m("Unexpected line");case 2:switch(b[0]){case"N":0===l?l=b[1]:m("Two or more N rows");break;case"L":h[b[1]]=u,d[u]=1,v[u]=0,++u;break;case"G":h[b[1]]=u,d[u]=-1,v[u]=0,++u;break;case"E":h[b[1]]=u,d[u]=0,v[u]=0,++u;break;default:m("Parse error "+numeric.prettyPrint(b))}break;case 3:c.hasOwnProperty(b[0])||(c[b[0]]=p,f[p]=0,g[p]=numeric.rep([u],0),++p);var w=c[b[0]];for(i=1;i<b.length;i+=2)if(b[i]!==l){var x=h[b[i]];g[w][x]=(d[x]<0?-1:1)*parseFloat(b[i+1])}else f[w]=parseFloat(b[i+1]);break;case 4:for(i=1;i<b.length;i+=2)v[h[b[i]]]=(d[h[b[i]]]<0?-1:1)*parseFloat(b[i+1]);break;case 5:break;case 6:m("Internal error")}}}m("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,i,n,o,r,s){function a(t){var e,n,o=this,r=t.length,s=0,a=o.i=o.j=o.m=0;o.S=[],o.c=[],r||(t=[r++]);while(s<i)o.S[s]=s++;for(s=0;s<i;s++)e=o.S[s],a=d(a+e+t[s%r]),n=o.S[a],o.S[s]=n,o.S[a]=e;o.g=function(t){var e=o.S,n=d(o.i+1),r=e[n],s=d(o.j+r),a=e[s];e[n]=a,e[s]=r;var l=e[d(r+a)];while(--t)n=d(n+1),r=e[n],s=d(s+r),a=e[s],e[n]=a,e[s]=r,l=l*i+e[d(r+a)];return o.i=n,o.j=s,l},o.g(i)}function l(t,e,i,n,o){if(i=[],o=typeof t,e&&"object"==o)for(n in t)if(n.indexOf("S")<5)try{i.push(l(t[n],e-1))}catch(r){}return i.length?i:t+("string"!=o?"\0":"")}function h(t,e,i,n){for(t+="",i=0,n=0;n<t.length;n++)e[d(n)]=d((i^=19*e[d(n)])+t.charCodeAt(n));for(n in t="",e)t+=String.fromCharCode(e[n]);return t}function d(t){return t&i-1}e["seedrandom"]=function(d,u){var c,p=[];return d=h(l(u?[d,t]:arguments.length?d:[(new Date).getTime(),t,window],3),p),c=new a(p),h(c.S,t),e["random"]=function(){var t=c.g(n),e=s,a=0;while(t<o)t=(t+a)*i,e*=i,a=c.g(1);while(t>=r)t/=2,e/=2,a>>>=1;return(t+a)/e},d},s=e.pow(i,n),o=e.pow(2,o),r=2*o,h(e.random(),t)}([],numeric.seedrandom,256,6,52),function(t){function e(t){if("object"!==typeof t)return t;var i,n=[],o=t.length;for(i=0;i<o;i++)n[i+1]=e(t[i]);return n}function i(t){if("object"!==typeof t)return t;var e,n=[],o=t.length;for(e=1;e<o;e++)n[e-1]=i(t[e]);return n}function n(t,e,i){var n,o,r,s,a;for(r=1;r<=i;r+=1){for(t[r][r]=1/t[r][r],a=-t[r][r],n=1;n<r;n+=1)t[n][r]=a*t[n][r];if(s=r+1,i<s)break;for(o=s;o<=i;o+=1)for(a=t[r][o],t[r][o]=0,n=1;n<=r;n+=1)t[n][o]=t[n][o]+a*t[n][r]}}function o(t,e,i,n){var o,r,s,a;for(r=1;r<=i;r+=1){for(a=0,o=1;o<r;o+=1)a+=t[o][r]*n[o];n[r]=(n[r]-a)/t[r][r]}for(s=1;s<=i;s+=1)for(r=i+1-s,n[r]=n[r]/t[r][r],a=-n[r],o=1;o<r;o+=1)n[o]=n[o]+a*t[o][r]}function r(t,e,i,n){var o,r,s,a,l,h;for(r=1;r<=i;r+=1){if(n[1]=r,h=0,s=r-1,s<1){if(h=t[r][r]-h,h<=0)break;t[r][r]=Math.sqrt(h)}else{for(a=1;a<=s;a+=1){for(l=t[a][r],o=1;o<a;o+=1)l-=t[o][r]*t[o][a];l/=t[a][a],t[a][r]=l,h+=l*l}if(h=t[r][r]-h,h<=0)break;t[r][r]=Math.sqrt(h)}n[1]=0}}function s(t,e,i,s,a,l,h,d,u,c,p,f,g,v,m,y){var b,w,x,_,E,k,T,D,C,S,M,O,N,A,P,I,L,R,B,F,z,j,H,Y,G,W,V;N=Math.min(s,c),x=2*s+N*(N+5)/2+2*c+1,Y=1e-60;do{Y+=Y,G=1+.1*Y,W=1+.2*Y}while(G<=1||W<=1);for(b=1;b<=s;b+=1)m[b]=e[b];for(b=s+1;b<=x;b+=1)m[b]=0;for(b=1;b<=c;b+=1)f[b]=0;if(E=[],0===y[1]){if(r(t,i,s,E),0!==E[1])return void(y[1]=2);o(t,i,s,e),n(t,i,s)}else{for(w=1;w<=s;w+=1)for(a[w]=0,b=1;b<=w;b+=1)a[w]=a[w]+t[b][w]*e[b];for(w=1;w<=s;w+=1)for(e[w]=0,b=w;b<=s;b+=1)e[w]=e[w]+t[w][b]*a[b]}for(l[1]=0,w=1;w<=s;w+=1)for(a[w]=e[w],l[1]=l[1]+m[w]*a[w],m[w]=0,b=w+1;b<=s;b+=1)t[b][w]=0;for(l[1]=-l[1]/2,y[1]=0,T=s,D=T+s,M=D+N,C=M+N+1,S=C+N*(N+1)/2,A=S+c,b=1;b<=c;b+=1){for(I=0,w=1;w<=s;w+=1)I+=h[w][b]*h[w][b];m[A+b]=Math.sqrt(I)}function U(){for(v[1]=v[1]+1,x=S,b=1;b<=c;b+=1){for(x+=1,I=-d[b],w=1;w<=s;w+=1)I+=h[w][b]*a[w];if(Math.abs(I)<Y&&(I=0),b>p)m[x]=I;else if(m[x]=-Math.abs(I),I>0){for(w=1;w<=s;w+=1)h[w][b]=-h[w][b];d[b]=-d[b]}}for(b=1;b<=g;b+=1)m[S+f[b]]=0;for(O=0,P=0,b=1;b<=c;b+=1)m[S+b]<P*m[A+b]&&(O=b,P=m[S+b]/m[A+b]);return 0===O?999:0}function q(){for(b=1;b<=s;b+=1){for(I=0,w=1;w<=s;w+=1)I+=t[w][b]*h[w][O];m[b]=I}for(_=T,b=1;b<=s;b+=1)m[_+b]=0;for(w=g+1;w<=s;w+=1)for(b=1;b<=s;b+=1)m[_+b]=m[_+b]+t[b][w]*m[w];for(j=!0,b=g;b>=1;b-=1){for(I=m[b],x=C+b*(b+3)/2,_=x-b,w=b+1;w<=g;w+=1)I-=m[x]*m[D+w],x+=w;if(I/=m[_],m[D+b]=I,f[b]<p)break;if(I<0)break;j=!1,k=b}if(!j)for(L=m[M+k]/m[D+k],b=1;b<=g;b+=1){if(f[b]<p)break;if(m[D+b]<0)break;P=m[M+b]/m[D+b],P<L&&(L=P,k=b)}for(I=0,b=T+1;b<=T+s;b+=1)I+=m[b]*m[b];if(Math.abs(I)<=Y){if(j)return y[1]=1,999;for(b=1;b<=g;b+=1)m[M+b]=m[M+b]-L*m[D+b];return m[M+g+1]=m[M+g+1]+L,700}for(I=0,b=1;b<=s;b+=1)I+=m[T+b]*h[b][O];for(R=-m[S+O]/I,H=!0,j||L<R&&(R=L,H=!1),b=1;b<=s;b+=1)a[b]=a[b]+R*m[T+b],Math.abs(a[b])<Y&&(a[b]=0);for(l[1]=l[1]+R*I*(R/2+m[M+g+1]),b=1;b<=g;b+=1)m[M+b]=m[M+b]-R*m[D+b];if(m[M+g+1]=m[M+g+1]+R,!H){for(I=-d[O],w=1;w<=s;w+=1)I+=a[w]*h[w][O];if(O>p)m[S+O]=I;else if(m[S+O]=-Math.abs(I),I>0){for(w=1;w<=s;w+=1)h[w][O]=-h[w][O];d[O]=-d[O]}return 700}for(g+=1,f[g]=O,x=C+(g-1)*g/2+1,b=1;b<=g-1;b+=1)m[x]=m[b],x+=1;if(g===s)m[x]=m[s];else{for(b=s;b>=g+1;b-=1){if(0===m[b])break;if(B=Math.max(Math.abs(m[b-1]),Math.abs(m[b])),F=Math.min(Math.abs(m[b-1]),Math.abs(m[b])),P=m[b-1]>=0?Math.abs(B*Math.sqrt(1+F*F/(B*B))):-Math.abs(B*Math.sqrt(1+F*F/(B*B))),B=m[b-1]/P,F=m[b]/P,1===B)break;if(0===B)for(m[b-1]=F*P,w=1;w<=s;w+=1)P=t[w][b-1],t[w][b-1]=t[w][b],t[w][b]=P;else for(m[b-1]=P,z=F/(1+B),w=1;w<=s;w+=1)P=B*t[w][b-1]+F*t[w][b],t[w][b]=z*(t[w][b-1]+P)-t[w][b],t[w][b-1]=P}m[x]=m[g]}return 0}function X(){if(x=C+k*(k+1)/2+1,_=x+k,0===m[_])return 798;if(B=Math.max(Math.abs(m[_-1]),Math.abs(m[_])),F=Math.min(Math.abs(m[_-1]),Math.abs(m[_])),P=m[_-1]>=0?Math.abs(B*Math.sqrt(1+F*F/(B*B))):-Math.abs(B*Math.sqrt(1+F*F/(B*B))),B=m[_-1]/P,F=m[_]/P,1===B)return 798;if(0===B){for(b=k+1;b<=g;b+=1)P=m[_-1],m[_-1]=m[_],m[_]=P,_+=b;for(b=1;b<=s;b+=1)P=t[b][k],t[b][k]=t[b][k+1],t[b][k+1]=P}else{for(z=F/(1+B),b=k+1;b<=g;b+=1)P=B*m[_-1]+F*m[_],m[_]=z*(m[_-1]+P)-m[_],m[_-1]=P,_+=b;for(b=1;b<=s;b+=1)P=B*t[b][k]+F*t[b][k+1],t[b][k+1]=z*(t[b][k]+P)-t[b][k+1],t[b][k]=P}return 0}function K(){for(_=x-k,b=1;b<=k;b+=1)m[_]=m[x],x+=1,_+=1;return m[M+k]=m[M+k+1],f[k]=f[k+1],k+=1,k<g?797:0}function Z(){return m[M+g]=m[M+g+1],m[M+g+1]=0,f[g]=0,g-=1,v[2]=v[2]+1,0}g=0,v[1]=0,v[2]=0,V=0;while(1){if(V=U(),999===V)return;while(1){if(V=q(),0===V)break;if(999===V)return;if(700===V)if(k===g)Z();else{while(1)if(X(),V=K(),797!==V)break;Z()}}}}function a(t,n,o,r,a,l){t=e(t),n=e(n),o=e(o);var h,d,u,c,p,f,g=[],v=[],m=[],y=[],b=[];if(a=a||0,l=l?e(l):[void 0,0],r=r?e(r):[],d=t.length-1,u=o[1].length-1,!r)for(h=1;h<=u;h+=1)r[h]=0;for(h=1;h<=u;h+=1)v[h]=0;for(c=0,p=Math.min(d,u),h=1;h<=d;h+=1)m[h]=0;for(g[1]=0,h=1;h<=2*d+p*(p+5)/2+2*u+1;h+=1)y[h]=0;for(h=1;h<=2;h+=1)b[h]=0;return s(t,n,d,d,m,g,o,r,d,u,a,v,c,b,y,l),f="",1===l[1]&&(f="constraints are inconsistent, no solution!"),2===l[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:i(m),value:i(g),unconstrained_solution:i(n),iterations:i(b),iact:i(v),message:f}}t.solveQP=a}(numeric),numeric.svd=function(t){var e,i=numeric.epsilon,n=1e-64/i,o=50,r=0,s=0,a=0,l=0,h=0,d=numeric.clone(t),u=d.length,c=d[0].length;if(u<c)throw"Need more rows than columns";var p=new Array(c),f=new Array(c);for(s=0;s<c;s++)p[s]=f[s]=0;var g=numeric.rep([c,c],0);function v(t,e){return t=Math.abs(t),e=Math.abs(e),t>e?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var m=0,y=0,b=0,w=0,x=0,_=0,E=0;for(s=0;s<c;s++){for(p[s]=y,E=0,h=s+1,a=s;a<u;a++)E+=d[a][s]*d[a][s];if(E<=n)y=0;else for(m=d[s][s],y=Math.sqrt(E),m>=0&&(y=-y),b=m*y-E,d[s][s]=m-y,a=h;a<c;a++){for(E=0,l=s;l<u;l++)E+=d[l][s]*d[l][a];for(m=E/b,l=s;l<u;l++)d[l][a]+=m*d[l][s]}for(f[s]=y,E=0,a=h;a<c;a++)E+=d[s][a]*d[s][a];if(E<=n)y=0;else{for(m=d[s][s+1],y=Math.sqrt(E),m>=0&&(y=-y),b=m*y-E,d[s][s+1]=m-y,a=h;a<c;a++)p[a]=d[s][a]/b;for(a=h;a<u;a++){for(E=0,l=h;l<c;l++)E+=d[a][l]*d[s][l];for(l=h;l<c;l++)d[a][l]+=E*p[l]}}x=Math.abs(f[s])+Math.abs(p[s]),x>w&&(w=x)}for(s=c-1;-1!=s;s+=-1){if(0!=y){for(b=y*d[s][s+1],a=h;a<c;a++)g[a][s]=d[s][a]/b;for(a=h;a<c;a++){for(E=0,l=h;l<c;l++)E+=d[s][l]*g[l][a];for(l=h;l<c;l++)g[l][a]+=E*g[l][s]}}for(a=h;a<c;a++)g[s][a]=0,g[a][s]=0;g[s][s]=1,y=p[s],h=s}for(s=c-1;-1!=s;s+=-1){for(h=s+1,y=f[s],a=h;a<c;a++)d[s][a]=0;if(0!=y){for(b=d[s][s]*y,a=h;a<c;a++){for(E=0,l=h;l<u;l++)E+=d[l][s]*d[l][a];for(m=E/b,l=s;l<u;l++)d[l][a]+=m*d[l][s]}for(a=s;a<u;a++)d[a][s]=d[a][s]/y}else for(a=s;a<u;a++)d[a][s]=0;d[s][s]+=1}for(i*=w,l=c-1;-1!=l;l+=-1)for(var k=0;k<o;k++){var T=!1;for(h=l;-1!=h;h+=-1){if(Math.abs(p[h])<=i){T=!0;break}if(Math.abs(f[h-1])<=i)break}if(!T){r=0,E=1;var D=h-1;for(s=h;s<l+1;s++){if(m=E*p[s],p[s]=r*p[s],Math.abs(m)<=i)break;for(y=f[s],b=v(m,y),f[s]=b,r=y/b,E=-m/b,a=0;a<u;a++)x=d[a][D],_=d[a][s],d[a][D]=x*r+_*E,d[a][s]=-x*E+_*r}}if(_=f[l],h==l){if(_<0)for(f[l]=-_,a=0;a<c;a++)g[a][l]=-g[a][l];break}if(k>=o-1)throw"Error: no convergence.";for(w=f[h],x=f[l-1],y=p[l-1],b=p[l],m=((x-_)*(x+_)+(y-b)*(y+b))/(2*b*x),y=v(m,1),m=m<0?((w-_)*(w+_)+b*(x/(m-y)-b))/w:((w-_)*(w+_)+b*(x/(m+y)-b))/w,r=1,E=1,s=h+1;s<l+1;s++){for(y=p[s],x=f[s],b=E*y,y*=r,_=v(m,b),p[s-1]=_,r=m/_,E=b/_,m=w*r+y*E,y=-w*E+y*r,b=x*E,x*=r,a=0;a<c;a++)w=g[a][s-1],_=g[a][s],g[a][s-1]=w*r+_*E,g[a][s]=-w*E+_*r;for(_=v(m,b),f[s-1]=_,r=m/_,E=b/_,m=r*y+E*x,w=-E*y+r*x,a=0;a<u;a++)x=d[a][s-1],_=d[a][s],d[a][s-1]=x*r+_*E,d[a][s]=-x*E+_*r}p[h]=0,p[l]=m,f[l]=w}for(s=0;s<f.length;s++)f[s]<i&&(f[s]=0);for(s=0;s<c;s++)for(a=s-1;a>=0;a--)if(f[a]<f[s]){for(r=f[a],f[a]=f[s],f[s]=r,l=0;l<d.length;l++)e=d[l][s],d[l][s]=d[l][a],d[l][a]=e;for(l=0;l<g.length;l++)e=g[l][s],g[l][s]=g[l][a],g[l][a]=e;s=a}return{U:d,S:f,V:g}}}).call(this,__webpack_require__("c8ba"))},cd1c:function(t,e,i){var n=i("e853");t.exports=function(t,e){return new(n(t))(e)}},ce7e:function(t,e,i){var n=i("63b6"),o=i("584a"),r=i("294c");t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",s)}},d225:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",function(){return n})},d2d5:function(t,e,i){i("1654"),i("549b"),t.exports=i("584a").Array.from},d497:function(t,e,i){t.exports=i.p+"img/hospital.8a4eafbc.svg"},e829:function(t,e,i){i("2f37"),t.exports=i("584a").Date.now},e853:function(t,e,i){var n=i("d3f4"),o=i("1169"),r=i("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},f228:function(t,e,i){var n=i("40c3"),o=i("4517");t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},f410:function(t,e,i){i("1af6"),t.exports=i("584a").Array.isArray},f499:function(t,e,i){t.exports=i("a21f")},f6ef:function(t,e,i){(function(e,i){t.exports=i()})(0,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=25)}([function(t,e,i){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,t.exports=n},function(t,e,i){"use strict";var n=i(2),o=i(8),r=i(9);function s(t,e,i){n.call(this,i),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=i,this.bendpoints=[],this.source=t,this.target=e}for(var a in s.prototype=Object.create(n.prototype),n)s[a]=n[a];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(t,e){var i=this.getOtherEnd(t),n=e.getGraphManager().getRoot();while(1){if(i.getOwner()==e)return i;if(i.getOwner()==n)break;i=i.getOwner().getParent()}return null},s.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=r.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=r.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=r.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=r.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=s},function(t,e,i){"use strict";function n(t){this.vGraphObject=t}t.exports=n},function(t,e,i){"use strict";var n=i(2),o=i(10),r=i(12),s=i(0),a=i(16),l=i(4);function h(t,e,i,s){null==i&&null==s&&(s=e),n.call(this,s),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=t,this.rect=null!=i&&null!=e?new r(e.x,e.y,i.width,i.height):new r}for(var d in h.prototype=Object.create(n.prototype),n)h[d]=n[d];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(t){this.rect.width=t},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(t){this.rect.height=t},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},h.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},h.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},h.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},h.prototype.getEdgeListToNode=function(t){var e=[],i=this;return i.edges.forEach(function(n){if(n.target==t){if(n.source!=i)throw"Incorrect edge source!";e.push(n)}}),e},h.prototype.getEdgesBetween=function(t){var e=[],i=this;return i.edges.forEach(function(n){if(n.source!=i&&n.target!=i)throw"Incorrect edge source and/or target";n.target!=t&&n.source!=t||e.push(n)}),e},h.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach(function(i){if(i.source==e)t.add(i.target);else{if(i.target!=e)throw"Incorrect incidency!";t.add(i.source)}}),t},h.prototype.withChildren=function(){var t,e,i=new Set;if(i.add(this),null!=this.child)for(var n=this.child.getNodes(),o=0;o<n.length;o++)t=n[o],e=t.withChildren(),e.forEach(function(t){i.add(t)});return i},h.prototype.getNoOfChildren=function(){var t,e=0;if(null==this.child)e=1;else for(var i=this.child.getNodes(),n=0;n<i.length;n++)t=i[n],e+=t.getNoOfChildren();return 0==e&&(e=1),e},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var t,e,i=-s.INITIAL_WORLD_BOUNDARY,n=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_X+a.nextDouble()*(n-i)+i;var o=-s.INITIAL_WORLD_BOUNDARY,r=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_Y+a.nextDouble()*(r-o)+o,this.rect.x=t,this.rect.y=e},h.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),i=t.getBottom()-t.getTop();this.labelWidth>e&&(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)),this.labelHeight>i&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-i)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-i),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(t){var e=this.rect.x;e>s.WORLD_BOUNDARY?e=s.WORLD_BOUNDARY:e<-s.WORLD_BOUNDARY&&(e=-s.WORLD_BOUNDARY);var i=this.rect.y;i>s.WORLD_BOUNDARY?i=s.WORLD_BOUNDARY:i<-s.WORLD_BOUNDARY&&(i=-s.WORLD_BOUNDARY);var n=new l(e,i),o=t.inverseTransformPoint(n);this.setLocation(o.x,o.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=h},function(t,e,i){"use strict";function n(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(t){this.x=t},n.prototype.setY=function(t){this.y=t},n.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=n},function(t,e,i){"use strict";var n=i(2),o=i(10),r=i(0),s=i(6),a=i(3),l=i(1),h=i(12),d=i(15),u=i(11);function c(t,e,i){n.call(this,i),this.estimatedSize=o.MIN_VALUE,this.margin=r.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof s?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var p in c.prototype=Object.create(n.prototype),n)c[p]=n[p];c.prototype.getNodes=function(){return this.nodes},c.prototype.getEdges=function(){return this.edges},c.prototype.getGraphManager=function(){return this.graphManager},c.prototype.getParent=function(){return this.parent},c.prototype.getLeft=function(){return this.left},c.prototype.getRight=function(){return this.right},c.prototype.getTop=function(){return this.top},c.prototype.getBottom=function(){return this.bottom},c.prototype.isConnected=function(){return this.isConnected},c.prototype.add=function(t,e,i){if(null==e&&null==i){var n=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var o=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(i)>-1))throw"Source or target not in graph!";if(e.owner!=i.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=i.owner?null:(o.source=e,o.target=i,o.isInterGraph=!1,this.getEdges().push(o),e.edges.push(o),i!=e&&i.edges.push(o),o)},c.prototype.remove=function(t){var e=t;if(t instanceof a){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var i=e.edges.slice(),n=i.length,o=0;o<n;o++)s=i[o],s.isInterGraph?this.graphManager.remove(s):s.source.owner.remove(s);var r=this.nodes.indexOf(e);if(-1==r)throw"Node not in owner node list!";this.nodes.splice(r,1)}else if(t instanceof l){var s=t;if(null==s)throw"Edge is null!";if(null==s.source||null==s.target)throw"Source and/or target is null!";if(null==s.source.owner||null==s.target.owner||s.source.owner!=this||s.target.owner!=this)throw"Source and/or target owner is invalid!";var h=s.source.edges.indexOf(s),d=s.target.edges.indexOf(s);if(!(h>-1&&d>-1))throw"Source and/or target doesn't know this edge!";s.source.edges.splice(h,1),s.target!=s.source&&s.target.edges.splice(d,1);r=s.source.owner.getEdges().indexOf(s);if(-1==r)throw"Not in owner's edge list!";s.source.owner.getEdges().splice(r,1)}},c.prototype.updateLeftTop=function(){for(var t,e,i,n=o.MAX_VALUE,r=o.MAX_VALUE,s=this.getNodes(),a=s.length,l=0;l<a;l++){var h=s[l];t=h.getTop(),e=h.getLeft(),n>t&&(n=t),r>e&&(r=e)}return n==o.MAX_VALUE?null:(i=void 0!=s[0].getParent().paddingLeft?s[0].getParent().paddingLeft:this.margin,this.left=r-i,this.top=n-i,new d(this.left,this.top))},c.prototype.updateBounds=function(t){for(var e,i,n,r,s,a=o.MAX_VALUE,l=-o.MAX_VALUE,d=o.MAX_VALUE,u=-o.MAX_VALUE,c=this.nodes,p=c.length,f=0;f<p;f++){var g=c[f];t&&null!=g.child&&g.updateBounds(),e=g.getLeft(),i=g.getRight(),n=g.getTop(),r=g.getBottom(),a>e&&(a=e),l<i&&(l=i),d>n&&(d=n),u<r&&(u=r)}var v=new h(a,d,l-a,u-d);a==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),s=void 0!=c[0].getParent().paddingLeft?c[0].getParent().paddingLeft:this.margin,this.left=v.x-s,this.right=v.x+v.width+s,this.top=v.y-s,this.bottom=v.y+v.height+s},c.calculateBounds=function(t){for(var e,i,n,r,s=o.MAX_VALUE,a=-o.MAX_VALUE,l=o.MAX_VALUE,d=-o.MAX_VALUE,u=t.length,c=0;c<u;c++){var p=t[c];e=p.getLeft(),i=p.getRight(),n=p.getTop(),r=p.getBottom(),s>e&&(s=e),a<i&&(a=i),l>n&&(l=n),d<r&&(d=r)}var f=new h(s,l,a-s,d-l);return f},c.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,i=e.length,n=0;n<i;n++){var o=e[n];t+=o.calcEstimatedSize()}return this.estimatedSize=0==t?r.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},c.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,i,n=new u,o=new Set,r=this.nodes[0],s=r.withChildren();s.forEach(function(t){n.push(t),o.add(t)});while(0!==n.length){r=n.shift(),e=r.getEdges();for(var a=e.length,l=0;l<a;l++){var h=e[l];if(i=h.getOtherEndInGraph(r,this),null!=i&&!o.has(i)){var d=i.withChildren();d.forEach(function(t){n.push(t),o.add(t)})}}}if(this.isConnected=!1,o.size>=this.nodes.length){var c=0;o.forEach(function(e){e.owner==t&&c++}),c==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=c},function(t,e,i){"use strict";var n,o=i(1);function r(t){n=i(5),this.layout=t,this.graphs=[],this.edges=[]}r.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),i=this.add(t,e);return this.setRootGraph(i),this.rootGraph},r.prototype.add=function(t,e,i,n,o){if(null==i&&null==n&&null==o){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}o=i,n=e,i=t;var r=n.getOwner(),s=o.getOwner();if(null==r||r.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==s||s.getGraphManager()!=this)throw"Target not in this graph mgr!";if(r==s)return i.isInterGraph=!1,r.add(i,n,o);if(i.isInterGraph=!0,i.source=n,i.target=o,this.edges.indexOf(i)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(i),null==i.source||null==i.target)throw"Edge source and/or target is null!";if(-1!=i.source.edges.indexOf(i)||-1!=i.target.edges.indexOf(i))throw"Edge already in source and/or target incidency list!";return i.source.edges.push(i),i.target.edges.push(i),i},r.prototype.remove=function(t){if(t instanceof n){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";var i,r=[];r=r.concat(e.getEdges());for(var s=r.length,a=0;a<s;a++)i=r[a],e.remove(i);var l,h=[];h=h.concat(e.getNodes()),s=h.length;for(a=0;a<s;a++)l=h[a],e.remove(l);e==this.rootGraph&&this.setRootGraph(null);var d=this.graphs.indexOf(e);this.graphs.splice(d,1),e.parent=null}else if(t instanceof o){if(i=t,null==i)throw"Edge is null!";if(!i.isInterGraph)throw"Not an inter-graph edge!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(-1==i.source.edges.indexOf(i)||-1==i.target.edges.indexOf(i))throw"Source and/or target doesn't know this edge!";d=i.source.edges.indexOf(i);if(i.source.edges.splice(d,1),d=i.target.edges.indexOf(i),i.target.edges.splice(d,1),null==i.source.owner||null==i.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==i.source.owner.getGraphManager().edges.indexOf(i))throw"Not in owner graph manager's edge list!";d=i.source.owner.getGraphManager().edges.indexOf(i);i.source.owner.getGraphManager().edges.splice(d,1)}},r.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},r.prototype.getGraphs=function(){return this.graphs},r.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),i=e.length,n=0;n<i;n++)t=t.concat(e[n].getNodes());this.allNodes=t}return this.allNodes},r.prototype.resetAllNodes=function(){this.allNodes=null},r.prototype.resetAllEdges=function(){this.allEdges=null},r.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},r.prototype.getAllEdges=function(){if(null==this.allEdges){for(var t=[],e=this.getGraphs(),i=(e.length,0);i<e.length;i++)t=t.concat(e[i].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},r.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},r.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},r.prototype.getRoot=function(){return this.rootGraph},r.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},r.prototype.getLayout=function(){return this.layout},r.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;var i,n=t.getOwner();do{if(i=n.getParent(),null==i)break;if(i==e)return!0;if(n=i.getOwner(),null==n)break}while(1);n=e.getOwner();do{if(i=n.getParent(),null==i)break;if(i==t)return!0;if(n=i.getOwner(),null==n)break}while(1);return!1},r.prototype.calcLowestCommonAncestors=function(){for(var t,e,i,n,o,r=this.getAllEdges(),s=r.length,a=0;a<s;a++)if(t=r[a],e=t.source,i=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=i,e!=i){n=e.getOwner();while(null==t.lca){t.targetInLca=i,o=i.getOwner();while(null==t.lca){if(o==n){t.lca=o;break}if(o==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=o.getParent(),o=t.targetInLca.getOwner()}if(n==this.rootGraph)break;null==t.lca&&(t.sourceInLca=n.getParent(),n=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},r.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();var i=t.getOwner();do{if(null==i)break;var n=e.getOwner();do{if(null==n)break;if(n==i)return n;n=n.getParent().getOwner()}while(1);i=i.getParent().getOwner()}while(1);return i},r.prototype.calcInclusionTreeDepths=function(t,e){var i;null==t&&null==e&&(t=this.rootGraph,e=1);for(var n=t.getNodes(),o=n.length,r=0;r<o;r++)i=n[r],i.inclusionTreeDepth=e,null!=i.child&&this.calcInclusionTreeDepths(i.child,e+1)},r.prototype.includesInvalidEdge=function(){for(var t,e=this.edges.length,i=0;i<e;i++)if(t=this.edges[i],this.isOneAncestorOfOther(t.source,t.target))return!0;return!1},t.exports=r},function(t,e,i){"use strict";var n=i(0);function o(){}for(var r in n)o[r]=n[r];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=3*o.MAX_NODE_DISPLACEMENT_INCREMENTAL,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=o},function(t,e,i){"use strict";function n(){}n.calcSeparationAmount=function(t,e,i,o){if(!t.intersects(e))throw"assert failed";var r=new Array(2);n.decideDirectionsForOverlappingNodes(t,e,r),i[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),i[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?i[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(i[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?i[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(i[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var s=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()==t.getCenterY()&&e.getCenterX()==t.getCenterX()&&(s=1);var a=s*i[0],l=i[1]/s;i[0]<l?l=i[0]:a=i[1],i[0]=-1*r[0]*(l/2+o),i[1]=-1*r[1]*(a/2+o)},n.decideDirectionsForOverlappingNodes=function(t,e,i){t.getCenterX()<e.getCenterX()?i[0]=-1:i[0]=1,t.getCenterY()<e.getCenterY()?i[1]=-1:i[1]=1},n.getIntersection2=function(t,e,i){var o=t.getCenterX(),r=t.getCenterY(),s=e.getCenterX(),a=e.getCenterY();if(t.intersects(e))return i[0]=o,i[1]=r,i[2]=s,i[3]=a,!0;var l=t.getX(),h=t.getY(),d=t.getRight(),u=t.getX(),c=t.getBottom(),p=t.getRight(),f=t.getWidthHalf(),g=t.getHeightHalf(),v=e.getX(),m=e.getY(),y=e.getRight(),b=e.getX(),w=e.getBottom(),x=e.getRight(),_=e.getWidthHalf(),E=e.getHeightHalf(),k=!1,T=!1;if(o==s){if(r>a)return i[0]=o,i[1]=h,i[2]=s,i[3]=w,!1;if(r<a)return i[0]=o,i[1]=c,i[2]=s,i[3]=m,!1}else if(r==a){if(o>s)return i[0]=l,i[1]=r,i[2]=y,i[3]=a,!1;if(o<s)return i[0]=d,i[1]=r,i[2]=v,i[3]=a,!1}else{var D,C,S,M,O,N,A=t.height/t.width,P=e.height/e.width,I=(a-r)/(s-o);if(-A==I?o>s?(i[0]=u,i[1]=c,k=!0):(i[0]=d,i[1]=h,k=!0):A==I&&(o>s?(i[0]=l,i[1]=h,k=!0):(i[0]=p,i[1]=c,k=!0)),-P==I?s>o?(i[2]=b,i[3]=w,T=!0):(i[2]=y,i[3]=m,T=!0):P==I&&(s>o?(i[2]=v,i[3]=m,T=!0):(i[2]=x,i[3]=w,T=!0)),k&&T)return!1;if(o>s?r>a?(D=n.getCardinalDirection(A,I,4),C=n.getCardinalDirection(P,I,2)):(D=n.getCardinalDirection(-A,I,3),C=n.getCardinalDirection(-P,I,1)):r>a?(D=n.getCardinalDirection(-A,I,1),C=n.getCardinalDirection(-P,I,3)):(D=n.getCardinalDirection(A,I,2),C=n.getCardinalDirection(P,I,4)),!k)switch(D){case 1:M=h,S=o+-g/I,i[0]=S,i[1]=M;break;case 2:S=p,M=r+f*I,i[0]=S,i[1]=M;break;case 3:M=c,S=o+g/I,i[0]=S,i[1]=M;break;case 4:S=u,M=r+-f*I,i[0]=S,i[1]=M;break}if(!T)switch(C){case 1:N=m,O=s+-E/I,i[2]=O,i[3]=N;break;case 2:O=x,N=a+_*I,i[2]=O,i[3]=N;break;case 3:N=w,O=s+E/I,i[2]=O,i[3]=N;break;case 4:O=b,N=a+-_*I,i[2]=O,i[3]=N;break}}return!1},n.getCardinalDirection=function(t,e,i){return t>e?i:1+i%4},n.getIntersection=function(t,e,i,o){if(null==o)return n.getIntersection2(t,e,i);var r,s,a,l,h,d,u,c,p,f=t.x,g=t.y,v=e.x,m=e.y,y=i.x,b=i.y,w=o.x,x=o.y;return a=m-g,h=f-v,u=v*g-f*m,l=x-b,d=y-w,c=w*b-y*x,p=a*d-l*h,0==p?null:(r=(h*c-d*u)/p,s=(l*u-a*c)/p,new Point(r,s))},n.HALF_PI=.5*Math.PI,n.ONE_AND_HALF_PI=1.5*Math.PI,n.TWO_PI=2*Math.PI,n.THREE_PI=3*Math.PI,t.exports=n},function(t,e,i){"use strict";function n(){}n.sign=function(t){return t>0?1:t<0?-1:0},n.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=n},function(t,e,i){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,t.exports=n},function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(t){return{value:t,next:null,prev:null}},s=function(t,e,i,n){return null!==t?t.next=e:n.head=e,null!==i?i.prev=e:n.tail=e,e.prev=t,e.next=i,n.length++,e},a=function(t,e){var i=t.prev,n=t.next;return null!==i?i.next=n:e.head=n,null!==n?n.prev=i:e.tail=i,t.prev=t.next=null,e.length--,t},l=function(){function t(e){var i=this;o(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(t){return i.push(t)})}return n(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return s(e.prev,r(t),e,this)}},{key:"insertAfter",value:function(t,e){return s(e,r(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return s(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return s(e,t,e.next,this)}},{key:"push",value:function(t){return s(this.tail,r(t),null,this)}},{key:"unshift",value:function(t){return s(null,r(t),this.head,this)}},{key:"remove",value:function(t){return a(t,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){var e=1,i=this.head;while(e<t)i=i.next,e++;return i.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){var i=1,n=this.head;while(i<t)n=n.next,i++;n.value=e}}}]),t}();t.exports=l},function(t,e,i){"use strict";function n(t,e,i,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=i&&null!=n&&(this.x=t,this.y=e,this.width=i,this.height=n)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(t){this.x=t},n.prototype.getY=function(){return this.y},n.prototype.setY=function(t){this.y=t},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(t){return!(this.getRight()<t.x)&&(!(this.getBottom()<t.y)&&(!(t.getRight()<this.x)&&!(t.getBottom()<this.y)))},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},t.exports=n},function(t,e,i){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(){}o.lastID=0,o.createID=function(t){return o.isPrimitive(t)?t:null!=t.uniqueID?t.uniqueID:(t.uniqueID=o.getString(),o.lastID++,t.uniqueID)},o.getString=function(t){return null==t&&(t=o.lastID),"Object#"+t},o.isPrimitive=function(t){var e="undefined"===typeof t?"undefined":n(t);return null==t||"object"!=e&&"function"!=e},t.exports=o},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var o=i(0),r=i(6),s=i(3),a=i(1),l=i(5),h=i(4),d=i(17),u=i(26);function c(t){u.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new r(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}c.RANDOM_SEED=1,c.prototype=Object.create(u.prototype),c.prototype.getGraphManager=function(){return this.graphManager},c.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},c.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},c.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},c.prototype.newGraphManager=function(){var t=new r(this);return this.graphManager=t,t},c.prototype.newGraph=function(t){return new l(null,this.graphManager,t)},c.prototype.newNode=function(t){return new s(this.graphManager,t)},c.prototype.newEdge=function(t){return new a(null,null,t)},c.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},c.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==o.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},c.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},c.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var i=this.graphManager.getRoot().getNodes();for(e=0;e<i.length;e++)i[e];this.update(this.graphManager.getRoot())}},c.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof s){var e=t;if(null!=e.getChild())for(var i=e.getChild().getNodes(),n=0;n<i.length;n++)update(i[n]);if(null!=e.vGraphObject){var o=e.vGraphObject;o.update(e)}}else if(t instanceof a){var r=t;if(null!=r.vGraphObject){var h=r.vGraphObject;h.update(r)}}else if(t instanceof l){var d=t;if(null!=d.vGraphObject){var u=d.vGraphObject;u.update(d)}}},c.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},c.prototype.transform=function(t){if(void 0==t)this.transform(new h(0,0));else{var e=new d,i=this.graphManager.getRoot().updateLeftTop();if(null!=i){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(i.x),e.setDeviceOrgY(i.y);for(var n,o=this.getAllNodes(),r=0;r<o.length;r++)n=o[r],n.transform(e)}}},c.prototype.positionNodesRandomly=function(t){if(void 0==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,i,n=t.getNodes(),o=0;o<n.length;o++)e=n[o],i=e.getChild(),null==i?e.scatter():0==i.getNodes().length?e.scatter():(this.positionNodesRandomly(i),e.updateBounds())},c.prototype.getFlatForest=function(){for(var t=[],e=!0,i=this.graphManager.getRoot().getNodes(),o=!0,r=0;r<i.length;r++)null!=i[r].getChild()&&(o=!1);if(!o)return t;var s=new Set,a=[],l=new Map,h=[];h=h.concat(i);while(h.length>0&&e){a.push(h[0]);while(a.length>0&&e){var d=a[0];a.splice(0,1),s.add(d);var u=d.getEdges();for(r=0;r<u.length;r++){var c=u[r].getOtherEnd(d);if(l.get(d)!=c){if(s.has(c)){e=!1;break}a.push(c),l.set(c,d)}}}if(e){var p=[].concat(n(s));t.push(p);for(r=0;r<p.length;r++){var f=p[r],g=h.indexOf(f);g>-1&&h.splice(g,1)}s=new Set,l=new Map}else t=[]}return t},c.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],i=t.source,n=this.graphManager.calcLowestCommonAncestor(t.source,t.target),o=0;o<t.bendpoints.length;o++){var r=this.newNode(null);r.setRect(new Point(0,0),new Dimension(1,1)),n.add(r);var s=this.newEdge(null);this.graphManager.add(s,i,r),e.add(r),i=r}s=this.newEdge(null);return this.graphManager.add(s,i,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):n.remove(t),e},c.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(n(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var i=t[e];if(i.bendpoints.length>0){for(var o=this.edgeToDummyNodes.get(i),r=0;r<o.length;r++){var s=o[r],a=new h(s.getCenterX(),s.getCenterY()),l=i.bendpoints.get(r);l.x=a.x,l.y=a.y,s.getOwner().remove(s)}this.graphManager.add(i,i.source,i.target)}}},c.transform=function(t,e,i,n){if(void 0!=i&&void 0!=n){var o=e;if(t<=50){var r=e/i;o-=(e-r)/50*(50-t)}else{var s=e*n;o+=(s-e)/50*(t-50)}return o}var a,l;return t<=50?(a=9*e/500,l=e/10):(a=9*e/50,l=-8*e),a*t+l},c.findCenterOfTree=function(t){var e=[];e=e.concat(t);var i=[],n=new Map,o=!1,r=null;1!=e.length&&2!=e.length||(o=!0,r=e[0]);for(var s=0;s<e.length;s++){var a=e[s],l=a.getNeighborsList().size;n.set(a,a.getNeighborsList().size),1==l&&i.push(a)}var h=[];h=h.concat(i);while(!o){var d=[];d=d.concat(h),h=[];for(s=0;s<e.length;s++){a=e[s];var u=e.indexOf(a);u>=0&&e.splice(u,1);var c=a.getNeighborsList();c.forEach(function(t){if(i.indexOf(t)<0){var e=n.get(t),o=e-1;1==o&&h.push(t),n.set(t,o)}})}i=i.concat(h),1!=e.length&&2!=e.length||(o=!0,r=e[0])}return r},c.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=c},function(t,e,i){"use strict";function n(t,e,i){this.x=null,this.y=null,null==t&&null==e&&null==i?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==i?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==i&&(i=t,this.x=i.x,this.y=i.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(t,e,i){"Point"==t.constructor.name&&null==e&&null==i?(i=t,this.setLocation(i.x,i.y)):"number"==typeof t&&"number"==typeof e&&null==i&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},n.prototype.move=function(t,e){this.x=t,this.y=e},n.prototype.translate=function(t,e){this.x+=t,this.y+=e},n.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=n},function(t,e,i){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},t.exports=n},function(t,e,i){"use strict";var n=i(4);function o(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(t){this.lworldExtX=t},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(t){this.lworldExtY=t},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},o.prototype.transformX=function(t){var e=0,i=this.lworldExtX;return 0!=i&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/i),e},o.prototype.transformY=function(t){var e=0,i=this.lworldExtY;return 0!=i&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/i),e},o.prototype.inverseTransformX=function(t){var e=0,i=this.ldeviceExtX;return 0!=i&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/i),e},o.prototype.inverseTransformY=function(t){var e=0,i=this.ldeviceExtY;return 0!=i&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/i),e},o.prototype.inverseTransformPoint=function(t){var e=new n(this.inverseTransformX(t.x),this.inverseTransformY(t.y));return e},t.exports=o},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var o=i(14),r=i(7),s=i(0),a=i(8),l=i(9);function h(){o.call(this),this.useSmartIdealEdgeLengthCalculation=r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=r.DEFAULT_EDGE_LENGTH,this.springConstant=r.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=r.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=r.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=r.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*r.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=r.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=r.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=r.MAX_ITERATIONS}for(var d in h.prototype=Object.create(o.prototype),o)h[d]=o[d];h.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var t,e,i,n,o,a,l=this.getGraphManager().getAllEdges(),h=0;h<l.length;h++)t=l[h],t.idealLength=this.idealEdgeLength,t.isInterGraph&&(i=t.getSource(),n=t.getTarget(),o=t.getSourceInLca().getEstimatedSize(),a=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=o+a-2*s.SIMPLE_NODE_SIZE),e=t.getLca().getInclusionTreeDepth(),t.idealLength+=r.DEFAULT_EDGE_LENGTH*r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(i.getInclusionTreeDepth()+n.getInclusionTreeDepth()-2*e))},h.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>r.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*r.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-r.ADAPTATION_LOWER_NODE_LIMIT)/(r.ADAPTATION_UPPER_NODE_LIMIT-r.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-r.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>r.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(r.COOLING_ADAPTATION_FACTOR,1-(t-r.ADAPTATION_LOWER_NODE_LIMIT)/(r.ADAPTATION_UPPER_NODE_LIMIT-r.ADAPTATION_LOWER_NODE_LIMIT)*(1-r.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),i=0;i<e.length;i++)t=e[i],this.calcSpringForce(t,t.idealLength)},h.prototype.calcRepulsionForces=function(){var t,e,i,n,o,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%r.GRID_CALCULATION_CHECK_PERIOD==1&&s&&this.updateGrid(),o=new Set,t=0;t<l.length;t++)i=l[t],this.calculateRepulsionForceOfANode(i,o,s,a),o.add(i);else for(t=0;t<l.length;t++)for(i=l[t],e=t+1;e<l.length;e++)n=l[e],i.getOwner()==n.getOwner()&&this.calcRepulsionForce(i,n)},h.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),i=0;i<e.length;i++)t=e[i],this.calcGravitationalForce(t)},h.prototype.moveNodes=function(){for(var t,e=this.getAllNodes(),i=0;i<e.length;i++)t=e[i],t.move()},h.prototype.calcSpringForce=function(t,e){var i,n,o,r,s=t.getSource(),a=t.getTarget();if(this.uniformLeafNodeSizes&&null==s.getChild()&&null==a.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;i=t.getLength(),n=this.springConstant*(i-e),o=n*(t.lengthX/i),r=n*(t.lengthY/i),s.springForceX+=o,s.springForceY+=r,a.springForceX-=o,a.springForceY-=r},h.prototype.calcRepulsionForce=function(t,e){var i,n,o,s,h,d,u,c=t.getRect(),p=e.getRect(),f=new Array(2),g=new Array(4);if(c.intersects(p)){a.calcSeparationAmount(c,p,f,r.DEFAULT_EDGE_LENGTH/2),d=2*f[0],u=2*f[1];var v=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=v*d,t.repulsionForceY-=v*u,e.repulsionForceX+=v*d,e.repulsionForceY+=v*u}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(i=p.getCenterX()-c.getCenterX(),n=p.getCenterY()-c.getCenterY()):(a.getIntersection(c,p,g),i=g[2]-g[0],n=g[3]-g[1]),Math.abs(i)<r.MIN_REPULSION_DIST&&(i=l.sign(i)*r.MIN_REPULSION_DIST),Math.abs(n)<r.MIN_REPULSION_DIST&&(n=l.sign(n)*r.MIN_REPULSION_DIST),o=i*i+n*n,s=Math.sqrt(o),h=this.repulsionConstant*t.noOfChildren*e.noOfChildren/o,d=h*i/s,u=h*n/s,t.repulsionForceX-=d,t.repulsionForceY-=u,e.repulsionForceX+=d,e.repulsionForceY+=u},h.prototype.calcGravitationalForce=function(t){var e,i,n,o,r,s,a,l;e=t.getOwner(),i=(e.getRight()+e.getLeft())/2,n=(e.getTop()+e.getBottom())/2,o=t.getCenterX()-i,r=t.getCenterY()-n,s=Math.abs(o)+t.getWidth()/2,a=Math.abs(r)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(l=e.getEstimatedSize()*this.gravityRangeFactor,(s>l||a>l)&&(t.gravitationForceX=-this.gravityConstant*o,t.gravitationForceY=-this.gravityConstant*r)):(l=e.getEstimatedSize()*this.compoundGravityRangeFactor,(s>l||a>l)&&(t.gravitationForceX=-this.gravityConstant*o*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*r*this.compoundGravityConstant))},h.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),i=0;i<e.length;i++)t=e[i],t.noOfChildren=t.getNoOfChildren()},h.prototype.calcGrid=function(t){var e=0,i=0;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),i=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var n=new Array(e),o=0;o<e;o++)n[o]=new Array(i);for(o=0;o<e;o++)for(var r=0;r<i;r++)n[o][r]=new Array;return n},h.prototype.addNodeToGrid=function(t,e,i){var n=0,o=0,r=0,s=0;n=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),r=parseInt(Math.floor((t.getRect().y-i)/this.repulsionRange)),s=parseInt(Math.floor((t.getRect().height+t.getRect().y-i)/this.repulsionRange));for(var a=n;a<=o;a++)for(var l=r;l<=s;l++)this.grid[a][l].push(t),t.setGridCoordinates(n,o,r,s)},h.prototype.updateGrid=function(){var t,e,i=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<i.length;t++)e=i[t],this.addNodeToGrid(e,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(t,e,i,o){if(this.totalIterations%r.GRID_CALCULATION_CHECK_PERIOD==1&&i||o){var s,a=new Set;t.surrounding=new Array;for(var l=this.grid,h=t.startX-1;h<t.finishX+2;h++)for(var d=t.startY-1;d<t.finishY+2;d++)if(!(h<0||d<0||h>=l.length||d>=l[0].length))for(var u=0;u<l[h][d].length;u++)if(s=l[h][d][u],t.getOwner()==s.getOwner()&&t!=s&&!e.has(s)&&!a.has(s)){var c=Math.abs(t.getCenterX()-s.getCenterX())-(t.getWidth()/2+s.getWidth()/2),p=Math.abs(t.getCenterY()-s.getCenterY())-(t.getHeight()/2+s.getHeight()/2);c<=this.repulsionRange&&p<=this.repulsionRange&&a.add(s)}t.surrounding=[].concat(n(a))}for(h=0;h<t.surrounding.length;h++)this.calcRepulsionForce(t,t.surrounding[h])},h.prototype.calcRepulsionRange=function(){return 0},t.exports=h},function(t,e,i){"use strict";var n=i(1),o=i(7);function r(t,e,i){n.call(this,t,e,i),this.idealLength=o.DEFAULT_EDGE_LENGTH}for(var s in r.prototype=Object.create(n.prototype),n)r[s]=n[s];t.exports=r},function(t,e,i){"use strict";var n=i(3);function o(t,e,i,o){n.call(this,t,e,i,o),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var r in o.prototype=Object.create(n.prototype),n)o[r]=n[r];o.prototype.setGridCoordinates=function(t,e,i,n){this.startX=t,this.finishX=e,this.startY=i,this.finishY=n},t.exports=o},function(t,e,i){"use strict";function n(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},t.exports=n},function(t,e,i){"use strict";var n=i(13);function o(){this.map={},this.keys=[]}o.prototype.put=function(t,e){var i=n.createID(t);this.contains(i)||(this.map[i]=e,this.keys.push(t))},o.prototype.contains=function(t){n.createID(t);return null!=this.map[t]},o.prototype.get=function(t){var e=n.createID(t);return this.map[e]},o.prototype.keySet=function(){return this.keys},t.exports=o},function(t,e,i){"use strict";var n=i(13);function o(){this.set={}}o.prototype.add=function(t){var e=n.createID(t);this.contains(e)||(this.set[e]=t)},o.prototype.remove=function(t){delete this.set[n.createID(t)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(t){return this.set[n.createID(t)]==t},o.prototype.isEmpty=function(){return 0===this.size()},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),i=e.length,n=0;n<i;n++)t.push(this.set[e[n]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];this.add(n)}},t.exports=o},function(t,e,i){"use strict";var n=i(11);function o(){}o.get_object_at=function(t,e){return t instanceof Array?t[e]:t instanceof n?t.get_object_at(e):void 0},o.set_object_at=function(t,e,i){t instanceof Array?t[e]=i:t instanceof n&&t.set_object_at(e,i)},o.quicksort=function(t,e){if(t instanceof n||t instanceof Array){var i,r=e;void 0===r&&(r=o.compare),t instanceof n?i=t.size():t instanceof Array&&(i=t.length-1),i>=0&&o.quicksort_between_indices(t,0,i,r)}},o.quicksort_between_indices=function(t,e,i,r){if(t instanceof n||t instanceof Array){void 0===r&&(r=o.compare);var s=e,a=i,l=Math.floor((s+a)/2),h=o.get_object_at(t,l);do{while(r(o.get_object_at(t,s),h))s++;while(r(h,o.get_object_at(t,a)))a--;if(s<=a){var d=o.get_object_at(t,s);o.set_object_at(t,s,o.get_object_at(t,a)),o.set_object_at(t,a,d),s++,a--}}while(s<=a);e<a&&o.quicksort_between_indices(t,e,a,r),i>s&&o.quicksort_between_indices(t,s,i,r)}},o.compare=function(t,e){return e>t},t.exports=o},function(t,e,i){"use strict";var n=function(){};n.FDLayout=i(18),n.FDLayoutConstants=i(7),n.FDLayoutEdge=i(19),n.FDLayoutNode=i(20),n.DimensionD=i(21),n.HashMap=i(22),n.HashSet=i(23),n.IGeometry=i(8),n.IMath=i(9),n.Integer=i(10),n.Point=i(15),n.PointD=i(4),n.RandomSeed=i(16),n.RectangleD=i(12),n.Transform=i(17),n.UniqueIDGeneretor=i(13),n.Quicksort=i(24),n.LinkedList=i(11),n.LGraphObject=i(2),n.LGraph=i(5),n.LEdge=i(1),n.LGraphManager=i(6),n.LNode=i(3),n.Layout=i(14),n.LayoutConstants=i(0),t.exports=n},function(t,e,i){"use strict";function n(){this.listeners=[]}var o=n.prototype;o.addListener=function(t,e){this.listeners.push({event:t,callback:e})},o.removeListener=function(t,e){for(var i=this.listeners.length;i>=0;i--){var n=this.listeners[i];n.event===t&&n.callback===e&&this.listeners.splice(i,1)}},o.emit=function(t,e){for(var i=0;i<this.listeners.length;i++){var n=this.listeners[i];t===n.event&&n.callback(e)}},t.exports=n}])})},f7fe:function(t,e,i){(function(e){var i="Expected a function",n=NaN,o="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=d||u||Function("return this")(),p=Object.prototype,f=p.toString,g=Math.max,v=Math.min,m=function(){return c.Date.now()};function y(t,e,n){var o,r,s,a,l,h,d=0,u=!1,c=!1,p=!0;if("function"!=typeof t)throw new TypeError(i);function f(e){var i=o,n=r;return o=r=void 0,d=e,a=t.apply(n,i),a}function y(t){return d=t,l=setTimeout(E,e),u?f(t):a}function w(t){var i=t-h,n=t-d,o=e-i;return c?v(o,s-n):o}function x(t){var i=t-h,n=t-d;return void 0===h||i>=e||i<0||c&&n>=s}function E(){var t=m();if(x(t))return k(t);l=setTimeout(E,w(t))}function k(t){return l=void 0,p&&o?f(t):(o=r=void 0,a)}function T(){void 0!==l&&clearTimeout(l),d=0,o=h=r=l=void 0}function D(){return void 0===l?a:k(m())}function C(){var t=m(),i=x(t);if(o=arguments,r=this,h=t,i){if(void 0===l)return y(h);if(c)return l=setTimeout(E,e),f(h)}return void 0===l&&(l=setTimeout(E,e)),a}return e=_(e)||0,b(n)&&(u=!!n.leading,c="maxWait"in n,s=c?g(_(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),C.cancel=T,C.flush=D,C}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||w(t)&&f.call(t)==o}function _(t){if("number"==typeof t)return t;if(x(t))return n;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var i=a.test(t);return i||l.test(t)?h(t.slice(2),i?2:8):s.test(t)?n:+t}t.exports=y}).call(this,i("c8ba"))},fa2b:function(t,e,i){i("c207"),i("1654"),i("6c1c"),i("07d8"),i("74be"),i("c6fb"),i("57e3"),t.exports=i("584a").Set},fdef:function(t,e){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=about.5cb8c6f5.js.map